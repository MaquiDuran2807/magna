import{j as e,r as t,_ as w}from"./jsx-runtime-329ae681.js";import{A as C,a as O}from"./index.esm-b821d194.js";import{s as R,t as I,i as L,m as B}from"./converted_topo-b9bd597d.js";import{B as T}from"./banner-11161956.js";import{S as V,A as M,P as $,N as k,a as F}from"./autoplay-f3916783.js";/* empty css                  */import{u as q}from"./ScreenSize-f3007f0d.js";import{P as G,m as h}from"./pagesLayouts-8ca6577b.js";import{S as Y}from"./main.js";import{u as H}from"./useLazyload-0697bf1e.js";import{u as J}from"./getInfoPage-e1436904.js";import{u as K}from"./index-fdfb6bde.js";import{A as Q}from"./index-5670ae6e.js";import"./iconBase-362add62.js";import"./index.esm-f65753b7.js";import"./index.esm-eafa3a99.js";import"./index-47726f55.js";import"./utils-4decd3ad.js";import"./apiClient-4214bebe.js";import"./useQuery-303ce1b9.js";const U=({subServicios:a,subtitle:c})=>e.jsx(V,{spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:!0,modules:[M,$,k],children:a==null?void 0:a.map((o,d)=>e.jsxs(F,{children:[e.jsx("div",{className:"slide-service ",children:e.jsx("img",{srcSet:`
                            ${o.imagen_celular} 450w,
                            ${o.imagen_tablet} 1024w,
                            ${o.imagen} 5000w
                        `,sizes:`(max-width: 450px) 280px,
                            (max-width: 1023px) 736px,
                            (min-width: 1024px) 1024px`,alt:o.nombre,className:"img-fluid img-subservicio "})}),e.jsx("h3",{className:"title-slider-service",children:c?o.nombre:""})]},d))});const W=t.lazy(()=>w(()=>import("./brochure-a5e6a3cf.js"),["brochure-a5e6a3cf.js","jsx-runtime-329ae681.js","getInfoPage-e1436904.js","useQuery-303ce1b9.js","utils-4decd3ad.js","apiClient-4214bebe.js"])),y=t.lazy(()=>w(()=>import("./Servicios-4a56f200.js"),["Servicios-4a56f200.js","jsx-runtime-329ae681.js","useQuery-303ce1b9.js","utils-4decd3ad.js","setionHeader-defe850b.js","pagesLayouts-8ca6577b.js","index-fdfb6bde.js","index-47726f55.js","useLazyload-0697bf1e.js","Servicios-7ee61343.css"])),X=()=>{var b,N;const{id:a}=K();let[c,o]=t.useState("Nuestros Servicios"),[d,m]=t.useState(R);const{services:n}=J();let x="container";const[l,j]=t.useState(),[r,f]=t.useState(null),[_,p]=t.useState(null),[P,v]=t.useState(!0),g=s=>{if(!n)return;const i=n.filter(z=>z.nombre===s);return p(i[0].subservicios),i};t.useEffect(()=>{if(n)if(a){const s=g(a);if(s){const i="servicios de "+s[0].nombre;o(i),j(s),s[0].nombre==="Topografía"&&m(I),s[0].nombre==="Ingeniería y Consultoría"&&m(L),s[0].nombre==="Medio Ambiente"&&m(B)}}else{j(n),o("Nuestros Servicios");const s=n.flatMap(i=>i.subservicios);p(s)}},[n,a]);const{width:S,height:A}=q();console.log(S,A);const E=S<=1e3,u=t.useRef(null);E&&(x="mobile");const D=async s=>{if(!s)return;const i=[];i.push(s),f(i),v(!1),i&&(p(i),a&&setTimeout(()=>{f(null),v(!0),n&&g(a)},2e4))};return t.useEffect(()=>{if(u.current&&r){const s=u.current.getBoundingClientRect().top+window.pageYOffset,i=-300;window.scroll({top:s+i,behavior:"smooth"})}},[r]),l?e.jsx(e.Fragment,{children:e.jsxs(G,{children:[e.jsx(T,{title:l.length==1?l[0].nombre:"Servicios",paragraph:c.toString(),image:d}),e.jsxs("div",{className:x,children:[e.jsx("div",{className:"row servicio",children:l.length===1?e.jsx("div",{className:"col-12",children:e.jsx("h2",{className:"text-center",children:c})}):e.jsx("div",{className:"row",children:e.jsx(y,{})})}),e.jsxs("div",{className:"row content",children:[e.jsx("div",{className:"col-12 col-md-4 ",children:e.jsx("div",{className:"aside -template",children:l.map(s=>e.jsx("div",{children:e.jsxs("div",{className:"row px-2",children:[e.jsx("div",{className:"col-12",children:e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"servicio",children:[e.jsx("h3",{children:s==null?void 0:s.nombre}),e.jsx("p",{className:"px-2",children:s==null?void 0:s.descripcion})]},s.id)}),e.jsx("div",{children:s.subservicios.map(i=>e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(h.div,{onClick:()=>D(i),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"subservicio",children:e.jsxs("div",{className:"row items mx-3",children:[e.jsx("span",{className:"col-1 icon-row",children:e.jsx(C,{})}),e.jsxs("h5",{className:"col-10",children:[i.nombre+"   ",e.jsx("span",{children:e.jsx(O,{})})]})]})},i.id)})},i.id))})]})},s.id))})}),e.jsxs("div",{className:"col-12 col-md-8 ",children:[e.jsx("div",{className:"row mb-5",children:e.jsx(U,{subServicios:_,subtitle:P})}),e.jsxs("div",{className:"row",ref:u,children:[e.jsx(Q,{children:e.jsxs(h.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,scale:.5},transition:{duration:.3,delay:1,delayChildren:.3,staggerChildren:.3},children:[e.jsx("h3",{children:r?r[0].nombre:"Servicios de calidad y con la más alta tecnología"}),e.jsx("p",{children:r?r[0].descripcion:"Somos una empresa con más de 10 años de experiencia en el mercado, con profesionales altamente calificados y con amplia experiencia en el sector público y privado, brindando servicios de calidad y con la más alta tecnología."})]},r&&((b=r[0])==null?void 0:b.id))}),e.jsx("div",{}),e.jsxs("div",{className:"my-5",children:[e.jsx("h3",{children:"Brochure"}),e.jsx("p",{children:"Para obtener una visión completa de nuestros servicios y ventajas, te invitamos a descargar nuestro brochure informativo. Aquí encontrarás detalles exhaustivos sobre nuestras ofertas, testimonios de clientes satisfechos y la información de contacto necesaria para dar el siguiente paso hacia una colaboración exitosa. ¡Descubre cómo podemos ayudarte a alcanzar tus objetivos hoy mismo!"}),e.jsx(W,{})]})]},r&&((N=r[0])==null?void 0:N.descripcion))]}),l.length===1?e.jsx("div",{className:"row",children:e.jsx(y,{})}):""]})]})]})}):e.jsx(Y,{})};function ge(){const{isVisible:a,ref:c}=H("100px");return e.jsx("div",{id:"LazyServecesDetail",ref:c,children:a?e.jsx(X,{}):null})}export{ge as default};


//# sourceMappingURL=data:application/json;base64,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QVEsRUFBRyxRQUFTLENBQUUsRUFDakMsUUFBUyxDQUFFLE9BQVEsT0FBUSxRQUFTLENBQUUsRUFDdEMsS0FBTSxDQUFFLE9BQVEsRUFBRyxRQUFTLEVBQUcsTUFBTyxFQUFJLEVBQzFDLFdBQVksQ0FBRSxTQUFVLEdBQUssTUFBTyxFQUFHLGNBQWUsR0FBSyxnQkFBaUIsRUFBSSxFQUdoRixVQUFBckQsTUFBQyxNQUNJLFNBQ0swQixJQUFvQixDQUFDLEVBQUUsT0FDdkIsb0RBQ1YsUUFDQyxJQUNJLFVBQUFBLEVBQ0tBLEVBQW9CLENBQUMsRUFBRSxZQUN2QixtT0FDVixJQVhLQSxLQUF1QitCLEVBQUEvQixFQUFvQixDQUFDLElBQXJCLFlBQUErQixFQUF3QixLQWE1RCxRQUNDLE1BQUksSUFDTEwsT0FBQyxNQUFJLFdBQVUsT0FDWCxVQUFBcEQsTUFBQyxNQUFHLFNBQVEsYUFDWkEsTUFBQyxLQUFFLFNBRUgsNFlBQ0NRLEVBQVUsS0FDZixJQTVCaURrQixLQUF1QmdDLEVBQUFoQyxFQUFvQixDQUFDLElBQXJCLFlBQUFnQyxFQUF3QixZQTZCcEcsR0FDSixFQUNDbEMsRUFBaUIsU0FBVyxFQUN4QnhCLE1BQUEsT0FBSSxVQUFVLE1BQ1gsU0FBQUEsTUFBQ1UsRUFBYyxJQUNuQixFQUVBLElBRVIsR0FDSixFQUNKLEVBQ0osU0FqSFFpRCxFQUFPLEdBbUh2QixFQUdBLFNBQXdCQyxJQUFzQixDQUMxQyxLQUFNLENBQUUsVUFBQUMsRUFBVyxJQUFBQyxDQUFJLEVBQUlDLEVBQXdCLE9BQU8sRUFHdEQsT0FBQS9ELEVBQUEsSUFBQyxPQUFJLEdBQUcscUJBQXFCLElBQUE4RCxFQUN4QixTQUFZRCxFQUFBN0QsRUFBQSxJQUFDWSxFQUFlLElBQUssSUFDdEMsRUFFTiIsIm5hbWVzIjpbIlNsaWRlclNlcnZpY2VzIiwic3ViU2VydmljaW9zIiwic3VidGl0bGUiLCJqc3giLCJTd2lwZXIiLCJBdXRvcGxheSIsIlBhZ2luYXRpb24iLCJOYXZpZ2F0aW9uIiwic3ViU2VydmljaW8iLCJpbmRleCIsIlN3aXBlclNsaWRlIiwiUGRmVmlld2VyIiwibGF6eSIsIkxhenlTZXJ2aWNpb3MiLCJfX3ZpdGVQcmVsb2FkIiwiU2VydmVjZXNEZXRhaWwiLCJpZCIsInVzZVBhcmFtcyIsInRpdGxlIiwic2V0VGl0bGUiLCJ1c2VTdGF0ZSIsImltYWdlbiIsInNldEltYWdlbiIsImltYWdlblNlcnZpY2lvcyIsInNlcnZpY2VzIiwidXNlR2V0U2VydmljZXMiLCJkaXNwb3NpdGl2byIsInNlcnZpY2lvX2VsZWdpZG8iLCJzZXRTZXJ2aWNpb19lbGVnaWRvIiwic2VsZWN0ZWRTdWJTZXJ2aWNpbyIsInNldFNlbGVjdGVkU3ViU2VydmljaW8iLCJzbGlkZXIiLCJzZXRTbGlkZXIiLCJzZXRTdWJ0aXRsZSIsImZpbHRlclNlcnZpY2lvIiwic2VydmljaW8iLCJ1c2VFZmZlY3QiLCJzZXJ2aWNpb0VsZWdpZG8iLCJ0aXRsZVN0cmluZyIsImltYWdlblRvcG9ncmFmaWEiLCJpbWFnZW5JbmdlbmllcmlhIiwiaW1hZ2VuTWVkaW9BbWJpZW50ZSIsIndpZHRoIiwiaGVpZ2h0IiwidXNlU2NyZWVuU2l6ZSIsImlzTW9iaWxlIiwic3ViU2VydmljaW9QYWdpbmFSZWYiLCJ1c2VSZWYiLCJoYW5kbGVTdWJTZXJ2aWNpb0NsaWNrIiwibGlzdFN1YnNlcnZpY2lvcyIsImVsZW1lbnRQb3NpdGlvbiIsIm9mZnNldCIsIkZyYWdtZW50IiwiUGFnZXNMYXlvdXQiLCJCYW5uZXIiLCJqc3hzIiwibW90aW9uIiwiQWlPdXRsaW5lRG91YmxlUmlnaHQiLCJBaUZpbGxDYXJldERvd24iLCJBbmltYXRlUHJlc2VuY2UiLCJfYSIsIl9iIiwiU3Bpbm5lciIsIkxhenlTZXJ2ZWNlc0RldGFpbCIsImlzVmlzaWJsZSIsInJlZiIsInVzZUludGVyc2VjdGlvbk9ic2VydmVyIl0sInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvc2xpZGVyU2VydmljZXMudHN4IiwiLi4vc3JjL3BhZ2VzL3NlcnZlY2VzRGV0YWlsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3dpcGVyLCBTd2lwZXJTbGlkZSB9IGZyb20gJ3N3aXBlci9yZWFjdCc7XG5pbXBvcnQgeyAgU3Vic2VydmljaW8gfSBmcm9tICcuLi90eXBlcy90eXBlcyc7XG5pbXBvcnQgJy4vc3R5bGVzL3NsaWRlclNlcnZpY2UuY3NzJztcbi8vIEltcG9ydCBTd2lwZXIgc3R5bGVzXG5pbXBvcnQgJ3N3aXBlci9jc3MvbmF2aWdhdGlvbic7XG5pbXBvcnQgJ3N3aXBlci9jc3MvcGFnaW5hdGlvbic7XG5pbXBvcnQgJ3N3aXBlci9jc3Mvc2Nyb2xsYmFyJztcbmltcG9ydCAnc3dpcGVyL2Nzcyc7XG5pbXBvcnQgeyBBdXRvcGxheSwgTmF2aWdhdGlvbiwgUGFnaW5hdGlvbiB9IGZyb20gJ3N3aXBlci9tb2R1bGVzJztcblxuXG5pbnRlcmZhY2UgU2xpZGVyU2VydmljZXNQcm9wcyB7XG4gICAgc3ViU2VydmljaW9zPzogU3Vic2VydmljaW9bXSB8IG51bGw7XG4gICAgc3VidGl0bGU/OiBib29sZWFuO1xufVxuXG5jb25zdCBTbGlkZXJTZXJ2aWNlczogUmVhY3QuRkM8U2xpZGVyU2VydmljZXNQcm9wcz4gPSAoeyBzdWJTZXJ2aWNpb3Msc3VidGl0bGV9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPFN3aXBlclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuPXszMH1cbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc9ezF9XG4gICAgICAgICAgICBhdXRvcGxheT17e1xuICAgICAgICAgICAgICAgIGRlbGF5OiA1MDAwLFxuICAgICAgICAgICAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYXVzZU9uTW91c2VFbnRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgbmF2aWdhdGlvbj17dHJ1ZX1cbiAgICAgICAgICAgICAgbW9kdWxlcz17W0F1dG9wbGF5LCBQYWdpbmF0aW9uLCBOYXZpZ2F0aW9uXX1cbiAgICAgICAgICAgICAgXG4gICAgICAgID5cbiAgICAgICAgICAgIHtzdWJTZXJ2aWNpb3M/Lm1hcCgoc3ViU2VydmljaW8sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPFN3aXBlclNsaWRlIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHNsaWRlLXNlcnZpY2UgYCB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmNTZXQ9e2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3N1YlNlcnZpY2lvLmltYWdlbl9jZWx1bGFyfSA0NTB3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7c3ViU2VydmljaW8uaW1hZ2VuX3RhYmxldH0gMTAyNHcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzdWJTZXJ2aWNpby5pbWFnZW59IDUwMDB3XG4gICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZXM9XCIobWF4LXdpZHRoOiA0NTBweCkgMjgwcHgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1heC13aWR0aDogMTAyM3B4KSA3MzZweCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWluLXdpZHRoOiAxMDI0cHgpIDEwMjRweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3N1YlNlcnZpY2lvLm5vbWJyZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0naW1nLWZsdWlkIGltZy1zdWJzZXJ2aWNpbyAnIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPSd0aXRsZS1zbGlkZXItc2VydmljZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGUgPyBzdWJTZXJ2aWNpby5ub21icmUgOiAgJycgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDwvU3dpcGVyU2xpZGU+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgPC9Td2lwZXI+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNsaWRlclNlcnZpY2VzO1xuIiwiaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlLCBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IGxhenksIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQWlGaWxsQ2FyZXREb3duLCBBaU91dGxpbmVEb3VibGVSaWdodCB9IGZyb20gXCJyZWFjdC1pY29ucy9haVwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCBpbWFnZW5JbmdlbmllcmlhIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL2luZ2VuaWVyaWEud2VicCc7XG5pbXBvcnQgaW1hZ2VuTWVkaW9BbWJpZW50ZSBmcm9tICcuLi9hc3NldHMvaW1nL2Jhbm5lci9tZWRpby53ZWJwJztcbmltcG9ydCBpbWFnZW5TZXJ2aWNpb3MgZnJvbSAnLi4vYXNzZXRzL2ltZy9iYW5uZXIvc2VydmljaW9zLndlYnAnO1xuaW1wb3J0IGltYWdlblRvcG9ncmFmaWEgZnJvbSAnLi4vYXNzZXRzL2ltZy9iYW5uZXIvY29udmVydGVkX3RvcG8ud2VicCc7XG5pbXBvcnQgQmFubmVyIGZyb20gXCIuLi9jb21wb25lbnRzL2Jhbm5lclwiO1xuaW1wb3J0IFNsaWRlclNlcnZpY2VzIGZyb20gXCIuLi9jb21wb25lbnRzL3NsaWRlclNlcnZpY2VzXCI7XG5pbXBvcnQgdXNlU2NyZWVuU2l6ZSBmcm9tICcuLi9ob29rcy9TY3JlZW5TaXplJztcbmltcG9ydCBQYWdlc0xheW91dCBmcm9tIFwiLi4vbGF5b3V0cy9wYWdlc0xheW91dHNcIjtcbmltcG9ydCB7IFNlcnZpY2lvMiwgU3Vic2VydmljaW8gfSBmcm9tIFwiLi4vdHlwZXMvdHlwZXNcIjtcbmltcG9ydCBcIi4vc3R5bGVzL3NlcnZpY2VzRGV0YWlsLmNzc1wiO1xuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vY29tcG9uZW50cy9zcGlubmVyJztcbmltcG9ydCB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciBmcm9tICcuLi9ob29rcy91c2VMYXp5bG9hZCc7XG5pbXBvcnQgeyB1c2VHZXRTZXJ2aWNlcyB9IGZyb20gJy4uL2hvb2tzL2dldEluZm9QYWdlJztcbmNvbnN0IFBkZlZpZXdlciA9IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL2Jyb2NodXJlJykpO1xuY29uc3QgTGF6eVNlcnZpY2lvcyA9IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL3NlY3Rpb25zL1NlcnZpY2lvcycpKTtcblxuXG5cbmNvbnN0IFNlcnZlY2VzRGV0YWlsOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGlkIH0gPSB1c2VQYXJhbXM8eyBpZDogc3RyaW5nIH0+KCk7XG5cbiAgICBsZXQgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZTxTdHJpbmc+KFwiTnVlc3Ryb3MgU2VydmljaW9zXCIpO1xuICAgIGxldCBbaW1hZ2VuLCBzZXRJbWFnZW5dID0gdXNlU3RhdGU8U3RyaW5nPihpbWFnZW5TZXJ2aWNpb3MpO1xuICAgIGNvbnN0IHsgc2VydmljZXMgfSA9IHVzZUdldFNlcnZpY2VzKCk7XG4gICAgbGV0IGRpc3Bvc2l0aXZvID0gXCJjb250YWluZXJcIjtcbiAgICBjb25zdCBbc2VydmljaW9fZWxlZ2lkbywgc2V0U2VydmljaW9fZWxlZ2lkb10gPSB1c2VTdGF0ZTxTZXJ2aWNpbzJbXT4oKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRTdWJTZXJ2aWNpbywgc2V0U2VsZWN0ZWRTdWJTZXJ2aWNpb10gPSB1c2VTdGF0ZTxTdWJzZXJ2aWNpb1tdIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3NsaWRlciwgc2V0U2xpZGVyXSA9IHVzZVN0YXRlPFN1YnNlcnZpY2lvW10gfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbc3VidGl0bGUsIHNldFN1YnRpdGxlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xuXG4gICAgY29uc3QgZmlsdGVyU2VydmljaW8gPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoIXNlcnZpY2VzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VydmljaW86IFNlcnZpY2lvMltdID0gc2VydmljZXMuZmlsdGVyKChzZXJ2aWNpbzogU2VydmljaW8yKSA9PiBzZXJ2aWNpby5ub21icmUgPT09IGlkKTtcbiAgICAgICAgc2V0U2xpZGVyKHNlcnZpY2lvWzBdLnN1YnNlcnZpY2lvcyk7XG4gICAgICAgIHJldHVybiBzZXJ2aWNpbztcbiAgICB9XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoc2VydmljZXMpIHtcbiAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZpY2lvRWxlZ2lkbyA9IGZpbHRlclNlcnZpY2lvKGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljaW9FbGVnaWRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlU3RyaW5nID0gXCJzZXJ2aWNpb3MgZGUgXCIgKyBzZXJ2aWNpb0VsZWdpZG9bMF0ubm9tYnJlO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaXRsZSh0aXRsZVN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlcnZpY2lvX2VsZWdpZG8oc2VydmljaW9FbGVnaWRvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2lvRWxlZ2lkb1swXS5ub21icmUgPT09IFwiVG9wb2dyYWbDrWFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1hZ2VuKGltYWdlblRvcG9ncmFmaWEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNpb0VsZWdpZG9bMF0ubm9tYnJlID09PSBcIkluZ2VuaWVyw61hIHkgQ29uc3VsdG9yw61hXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEltYWdlbihpbWFnZW5JbmdlbmllcmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljaW9FbGVnaWRvWzBdLm5vbWJyZSA9PT0gXCJNZWRpbyBBbWJpZW50ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbWFnZW4oaW1hZ2VuTWVkaW9BbWJpZW50ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFNlcnZpY2lvX2VsZWdpZG8oc2VydmljZXMpO1xuICAgICAgICAgICAgICAgIHNldFRpdGxlKFwiTnVlc3Ryb3MgU2VydmljaW9zXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YlNlcnZpY2lvcyA9IHNlcnZpY2VzLmZsYXRNYXAoKHN1YlNlcnZpY2lvKSA9PiBzdWJTZXJ2aWNpby5zdWJzZXJ2aWNpb3MpO1xuICAgICAgICAgICAgICAgIHNldFNsaWRlcihzdWJTZXJ2aWNpb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW3NlcnZpY2VzLCBpZF0pO1xuXG4gICAgY29uc3QgeyB3aWR0aCxoZWlnaHQgfSA9IHVzZVNjcmVlblNpemUoKTtcbiAgICBjb25zb2xlLmxvZyh3aWR0aCxoZWlnaHQpO1xuICAgIGNvbnN0IGlzTW9iaWxlID0gd2lkdGggPD0gMTAwMDtcbiAgICBjb25zdCBzdWJTZXJ2aWNpb1BhZ2luYVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAgIGRpc3Bvc2l0aXZvID0gXCJtb2JpbGVcIjtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVTdWJTZXJ2aWNpb0NsaWNrID0gYXN5bmMgKHN1YlNlcnZpY2lvOiBTdWJzZXJ2aWNpbykgPT4ge1xuICAgICAgICBpZiAoIXN1YlNlcnZpY2lvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaXN0U3Vic2VydmljaW9zOiBTdWJzZXJ2aWNpb1tdID0gW11cbiAgICAgICAgbGlzdFN1YnNlcnZpY2lvcy5wdXNoKHN1YlNlcnZpY2lvKVxuICAgICAgICBzZXRTZWxlY3RlZFN1YlNlcnZpY2lvKGxpc3RTdWJzZXJ2aWNpb3MpO1xuICAgICAgICBzZXRTdWJ0aXRsZShmYWxzZSk7XG4gICAgICAgIGlmICghbGlzdFN1YnNlcnZpY2lvcykge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgc2V0U2xpZGVyKGxpc3RTdWJzZXJ2aWNpb3MpO1xuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkU3ViU2VydmljaW8obnVsbCk7XG4gICAgICAgICAgICBzZXRTdWJ0aXRsZSh0cnVlKTtcbiAgICAgICAgICAgIGlmICghc2VydmljZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbHRlclNlcnZpY2lvKGlkKTtcbiAgICAgICAgfSwgMjAwMDApO1xuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoc3ViU2VydmljaW9QYWdpbmFSZWYuY3VycmVudCAmJiAhIXNlbGVjdGVkU3ViU2VydmljaW8pIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRQb3NpdGlvbiA9IHN1YlNlcnZpY2lvUGFnaW5hUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gLTMwMDsgLy8gQWp1c3RhIGVzdGUgdmFsb3Igc2Vnw7puIGN1w6FudG8gbcOhcyBhcnJpYmEgcXVpZXJhcyBxdWUgc2VhIGVsIHNjcm9sbFxuICAgICAgICAgICAgd2luZG93LnNjcm9sbCh7XG4gICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50UG9zaXRpb24gKyBvZmZzZXQsXG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtzZWxlY3RlZFN1YlNlcnZpY2lvXSk7XG5cbiAgICBpZiAoIXNlcnZpY2lvX2VsZWdpZG8pIHtcbiAgICAgICAgcmV0dXJuIDxTcGlubmVyLz47XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgICAgIDxQYWdlc0xheW91dD5cbiAgICAgICAgICAgICAgICA8QmFubmVyIHRpdGxlPXtzZXJ2aWNpb19lbGVnaWRvLmxlbmd0aCA9PSAxID8gc2VydmljaW9fZWxlZ2lkb1swXS5ub21icmUgOiBcIlNlcnZpY2lvc1wifSBwYXJhZ3JhcGg9e3RpdGxlLnRvU3RyaW5nKCl9IGltYWdlPXtpbWFnZW59IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Rpc3Bvc2l0aXZvfT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgc2VydmljaW9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZXJ2aWNpb19lbGVnaWRvLmxlbmd0aCA9PT0gMSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj57dGl0bGV9PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhenlTZXJ2aWNpb3MgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBjb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiBjb2wtbWQtNCBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFzaWRlIC10ZW1wbGF0ZWB9ID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZpY2lvX2VsZWdpZG8ubWFwKChzZXJ2aWNpbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17c2VydmljaW8uaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC42IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlcnZpY2lvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzZXJ2aWNpby5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz57c2VydmljaW8/Lm5vbWJyZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3B4LTInPntzZXJ2aWNpbz8uZGVzY3JpcGNpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljaW8uc3Vic2VydmljaW9zLm1hcCgoc3ViU2VydmljaW8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzdWJTZXJ2aWNpby5pZH0gY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN1YlNlcnZpY2lvQ2xpY2soc3ViU2VydmljaW8pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3Vic2VydmljaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzdWJTZXJ2aWNpby5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgaXRlbXMgbXgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbC0xIGljb24tcm93XCI+PEFpT3V0bGluZURvdWJsZVJpZ2h0IC8+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJjb2wtMTBcIj57c3ViU2VydmljaW8ubm9tYnJlICsgXCIgICBcIn08c3Bhbj48QWlGaWxsQ2FyZXREb3duIC8+PC9zcGFuPjwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgY29sLW1kLTggXCIgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IG1iLTVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNsaWRlclNlcnZpY2VzIHN1YlNlcnZpY2lvcz17c2xpZGVyfSBzdWJ0aXRsZT17c3VidGl0bGV9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIiByZWY9e3N1YlNlcnZpY2lvUGFnaW5hUmVmfSBrZXk9e3NlbGVjdGVkU3ViU2VydmljaW8gJiYgc2VsZWN0ZWRTdWJTZXJ2aWNpb1swXT8uZGVzY3JpcGNpb259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgaGVpZ2h0OiBcImF1dG9cIiwgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQ9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwLCBzY2FsZTogMC41IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zLCBkZWxheTogMSwgZGVsYXlDaGlsZHJlbjogMC4zLCBzdGFnZ2VyQ2hpbGRyZW46IDAuMyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17c2VsZWN0ZWRTdWJTZXJ2aWNpbyAmJiBzZWxlY3RlZFN1YlNlcnZpY2lvWzBdPy5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFN1YlNlcnZpY2lvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkU3ViU2VydmljaW9bMF0ubm9tYnJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiU2VydmljaW9zIGRlIGNhbGlkYWQgeSBjb24gbGEgbcOhcyBhbHRhIHRlY25vbG9nw61hXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkU3ViU2VydmljaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2VsZWN0ZWRTdWJTZXJ2aWNpb1swXS5kZXNjcmlwY2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlNvbW9zIHVuYSBlbXByZXNhIGNvbiBtw6FzIGRlIDEwIGHDsW9zIGRlIGV4cGVyaWVuY2lhIGVuIGVsIG1lcmNhZG8sIGNvbiBwcm9mZXNpb25hbGVzIGFsdGFtZW50ZSBjYWxpZmljYWRvcyB5IGNvbiBhbXBsaWEgZXhwZXJpZW5jaWEgZW4gZWwgc2VjdG9yIHDDumJsaWNvIHkgcHJpdmFkbywgYnJpbmRhbmRvIHNlcnZpY2lvcyBkZSBjYWxpZGFkIHkgY29uIGxhIG3DoXMgYWx0YSB0ZWNub2xvZ8OtYS5cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXktNSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+QnJvY2h1cmU8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYSBvYnRlbmVyIHVuYSB2aXNpw7NuIGNvbXBsZXRhIGRlIG51ZXN0cm9zIHNlcnZpY2lvcyB5IHZlbnRhamFzLCB0ZSBpbnZpdGFtb3MgYSBkZXNjYXJnYXIgbnVlc3RybyBicm9jaHVyZSBpbmZvcm1hdGl2by4gQXF1w60gZW5jb250cmFyw6FzIGRldGFsbGVzIGV4aGF1c3Rpdm9zIHNvYnJlIG51ZXN0cmFzIG9mZXJ0YXMsIHRlc3RpbW9uaW9zIGRlIGNsaWVudGVzIHNhdGlzZmVjaG9zIHkgbGEgaW5mb3JtYWNpw7NuIGRlIGNvbnRhY3RvIG5lY2VzYXJpYSBwYXJhIGRhciBlbCBzaWd1aWVudGUgcGFzbyBoYWNpYSB1bmEgY29sYWJvcmFjacOzbiBleGl0b3NhLiDCoURlc2N1YnJlIGPDs21vIHBvZGVtb3MgYXl1ZGFydGUgYSBhbGNhbnphciB0dXMgb2JqZXRpdm9zIGhveSBtaXNtbyFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQZGZWaWV3ZXIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZXJ2aWNpb19lbGVnaWRvLmxlbmd0aCA9PT0gMSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGF6eVNlcnZpY2lvcyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvUGFnZXNMYXlvdXQ+XG4gICAgICAgIDwvPlxuICAgICk7XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExhenlTZXJ2ZWNlc0RldGFpbCAoKSB7XG4gICAgY29uc3QgeyBpc1Zpc2libGUsIHJlZiB9ID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoJzEwMHB4Jyk7XG4gIFxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgaWQ9XCJMYXp5U2VydmVjZXNEZXRhaWxcIiByZWY9e3JlZn0+XG4gICAgICAgICAgICB7aXNWaXNpYmxlID8gPFNlcnZlY2VzRGV0YWlsIC8+IDogbnVsbH1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSJdLCJmaWxlIjoic2VydmVjZXNEZXRhaWwtMTc4NjlhMGMuanMifQ==