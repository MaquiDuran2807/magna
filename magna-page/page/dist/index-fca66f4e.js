import{r as e}from"./jsx-runtime-c0a91cf1.js";import{u as I,f as $,b,n as A,L as O}from"./pagesLayouts-407d54f6.js";function L(){const n=e.useRef(!1);return I(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function U(){const n=L(),[s,t]=e.useState(0),r=e.useCallback(()=>{n.current&&t(s+1)},[s]);return[e.useCallback(()=>$.postRender(r),[r]),s]}class B extends e.Component{getSnapshotBeforeUpdate(s){const t=this.props.childRef.current;if(t&&s.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function S({children:n,isPresent:s}){const t=e.useId(),r=e.useRef(null),m=e.useRef({width:0,height:0,top:0,left:0});return e.useInsertionEffect(()=>{const{width:d,height:l,top:f,left:h}=m.current;if(s||!r.current||!d||!l)return;r.current.dataset.motionPopId=t;const a=document.createElement("style");return document.head.appendChild(a),a.sheet&&a.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${l}px !important;
            top: ${f}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(a)}},[s]),e.createElement(B,{isPresent:s,childRef:r,sizeRef:m},e.cloneElement(n,{ref:r}))}const z=({children:n,initial:s,isPresent:t,onExitComplete:r,custom:m,presenceAffectsLayout:d,mode:l})=>{const f=b(T),h=e.useId(),a=e.useMemo(()=>({id:h,initial:s,isPresent:t,custom:m,onExitComplete:o=>{f.set(o,!0);for(const c of f.values())if(!c)return;r&&r()},register:o=>(f.set(o,!1),()=>f.delete(o))}),d?void 0:[t]);return e.useMemo(()=>{f.forEach((o,c)=>f.set(c,!1))},[t]),e.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),l==="popLayout"&&(n=e.createElement(S,{isPresent:t},n)),e.createElement(A.Provider,{value:a},n)};function T(){return new Map}function D(n){return e.useEffect(()=>()=>n(),[])}const p=n=>n.key||"";function G(n,s){n.forEach(t=>{const r=p(t);s.set(r,t)})}function H(n){const s=[];return e.Children.forEach(n,t=>{e.isValidElement(t)&&s.push(t)}),s}const _=({children:n,custom:s,initial:t=!0,onExitComplete:r,exitBeforeEnter:m,presenceAffectsLayout:d=!0,mode:l="sync"})=>{const f=e.useContext(O).forceRender||U()[0],h=L(),a=H(n);let o=a;const c=e.useRef(new Map).current,y=e.useRef(o),C=e.useRef(new Map).current,x=e.useRef(!0);if(I(()=>{x.current=!1,G(a,C),y.current=o}),D(()=>{x.current=!0,C.clear(),c.clear()}),x.current)return e.createElement(e.Fragment,null,o.map(u=>e.createElement(z,{key:p(u),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:d,mode:l},u)));o=[...o];const g=y.current.map(p),M=a.map(p),F=g.length;for(let u=0;u<F;u++){const i=g[u];M.indexOf(i)===-1&&!c.has(i)&&c.set(i,void 0)}return l==="wait"&&c.size&&(o=[]),c.forEach((u,i)=>{if(M.indexOf(i)!==-1)return;const w=C.get(i);if(!w)return;const v=g.indexOf(i);let R=u;if(!R){const K=()=>{c.delete(i);const P=Array.from(C.keys()).filter(E=>!M.includes(E));if(P.forEach(E=>C.delete(E)),y.current=a.filter(E=>{const k=p(E);return k===i||P.includes(k)}),!c.size){if(h.current===!1)return;f(),r&&r()}};R=e.createElement(z,{key:p(w),isPresent:!1,onExitComplete:K,custom:s,presenceAffectsLayout:d,mode:l},w),c.set(i,R)}o.splice(v,0,R)}),o=o.map(u=>{const i=u.key;return c.has(i)?u:e.createElement(z,{key:p(u),isPresent:!0,presenceAffectsLayout:d,mode:l},u)}),e.createElement(e.Fragment,null,c.size?o:o.map(u=>e.cloneElement(u)))};export{_ as A};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtZmNhNjZmNGUuanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLWlzLW1vdW50ZWQubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtZm9yY2UtdXBkYXRlLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlUHJlc2VuY2UvUG9wQ2hpbGQubWpzIiwiLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVQcmVzZW5jZS9QcmVzZW5jZUNoaWxkLm1qcyIsIi4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLXVubW91bnQtZWZmZWN0Lm1qcyIsIi4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlUHJlc2VuY2UvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuL3VzZS1pc29tb3JwaGljLWVmZmVjdC5tanMnO1xuXG5mdW5jdGlvbiB1c2VJc01vdW50ZWQoKSB7XG4gICAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGlzTW91bnRlZDtcbn1cblxuZXhwb3J0IHsgdXNlSXNNb3VudGVkIH07XG4iLCJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJc01vdW50ZWQgfSBmcm9tICcuL3VzZS1pcy1tb3VudGVkLm1qcyc7XG5pbXBvcnQgeyBmcmFtZSB9IGZyb20gJy4uL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG5mdW5jdGlvbiB1c2VGb3JjZVVwZGF0ZSgpIHtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VJc01vdW50ZWQoKTtcbiAgICBjb25zdCBbZm9yY2VkUmVuZGVyQ291bnQsIHNldEZvcmNlZFJlbmRlckNvdW50XSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IGZvcmNlUmVuZGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpc01vdW50ZWQuY3VycmVudCAmJiBzZXRGb3JjZWRSZW5kZXJDb3VudChmb3JjZWRSZW5kZXJDb3VudCArIDEpO1xuICAgIH0sIFtmb3JjZWRSZW5kZXJDb3VudF0pO1xuICAgIC8qKlxuICAgICAqIERlZmVyIHRoaXMgdG8gdGhlIGVuZCBvZiB0aGUgbmV4dCBhbmltYXRpb24gZnJhbWUgaW4gY2FzZSB0aGVyZSBhcmUgbXVsdGlwbGVcbiAgICAgKiBzeW5jaHJvbm91cyBjYWxscy5cbiAgICAgKi9cbiAgICBjb25zdCBkZWZlcnJlZEZvcmNlUmVuZGVyID0gdXNlQ2FsbGJhY2soKCkgPT4gZnJhbWUucG9zdFJlbmRlcihmb3JjZVJlbmRlciksIFtmb3JjZVJlbmRlcl0pO1xuICAgIHJldHVybiBbZGVmZXJyZWRGb3JjZVJlbmRlciwgZm9yY2VkUmVuZGVyQ291bnRdO1xufVxuXG5leHBvcnQgeyB1c2VGb3JjZVVwZGF0ZSB9O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSWQsIHVzZVJlZiwgdXNlSW5zZXJ0aW9uRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIE1lYXN1cmVtZW50IGZ1bmN0aW9uYWxpdHkgaGFzIHRvIGJlIHdpdGhpbiBhIHNlcGFyYXRlIGNvbXBvbmVudFxuICogdG8gbGV2ZXJhZ2Ugc25hcHNob3QgbGlmZWN5Y2xlLlxuICovXG5jbGFzcyBQb3BDaGlsZE1lYXN1cmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5wcm9wcy5jaGlsZFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoZWxlbWVudCAmJiBwcmV2UHJvcHMuaXNQcmVzZW50ICYmICF0aGlzLnByb3BzLmlzUHJlc2VudCkge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMucHJvcHMuc2l6ZVJlZi5jdXJyZW50O1xuICAgICAgICAgICAgc2l6ZS5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCB8fCAwO1xuICAgICAgICAgICAgc2l6ZS53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMDtcbiAgICAgICAgICAgIHNpemUudG9wID0gZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgICAgICAgICBzaXplLmxlZnQgPSBlbGVtZW50Lm9mZnNldExlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVpcmVkIHdpdGggZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgdG8gc3RvcCBSZWFjdCBjb21wbGFpbmluZy5cbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7IH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFBvcENoaWxkKHsgY2hpbGRyZW4sIGlzUHJlc2VudCB9KSB7XG4gICAgY29uc3QgaWQgPSB1c2VJZCgpO1xuICAgIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBzaXplID0gdXNlUmVmKHtcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFdlIGNyZWF0ZSBhbmQgaW5qZWN0IGEgc3R5bGUgYmxvY2sgc28gd2UgY2FuIGFwcGx5IHRoaXMgZXhwbGljaXRcbiAgICAgKiBzaXppbmcgaW4gYSBub24tZGVzdHJ1Y3RpdmUgbWFubmVyIGJ5IGp1c3QgZGVsZXRpbmcgdGhlIHN0eWxlIGJsb2NrLlxuICAgICAqXG4gICAgICogV2UgY2FuJ3QgYXBwbHkgc2l6ZSB2aWEgcmVuZGVyIGFzIHRoZSBtZWFzdXJlbWVudCBoYXBwZW5zXG4gICAgICogaW4gZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgKHBvc3QtcmVuZGVyKSwgbGlrZXdpc2UgaWYgd2UgYXBwbHkgdGhlXG4gICAgICogc3R5bGVzIGRpcmVjdGx5IG9uIHRoZSBET00gbm9kZSwgd2UgbWlnaHQgYmUgb3ZlcndyaXRpbmdcbiAgICAgKiBzdHlsZXMgc2V0IHZpYSB0aGUgc3R5bGUgcHJvcC5cbiAgICAgKi9cbiAgICB1c2VJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHRvcCwgbGVmdCB9ID0gc2l6ZS5jdXJyZW50O1xuICAgICAgICBpZiAoaXNQcmVzZW50IHx8ICFyZWYuY3VycmVudCB8fCAhd2lkdGggfHwgIWhlaWdodClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmVmLmN1cnJlbnQuZGF0YXNldC5tb3Rpb25Qb3BJZCA9IGlkO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIGlmIChzdHlsZS5zaGVldCkge1xuICAgICAgICAgICAgc3R5bGUuc2hlZXQuaW5zZXJ0UnVsZShgXG4gICAgICAgICAgW2RhdGEtbW90aW9uLXBvcC1pZD1cIiR7aWR9XCJdIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgd2lkdGg6ICR7d2lkdGh9cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIGhlaWdodDogJHtoZWlnaHR9cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIHRvcDogJHt0b3B9cHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIGxlZnQ6ICR7bGVmdH1weCAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgICAgYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgICB9O1xuICAgIH0sIFtpc1ByZXNlbnRdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wQ2hpbGRNZWFzdXJlLCB7IGlzUHJlc2VudDogaXNQcmVzZW50LCBjaGlsZFJlZjogcmVmLCBzaXplUmVmOiBzaXplIH0sIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwgeyByZWYgfSkpKTtcbn1cblxuZXhwb3J0IHsgUG9wQ2hpbGQgfTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlkLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHJlc2VuY2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9QcmVzZW5jZUNvbnRleHQubWpzJztcbmltcG9ydCB7IHVzZUNvbnN0YW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWNvbnN0YW50Lm1qcyc7XG5pbXBvcnQgeyBQb3BDaGlsZCB9IGZyb20gJy4vUG9wQ2hpbGQubWpzJztcblxuY29uc3QgUHJlc2VuY2VDaGlsZCA9ICh7IGNoaWxkcmVuLCBpbml0aWFsLCBpc1ByZXNlbnQsIG9uRXhpdENvbXBsZXRlLCBjdXN0b20sIHByZXNlbmNlQWZmZWN0c0xheW91dCwgbW9kZSwgfSkgPT4ge1xuICAgIGNvbnN0IHByZXNlbmNlQ2hpbGRyZW4gPSB1c2VDb25zdGFudChuZXdDaGlsZHJlbk1hcCk7XG4gICAgY29uc3QgaWQgPSB1c2VJZCgpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIGlkLFxuICAgICAgICBpbml0aWFsLFxuICAgICAgICBpc1ByZXNlbnQsXG4gICAgICAgIGN1c3RvbSxcbiAgICAgICAgb25FeGl0Q29tcGxldGU6IChjaGlsZElkKSA9PiB7XG4gICAgICAgICAgICBwcmVzZW5jZUNoaWxkcmVuLnNldChjaGlsZElkLCB0cnVlKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXNDb21wbGV0ZSBvZiBwcmVzZW5jZUNoaWxkcmVuLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0NvbXBsZXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIGNhbiBzdG9wIHNlYXJjaGluZyB3aGVuIGFueSBpcyBpbmNvbXBsZXRlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbkV4aXRDb21wbGV0ZSAmJiBvbkV4aXRDb21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICByZWdpc3RlcjogKGNoaWxkSWQpID0+IHtcbiAgICAgICAgICAgIHByZXNlbmNlQ2hpbGRyZW4uc2V0KGNoaWxkSWQsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiBwcmVzZW5jZUNoaWxkcmVuLmRlbGV0ZShjaGlsZElkKTtcbiAgICAgICAgfSxcbiAgICB9KSwgXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHByZXNlbmNlIG9mIGEgY2hpbGQgYWZmZWN0cyB0aGUgbGF5b3V0IG9mIHRoZSBjb21wb25lbnRzIGFyb3VuZCBpdCxcbiAgICAgKiB3ZSB3YW50IHRvIG1ha2UgYSBuZXcgY29udGV4dCB2YWx1ZSB0byBlbnN1cmUgdGhleSBnZXQgcmUtcmVuZGVyZWRcbiAgICAgKiBzbyB0aGV5IGNhbiBkZXRlY3QgdGhhdCBsYXlvdXQgY2hhbmdlLlxuICAgICAqL1xuICAgIHByZXNlbmNlQWZmZWN0c0xheW91dCA/IHVuZGVmaW5lZCA6IFtpc1ByZXNlbnRdKTtcbiAgICB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgcHJlc2VuY2VDaGlsZHJlbi5mb3JFYWNoKChfLCBrZXkpID0+IHByZXNlbmNlQ2hpbGRyZW4uc2V0KGtleSwgZmFsc2UpKTtcbiAgICB9LCBbaXNQcmVzZW50XSk7XG4gICAgLyoqXG4gICAgICogSWYgdGhlcmUncyBubyBgbW90aW9uYCBjb21wb25lbnRzIHRvIGZpcmUgZXhpdCBhbmltYXRpb25zLCB3ZSB3YW50IHRvIHJlbW92ZSB0aGlzXG4gICAgICogY29tcG9uZW50IGltbWVkaWF0ZWx5LlxuICAgICAqL1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICFpc1ByZXNlbnQgJiZcbiAgICAgICAgICAgICFwcmVzZW5jZUNoaWxkcmVuLnNpemUgJiZcbiAgICAgICAgICAgIG9uRXhpdENvbXBsZXRlICYmXG4gICAgICAgICAgICBvbkV4aXRDb21wbGV0ZSgpO1xuICAgIH0sIFtpc1ByZXNlbnRdKTtcbiAgICBpZiAobW9kZSA9PT0gXCJwb3BMYXlvdXRcIikge1xuICAgICAgICBjaGlsZHJlbiA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wQ2hpbGQsIHsgaXNQcmVzZW50OiBpc1ByZXNlbnQgfSwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJlc2VuY2VDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKSk7XG59O1xuZnVuY3Rpb24gbmV3Q2hpbGRyZW5NYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBNYXAoKTtcbn1cblxuZXhwb3J0IHsgUHJlc2VuY2VDaGlsZCB9O1xuIiwiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiB1c2VVbm1vdW50RWZmZWN0KGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHVzZUVmZmVjdCgoKSA9PiAoKSA9PiBjYWxsYmFjaygpLCBbXSk7XG59XG5cbmV4cG9ydCB7IHVzZVVubW91bnRFZmZlY3QgfTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZVJlZiwgY2xvbmVFbGVtZW50LCBDaGlsZHJlbiwgaXNWYWxpZEVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VGb3JjZVVwZGF0ZSB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1mb3JjZS11cGRhdGUubWpzJztcbmltcG9ydCB7IHVzZUlzTW91bnRlZCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1pcy1tb3VudGVkLm1qcyc7XG5pbXBvcnQgeyBQcmVzZW5jZUNoaWxkIH0gZnJvbSAnLi9QcmVzZW5jZUNoaWxkLm1qcyc7XG5pbXBvcnQgeyBMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L0xheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1pc29tb3JwaGljLWVmZmVjdC5tanMnO1xuaW1wb3J0IHsgdXNlVW5tb3VudEVmZmVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS11bm1vdW50LWVmZmVjdC5tanMnO1xuaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSAnLi4vLi4vdXRpbHMvZXJyb3JzLm1qcyc7XG5cbmNvbnN0IGdldENoaWxkS2V5ID0gKGNoaWxkKSA9PiBjaGlsZC5rZXkgfHwgXCJcIjtcbmZ1bmN0aW9uIHVwZGF0ZUNoaWxkTG9va3VwKGNoaWxkcmVuLCBhbGxDaGlsZHJlbikge1xuICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldENoaWxkS2V5KGNoaWxkKTtcbiAgICAgICAgYWxsQ2hpbGRyZW4uc2V0KGtleSwgY2hpbGQpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gb25seUVsZW1lbnRzKGNoaWxkcmVuKSB7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBbXTtcbiAgICAvLyBXZSB1c2UgZm9yRWFjaCBoZXJlIGluc3RlYWQgb2YgbWFwIGFzIG1hcCBtdXRhdGVzIHRoZSBjb21wb25lbnQga2V5IGJ5IHByZXByZW5kaW5nIGAuJGBcbiAgICBDaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCAoY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSlcbiAgICAgICAgICAgIGZpbHRlcmVkLnB1c2goY2hpbGQpO1xuICAgIH0pO1xuICAgIHJldHVybiBmaWx0ZXJlZDtcbn1cbi8qKlxuICogYEFuaW1hdGVQcmVzZW5jZWAgZW5hYmxlcyB0aGUgYW5pbWF0aW9uIG9mIGNvbXBvbmVudHMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSB0cmVlLlxuICpcbiAqIFdoZW4gYWRkaW5nL3JlbW92aW5nIG1vcmUgdGhhbiBhIHNpbmdsZSBjaGlsZCwgZXZlcnkgY2hpbGQgKiptdXN0KiogYmUgZ2l2ZW4gYSB1bmlxdWUgYGtleWAgcHJvcC5cbiAqXG4gKiBBbnkgYG1vdGlvbmAgY29tcG9uZW50cyB0aGF0IGhhdmUgYW4gYGV4aXRgIHByb3BlcnR5IGRlZmluZWQgd2lsbCBhbmltYXRlIG91dCB3aGVuIHJlbW92ZWQgZnJvbVxuICogdGhlIHRyZWUuXG4gKlxuICogYGBganN4XG4gKiBpbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nXG4gKlxuICogZXhwb3J0IGNvbnN0IEl0ZW1zID0gKHsgaXRlbXMgfSkgPT4gKFxuICogICA8QW5pbWF0ZVByZXNlbmNlPlxuICogICAgIHtpdGVtcy5tYXAoaXRlbSA9PiAoXG4gKiAgICAgICA8bW90aW9uLmRpdlxuICogICAgICAgICBrZXk9e2l0ZW0uaWR9XG4gKiAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICogICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAqICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwIH19XG4gKiAgICAgICAvPlxuICogICAgICkpfVxuICogICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAqIClcbiAqIGBgYFxuICpcbiAqIFlvdSBjYW4gc2VxdWVuY2UgZXhpdCBhbmltYXRpb25zIHRocm91Z2hvdXQgYSB0cmVlIHVzaW5nIHZhcmlhbnRzLlxuICpcbiAqIElmIGEgY2hpbGQgY29udGFpbnMgbXVsdGlwbGUgYG1vdGlvbmAgY29tcG9uZW50cyB3aXRoIGBleGl0YCBwcm9wcywgaXQgd2lsbCBvbmx5IHVubW91bnQgdGhlIGNoaWxkXG4gKiBvbmNlIGFsbCBgbW90aW9uYCBjb21wb25lbnRzIGhhdmUgZmluaXNoZWQgYW5pbWF0aW5nIG91dC4gTGlrZXdpc2UsIGFueSBjb21wb25lbnRzIHVzaW5nXG4gKiBgdXNlUHJlc2VuY2VgIGFsbCBuZWVkIHRvIGNhbGwgYHNhZmVUb1JlbW92ZWAuXG4gKlxuICogQHB1YmxpY1xuICovXG5jb25zdCBBbmltYXRlUHJlc2VuY2UgPSAoeyBjaGlsZHJlbiwgY3VzdG9tLCBpbml0aWFsID0gdHJ1ZSwgb25FeGl0Q29tcGxldGUsIGV4aXRCZWZvcmVFbnRlciwgcHJlc2VuY2VBZmZlY3RzTGF5b3V0ID0gdHJ1ZSwgbW9kZSA9IFwic3luY1wiLCB9KSA9PiB7XG4gICAgaW52YXJpYW50KCFleGl0QmVmb3JlRW50ZXIsIFwiUmVwbGFjZSBleGl0QmVmb3JlRW50ZXIgd2l0aCBtb2RlPSd3YWl0J1wiKTtcbiAgICAvLyBXZSB3YW50IHRvIGZvcmNlIGEgcmUtcmVuZGVyIG9uY2UgYWxsIGV4aXRpbmcgYW5pbWF0aW9ucyBoYXZlIGZpbmlzaGVkLiBXZVxuICAgIC8vIGVpdGhlciB1c2UgYSBsb2NhbCBmb3JjZVJlbmRlciBmdW5jdGlvbiwgb3Igb25lIGZyb20gYSBwYXJlbnQgY29udGV4dCBpZiBpdCBleGlzdHMuXG4gICAgY29uc3QgZm9yY2VSZW5kZXIgPSB1c2VDb250ZXh0KExheW91dEdyb3VwQ29udGV4dCkuZm9yY2VSZW5kZXIgfHwgdXNlRm9yY2VVcGRhdGUoKVswXTtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VJc01vdW50ZWQoKTtcbiAgICAvLyBGaWx0ZXIgb3V0IGFueSBjaGlsZHJlbiB0aGF0IGFyZW4ndCBSZWFjdEVsZW1lbnRzLiBXZSBjYW4gb25seSB0cmFjayBSZWFjdEVsZW1lbnRzIHdpdGggYSBwcm9wcy5rZXlcbiAgICBjb25zdCBmaWx0ZXJlZENoaWxkcmVuID0gb25seUVsZW1lbnRzKGNoaWxkcmVuKTtcbiAgICBsZXQgY2hpbGRyZW5Ub1JlbmRlciA9IGZpbHRlcmVkQ2hpbGRyZW47XG4gICAgY29uc3QgZXhpdGluZ0NoaWxkcmVuID0gdXNlUmVmKG5ldyBNYXAoKSkuY3VycmVudDtcbiAgICAvLyBLZWVwIGEgbGl2aW5nIHJlY29yZCBvZiB0aGUgY2hpbGRyZW4gd2UncmUgYWN0dWFsbHkgcmVuZGVyaW5nIHNvIHdlXG4gICAgLy8gY2FuIGRpZmYgdG8gZmlndXJlIG91dCB3aGljaCBhcmUgZW50ZXJpbmcgYW5kIGV4aXRpbmdcbiAgICBjb25zdCBwcmVzZW50Q2hpbGRyZW4gPSB1c2VSZWYoY2hpbGRyZW5Ub1JlbmRlcik7XG4gICAgLy8gQSBsb29rdXAgdGFibGUgdG8gcXVpY2tseSByZWZlcmVuY2UgY29tcG9uZW50cyBieSBrZXlcbiAgICBjb25zdCBhbGxDaGlsZHJlbiA9IHVzZVJlZihuZXcgTWFwKCkpLmN1cnJlbnQ7XG4gICAgLy8gSWYgdGhpcyBpcyB0aGUgaW5pdGlhbCBjb21wb25lbnQgcmVuZGVyLCBqdXN0IGRlYWwgd2l0aCBsb2dpYyBzdXJyb3VuZGluZyB3aGV0aGVyXG4gICAgLy8gd2UgcGxheSBvbk1vdW50IGFuaW1hdGlvbnMgb3Igbm90LlxuICAgIGNvbnN0IGlzSW5pdGlhbFJlbmRlciA9IHVzZVJlZih0cnVlKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaXNJbml0aWFsUmVuZGVyLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlQ2hpbGRMb29rdXAoZmlsdGVyZWRDaGlsZHJlbiwgYWxsQ2hpbGRyZW4pO1xuICAgICAgICBwcmVzZW50Q2hpbGRyZW4uY3VycmVudCA9IGNoaWxkcmVuVG9SZW5kZXI7XG4gICAgfSk7XG4gICAgdXNlVW5tb3VudEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzSW5pdGlhbFJlbmRlci5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgYWxsQ2hpbGRyZW4uY2xlYXIoKTtcbiAgICAgICAgZXhpdGluZ0NoaWxkcmVuLmNsZWFyKCk7XG4gICAgfSk7XG4gICAgaWYgKGlzSW5pdGlhbFJlbmRlci5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgY2hpbGRyZW5Ub1JlbmRlci5tYXAoKGNoaWxkKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChQcmVzZW5jZUNoaWxkLCB7IGtleTogZ2V0Q2hpbGRLZXkoY2hpbGQpLCBpc1ByZXNlbnQ6IHRydWUsIGluaXRpYWw6IGluaXRpYWwgPyB1bmRlZmluZWQgOiBmYWxzZSwgcHJlc2VuY2VBZmZlY3RzTGF5b3V0OiBwcmVzZW5jZUFmZmVjdHNMYXlvdXQsIG1vZGU6IG1vZGUgfSwgY2hpbGQpKSkpKTtcbiAgICB9XG4gICAgLy8gSWYgdGhpcyBpcyBhIHN1YnNlcXVlbnQgcmVuZGVyLCBkZWFsIHdpdGggZW50ZXJpbmcgYW5kIGV4aXRpbmcgY2hpbGRyZW5cbiAgICBjaGlsZHJlblRvUmVuZGVyID0gWy4uLmNoaWxkcmVuVG9SZW5kZXJdO1xuICAgIC8vIERpZmYgdGhlIGtleXMgb2YgdGhlIGN1cnJlbnRseS1wcmVzZW50IGFuZCB0YXJnZXQgY2hpbGRyZW4gdG8gdXBkYXRlIG91clxuICAgIC8vIGV4aXRpbmcgbGlzdC5cbiAgICBjb25zdCBwcmVzZW50S2V5cyA9IHByZXNlbnRDaGlsZHJlbi5jdXJyZW50Lm1hcChnZXRDaGlsZEtleSk7XG4gICAgY29uc3QgdGFyZ2V0S2V5cyA9IGZpbHRlcmVkQ2hpbGRyZW4ubWFwKGdldENoaWxkS2V5KTtcbiAgICAvLyBEaWZmIHRoZSBwcmVzZW50IGNoaWxkcmVuIHdpdGggb3VyIHRhcmdldCBjaGlsZHJlbiBhbmQgbWFyayB0aG9zZSB0aGF0IGFyZSBleGl0aW5nXG4gICAgY29uc3QgbnVtUHJlc2VudCA9IHByZXNlbnRLZXlzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVByZXNlbnQ7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBwcmVzZW50S2V5c1tpXTtcbiAgICAgICAgaWYgKHRhcmdldEtleXMuaW5kZXhPZihrZXkpID09PSAtMSAmJiAhZXhpdGluZ0NoaWxkcmVuLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBleGl0aW5nQ2hpbGRyZW4uc2V0KGtleSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiB3ZSBjdXJyZW50bHkgaGF2ZSBleGl0aW5nIGNoaWxkcmVuLCBhbmQgd2UncmUgZGVmZXJyaW5nIHJlbmRlcmluZyBpbmNvbWluZyBjaGlsZHJlblxuICAgIC8vIHVudGlsIGFmdGVyIGFsbCBjdXJyZW50IGNoaWxkcmVuIGhhdmUgZXhpdGluZywgZW1wdHkgdGhlIGNoaWxkcmVuVG9SZW5kZXIgYXJyYXlcbiAgICBpZiAobW9kZSA9PT0gXCJ3YWl0XCIgJiYgZXhpdGluZ0NoaWxkcmVuLnNpemUpIHtcbiAgICAgICAgY2hpbGRyZW5Ub1JlbmRlciA9IFtdO1xuICAgIH1cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIGN1cnJlbnRseSBleGl0aW5nIGNvbXBvbmVudHMgYW5kIGNsb25lIHRoZW0gdG8gb3ZlcndyaXRlIGBhbmltYXRlYFxuICAgIC8vIHdpdGggYW55IGBleGl0YCBwcm9wIHRoZXkgbWlnaHQgaGF2ZSBkZWZpbmVkLlxuICAgIGV4aXRpbmdDaGlsZHJlbi5mb3JFYWNoKChjb21wb25lbnQsIGtleSkgPT4ge1xuICAgICAgICAvLyBJZiB0aGlzIGNvbXBvbmVudCBpcyBhY3R1YWxseSBlbnRlcmluZyBhZ2FpbiwgZWFybHkgcmV0dXJuXG4gICAgICAgIGlmICh0YXJnZXRLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNoaWxkID0gYWxsQ2hpbGRyZW4uZ2V0KGtleSk7XG4gICAgICAgIGlmICghY2hpbGQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGluc2VydGlvbkluZGV4ID0gcHJlc2VudEtleXMuaW5kZXhPZihrZXkpO1xuICAgICAgICBsZXQgZXhpdGluZ0NvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgaWYgKCFleGl0aW5nQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBjb25zdCBvbkV4aXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW4gdXAgdGhlIGV4aXRpbmcgY2hpbGRyZW4gbWFwXG4gICAgICAgICAgICAgICAgZXhpdGluZ0NoaWxkcmVuLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIC8vIGNvbXB1dGUgdGhlIGtleXMgb2YgY2hpbGRyZW4gdGhhdCB3ZXJlIHJlbmRlcmVkIG9uY2UgYnV0IGFyZSBubyBsb25nZXIgcHJlc2VudFxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY291bGQgaGFwcGVuIGluIGNhc2Ugb2YgdG9vIG1hbnkgZmFzdCBjb25zZXF1ZW50IHJlbmRlcmluZ3NcbiAgICAgICAgICAgICAgICAvLyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vZnJhbWVyL21vdGlvbi9pc3N1ZXMvMjAyM1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRPdmVyS2V5cyA9IEFycmF5LmZyb20oYWxsQ2hpbGRyZW4ua2V5cygpKS5maWx0ZXIoKGNoaWxkS2V5KSA9PiAhdGFyZ2V0S2V5cy5pbmNsdWRlcyhjaGlsZEtleSkpO1xuICAgICAgICAgICAgICAgIC8vIGNsZWFuIHVwIHRoZSBhbGwgY2hpbGRyZW4gbWFwXG4gICAgICAgICAgICAgICAgbGVmdE92ZXJLZXlzLmZvckVhY2goKGxlZnRPdmVyS2V5KSA9PiBhbGxDaGlsZHJlbi5kZWxldGUobGVmdE92ZXJLZXkpKTtcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVuZGVyIG9ubHkgdGhlIGNoaWxkcmVuIHRoYXQgYXJlIGFjdHVhbGx5IHZpc2libGVcbiAgICAgICAgICAgICAgICBwcmVzZW50Q2hpbGRyZW4uY3VycmVudCA9IGZpbHRlcmVkQ2hpbGRyZW4uZmlsdGVyKChwcmVzZW50Q2hpbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlc2VudENoaWxkS2V5ID0gZ2V0Q2hpbGRLZXkocHJlc2VudENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCB0aGUgbm9kZSBleGl0aW5nXG4gICAgICAgICAgICAgICAgICAgIHByZXNlbnRDaGlsZEtleSA9PT0ga2V5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IHRoZSBsZWZ0b3ZlciBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdE92ZXJLZXlzLmluY2x1ZGVzKHByZXNlbnRDaGlsZEtleSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIERlZmVyIHJlLXJlbmRlcmluZyB1bnRpbCBhbGwgZXhpdGluZyBjaGlsZHJlbiBoYXZlIGluZGVlZCBsZWZ0XG4gICAgICAgICAgICAgICAgaWYgKCFleGl0aW5nQ2hpbGRyZW4uc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBmb3JjZVJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICBvbkV4aXRDb21wbGV0ZSAmJiBvbkV4aXRDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBleGl0aW5nQ29tcG9uZW50ID0gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJlc2VuY2VDaGlsZCwgeyBrZXk6IGdldENoaWxkS2V5KGNoaWxkKSwgaXNQcmVzZW50OiBmYWxzZSwgb25FeGl0Q29tcGxldGU6IG9uRXhpdCwgY3VzdG9tOiBjdXN0b20sIHByZXNlbmNlQWZmZWN0c0xheW91dDogcHJlc2VuY2VBZmZlY3RzTGF5b3V0LCBtb2RlOiBtb2RlIH0sIGNoaWxkKSk7XG4gICAgICAgICAgICBleGl0aW5nQ2hpbGRyZW4uc2V0KGtleSwgZXhpdGluZ0NvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW5Ub1JlbmRlci5zcGxpY2UoaW5zZXJ0aW9uSW5kZXgsIDAsIGV4aXRpbmdDb21wb25lbnQpO1xuICAgIH0pO1xuICAgIC8vIEFkZCBgTW90aW9uQ29udGV4dGAgZXZlbiB0byBjaGlsZHJlbiB0aGF0IGRvbid0IG5lZWQgaXQgdG8gZW5zdXJlIHdlJ3JlIHJlbmRlcmluZ1xuICAgIC8vIHRoZSBzYW1lIHRyZWUgYmV0d2VlbiByZW5kZXJzXG4gICAgY2hpbGRyZW5Ub1JlbmRlciA9IGNoaWxkcmVuVG9SZW5kZXIubWFwKChjaGlsZCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgIHJldHVybiBleGl0aW5nQ2hpbGRyZW4uaGFzKGtleSkgPyAoY2hpbGQpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJlc2VuY2VDaGlsZCwgeyBrZXk6IGdldENoaWxkS2V5KGNoaWxkKSwgaXNQcmVzZW50OiB0cnVlLCBwcmVzZW5jZUFmZmVjdHNMYXlvdXQ6IHByZXNlbmNlQWZmZWN0c0xheW91dCwgbW9kZTogbW9kZSB9LCBjaGlsZCkpO1xuICAgIH0pO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgJiZcbiAgICAgICAgbW9kZSA9PT0gXCJ3YWl0XCIgJiZcbiAgICAgICAgY2hpbGRyZW5Ub1JlbmRlci5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgWW91J3JlIGF0dGVtcHRpbmcgdG8gYW5pbWF0ZSBtdWx0aXBsZSBjaGlsZHJlbiB3aXRoaW4gQW5pbWF0ZVByZXNlbmNlLCBidXQgaXRzIG1vZGUgaXMgc2V0IHRvIFwid2FpdFwiLiBUaGlzIHdpbGwgbGVhZCB0byBvZGQgdmlzdWFsIGJlaGF2aW91ci5gKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBleGl0aW5nQ2hpbGRyZW4uc2l6ZVxuICAgICAgICA/IGNoaWxkcmVuVG9SZW5kZXJcbiAgICAgICAgOiBjaGlsZHJlblRvUmVuZGVyLm1hcCgoY2hpbGQpID0+IGNsb25lRWxlbWVudChjaGlsZCkpKSk7XG59O1xuXG5leHBvcnQgeyBBbmltYXRlUHJlc2VuY2UgfTtcbiJdLCJuYW1lcyI6WyJ1c2VJc01vdW50ZWQiLCJpc01vdW50ZWQiLCJ1c2VSZWYiLCJ1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwidXNlRm9yY2VVcGRhdGUiLCJmb3JjZWRSZW5kZXJDb3VudCIsInNldEZvcmNlZFJlbmRlckNvdW50IiwidXNlU3RhdGUiLCJmb3JjZVJlbmRlciIsInVzZUNhbGxiYWNrIiwiZnJhbWUiLCJQb3BDaGlsZE1lYXN1cmUiLCJSZWFjdC5Db21wb25lbnQiLCJwcmV2UHJvcHMiLCJlbGVtZW50Iiwic2l6ZSIsIlBvcENoaWxkIiwiY2hpbGRyZW4iLCJpc1ByZXNlbnQiLCJpZCIsInVzZUlkIiwicmVmIiwidXNlSW5zZXJ0aW9uRWZmZWN0Iiwid2lkdGgiLCJoZWlnaHQiLCJ0b3AiLCJsZWZ0Iiwic3R5bGUiLCJSZWFjdC5jcmVhdGVFbGVtZW50IiwiUmVhY3QuY2xvbmVFbGVtZW50IiwiUHJlc2VuY2VDaGlsZCIsImluaXRpYWwiLCJvbkV4aXRDb21wbGV0ZSIsImN1c3RvbSIsInByZXNlbmNlQWZmZWN0c0xheW91dCIsIm1vZGUiLCJwcmVzZW5jZUNoaWxkcmVuIiwidXNlQ29uc3RhbnQiLCJuZXdDaGlsZHJlbk1hcCIsImNvbnRleHQiLCJ1c2VNZW1vIiwiY2hpbGRJZCIsImlzQ29tcGxldGUiLCJfIiwia2V5IiwiUmVhY3QudXNlRWZmZWN0IiwiUHJlc2VuY2VDb250ZXh0IiwidXNlVW5tb3VudEVmZmVjdCIsImNhbGxiYWNrIiwidXNlRWZmZWN0IiwiZ2V0Q2hpbGRLZXkiLCJjaGlsZCIsInVwZGF0ZUNoaWxkTG9va3VwIiwiYWxsQ2hpbGRyZW4iLCJvbmx5RWxlbWVudHMiLCJmaWx0ZXJlZCIsIkNoaWxkcmVuIiwiaXNWYWxpZEVsZW1lbnQiLCJBbmltYXRlUHJlc2VuY2UiLCJleGl0QmVmb3JlRW50ZXIiLCJ1c2VDb250ZXh0IiwiTGF5b3V0R3JvdXBDb250ZXh0IiwiZmlsdGVyZWRDaGlsZHJlbiIsImNoaWxkcmVuVG9SZW5kZXIiLCJleGl0aW5nQ2hpbGRyZW4iLCJwcmVzZW50Q2hpbGRyZW4iLCJpc0luaXRpYWxSZW5kZXIiLCJSZWFjdC5GcmFnbWVudCIsInByZXNlbnRLZXlzIiwidGFyZ2V0S2V5cyIsIm51bVByZXNlbnQiLCJpIiwiY29tcG9uZW50IiwiaW5zZXJ0aW9uSW5kZXgiLCJleGl0aW5nQ29tcG9uZW50Iiwib25FeGl0IiwibGVmdE92ZXJLZXlzIiwiY2hpbGRLZXkiLCJsZWZ0T3ZlcktleSIsInByZXNlbnRDaGlsZCIsInByZXNlbnRDaGlsZEtleSIsImNsb25lRWxlbWVudCJdLCJtYXBwaW5ncyI6Im9IQUdBLFNBQVNBLEdBQWUsQ0FDcEIsTUFBTUMsRUFBWUMsU0FBTyxFQUFLLEVBQzlCLE9BQUFDLEVBQTBCLEtBQ3RCRixFQUFVLFFBQVUsR0FDYixJQUFNLENBQ1RBLEVBQVUsUUFBVSxF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QVcsUUFBUXpCLENBQUcsSUFBTSxJQUFNLENBQUNvQixFQUFnQixJQUFJcEIsQ0FBRyxHQUMxRG9CLEVBQWdCLElBQUlwQixFQUFLLE1BQVMsQ0FFekMsQ0FHRCxPQUFJVCxJQUFTLFFBQVU2QixFQUFnQixPQUNuQ0QsRUFBbUIsQ0FBQSxHQUl2QkMsRUFBZ0IsUUFBUSxDQUFDUSxFQUFXNUIsSUFBUSxDQUV4QyxHQUFJeUIsRUFBVyxRQUFRekIsQ0FBRyxJQUFNLEdBQzVCLE9BQ0osTUFBTU8sRUFBUUUsRUFBWSxJQUFJVCxDQUFHLEVBQ2pDLEdBQUksQ0FBQ08sRUFDRCxPQUNKLE1BQU1zQixFQUFpQkwsRUFBWSxRQUFReEIsQ0FBRyxFQUM5QyxJQUFJOEIsRUFBbUJGLEVBQ3ZCLEdBQUksQ0FBQ0UsRUFBa0IsQ0FDbkIsTUFBTUMsRUFBUyxJQUFNLENBRWpCWCxFQUFnQixPQUFPcEIsQ0FBRyxFQUkxQixNQUFNZ0MsRUFBZSxNQUFNLEtBQUt2QixFQUFZLEtBQUksQ0FBRSxFQUFFLE9BQVF3QixHQUFhLENBQUNSLEVBQVcsU0FBU1EsQ0FBUSxDQUFDLEVBYXZHLEdBWEFELEVBQWEsUUFBU0UsR0FBZ0J6QixFQUFZLE9BQU95QixDQUFXLENBQUMsRUFFckViLEVBQWdCLFFBQVVILEVBQWlCLE9BQVFpQixHQUFpQixDQUNoRSxNQUFNQyxFQUFrQjlCLEVBQVk2QixDQUFZLEVBQ2hELE9BRUFDLElBQW9CcEMsR0FFaEJnQyxFQUFhLFNBQVNJLENBQWUsQ0FDN0QsQ0FBaUIsRUFFRyxDQUFDaEIsRUFBZ0IsS0FBTSxDQUN2QixHQUFJL0QsRUFBVSxVQUFZLEdBQ3RCLE9BQ0pPLElBQ0F3QixHQUFrQkEsRUFBYyxDQUNuQyxDQUNqQixFQUNZMEMsRUFBb0I5QyxFQUFBQSxjQUFvQkUsRUFBZSxDQUFFLElBQUtvQixFQUFZQyxDQUFLLEVBQUcsVUFBVyxHQUFPLGVBQWdCd0IsRUFBUSxPQUFRMUMsRUFBUSxzQkFBdUJDLEVBQXVCLEtBQU1DLENBQUksRUFBSWdCLENBQUssRUFDN01hLEVBQWdCLElBQUlwQixFQUFLOEIsQ0FBZ0IsQ0FDNUMsQ0FDRFgsRUFBaUIsT0FBT1UsRUFBZ0IsRUFBR0MsQ0FBZ0IsQ0FDbkUsQ0FBSyxFQUdEWCxFQUFtQkEsRUFBaUIsSUFBS1osR0FBVSxDQUMvQyxNQUFNUCxFQUFNTyxFQUFNLElBQ2xCLE9BQU9hLEVBQWdCLElBQUlwQixDQUFHLEVBQUtPLEVBQVV2QixnQkFBb0JFLEVBQWUsQ0FBRSxJQUFLb0IsRUFBWUMsQ0FBSyxFQUFHLFVBQVcsR0FBTSxzQkFBdUJqQixFQUF1QixLQUFNQyxDQUFJLEVBQUlnQixDQUFLLENBQ3JNLENBQUssRUFNT3ZCLGdCQUFvQnVDLEVBQUFBLFNBQWdCLEtBQU1ILEVBQWdCLEtBQzVERCxFQUNBQSxFQUFpQixJQUFLWixHQUFVOEIsRUFBQUEsYUFBYTlCLENBQUssQ0FBQyxDQUFDLENBQzlEIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1XX0=
