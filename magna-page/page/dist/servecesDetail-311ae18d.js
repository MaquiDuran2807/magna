import{_ as w}from"./preload-helper-4aa0ec7d.js";import{j as e,r as t}from"./jsx-runtime-c0a91cf1.js";import{z as O,w as C}from"./GetsIdServices-dc6be9f6.js";import{A as I,a as R}from"./index.esm-f255d7e4.js";import{s as L,t as T,i as B,m as V}from"./converted_topo-b9bd597d.js";import{B as M}from"./banner-ac69955d.js";import{S as F,A as $,P as k,N as q,b as K}from"./swiper-ff39d36a.js";/* empty css                  */import{u as Q}from"./ScreenSize-cf31a297.js";import{P as W,m as h}from"./pagesLayouts-407d54f6.js";import{u as Y}from"./useLazyload-849daff9.js";import{u as G}from"./index-cc74cdf4.js";import{A as H}from"./index-fca66f4e.js";import"./lottie-632db44f.js";import"./iconBase-5e2dd25d.js";import"./index.esm-6a20fd5f.js";import"./index.esm-d7d59c05.js";const J=({subServicios:a,subtitle:c})=>e.jsx(F,{spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:!0,modules:[$,k,q],children:a==null?void 0:a.map((n,d)=>e.jsxs(K,{children:[e.jsx("div",{className:"slide-service ",children:e.jsx("img",{srcSet:`
                            ${n.imagen_celular} 450w,
                            ${n.imagen_tablet} 1024w,
                            ${n.imagen} 5000w
                        `,sizes:`(max-width: 450px) 280px,
                            (max-width: 1023px) 736px,
                            (min-width: 1024px) 1024px`,alt:n.nombre,className:"img-fluid img-subservicio "})}),e.jsx("h3",{className:"title-slider-service",children:c?n.nombre:""})]},d))});const U=t.lazy(()=>w(()=>import("./brochure-0f4ec3e5.js"),["brochure-0f4ec3e5.js","jsx-runtime-c0a91cf1.js","GetsIdServices-dc6be9f6.js","lottie-632db44f.js"])),N=t.lazy(()=>w(()=>import("./Servicios-8ebeab8c.js"),["Servicios-8ebeab8c.js","jsx-runtime-c0a91cf1.js","GetsIdServices-dc6be9f6.js","lottie-632db44f.js","setionHeader-e5f15bb2.js","pagesLayouts-407d54f6.js","preload-helper-4aa0ec7d.js","index-cc74cdf4.js","useLazyload-849daff9.js","Servicios-7ee61343.css"])),X=()=>{var y,S;const{id:a}=G();let[c,n]=t.useState("Nuestros Servicios"),[d,m]=t.useState(L);const{data:o}=O({queryKey:["services"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchInterval:1e3*60*30});let x="container";const[l,f]=t.useState(),[r,j]=t.useState(null),[_,u]=t.useState(null),[P,v]=t.useState(!0),g=s=>{if(!o)return;const i=o.filter(D=>D.nombre===s);return u(i[0].subservicios),i};t.useEffect(()=>{if(o)if(a){const s=g(a);if(s){const i="servicios de "+s[0].nombre;n(i),f(s),s[0].nombre==="Topografía"&&m(T),s[0].nombre==="Ingeniería y Consultoría"&&m(B),s[0].nombre==="Medio Ambiente"&&m(V)}}else{f(o),n("Nuestros Servicios");const s=o.flatMap(i=>i.subservicios);u(s)}},[o,a]);const{width:b,height:A}=Q();console.log(b,A);const E=b<=1e3,p=t.useRef(null);E&&(x="mobile");const z=async s=>{if(!s)return;const i=[];i.push(s),j(i),v(!1),i&&(u(i),a&&setTimeout(()=>{j(null),v(!0),o&&g(a)},2e4))};return t.useEffect(()=>{if(p.current&&r){const s=p.current.getBoundingClientRect().top+window.pageYOffset,i=-300;window.scroll({top:s+i,behavior:"smooth"})}},[r]),l?e.jsx(e.Fragment,{children:e.jsxs(W,{children:[e.jsx(M,{title:l.length==1?l[0].nombre:"Servicios",paragraph:c.toString(),image:d}),e.jsxs("div",{className:x,children:[e.jsx("div",{className:"row servicio",children:l.length===1?e.jsx("div",{className:"col-12",children:e.jsx("h2",{className:"text-center",children:c})}):e.jsx("div",{className:"row",children:e.jsx(N,{})})}),e.jsxs("div",{className:"row content",children:[e.jsx("div",{className:"col-12 col-md-4 ",children:e.jsx("div",{className:"aside -template",children:l.map(s=>e.jsx("div",{children:e.jsxs("div",{className:"row px-2",children:[e.jsx("div",{className:"col-12",children:e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"servicio",children:[e.jsx("h3",{children:s==null?void 0:s.nombre}),e.jsx("p",{className:"px-2",children:s==null?void 0:s.descripcion})]},s.id)}),e.jsx("div",{children:s.subservicios.map(i=>e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(h.div,{onClick:()=>z(i),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"subservicio",children:e.jsxs("div",{className:"row items mx-3",children:[e.jsx("span",{className:"col-1 icon-row",children:e.jsx(I,{})}),e.jsxs("h5",{className:"col-10",children:[i.nombre+"   ",e.jsx("span",{children:e.jsx(R,{})})]})]})},i.id)})},i.id))})]})},s.id))})}),e.jsxs("div",{className:"col-12 col-md-8 ",children:[e.jsx("div",{className:"row mb-5",children:e.jsx(J,{subServicios:_,subtitle:P})}),e.jsxs("div",{className:"row",ref:p,children:[e.jsx(H,{children:e.jsxs(h.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,scale:.5},transition:{duration:.3,delay:1,delayChildren:.3,staggerChildren:.3},children:[e.jsx("h3",{children:r?r[0].nombre:"Servicios de calidad y con la más alta tecnología"}),e.jsx("p",{children:r?r[0].descripcion:"Somos una empresa con más de 10 años de experiencia en el mercado, con profesionales altamente calificados y con amplia experiencia en el sector público y privado, brindando servicios de calidad y con la más alta tecnología."})]},r&&((y=r[0])==null?void 0:y.id))}),e.jsx("div",{}),e.jsxs("div",{className:"my-5",children:[e.jsx("h3",{children:"Brochure"}),e.jsx("p",{children:"Para obtener una visión completa de nuestros servicios y ventajas, te invitamos a descargar nuestro brochure informativo. Aquí encontrarás detalles exhaustivos sobre nuestras ofertas, testimonios de clientes satisfechos y la información de contacto necesaria para dar el siguiente paso hacia una colaboración exitosa. ¡Descubre cómo podemos ayudarte a alcanzar tus objetivos hoy mismo!"}),e.jsx(U,{})]})]},r&&((S=r[0])==null?void 0:S.descripcion))]}),l.length===1?e.jsx("div",{className:"row",children:e.jsx(N,{})}):""]})]})]})}):e.jsx(C,{})};function fe(){const{isVisible:a,ref:c}=Y("100px");return e.jsx("div",{id:"LazyServecesDetail",ref:c,children:a?e.jsx(X,{}):null})}export{fe as default};


//# sourceMappingURL=data:application/json;base64,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U2VydmljaW9zIiwic3VidGl0bGUiLCJqc3giLCJTd2lwZXIiLCJBdXRvcGxheSIsIlBhZ2luYXRpb24iLCJOYXZpZ2F0aW9uIiwic3ViU2VydmljaW8iLCJpbmRleCIsIlN3aXBlclNsaWRlIiwiUGRmVmlld2VyIiwibGF6eSIsIkxhenlTZXJ2aWNpb3MiLCJfX3ZpdGVQcmVsb2FkIiwiU2VydmVjZXNEZXRhaWwiLCJpZCIsInVzZVBhcmFtcyIsInRpdGxlIiwic2V0VGl0bGUiLCJ1c2VTdGF0ZSIsImltYWdlbiIsInNldEltYWdlbiIsImltYWdlblNlcnZpY2lvcyIsInNlcnZlY2VzIiwidXNlUXVlcnkiLCJkaXNwb3NpdGl2byIsInNlcnZpY2lvX2VsZWdpZG8iLCJzZXRTZXJ2aWNpb19lbGVnaWRvIiwic2VsZWN0ZWRTdWJTZXJ2aWNpbyIsInNldFNlbGVjdGVkU3ViU2VydmljaW8iLCJzbGlkZXIiLCJzZXRTbGlkZXIiLCJzZXRTdWJ0aXRsZSIsImZpbHRlclNlcnZpY2lvIiwic2VydmljaW8iLCJ1c2VFZmZlY3QiLCJzZXJ2aWNpb0VsZWdpZG8iLCJ0aXRsZVN0cmluZyIsImltYWdlblRvcG9ncmFmaWEiLCJpbWFnZW5JbmdlbmllcmlhIiwiaW1hZ2VuTWVkaW9BbWJpZW50ZSIsIndpZHRoIiwiaGVpZ2h0IiwidXNlU2NyZWVuU2l6ZSIsImlzTW9iaWxlIiwic3ViU2VydmljaW9QYWdpbmFSZWYiLCJ1c2VSZWYiLCJoYW5kbGVTdWJTZXJ2aWNpb0NsaWNrIiwibGlzdFN1YnNlcnZpY2lvcyIsImVsZW1lbnRQb3NpdGlvbiIsIm9mZnNldCIsIkZyYWdtZW50IiwiUGFnZXNMYXlvdXQiLCJCYW5uZXIiLCJqc3hzIiwibW90aW9uIiwiQWlPdXRsaW5lRG91YmxlUmlnaHQiLCJBaUZpbGxDYXJldERvd24iLCJBbmltYXRlUHJlc2VuY2UiLCJfYSIsIl9iIiwiU3Bpbm5lciIsIkxhenlTZXJ2ZWNlc0RldGFpbCIsImlzVmlzaWJsZSIsInJlZiIsInVzZUludGVyc2VjdGlvbk9ic2VydmVyIl0sInNvdXJjZXMiOlsiLi4vc3JjL2NvbXBvbmVudHMvc2xpZGVyU2VydmljZXMudHN4IiwiLi4vc3JjL3BhZ2VzL3NlcnZlY2VzRGV0YWlsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3dpcGVyLCBTd2lwZXJTbGlkZSB9IGZyb20gJ3N3aXBlci9yZWFjdCc7XG5pbXBvcnQgeyAgU3Vic2VydmljaW8gfSBmcm9tICcuLi90eXBlcy90eXBlcyc7XG5pbXBvcnQgJy4vc3R5bGVzL3NsaWRlclNlcnZpY2UuY3NzJztcbi8vIEltcG9ydCBTd2lwZXIgc3R5bGVzXG5pbXBvcnQgJ3N3aXBlci9jc3MvbmF2aWdhdGlvbic7XG5pbXBvcnQgJ3N3aXBlci9jc3MvcGFnaW5hdGlvbic7XG5pbXBvcnQgJ3N3aXBlci9jc3Mvc2Nyb2xsYmFyJztcbmltcG9ydCAnc3dpcGVyL2Nzcyc7XG5pbXBvcnQgeyBBdXRvcGxheSwgTmF2aWdhdGlvbiwgUGFnaW5hdGlvbiB9IGZyb20gJ3N3aXBlci9tb2R1bGVzJztcblxuXG5pbnRlcmZhY2UgU2xpZGVyU2VydmljZXNQcm9wcyB7XG4gICAgc3ViU2VydmljaW9zPzogU3Vic2VydmljaW9bXSB8IG51bGw7XG4gICAgc3VidGl0bGU/OiBib29sZWFuO1xufVxuXG5jb25zdCBTbGlkZXJTZXJ2aWNlczogUmVhY3QuRkM8U2xpZGVyU2VydmljZXNQcm9wcz4gPSAoeyBzdWJTZXJ2aWNpb3Msc3VidGl0bGV9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPFN3aXBlclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuPXszMH1cbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc9ezF9XG4gICAgICAgICAgICBhdXRvcGxheT17e1xuICAgICAgICAgICAgICAgIGRlbGF5OiA1MDAwLFxuICAgICAgICAgICAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYXVzZU9uTW91c2VFbnRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgbmF2aWdhdGlvbj17dHJ1ZX1cbiAgICAgICAgICAgICAgbW9kdWxlcz17W0F1dG9wbGF5LCBQYWdpbmF0aW9uLCBOYXZpZ2F0aW9uXX1cbiAgICAgICAgICAgICAgXG4gICAgICAgID5cbiAgICAgICAgICAgIHtzdWJTZXJ2aWNpb3M/Lm1hcCgoc3ViU2VydmljaW8sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPFN3aXBlclNsaWRlIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHNsaWRlLXNlcnZpY2UgYCB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmNTZXQ9e2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3N1YlNlcnZpY2lvLmltYWdlbl9jZWx1bGFyfSA0NTB3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7c3ViU2VydmljaW8uaW1hZ2VuX3RhYmxldH0gMTAyNHcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzdWJTZXJ2aWNpby5pbWFnZW59IDUwMDB3XG4gICAgICAgICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZXM9XCIobWF4LXdpZHRoOiA0NTBweCkgMjgwcHgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1heC13aWR0aDogMTAyM3B4KSA3MzZweCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWluLXdpZHRoOiAxMDI0cHgpIDEwMjRweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3N1YlNlcnZpY2lvLm5vbWJyZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0naW1nLWZsdWlkIGltZy1zdWJzZXJ2aWNpbyAnIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPSd0aXRsZS1zbGlkZXItc2VydmljZSc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGUgPyBzdWJTZXJ2aWNpby5ub21icmUgOiAgJycgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDwvU3dpcGVyU2xpZGU+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgPC9Td2lwZXI+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNsaWRlclNlcnZpY2VzO1xuIiwiaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlLCBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IGxhenksIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQWlGaWxsQ2FyZXREb3duLCBBaU91dGxpbmVEb3VibGVSaWdodCB9IGZyb20gXCJyZWFjdC1pY29ucy9haVwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCBpbWFnZW5JbmdlbmllcmlhIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL2luZ2VuaWVyaWEud2VicCc7XG5pbXBvcnQgaW1hZ2VuTWVkaW9BbWJpZW50ZSBmcm9tICcuLi9hc3NldHMvaW1nL2Jhbm5lci9tZWRpby53ZWJwJztcbmltcG9ydCBpbWFnZW5TZXJ2aWNpb3MgZnJvbSAnLi4vYXNzZXRzL2ltZy9iYW5uZXIvc2VydmljaW9zLndlYnAnO1xuaW1wb3J0IGltYWdlblRvcG9ncmFmaWEgZnJvbSAnLi4vYXNzZXRzL2ltZy9iYW5uZXIvY29udmVydGVkX3RvcG8ud2VicCc7XG5pbXBvcnQgQmFubmVyIGZyb20gXCIuLi9jb21wb25lbnRzL2Jhbm5lclwiO1xuaW1wb3J0IFNsaWRlclNlcnZpY2VzIGZyb20gXCIuLi9jb21wb25lbnRzL3NsaWRlclNlcnZpY2VzXCI7XG5pbXBvcnQgdXNlU2NyZWVuU2l6ZSBmcm9tICcuLi9ob29rcy9TY3JlZW5TaXplJztcbmltcG9ydCBQYWdlc0xheW91dCBmcm9tIFwiLi4vbGF5b3V0cy9wYWdlc0xheW91dHNcIjtcbmltcG9ydCB7IFNlcnZpY2lvMiwgU3Vic2VydmljaW8gfSBmcm9tIFwiLi4vdHlwZXMvdHlwZXNcIjtcbmltcG9ydCBcIi4vc3R5bGVzL3NlcnZpY2VzRGV0YWlsLmNzc1wiO1xuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vY29tcG9uZW50cy9zcGlubmVyJztcbmltcG9ydCB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciBmcm9tICcuLi9ob29rcy91c2VMYXp5bG9hZCc7XG5jb25zdCBQZGZWaWV3ZXIgPSBsYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9icm9jaHVyZScpKTtcblxuY29uc3QgTGF6eVNlcnZpY2lvcyA9IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL3NlY3Rpb25zL1NlcnZpY2lvcycpKTtcblxuXG5cbmNvbnN0IFNlcnZlY2VzRGV0YWlsOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGlkIH0gPSB1c2VQYXJhbXM8eyBpZDogc3RyaW5nIH0+KCk7XG5cbiAgICBsZXQgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZTxTdHJpbmc+KFwiTnVlc3Ryb3MgU2VydmljaW9zXCIpO1xuICAgIGxldCBbaW1hZ2VuLCBzZXRJbWFnZW5dID0gdXNlU3RhdGU8U3RyaW5nPihpbWFnZW5TZXJ2aWNpb3MpO1xuICAgIGNvbnN0IHsgZGF0YTogc2VydmVjZXMgfSA9IHVzZVF1ZXJ5PFNlcnZpY2lvMltdPih7XG4gICAgICAgIHF1ZXJ5S2V5OiBbJ3NlcnZpY2VzJ10sXG4gICAgICAgIHN0YWxlVGltZTogMTAwMCAqIDYwICogMzAsXG4gICAgICAgIHJlZmV0Y2hPbldpbmRvd0ZvY3VzOiBmYWxzZSxcbiAgICAgICAgcmVmZXRjaEludGVydmFsOiAxMDAwICogNjAgKiAzMCxcbiAgICB9KTtcbiAgICBsZXQgZGlzcG9zaXRpdm8gPSBcImNvbnRhaW5lclwiO1xuICAgIGNvbnN0IFtzZXJ2aWNpb19lbGVnaWRvLCBzZXRTZXJ2aWNpb19lbGVnaWRvXSA9IHVzZVN0YXRlPFNlcnZpY2lvMltdPigpO1xuICAgIGNvbnN0IFtzZWxlY3RlZFN1YlNlcnZpY2lvLCBzZXRTZWxlY3RlZFN1YlNlcnZpY2lvXSA9IHVzZVN0YXRlPFN1YnNlcnZpY2lvW10gfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbc2xpZGVyLCBzZXRTbGlkZXJdID0gdXNlU3RhdGU8U3Vic2VydmljaW9bXSB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtzdWJ0aXRsZSwgc2V0U3VidGl0bGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XG5cbiAgICBjb25zdCBmaWx0ZXJTZXJ2aWNpbyA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICghc2VydmVjZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXJ2aWNpbzogU2VydmljaW8yW10gPSBzZXJ2ZWNlcy5maWx0ZXIoKHNlcnZpY2lvOiBTZXJ2aWNpbzIpID0+IHNlcnZpY2lvLm5vbWJyZSA9PT0gaWQpO1xuICAgICAgICBzZXRTbGlkZXIoc2VydmljaW9bMF0uc3Vic2VydmljaW9zKTtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2lvO1xuICAgIH1cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzZXJ2ZWNlcykge1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmljaW9FbGVnaWRvID0gZmlsdGVyU2VydmljaW8oaWQpO1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNpb0VsZWdpZG8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGVTdHJpbmcgPSBcInNlcnZpY2lvcyBkZSBcIiArIHNlcnZpY2lvRWxlZ2lkb1swXS5ub21icmU7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpdGxlKHRpdGxlU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VydmljaW9fZWxlZ2lkbyhzZXJ2aWNpb0VsZWdpZG8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljaW9FbGVnaWRvWzBdLm5vbWJyZSA9PT0gXCJUb3BvZ3JhZsOtYVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbWFnZW4oaW1hZ2VuVG9wb2dyYWZpYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2lvRWxlZ2lkb1swXS5ub21icmUgPT09IFwiSW5nZW5pZXLDrWEgeSBDb25zdWx0b3LDrWFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1hZ2VuKGltYWdlbkluZ2VuaWVyaWEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNpb0VsZWdpZG9bMF0ubm9tYnJlID09PSBcIk1lZGlvIEFtYmllbnRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEltYWdlbihpbWFnZW5NZWRpb0FtYmllbnRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0U2VydmljaW9fZWxlZ2lkbyhzZXJ2ZWNlcyk7XG4gICAgICAgICAgICAgICAgc2V0VGl0bGUoXCJOdWVzdHJvcyBTZXJ2aWNpb3NcIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViU2VydmljaW9zID0gc2VydmVjZXMuZmxhdE1hcCgoc3ViU2VydmljaW8pID0+IHN1YlNlcnZpY2lvLnN1YnNlcnZpY2lvcyk7XG4gICAgICAgICAgICAgICAgc2V0U2xpZGVyKHN1YlNlcnZpY2lvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbc2VydmVjZXMsIGlkXSk7XG5cbiAgICBjb25zdCB7IHdpZHRoLGhlaWdodCB9ID0gdXNlU2NyZWVuU2l6ZSgpO1xuICAgIGNvbnNvbGUubG9nKHdpZHRoLGhlaWdodCk7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aWR0aCA8PSAxMDAwO1xuICAgIGNvbnN0IHN1YlNlcnZpY2lvUGFnaW5hUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgICAgZGlzcG9zaXRpdm8gPSBcIm1vYmlsZVwiO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVN1YlNlcnZpY2lvQ2xpY2sgPSBhc3luYyAoc3ViU2VydmljaW86IFN1YnNlcnZpY2lvKSA9PiB7XG4gICAgICAgIGlmICghc3ViU2VydmljaW8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpc3RTdWJzZXJ2aWNpb3M6IFN1YnNlcnZpY2lvW10gPSBbXVxuICAgICAgICBsaXN0U3Vic2VydmljaW9zLnB1c2goc3ViU2VydmljaW8pXG4gICAgICAgIHNldFNlbGVjdGVkU3ViU2VydmljaW8obGlzdFN1YnNlcnZpY2lvcyk7XG4gICAgICAgIHNldFN1YnRpdGxlKGZhbHNlKTtcbiAgICAgICAgaWYgKCFsaXN0U3Vic2VydmljaW9zKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzZXRTbGlkZXIobGlzdFN1YnNlcnZpY2lvcyk7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRTdWJTZXJ2aWNpbyhudWxsKTtcbiAgICAgICAgICAgIHNldFN1YnRpdGxlKHRydWUpO1xuICAgICAgICAgICAgaWYgKCFzZXJ2ZWNlcykge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsdGVyU2VydmljaW8oaWQpO1xuICAgICAgICB9LCAyMDAwMCk7XG4gICAgfTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzdWJTZXJ2aWNpb1BhZ2luYVJlZi5jdXJyZW50ICYmICEhc2VsZWN0ZWRTdWJTZXJ2aWNpbykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFBvc2l0aW9uID0gc3ViU2VydmljaW9QYWdpbmFSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAtMzAwOyAvLyBBanVzdGEgZXN0ZSB2YWxvciBzZWfDum4gY3XDoW50byBtw6FzIGFycmliYSBxdWllcmFzIHF1ZSBzZWEgZWwgc2Nyb2xsXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHtcbiAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRQb3NpdGlvbiArIG9mZnNldCxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW3NlbGVjdGVkU3ViU2VydmljaW9dKTtcblxuICAgIGlmICghc2VydmljaW9fZWxlZ2lkbykge1xuICAgICAgICByZXR1cm4gPFNwaW5uZXIvPjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAgPFBhZ2VzTGF5b3V0PlxuICAgICAgICAgICAgICAgIDxCYW5uZXIgdGl0bGU9e3NlcnZpY2lvX2VsZWdpZG8ubGVuZ3RoID09IDEgPyBzZXJ2aWNpb19lbGVnaWRvWzBdLm5vbWJyZSA6IFwiU2VydmljaW9zXCJ9IHBhcmFncmFwaD17dGl0bGUudG9TdHJpbmcoKX0gaW1hZ2U9e2ltYWdlbn0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17ZGlzcG9zaXRpdm99PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBzZXJ2aWNpb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZpY2lvX2VsZWdpZG8ubGVuZ3RoID09PSAxID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPnt0aXRsZX08L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGF6eVNlcnZpY2lvcyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIGNvbC1tZC00IFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYXNpZGUgLXRlbXBsYXRlYH0gPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljaW9fZWxlZ2lkby5tYXAoKHNlcnZpY2lvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzZXJ2aWNpby5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjYgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VydmljaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3NlcnZpY2lvLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPntzZXJ2aWNpbz8ubm9tYnJlfTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ncHgtMic+e3NlcnZpY2lvPy5kZXNjcmlwY2lvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZXJ2aWNpby5zdWJzZXJ2aWNpb3MubWFwKChzdWJTZXJ2aWNpbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3N1YlNlcnZpY2lvLmlkfSBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3ViU2VydmljaW9DbGljayhzdWJTZXJ2aWNpbyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdWJzZXJ2aWNpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N1YlNlcnZpY2lvLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBpdGVtcyBteC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY29sLTEgaWNvbi1yb3dcIj48QWlPdXRsaW5lRG91YmxlUmlnaHQgLz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImNvbC0xMFwiPntzdWJTZXJ2aWNpby5ub21icmUgKyBcIiAgIFwifTxzcGFuPjxBaUZpbGxDYXJldERvd24gLz48L3NwYW4+PC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiBjb2wtbWQtOCBcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgbWItNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2xpZGVyU2VydmljZXMgc3ViU2VydmljaW9zPXtzbGlkZXJ9IHN1YnRpdGxlPXtzdWJ0aXRsZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiIHJlZj17c3ViU2VydmljaW9QYWdpbmFSZWZ9IGtleT17c2VsZWN0ZWRTdWJTZXJ2aWNpbyAmJiBzZWxlY3RlZFN1YlNlcnZpY2lvWzBdPy5kZXNjcmlwY2lvbn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBoZWlnaHQ6IFwiYXV0b1wiLCBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAsIHNjYWxlOiAwLjUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjMsIGRlbGF5OiAxLCBkZWxheUNoaWxkcmVuOiAwLjMsIHN0YWdnZXJDaGlsZHJlbjogMC4zIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzZWxlY3RlZFN1YlNlcnZpY2lvICYmIHNlbGVjdGVkU3ViU2VydmljaW9bMF0/LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkU3ViU2VydmljaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2VsZWN0ZWRTdWJTZXJ2aWNpb1swXS5ub21icmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJTZXJ2aWNpb3MgZGUgY2FsaWRhZCB5IGNvbiBsYSBtw6FzIGFsdGEgdGVjbm9sb2fDrWFcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRTdWJTZXJ2aWNpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3RlZFN1YlNlcnZpY2lvWzBdLmRlc2NyaXBjaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiU29tb3MgdW5hIGVtcHJlc2EgY29uIG3DoXMgZGUgMTAgYcOxb3MgZGUgZXhwZXJpZW5jaWEgZW4gZWwgbWVyY2FkbywgY29uIHByb2Zlc2lvbmFsZXMgYWx0YW1lbnRlIGNhbGlmaWNhZG9zIHkgY29uIGFtcGxpYSBleHBlcmllbmNpYSBlbiBlbCBzZWN0b3IgcMO6YmxpY28geSBwcml2YWRvLCBicmluZGFuZG8gc2VydmljaW9zIGRlIGNhbGlkYWQgeSBjb24gbGEgbcOhcyBhbHRhIHRlY25vbG9nw61hLlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdteS01Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5Ccm9jaHVyZTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXJhIG9idGVuZXIgdW5hIHZpc2nDs24gY29tcGxldGEgZGUgbnVlc3Ryb3Mgc2VydmljaW9zIHkgdmVudGFqYXMsIHRlIGludml0YW1vcyBhIGRlc2NhcmdhciBudWVzdHJvIGJyb2NodXJlIGluZm9ybWF0aXZvLiBBcXXDrSBlbmNvbnRyYXLDoXMgZGV0YWxsZXMgZXhoYXVzdGl2b3Mgc29icmUgbnVlc3RyYXMgb2ZlcnRhcywgdGVzdGltb25pb3MgZGUgY2xpZW50ZXMgc2F0aXNmZWNob3MgeSBsYSBpbmZvcm1hY2nDs24gZGUgY29udGFjdG8gbmVjZXNhcmlhIHBhcmEgZGFyIGVsIHNpZ3VpZW50ZSBwYXNvIGhhY2lhIHVuYSBjb2xhYm9yYWNpw7NuIGV4aXRvc2EuIMKhRGVzY3VicmUgY8OzbW8gcG9kZW1vcyBheXVkYXJ0ZSBhIGFsY2FuemFyIHR1cyBvYmpldGl2b3MgaG95IG1pc21vIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBkZlZpZXdlciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZpY2lvX2VsZWdpZG8ubGVuZ3RoID09PSAxID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYXp5U2VydmljaW9zIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9QYWdlc0xheW91dD5cbiAgICAgICAgPC8+XG4gICAgKTtcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGF6eVNlcnZlY2VzRGV0YWlsICgpIHtcbiAgICBjb25zdCB7IGlzVmlzaWJsZSwgcmVmIH0gPSB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlcignMTAwcHgnKTtcbiAgXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBpZD1cIkxhenlTZXJ2ZWNlc0RldGFpbFwiIHJlZj17cmVmfT5cbiAgICAgICAgICAgIHtpc1Zpc2libGUgPyA8U2VydmVjZXNEZXRhaWwgLz4gOiBudWxsfVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xuICB9Il0sImZpbGUiOiJzZXJ2ZWNlc0RldGFpbC0zMTFhZTE4ZC5qcyJ9