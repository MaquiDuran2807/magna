import{Q as j,v as x,w as N,x as v,y as p,j as e,L as f,r as u,R as P,_ as b}from"./index-ef17fea3.js";import{B as y,S as B,f as R,a as S}from"./sidebarBolgs-f8b30e86.js";import{a as w}from"./index.esm-67870a5b.js";import{u as F}from"./useLazyload-ebb7f7c0.js";import"./footer1-fcd33052.js";import"./index.esm-72d272c7.js";import"./iconBase-d5e231c0.js";import"./index.esm-deac6275.js";import"./index.esm-cbf36d8f.js";var M=class extends j{constructor(s,t){super(s,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(s,t){super.setOptions({...s,behavior:x()},t)}getOptimisticResult(s){return s.behavior=x(),super.getOptimisticResult(s)}fetchNextPage(s){return this.fetch({...s,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(s){return this.fetch({...s,meta:{fetchMore:{direction:"backward"}}})}createResult(s,t){var n,o,m,i;const{state:a}=s,c=super.createResult(s,t),{isFetching:r,isRefetching:l}=c,d=r&&((o=(n=a.fetchMeta)==null?void 0:n.fetchMore)==null?void 0:o.direction)==="forward",h=r&&((i=(m=a.fetchMeta)==null?void 0:m.fetchMore)==null?void 0:i.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:N(t,a.data),hasPreviousPage:v(t,a.data),isFetchingNextPage:d,isFetchingPreviousPage:h,isRefetching:l&&!d&&!h}}};function L(s,t){return p(s,M,t)}const O=({blogs:s,search:t})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[t&&t.length===0&&e.jsx("h3",{children:"No se encontraron resultados"}),t&&t.length>0&&e.jsx("h3",{children:"Resultados de la búsqueda"}),t&&(t==null?void 0:t.map(a=>e.jsx("div",{className:"col-lg-4 col-md-4 col-sm-6 ",children:e.jsx(f,{to:`/blog/${a.id}`,className:"link-blogs",children:e.jsxs("div",{className:"card card-blog mt-3 small-card",children:[e.jsx("div",{className:"card-img-top",children:e.jsx("img",{src:a.image,className:"img-fluid small-image",alt:a.title})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:a.title}),e.jsxs("p",{className:"card-text",children:[a.description.slice(0,200),"..."]})]})]})})},a.id))),t&&t.length>0&&e.jsx("hr",{className:"mt-5"})]}),e.jsx("div",{className:"row",children:s.map(a=>{let c="",r="",l="";return a.important===!1?(c="col-lg-4 col-md-4 col-sm-6",l="small-card",r="small-image"):a.important===!0?(c="col-lg-6 col-md-12 col-sm-12 ",r="big-image",l="big-card"):(c="col-lg-3 col-md-4 col-sm-6",r="small-image",l="small-card"),e.jsx("div",{className:c,children:e.jsx(f,{to:`/blog/${a.id}`,className:"link-blogs",children:e.jsxs("div",{className:`card card-blog mt-3 ${l}`,children:[e.jsx("div",{className:"card-img-top",children:e.jsx("img",{src:a.image,className:` img-fluid ${r}`,alt:a.title})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:a.title}),e.jsxs("p",{className:"card-text",children:[a.description.slice(0,200),"..."]})]})]})})},a.id)})})]}),_=({setFilter:s})=>{const[t,a]=u.useState(""),c=r=>{a(r.target.value),s(r.target.value)};return e.jsxs("div",{children:[e.jsx("input",{type:"text",value:t,onChange:c,placeholder:"Buscar...",className:"blog-search"}),e.jsx(w,{className:"ms-2"})]})},C=P.lazy(()=>b(()=>import("./index-ef17fea3.js").then(s=>s.aa),["assets/index-ef17fea3.js","assets/index-fb14aeaa.css"])),E=()=>{const[s,t]=u.useState(""),[a,c]=u.useState(null),{data:r,isError:l,isLoading:d,fetchNextPage:h,hasNextPage:n,isFetchingNextPage:o}=L({queryKey:["blogs"],queryFn:({pageParam:i=0})=>S(i),initialPageParam:"1",staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchInterval:1e3*60*30,getNextPageParam:i=>{if(i!=null&&i.nextPage)return i.nextPage.split("=")[1]}});if(u.useEffect(()=>{if(!s)return;(async()=>{const g=await R(s);g&&c(g)})()},[s]),l)return e.jsx("div",{children:"Error"});if(d)return e.jsx(C,{});if(!r)return;const m=r.pages.flatMap(i=>(i==null?void 0:i.blogs)??[]);return e.jsx("div",{className:"blog-container pt-3",children:e.jsx(y,{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"blog-header  text-center",children:e.jsx("h1",{children:"MagnaBlog"})}),e.jsx("div",{className:" text-center",children:e.jsx(_,{setFilter:t})}),e.jsxs("div",{className:"blog-cards ",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-8 col-12",children:e.jsx(O,{blogs:m,search:a})}),e.jsx("div",{className:"col-md-4 col-12",children:e.jsx(B,{})})]}),e.jsx("button",{onClick:()=>h(),className:"btn btn-primary",type:"button",disabled:!n||o,style:{marginTop:"2rem"},children:o?"Loading more...":n?"Cargar más blogs":"No hay más blogs"})]})]})})})};function A(){const{isVisible:s,ref:t}=F("100px");return e.jsx("div",{id:"LazyBlog",ref:t,children:s?e.jsx(E,{}):null})}export{A as default};


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6ImthQU9BLElBQUlBLEVBQXdCLGNBQWNDLENBQWMsQ0FFdEQsWUFBWUMsRUFBUUMsRUFBUyxDQUMzQixNQUFNRCxFQUFRQyxDQUFPLENBQ3RCLENBQ0QsYUFBYyxDQUNaLE1BQU0sWUFBVyxFQUNqQixLQUFLLGNBQWdCLEtBQUssY0FBYyxLQUFLLElBQUksRUFDakQsS0FBSyxrQkFBb0IsS0FBSyxrQkFBa0IsS0FBSyxJQUFJLENBQzFELENBQ0QsV0FBV0EsRUFBU0MsRUFBZSxDQUNqQyxNQUFNLFdBQ0osQ0FDRSxHQUFHRCxFQUNILFNBQVVFLEVBQXVCLENBQ2xDLEVBQ0RELENBQ04sQ0FDRyxDQUNELG9CQUFvQkQsRUFBUyxDQUMzQixPQUFBQSxFQUFRLFNBQVdFLElBQ1osTUFBTSxvQkFBb0JGLENBQU8sQ0FDekMsQ0FDRCxjQUFjQSxFQUFTLENBQ3JCLE9BQU8sS0FBSyxNQUFNLENBQ2hCLEdBQUdBLEVBQ0gsS0FBTSxDQUNKLFVBQVcsQ0FBRSxVQUFXLFNBQVcsQ0FDcEMsQ0FDUCxDQUFLLENBQ0YsQ0FDRCxrQkFBa0JBLEVBQVMsQ0FDekIsT0FBTyxLQUFLLE1BQU0sQ0FDaEIsR0FBR0EsRUFDSCxLQUFNLENBQ0osVUFBVyxDQUFFLFVBQVcsVUFBWSxDQUNyQyxDQUNQLENBQUssQ0FDRixDQUNELGFBQWFHLEVBQU9ILEVBQVMsYUFDM0IsS0FBTSxDQUFFLE1BQUFJLENBQU8sRUFBR0QsRUFDWkUsRUFBUyxNQUFNLGFBQWFGLEVBQU9ILENBQU8sRUFDMUMsQ0FBRSxXQUFBTSxFQUFZLGFBQUFDLENBQWMsRUFBR0YsRUFDL0JHLEVBQXFCRixLQUFjRyxHQUFBQyxFQUFBTixFQUFNLFlBQU4sWUFBQU0sRUFBaUIsWUFBakIsWUFBQUQsRUFBNEIsYUFBYyxVQUM3RUUsRUFBeUJMLEtBQWNNLEdBQUFDLEVBQUFULEVBQU0sWUFBTixZQUFBUyxFQUFpQixZQUFqQixZQUFBRCxFQUE0QixhQUFjLFdBQ3ZGLE1BQU8sQ0FDTCxHQUFHUCxFQUNILGNBQWUsS0FBSyxjQUNwQixrQkFBbUIsS0FBSyxrQkFDeEIsWUFBYVMsRUFBWWQsRUFBU0ksRUFBTSxJQUFJLEVBQzVDLGdCQUFpQlcsRUFBZ0JmLEVBQVNJLEVBQU0sSUFBSSxFQUNwRCxtQkFBQUksRUFDQSx1QkFBQUcsRUFDQSxhQUFjSixHQUFnQixDQUFDQyxHQUFzQixDQUFDRyxDQUM1RCxDQUNHLENBQ0gsRUMxREEsU0FBU0ssRUFBaUJoQixFQUFTaUIsRUFBYSxDQUM5QyxPQUFPQyxFQUNMbEIsRUFFQUgsRUFDQW9CLENBQ0osQ0FDQSxDQ0ZBLE1BQU1FLEVBQW9DLENBQUMsQ0FBRSxNQUFBQyxFQUFNLE9BQUFDLEtBRzNDQyxFQUFBLEtBQUFDLFdBQUEsV0FBQ0QsT0FBQSxPQUFJLFVBQVUsTUFDVixVQUFBRCxHQUFVQSxFQUFPLFNBQVcsR0FBS0csRUFBQSxJQUFDLE1BQUcsU0FBNEIsaUNBQ2pFSCxHQUFVQSxFQUFPLE9BQVMsR0FBS0csRUFBQSxJQUFDLE1BQUcsU0FBeUIsOEJBQzVESCxJQUNHQSxHQUFBLFlBQUFBLEVBQVEsSUFBS0ksU0FFSixNQUFrQixXQUFVLDhCQUV6QixTQUFBRCxNQUFDRSxHQUFLLEdBQUksU0FBU0QsRUFBSyxFQUFFLEdBQUksVUFBVSxhQUNwQyxTQUFDSCxPQUFBLE9BQUksVUFBVSxpQ0FDWCxVQUFBRSxFQUFBLElBQUMsTUFBSSxXQUFVLGVBQ1gsU0FBQUEsTUFBQyxNQUFJLEtBQUtDLEVBQUssTUFBTyxVQUFVLHdCQUF3QixJQUFLQSxFQUFLLEtBQU8sR0FDN0UsRUFDQUgsT0FBQyxNQUFJLFdBQVUsWUFDWCxVQUFBRSxFQUFBLElBQUMsS0FBRyxXQUFVLGFBQWMsU0FBQUMsRUFBSyxNQUFNLEVBQ3ZDSCxPQUFDLElBQUUsV0FBVSxZQUFhLFVBQUtHLEVBQUEsWUFBWSxNQUFNLEVBQUcsR0FBRyxFQUFFLE9BQUcsR0FDaEUsQ0FDSixJQUNKLENBWk0sRUFBQUEsRUFBSyxFQWFmLElBS1hKLEdBQVVBLEVBQU8sT0FBUyxHQUMxQkcsRUFBQSxVQUFHLFVBQVUsT0FBTSxHQUd4QixRQUNDLE1BQUksV0FBVSxNQUNWLFNBQU1KLEVBQUEsSUFBS0ssR0FBUyxDQUM3QixJQUFJRSxFQUFZLEdBQ1pDLEVBQWEsR0FDYkMsRUFBWSxHQUNaLE9BQUFKLEVBQUssWUFBYyxJQUNQRSxFQUFBLDZCQUNBRSxFQUFBLGFBQ0NELEVBQUEsZUFDTkgsRUFBSyxZQUFjLElBQ2RFLEVBQUEsZ0NBQ0NDLEVBQUEsWUFDREMsRUFBQSxhQUVBRixFQUFBLDZCQUNDQyxFQUFBLGNBQ0RDLEVBQUEsb0JBR1gsTUFBa0IsV0FBV0YsRUFDMUIsU0FBQ0gsRUFBQSxJQUFBRSxFQUFBLENBQUssR0FBSSxTQUFTRCxFQUFLLEVBQUUsR0FBSSxVQUFVLGFBQ3BDLFNBQUFILE9BQUMsT0FBSSxVQUFXLHVCQUF1Qk8sQ0FBUyxHQUM1QyxVQUFBTCxNQUFDLE1BQUksV0FBVSxlQUNYLFNBQUFBLEVBQUEsSUFBQyxPQUFJLElBQUtDLEVBQUssTUFBTyxVQUFXLGNBQWNHLENBQVUsR0FBSSxJQUFLSCxFQUFLLEtBQU8sR0FDbEYsRUFDQUgsT0FBQyxNQUFJLFdBQVUsWUFDWCxVQUFBRSxFQUFBLElBQUMsS0FBRyxXQUFVLGFBQWMsU0FBQUMsRUFBSyxNQUFNLEVBQ3ZDSCxPQUFDLElBQUUsV0FBVSxZQUFhLFVBQUtHLEVBQUEsWUFBWSxNQUFNLEVBQUcsR0FBRyxFQUFFLE9BQUcsR0FDaEUsQ0FDSixJQUNKLENBWE0sRUFBQUEsRUFBSyxFQVlmLENBRVAsR0FDTyxDQUNKLElDdEVFSyxFQUFnQyxDQUFDLENBQUUsVUFBQUMsS0FBZ0IsQ0FDckQsS0FBTSxDQUFDQyxFQUFhQyxDQUFjLEVBQUlDLFdBQVMsRUFBRSxFQUUzQ0MsRUFBc0JDLEdBQStDLENBQ3hESCxFQUFBRyxFQUFNLE9BQU8sS0FBSyxFQUN2QkwsRUFBQUssRUFBTSxPQUFPLEtBQUssR0FHaEMsY0FDSyxNQUNHLFdBQUFaLEVBQUEsSUFBQyxTQUNHLEtBQUssT0FDTCxNQUFPUSxFQUNQLFNBQVVHLEVBQ1YsWUFBWSxZQUNaLFVBQVUsY0FDZCxFQUNBWCxNQUFDYSxFQUFTLFdBQVUsTUFBTyxFQUMvQixHQUVSLEVDekJNQyxFQUFVQyxFQUFNLEtBQUssSUFBTUMsRUFBQSxXQUFPLHFCQUF1QixFQUFDLEtBQUFDLEtBQUEsK0RBVzFEQyxFQUFRLElBQU0sQ0FDaEIsS0FBTSxDQUFDQyxFQUFRWixDQUFTLEVBQUlHLFdBQVMsRUFBRSxFQUNqQyxDQUFDVSxFQUFhQyxDQUFlLEVBQUlYLFdBQTBCLElBQUksRUFDL0QsQ0FBRSxLQUFBWSxFQUFNLFFBQUFDLEVBQVMsVUFBQUMsRUFBVyxjQUFBQyxFQUFjLFlBQUFuQyxFQUFZLG1CQUFBTixHQUF1QlEsRUFDL0UsQ0FDRSxTQUFVLENBQUMsT0FBTyxFQUNsQixRQUFTLENBQUMsQ0FBRSxVQUFBa0MsRUFBWSxLQUNmQyxFQUFlRCxDQUFTLEVBRWpDLGlCQUFrQixJQUNsQixVQUFXLElBQUssR0FBRyxHQUFHLHFCQUFzQixHQUFNLGdCQUFpQixJQUFLLEdBQUcsR0FDM0UsaUJBQW1CRSxHQUFhLENBQzlCLEdBQUlBLEdBQUEsTUFBQUEsRUFBVSxTQUNaLE9BQU9BLEVBQVMsU0FBUyxNQUFNLEdBQUcsRUFBRSxDQUFDLENBRXpDLENBQ0YsR0FZSixHQVZFQyxZQUFVLElBQU0sQ0FDZCxHQUFJLENBQUNWLEVBQVEsUUFDSyxTQUFZLENBQ3BCLE1BQUFXLEVBQVcsTUFBTUMsRUFBZ0JaLENBQU0sRUFDeENXLEdBQ0xULEVBQWdCUyxDQUFRLEtBRWxCLEVBQ1gsQ0FBQ1gsQ0FBTSxDQUFDLEVBRVBJLEVBQ08sT0FBQXZCLEVBQUEsSUFBQyxPQUFJLFNBQUssVUFFckIsR0FBSXdCLEVBQ0EsYUFBUVYsRUFBUSxJQUVwQixHQUFJLENBQUNRLEVBQ0QsT0FFRSxNQUFBMUIsRUFBa0IwQixFQUFLLE1BQU0sUUFBU1UsSUFBU0EsR0FBQSxZQUFBQSxFQUFNLFFBQVMsRUFBRSxFQUVsRSxPQUFBaEMsTUFBQyxPQUFJLFVBQVUsc0JBQ1gsZUFBQ2lDLEVBQ0csVUFBQW5DLE9BQUMsTUFBSSxXQUFVLGtCQUNYLFVBQUFFLE1BQUMsT0FBSSxVQUFVLDJCQUNYLFNBQUNBLE1BQUEsTUFBRyxxQkFBUyxDQUNqQixTQUNDLE1BQUksV0FBVSxlQUNYLFNBQUNBLEVBQUEsSUFBQWtDLEVBQUEsQ0FBVyxVQUFBM0IsQ0FBc0IsR0FDdEMsRUFDQVQsT0FBQyxNQUFJLFdBQVUsY0FDWCxVQUFDQSxPQUFBLE9BQUksVUFBVSxNQUNYLFVBQUNFLE1BQUEsT0FBSSxVQUFVLGtCQUNYLFNBQUFBLE1BQUNMLEdBQVMsTUFBQUMsRUFBYyxPQUFRd0IsRUFBYSxDQUNqRCxTQUNDLE1BQUksV0FBVSxrQkFDWCxTQUFBcEIsTUFBQ21DLEdBQVEsR0FDYixHQUNKLEVBQ0FuQyxFQUFBLElBQUMsVUFDTCxRQUFTLElBQU15QixFQUFjLEVBQzdCLFVBQVUsa0JBQ1YsS0FBSyxTQUNMLFNBQVUsQ0FBQ25DLEdBQWVOLEVBQzFCLE1BQU8sQ0FBRSxVQUFXLE1BQU8sRUFFMUIsU0FBQUEsRUFDSyxrQkFDQU0sRUFDQSxtQkFDQSxtQkFDVixHQUNJLEdBQ0osRUFDSixDQUNKLEVBRVIsRUFFQSxTQUF3QjhDLEdBQVcsQ0FDL0IsS0FBTSxDQUFHLFVBQUFDLEVBQVcsSUFBQUMsQ0FBSSxFQUFJQyxFQUF3QixPQUFPLEVBRXZELE9BQUF2QyxFQUFBLElBQUMsT0FBSSxHQUFHLFdBQVcsSUFBQXNDLEVBQ2QsU0FBWUQsRUFBQXJDLEVBQUEsSUFBQ2tCLEVBQUssSUFBSyxJQUM1QixFQUVSIiwibmFtZXMiOlsiSW5maW5pdGVRdWVyeU9ic2VydmVyIiwiUXVlcnlPYnNlcnZlciIsImNsaWVudCIsIm9wdGlvbnMiLCJub3RpZnlPcHRpb25zIiwiaW5maW5pdGVRdWVyeUJlaGF2aW9yIiwicXVlcnkiLCJzdGF0ZSIsInJlc3VsdCIsImlzRmV0Y2hpbmciLCJpc1JlZmV0Y2hpbmciLCJpc0ZldGNoaW5nTmV4dFBhZ2UiLCJfYiIsIl9hIiwiaXNGZXRjaGluZ1ByZXZpb3VzUGFnZSIsIl9kIiwiX2MiLCJoYXNOZXh0UGFnZSIsImhhc1ByZXZpb3VzUGFnZSIsInVzZUluZmluaXRlUXVlcnkiLCJxdWVyeUNsaWVudCIsInVzZUJhc2VRdWVyeSIsIkJsb2dMaXN0IiwiYmxvZ3MiLCJzZWFyY2giLCJqc3hzIiwiRnJhZ21lbnQiLCJqc3giLCJibG9nIiwiTGluayIsInNpemVDbGFzcyIsImltYWdlQ2xhc3MiLCJjYXJkQ2xhc3MiLCJTZWFyY2giLCJzZXRGaWx0ZXIiLCJzZWFyY2hWYWx1ZSIsInNldFNlYXJjaFZhbHVlIiwidXNlU3RhdGUiLCJoYW5kbGVTZWFyY2hDaGFuZ2UiLCJldmVudCIsIkZpU2VhcmNoIiwiU3Bpbm5lciIsIlJlYWN0IiwiX192aXRlUHJlbG9hZCIsIm4iLCJCbG9nIiwiZmlsdGVyIiwiZmlsdGVyQmxvZ3MiLCJzZXRGaWx0ZXJCbG9nc3QiLCJkYXRhIiwiaXNFcnJvciIsImlzTG9hZGluZyIsImZldGNoTmV4dFBhZ2UiLCJwYWdlUGFyYW0iLCJmZXRjaE5leHRCbG9ncyIsImxhc3RQYWdlIiwidXNlRWZmZWN0IiwicmVzcG9uc2UiLCJmZXRjaEJsb2dTZWFyY2giLCJwYWdlIiwiQmxvZ0xheW91dCIsIkJsb2dTZWFyY2giLCJTaWRlYmFyIiwiTGF6eUJsb2ciLCJpc1Zpc2libGUiLCJyZWYiLCJ1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciJdLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9idWlsZC9tb2Rlcm4vaW5maW5pdGVRdWVyeU9ic2VydmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9yZWFjdC1xdWVyeS9idWlsZC9tb2Rlcm4vdXNlSW5maW5pdGVRdWVyeS5qcyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL2Jsb2dDYXJkcy50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9zZWFyY2gudHN4IiwiLi4vLi4vc3JjL3BhZ2VzL2Jsb2cudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9pbmZpbml0ZVF1ZXJ5T2JzZXJ2ZXIudHNcbmltcG9ydCB7IFF1ZXJ5T2JzZXJ2ZXIgfSBmcm9tIFwiLi9xdWVyeU9ic2VydmVyLmpzXCI7XG5pbXBvcnQge1xuICBoYXNOZXh0UGFnZSxcbiAgaGFzUHJldmlvdXNQYWdlLFxuICBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3Jcbn0gZnJvbSBcIi4vaW5maW5pdGVRdWVyeUJlaGF2aW9yLmpzXCI7XG52YXIgSW5maW5pdGVRdWVyeU9ic2VydmVyID0gY2xhc3MgZXh0ZW5kcyBRdWVyeU9ic2VydmVyIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2VsZXNzLWNvbnN0cnVjdG9yXG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgb3B0aW9ucykge1xuICAgIHN1cGVyKGNsaWVudCwgb3B0aW9ucyk7XG4gIH1cbiAgYmluZE1ldGhvZHMoKSB7XG4gICAgc3VwZXIuYmluZE1ldGhvZHMoKTtcbiAgICB0aGlzLmZldGNoTmV4dFBhZ2UgPSB0aGlzLmZldGNoTmV4dFBhZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZldGNoUHJldmlvdXNQYWdlID0gdGhpcy5mZXRjaFByZXZpb3VzUGFnZS5iaW5kKHRoaXMpO1xuICB9XG4gIHNldE9wdGlvbnMob3B0aW9ucywgbm90aWZ5T3B0aW9ucykge1xuICAgIHN1cGVyLnNldE9wdGlvbnMoXG4gICAgICB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGJlaGF2aW9yOiBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3IoKVxuICAgICAgfSxcbiAgICAgIG5vdGlmeU9wdGlvbnNcbiAgICApO1xuICB9XG4gIGdldE9wdGltaXN0aWNSZXN1bHQob3B0aW9ucykge1xuICAgIG9wdGlvbnMuYmVoYXZpb3IgPSBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3IoKTtcbiAgICByZXR1cm4gc3VwZXIuZ2V0T3B0aW1pc3RpY1Jlc3VsdChvcHRpb25zKTtcbiAgfVxuICBmZXRjaE5leHRQYWdlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaCh7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgbWV0YToge1xuICAgICAgICBmZXRjaE1vcmU6IHsgZGlyZWN0aW9uOiBcImZvcndhcmRcIiB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZmV0Y2hQcmV2aW91c1BhZ2Uob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmZldGNoKHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGZldGNoTW9yZTogeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgY3JlYXRlUmVzdWx0KHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBzdGF0ZSB9ID0gcXVlcnk7XG4gICAgY29uc3QgcmVzdWx0ID0gc3VwZXIuY3JlYXRlUmVzdWx0KHF1ZXJ5LCBvcHRpb25zKTtcbiAgICBjb25zdCB7IGlzRmV0Y2hpbmcsIGlzUmVmZXRjaGluZyB9ID0gcmVzdWx0O1xuICAgIGNvbnN0IGlzRmV0Y2hpbmdOZXh0UGFnZSA9IGlzRmV0Y2hpbmcgJiYgc3RhdGUuZmV0Y2hNZXRhPy5mZXRjaE1vcmU/LmRpcmVjdGlvbiA9PT0gXCJmb3J3YXJkXCI7XG4gICAgY29uc3QgaXNGZXRjaGluZ1ByZXZpb3VzUGFnZSA9IGlzRmV0Y2hpbmcgJiYgc3RhdGUuZmV0Y2hNZXRhPy5mZXRjaE1vcmU/LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXN1bHQsXG4gICAgICBmZXRjaE5leHRQYWdlOiB0aGlzLmZldGNoTmV4dFBhZ2UsXG4gICAgICBmZXRjaFByZXZpb3VzUGFnZTogdGhpcy5mZXRjaFByZXZpb3VzUGFnZSxcbiAgICAgIGhhc05leHRQYWdlOiBoYXNOZXh0UGFnZShvcHRpb25zLCBzdGF0ZS5kYXRhKSxcbiAgICAgIGhhc1ByZXZpb3VzUGFnZTogaGFzUHJldmlvdXNQYWdlKG9wdGlvbnMsIHN0YXRlLmRhdGEpLFxuICAgICAgaXNGZXRjaGluZ05leHRQYWdlLFxuICAgICAgaXNGZXRjaGluZ1ByZXZpb3VzUGFnZSxcbiAgICAgIGlzUmVmZXRjaGluZzogaXNSZWZldGNoaW5nICYmICFpc0ZldGNoaW5nTmV4dFBhZ2UgJiYgIWlzRmV0Y2hpbmdQcmV2aW91c1BhZ2VcbiAgICB9O1xuICB9XG59O1xuZXhwb3J0IHtcbiAgSW5maW5pdGVRdWVyeU9ic2VydmVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5maW5pdGVRdWVyeU9ic2VydmVyLmpzLm1hcCIsIlwidXNlIGNsaWVudFwiO1xuXG4vLyBzcmMvdXNlSW5maW5pdGVRdWVyeS50c1xuaW1wb3J0IHsgSW5maW5pdGVRdWVyeU9ic2VydmVyIH0gZnJvbSBcIkB0YW5zdGFjay9xdWVyeS1jb3JlXCI7XG5pbXBvcnQgeyB1c2VCYXNlUXVlcnkgfSBmcm9tIFwiLi91c2VCYXNlUXVlcnkuanNcIjtcbmZ1bmN0aW9uIHVzZUluZmluaXRlUXVlcnkob3B0aW9ucywgcXVlcnlDbGllbnQpIHtcbiAgcmV0dXJuIHVzZUJhc2VRdWVyeShcbiAgICBvcHRpb25zLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cbiAgICBJbmZpbml0ZVF1ZXJ5T2JzZXJ2ZXIsXG4gICAgcXVlcnlDbGllbnRcbiAgKTtcbn1cbmV4cG9ydCB7XG4gIHVzZUluZmluaXRlUXVlcnlcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VJbmZpbml0ZVF1ZXJ5LmpzLm1hcCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gJy4uL3R5cGVzL2Jsb2cnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcblxyXG5cclxuaW50ZXJmYWNlIEJsb2dMaXN0UHJvcHMge1xyXG4gICAgYmxvZ3M6IFJlc3VsdFtdO1xyXG4gICAgc2VhcmNoPzogUmVzdWx0W10gfCBudWxsO1xyXG59XHJcblxyXG5jb25zdCBCbG9nTGlzdDogUmVhY3QuRkM8QmxvZ0xpc3RQcm9wcz4gPSAoeyBibG9ncyxzZWFyY2ggIH0pID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICB7c2VhcmNoICYmIHNlYXJjaC5sZW5ndGggPT09IDAgJiYgPGgzPk5vIHNlIGVuY29udHJhcm9uIHJlc3VsdGFkb3M8L2gzPn1cclxuICAgICAgICAgICAge3NlYXJjaCAmJiBzZWFyY2gubGVuZ3RoID4gMCAmJiA8aDM+UmVzdWx0YWRvcyBkZSBsYSBiw7pzcXVlZGE8L2gzPn1cclxuICAgICAgICAgICAge3NlYXJjaCAmJlxyXG4gICAgICAgICAgICAgICAgc2VhcmNoPy5tYXAoKGJsb2cpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YmxvZy5pZH0gY2xhc3NOYW1lPVwiY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTYgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPXtgL2Jsb2cvJHtibG9nLmlkfWB9IGNsYXNzTmFtZT0nbGluay1ibG9ncyc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkIGNhcmQtYmxvZyBtdC0zIHNtYWxsLWNhcmRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWltZy10b3BcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtibG9nLmltYWdlfSBjbGFzc05hbWU9XCJpbWctZmx1aWQgc21hbGwtaW1hZ2VcIiBhbHQ9e2Jsb2cudGl0bGV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj57YmxvZy50aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC10ZXh0XCI+e2Jsb2cuZGVzY3JpcHRpb24uc2xpY2UoMCwgMjAwKX0uLi48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAge3NlYXJjaCAmJiBzZWFyY2gubGVuZ3RoID4gMCAmJiBcclxuICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT0nbXQtNScvPn1cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgIHtibG9ncy5tYXAoKGJsb2cpID0+IHtcclxuICAgIGxldCBzaXplQ2xhc3MgPSAnJztcclxuICAgIGxldCBpbWFnZUNsYXNzID0gJyc7XHJcbiAgICBsZXQgY2FyZENsYXNzID0gJyc7XHJcbiAgICBpZiAoYmxvZy5pbXBvcnRhbnQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgc2l6ZUNsYXNzID0gJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS02JzsgLy8gUHJpbWVyYSB0YXJqZXRhIHBlcXVlw7FhXHJcbiAgICAgICAgY2FyZENsYXNzID0gJ3NtYWxsLWNhcmQnO1xyXG4gICAgICAgIGltYWdlQ2xhc3MgPSAnc21hbGwtaW1hZ2UnO1xyXG4gICAgfSBlbHNlIGlmIChibG9nLmltcG9ydGFudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHNpemVDbGFzcyA9ICdjb2wtbGctNiBjb2wtbWQtMTIgY29sLXNtLTEyICc7IC8vIFNlZ3VuZGEgdGFyamV0YSAzIHZlY2VzIG3DoXMgZ3JhbmRlXHJcbiAgICAgICAgaW1hZ2VDbGFzcyA9ICdiaWctaW1hZ2UnO1xyXG4gICAgICAgIGNhcmRDbGFzcyA9ICdiaWctY2FyZCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNpemVDbGFzcyA9ICdjb2wtbGctMyBjb2wtbWQtNCBjb2wtc20tNic7IC8vIFJlc3RvIGRlIHRhcmpldGFzIHBlcXVlw7Fhc1xyXG4gICAgICAgIGltYWdlQ2xhc3MgPSAnc21hbGwtaW1hZ2UnO1xyXG4gICAgICAgIGNhcmRDbGFzcyA9ICdzbWFsbC1jYXJkJztcclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBrZXk9e2Jsb2cuaWR9IGNsYXNzTmFtZT17c2l6ZUNsYXNzfT5cclxuICAgICAgICAgICAgPExpbmsgdG89e2AvYmxvZy8ke2Jsb2cuaWR9YH0gY2xhc3NOYW1lPSdsaW5rLWJsb2dzJz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgY2FyZCBjYXJkLWJsb2cgbXQtMyAke2NhcmRDbGFzc31gfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaW1nLXRvcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17YmxvZy5pbWFnZX0gY2xhc3NOYW1lPXtgIGltZy1mbHVpZCAke2ltYWdlQ2xhc3N9YH0gYWx0PXtibG9nLnRpdGxlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+e2Jsb2cudGl0bGV9PC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC10ZXh0XCI+e2Jsb2cuZGVzY3JpcHRpb24uc2xpY2UoMCwgMjAwKX0uLi48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxufSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCbG9nTGlzdDsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGaVNlYXJjaCB9IGZyb20gJ3JlYWN0LWljb25zL2ZpJztcblxudHlwZSBTZWFyY2hQcm9wcyA9IHtcbiAgICBzZXRGaWx0ZXI6IChmaWx0ZXI6IHN0cmluZykgPT4gdm9pZDtcbn07XG5cbmNvbnN0IFNlYXJjaDogUmVhY3QuRkM8U2VhcmNoUHJvcHM+ID0gKHsgc2V0RmlsdGVyIH0pID0+IHtcbiAgICBjb25zdCBbc2VhcmNoVmFsdWUsIHNldFNlYXJjaFZhbHVlXSA9IHVzZVN0YXRlKCcnKTtcblxuICAgIGNvbnN0IGhhbmRsZVNlYXJjaENoYW5nZSA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgICAgc2V0U2VhcmNoVmFsdWUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgc2V0RmlsdGVyKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFZhbHVlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTZWFyY2hDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJCdXNjYXIuLi5cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYmxvZy1zZWFyY2gnXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEZpU2VhcmNoIGNsYXNzTmFtZT1cIm1zLTJcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJbmZpbml0ZVF1ZXJ5IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmNvbnN0IFNwaW5uZXIgPSBSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9zcGlubmVyJykpO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSAnLi4vdHlwZXMvYmxvZyc7XG5pbXBvcnQgeyBmZXRjaE5leHRCbG9ncyxmZXRjaEJsb2dTZWFyY2ggfSBmcm9tICcuLi9hcGkvYmxvZyc7XG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvZ3MuY3NzXCJcbmltcG9ydCBCbG9nTGF5b3V0IGZyb20gJy4uL2xheW91dHMvYmxvZ0xheW91dCc7XG5pbXBvcnQgQmxvZ0xpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9ibG9nQ2FyZHMnO1xuaW1wb3J0IFNpZGViYXIgZnJvbSAnLi4vY29tcG9uZW50cy9zaWRlYmFyQm9sZ3MnO1xuaW1wb3J0IEJsb2dTZWFyY2ggZnJvbSAnLi4vY29tcG9uZW50cy9zZWFyY2gnO1xuaW1wb3J0IHVzZUludGVyc2VjdGlvbk9ic2VydmVyIGZyb20gJy4uL2hvb2tzL3VzZUxhenlsb2FkJztcblxuY29uc3QgQmxvZyA9ICAoKSA9PiB7XG4gICAgY29uc3QgW2ZpbHRlciwgc2V0RmlsdGVyXSA9IHVzZVN0YXRlKFwiXCIpO1xuICAgIGNvbnN0IFtmaWx0ZXJCbG9ncywgc2V0RmlsdGVyQmxvZ3N0XSA9IHVzZVN0YXRlPFJlc3VsdFtdIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgeyBkYXRhLCBpc0Vycm9yLCBpc0xvYWRpbmcsIGZldGNoTmV4dFBhZ2UsaGFzTmV4dFBhZ2UsaXNGZXRjaGluZ05leHRQYWdlIH0gPSB1c2VJbmZpbml0ZVF1ZXJ5KFxuICAgICAgICB7XG4gICAgICAgICAgcXVlcnlLZXk6IFsnYmxvZ3MnXSxcbiAgICAgICAgICBxdWVyeUZuOiAoeyBwYWdlUGFyYW0gPSAwIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBmZXRjaE5leHRCbG9ncyhwYWdlUGFyYW0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaW5pdGlhbFBhZ2VQYXJhbTogJzEnLFxuICAgICAgICAgIHN0YWxlVGltZTogMTAwMCo2MCozMCxyZWZldGNoT25XaW5kb3dGb2N1czogZmFsc2UscmVmZXRjaEludGVydmFsOiAxMDAwKjYwKjMwLFxuICAgICAgICAgIGdldE5leHRQYWdlUGFyYW06IChsYXN0UGFnZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGxhc3RQYWdlPy5uZXh0UGFnZSkge1xuICAgICAgICAgICAgICByZXR1cm4gbGFzdFBhZ2UubmV4dFBhZ2Uuc3BsaXQoJz0nKVsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFmaWx0ZXIpIHJldHVybjtcbiAgICAgICAgY29uc3QgZmV0Y2hEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaEJsb2dTZWFyY2goZmlsdGVyKTtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHJldHVybjtcbiAgICAgICAgICAgIHNldEZpbHRlckJsb2dzdChyZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICAgIGZldGNoRGF0YSgpO1xuICAgIH0sIFtmaWx0ZXJdKTtcblxuICAgIGlmIChpc0Vycm9yKSB7XG4gICAgICAgIHJldHVybiA8ZGl2PkVycm9yPC9kaXY+O1xuICAgIH1cbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAgIHJldHVybiA8U3Bpbm5lciAvPjtcbiAgICB9XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBibG9nczogUmVzdWx0W10gPSBkYXRhLnBhZ2VzLmZsYXRNYXAoKHBhZ2UpID0+IHBhZ2U/LmJsb2dzID8/IFtdKTtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYmxvZy1jb250YWluZXIgcHQtMyc+XG4gICAgICAgICAgICA8QmxvZ0xheW91dD4gXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXItZmx1aWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJibG9nLWhlYWRlciAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5NYWduYUJsb2c8L2gxPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCbG9nU2VhcmNoIHNldEZpbHRlcj17c2V0RmlsdGVyfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJibG9nLWNhcmRzIFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1sZy04IGNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmxvZ0xpc3QgYmxvZ3M9e2Jsb2dzfSBzZWFyY2g9e2ZpbHRlckJsb2dzfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTQgY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTaWRlYmFyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZmV0Y2hOZXh0UGFnZSgpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFoYXNOZXh0UGFnZSB8fCBpc0ZldGNoaW5nTmV4dFBhZ2V9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogJzJyZW0nIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aXNGZXRjaGluZ05leHRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdMb2FkaW5nIG1vcmUuLi4nXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGhhc05leHRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdDYXJnYXIgbcOhcyBibG9ncydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ05vIGhheSBtw6FzIGJsb2dzJ31cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0Jsb2dMYXlvdXQ+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMYXp5QmxvZygpIHtcbiAgICBjb25zdCB7ICBpc1Zpc2libGUsIHJlZiB9ID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoJzEwMHB4Jyk7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBpZD1cIkxhenlCbG9nXCIgcmVmPXtyZWZ9PlxuICAgICAgICAgICAge2lzVmlzaWJsZSA/IDxCbG9nIC8+IDogbnVsbH1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn1cblxuXG4gICAgXG4iXSwiZmlsZSI6ImFzc2V0cy9ibG9nLTdjODViZWY4LmpzIn0=