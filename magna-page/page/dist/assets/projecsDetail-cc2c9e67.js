import{o as w,p as b,j as s,S as E,A as P,b as N,N as T,c as S,n as _,r as y,_ as O,e as h,R as j,u as x,P as I,a as M,L as g}from"./index-774464b1.js";import{B as F}from"./banner-ba2528d2.js";import{Proyectos as R}from"./proyectos-8320fcf1.js";import"./index.esm-f0af2116.js";import"./setionHeader-e603f223.js";import"./Recurso 1-e9af6898.js";import"./ScreenSize-15651a26.js";function $(d){const{effect:e,swiper:t,on:n,setTranslate:m,setTransition:l,overwriteParams:o,perspective:r,recreateShadows:a,getEffectParams:i}=d;n("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),r&&r()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const f=o?o():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),n("setTranslate",()=>{t.params.effect===e&&m()}),n("setTransition",(f,p)=>{t.params.effect===e&&l(p)}),n("transitionEnd",()=>{if(t.params.effect===e&&a){if(!i||!i().slideShadows)return;t.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),a()}});let c;n("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(c=!0),requestAnimationFrame(()=>{c&&t.slides&&t.slides.length&&(m(),c=!1)}))})}function D(d,e){const t=w(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function k(d){let{swiper:e,duration:t,transformElements:n,allSlides:m}=d;const{activeIndex:l}=e,o=r=>r.parentElement?r.parentElement:e.slides.filter(i=>i.shadowRoot&&i.shadowRoot===r.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let r=!1,a;m?a=n:a=n.filter(i=>{const c=i.classList.contains("swiper-slide-transform")?o(i):i;return e.getSlideIndex(c)===l}),a.forEach(i=>{b(i,()=>{if(r||!e||e.destroyed)return;r=!0,e.animating=!1;const c=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(c)})})}}function q(d){let{swiper:e,extendParams:t,on:n}=d;t({fadeEffect:{crossFade:!1}}),$({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:o}=e,r=e.params.fadeEffect;for(let a=0;a<o.length;a+=1){const i=e.slides[a];let f=-i.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let p=0;e.isHorizontal()||(p=f,f=0);const v=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i.progress),0):1+Math.min(Math.max(i.progress,-1),0),u=D(r,i);u.style.opacity=v,u.style.transform=`translate3d(${f}px, ${p}px, 0px)`}},setTransition:o=>{const r=e.slides.map(a=>w(a));r.forEach(a=>{a.style.transitionDuration=`${o}ms`}),k({swiper:e,duration:o,transformElements:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const A=({images:d})=>s.jsx(E,{spaceBetween:0,slidesPerView:1,autoplay:{delay:8e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},modules:[P,N,T,q],effect:"fade",className:"projectDetailSlider",children:d.map((e,t)=>s.jsx(S,{style:{height:"100%",width:"100%",backgroundColor:"white"},children:s.jsxs(_.div,{initial:{opacity:0,y:50},transition:{duration:.5},animate:{opacity:1,y:0},children:[s.jsx("img",{src:`${e.imagen}`,alt:`proyecto-${e.proyecto} `,className:"img-fluid imagen-proecto"}),s.jsx("div",{children:s.jsx("a",{href:e.references_url?e.references_url:"https://www.Magnaingenieriaytopografia.com",target:"_blank",rel:"noreferrer",children:e.references_name?e.references_name:"Magnaingenieriaytopografia.com"})})]})},t))});const L=y.lazy(()=>O(()=>import("./cardsProjects-b378520c.js"),["assets/cardsProjects-b378520c.js","assets/index-774464b1.js","assets/index-7996de27.css","assets/cardsProjects-b03829ff.css"])),G=()=>{const d=h();console.log(d,"parametros");const[e,t]=j.useState(),[n,m]=j.useState([]),{projectArg:l}=h();console.log(l,"id");const{data:o}=x({queryKey:["projects"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchInterval:1e3*60*30}),{data:r}=x({queryKey:["projectsImages"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchInterval:1e3*60*30});return!o||!r||!l?s.jsx("div",{children:"no hay "}):(y.useEffect(()=>{const a=o.results.find(c=>c.id===parseInt(l))||null,i=r.filter(c=>c.proyecto===parseInt(l));console.log(a,"aqui estoy en project_select",i,"images"),a&&(t(a),m(i))},[o,r,l]),!e||!n?null:s.jsx(s.Fragment,{children:s.jsxs(I,{children:[s.jsx(F,{title:"Proyectos",paragraph:"Proyectos",image:M}),s.jsxs("div",{className:"container-fluid",children:[s.jsxs("div",{className:"row titulo",children:[s.jsx("h2",{className:"col-10",children:e.nombre}),s.jsx(g,{to:"/projects",className:"col-2",children:s.jsx("button",{className:"boton-1 ",children:"ver m치s"})})]}),s.jsxs("div",{className:"row project-detail",children:[s.jsx("div",{className:"col-12 col-md-6 ",children:s.jsx(A,{images:n})}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsx("br",{}),s.jsx("br",{}),s.jsx("h3",{children:"Descripci칩n del proyecto"}),s.jsx("p",{children:e.descripcion}),s.jsx("h3",{children:"Ubicaci칩n"}),s.jsxs("p",{children:[e.ciudad.departamento.pais.nombre,", ",e.ciudad.departamento.nombre,", ",e.ciudad.nombre]}),s.jsx("h3",{children:"Servicios prestados"}),e.servicios.map(a=>s.jsxs(s.Fragment,{children:[s.jsx("h5",{children:a.nombre},a.id),s.jsx(g,{to:"/servicios",children:s.jsx("button",{className:"boton-1",children:"ver m치s"})})]}))]},l)]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 relacionados",children:s.jsx("h3",{children:"Proyectos relacionados"})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsx(L,{type:e.tipo.id,actualPage:e.id,imagenes:r})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsx(R,{})})})]})]})}))};export{G as default};
