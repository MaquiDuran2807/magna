import{j as e,S as I,A as C,b as R,N as T,c as D,d as O,r,_ as L,e as M,f as k,u as q,g as z,h as B,k as F,P as V,m as x}from"./index-9a791918.js";import{B as $}from"./banner-99a28e5e.js";import{A as K,a as Q}from"./index.esm-4265e163.js";import{u as U}from"./ScreenSize-2700072d.js";import{A as W}from"./index-86b8f0bf.js";import"./index.esm-2d53ca9c.js";const G=({subServicios:l})=>(console.log("se reinicio el slider"),e.jsx(I,{spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:!0,modules:[C,R,T],children:l==null?void 0:l.map((o,c)=>e.jsx(D,{children:e.jsxs("div",{className:`slide ${o.nombre}`,children:[e.jsx("img",{src:O+"/media/"+o.imagen,alt:o.nombre,className:"img-fluid img-subservicio"}),e.jsx("h3",{children:o.nombre})]})},c))}));const H=r.lazy(()=>L(()=>import("./Servicios-f1789a9a.js"),["assets/Servicios-f1789a9a.js","assets/index-9a791918.js","assets/index-3f85233c.css","assets/setionHeader-8950c91a.js","assets/Servicios-461373b5.css"])),se=({issue:l})=>{var b,y;const{id:o}=M();let[c,p]=r.useState("Nuestros Servicios"),[w,m]=r.useState(k);const{data:n}=q({queryKey:["services"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchInterval:1e3*60*30});let j="container";const[t,v]=r.useState(),[g,f]=r.useState([]),[a,h]=r.useState(null),[S,d]=r.useState(null);r.useEffect(()=>{if(n)if(o){const i=n.servicios.filter(s=>s.id.toString()===o);if(i){const s="servicios de "+i[0].nombre;p(s),v(i);const N=n.subServicios.filter(E=>E.servicio_id===i[0].id);f(N),d(N),h(null),i[0].nombre==="Topografía"&&m(z),i[0].nombre==="Ingeniería y Consultoría"&&m(B),i[0].nombre==="Medio Ambiente"&&m(F),console.log(c,"title")}}else v(n.servicios),f(n.subServicios),d(n.subServicios),p("Nuestros Servicios")},[n,o]);const{width:_}=U(),A=_<=1e3,u=r.useRef(null);A&&(j="mobile");const P=async i=>{const s=[];s.push(i),h(s),d(s),setTimeout(()=>{h(null),n&&d(n.subServicios)},2e4)};return r.useEffect(()=>{u.current&&a&&u.current.scrollIntoView({behavior:"smooth"})},[a]),!t||!g||!S?e.jsx("h3",{children:"Error"}):e.jsx(e.Fragment,{children:e.jsxs(V,{children:[e.jsx($,{title:t.length==1?t[0].nombre:"Servicios",paragraph:c.toString(),image:w}),e.jsxs("div",{className:j,children:[e.jsx("div",{className:"row servicio",children:e.jsx("div",{className:"col-12",children:e.jsxs("h2",{className:"text-center",children:[" ",c]})})}),e.jsxs("div",{className:"row content",children:[e.jsx("div",{className:"col-12 col-md-4 ",children:e.jsx("div",{className:`aside ${l}-template`,children:t.map(i=>e.jsx("div",{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"servicio",children:[e.jsx("h3",{children:i==null?void 0:i.nombre}),e.jsx("p",{children:i==null?void 0:i.descripcion})]},i.id)}),e.jsx("div",{children:g.filter(s=>s.servicio_id===i.id).map(s=>e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(x.div,{onClick:()=>P(s),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"subservicio",children:e.jsxs("div",{className:"row items",children:[e.jsx("span",{className:"col-1 icon-row",children:e.jsx(K,{})}),e.jsxs("h5",{className:"col-10",children:[s.nombre+"   ",e.jsx("span",{children:e.jsx(Q,{})})]})]})},s.id)})},s.id))})]})},i.id))})}),e.jsxs("div",{className:"col-12 col-md-8 ",children:[e.jsx("div",{className:"row slider",children:e.jsx(G,{subServicios:S})}),e.jsx("div",{ref:u,children:e.jsx("br",{})},a&&((b=a[0])==null?void 0:b.descripcion)),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"row porque-elegirnos",children:[e.jsx(W,{children:e.jsxs(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,scale:.5},transition:{duration:.3,delay:1,delayChildren:.3,staggerChildren:.3},children:[e.jsx("h2",{children:a?a[0].nombre:"Servicios de calidad y con la más alta tecnología"}),e.jsx("p",{children:a?a[0].descripcion:"Somos una empresa con más de 10 años de experiencia en el mercado, con profesionales altamente calificados y con amplia experiencia en el sector público y privado, brindando servicios de calidad y con la más alta tecnología."})]},a&&((y=a[0])==null?void 0:y.id))}),e.jsx("h2",{children:"¿Por qué elegirnos?"}),e.jsx("p",{children:"Somos una empresa con más de 10 años de experiencia en el mercado, con profesionales altamente calificados y con amplia experiencia en el sector público y privado, brindando servicios de calidad y con la más alta tecnología."})]})]})]}),e.jsx("div",{className:"row",children:e.jsx(H,{})})]})]})})};export{se as default};
