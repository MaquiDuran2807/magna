import{j as e,S as R,A as T,k as z,l as B,m as M,r as a,_,n as N,i as L,h as V,o as p}from"./index-e183d08d.js";import{A as k,a as q}from"./index.esm-19ea8574.js";import{i as F,a as $,b as K,c as Q}from"./medio-fe181237.js";import{B as W}from"./banner-9708afb9.js";import{u as Y}from"./ScreenSize-09bb2cac.js";import{A as G}from"./index-132af1ab.js";import"./iconBase-5a6e9e1a.js";import"./index.esm-7087b389.js";import"./index.esm-8c98af6d.js";const H=({subServicios:o,subtitle:l})=>(console.log("se reinicio el slider",o,l),e.jsx(R,{spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:!0,modules:[T,z,B],children:o==null?void 0:o.map((r,d)=>e.jsx(M,{children:e.jsxs("div",{className:`slide-service ${r.nombre} `,children:[e.jsx("img",{src:r.imagen,alt:r.nombre,className:"img-fluid img-subservicio"}),e.jsx("h3",{children:l?r.nombre:""})]})},d))}));const J=a.lazy(()=>_(()=>import("./brochure-161c60e9.js"),["assets/brochure-161c60e9.js","assets/index-e183d08d.js","assets/index-9f47fd08.css"])),w=a.lazy(()=>_(()=>import("./Servicios-0aba25e9.js"),["assets/Servicios-0aba25e9.js","assets/index-e183d08d.js","assets/index-9f47fd08.css","assets/setionHeader-b1264ec8.js","assets/useLazyload-11af7c3a.js","assets/Servicios-7ee61343.css"])),ne=({issue:o})=>{var y,S;const l=N();console.log(l,"parametros");const{id:r}=N();let[d,x]=a.useState("Nuestros Servicios"),[A,m]=a.useState(F);const{data:n}=L({queryKey:["services"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchInterval:1e3*60*30});let j="container";const[c,v]=a.useState(),[t,f]=a.useState(null),[P,u]=a.useState(null),[E,g]=a.useState(!0),b=s=>{if(!n)return;const i=n.filter(O=>O.nombre===s);return u(i[0].subservicios),i};a.useEffect(()=>{if(n)if(r){const s=b(r);if(s){const i="servicios de "+s[0].nombre;x(i),v(s),s[0].nombre==="Topografía"&&m($),s[0].nombre==="Ingeniería y Consultoría"&&m(K),s[0].nombre==="Medio Ambiente"&&m(Q)}}else{v(n),x("Nuestros Servicios");const s=n.flatMap(i=>i.subservicios);u(s)}},[n,r]);const{width:C}=Y(),D=C<=1e3,h=a.useRef(null);D&&(j="mobile");const I=async s=>{if(!s)return;const i=[];i.push(s),f(i),g(!1),console.log(i,"selectedSubServicio"),i&&(u(i),r&&setTimeout(()=>{f(null),g(!0),n&&b(r)},2e4))};return a.useEffect(()=>{if(h.current&&t){const s=h.current.getBoundingClientRect().top+window.pageYOffset,i=-300;window.scroll({top:s+i,behavior:"smooth"})}},[t]),c?e.jsx(e.Fragment,{children:e.jsxs(V,{children:[e.jsx(W,{title:c.length==1?c[0].nombre:"Servicios",paragraph:d.toString(),image:A}),e.jsxs("div",{className:j,children:[e.jsx("div",{className:"row servicio",children:c.length===1?e.jsx("div",{className:"col-12",children:e.jsx("h2",{className:"text-center",children:d})}):e.jsx("div",{className:"row",children:e.jsx(w,{})})}),e.jsxs("div",{className:"row content",children:[e.jsx("div",{className:"col-12 col-md-4 ",children:e.jsx("div",{className:`aside ${o}-template`,children:c.map(s=>e.jsx("div",{children:e.jsxs("div",{className:"row px-2",children:[e.jsx("div",{className:"col-12",children:e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"servicio",children:[e.jsx("h3",{children:s==null?void 0:s.nombre}),e.jsx("p",{className:"px-2",children:s==null?void 0:s.descripcion})]},s.id)}),e.jsx("div",{children:s.subservicios.map(i=>e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(p.div,{onClick:()=>I(i),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"subservicio",children:e.jsxs("div",{className:"row items mx-3",children:[e.jsx("span",{className:"col-1 icon-row",children:e.jsx(k,{})}),e.jsxs("h5",{className:"col-10",children:[i.nombre+"   ",e.jsx("span",{children:e.jsx(q,{})})]})]})},i.id)})},i.id))})]})},s.id))})}),e.jsxs("div",{className:"col-12 col-md-8 ",children:[e.jsx("div",{className:"row slider",children:e.jsx(H,{subServicios:P,subtitle:E})}),e.jsxs("div",{className:"row porque-elegirnos",ref:h,children:[e.jsx(G,{children:e.jsxs(p.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,scale:.5},transition:{duration:.3,delay:1,delayChildren:.3,staggerChildren:.3},children:[e.jsx("h2",{children:t?t[0].nombre:"Servicios de calidad y con la más alta tecnología"}),e.jsx("p",{children:t?t[0].descripcion:"Somos una empresa con más de 10 años de experiencia en el mercado, con profesionales altamente calificados y con amplia experiencia en el sector público y privado, brindando servicios de calidad y con la más alta tecnología."})]},t&&((y=t[0])==null?void 0:y.id))}),e.jsx("div",{}),e.jsxs("div",{className:"my-5",children:[e.jsx("h2",{children:"Brochure"}),e.jsx("p",{children:"Para obtener una visión completa de nuestros servicios y ventajas, te invitamos a descargar nuestro brochure informativo. Aquí encontrarás detalles exhaustivos sobre nuestras ofertas, testimonios de clientes satisfechos y la información de contacto necesaria para dar el siguiente paso hacia una colaboración exitosa. ¡Descubre cómo podemos ayudarte a alcanzar tus objetivos hoy mismo!"}),e.jsx(J,{})]})]},t&&((S=t[0])==null?void 0:S.descripcion))]}),c.length===1?e.jsx("div",{className:"row",children:e.jsx(w,{})}):""]})]})]})}):e.jsx("h3",{children:"Error"})};export{ne as default};


//# sourceMappingURL=data:application/json;base64,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QW9CLENBQzlELEdBRUNTLEVBQUEsWUFBSSxVQUFVLHVCQUF1QixJQUFLcUMsRUFDdkMsVUFBQTdDLE1BQUN5RCxFQUNHLFVBQUFqRCxFQUFBLEtBQUM4QyxFQUFPLElBQVAsQ0FDRyxRQUFTLENBQUUsT0FBUSxFQUFHLFFBQVMsQ0FBRSxFQUNqQyxRQUFTLENBQUUsT0FBUSxPQUFRLFFBQVMsQ0FBRSxFQUN0QyxLQUFNLENBQUUsT0FBUSxFQUFHLFFBQVMsRUFBRyxNQUFPLEVBQUksRUFDMUMsV0FBWSxDQUFFLFNBQVUsR0FBSyxNQUFPLEVBQUcsY0FBZSxHQUFLLGdCQUFpQixFQUFJLEVBR2hGLFVBQUF0RCxNQUFDLE1BQ0ksU0FDSzZCLElBQW9CLENBQUMsRUFBRSxPQUN2QixvREFDVixRQUNDLElBQ0ksVUFBQUEsRUFDS0EsRUFBb0IsQ0FBQyxFQUFFLFlBQ3ZCLG1PQUNWLElBWEtBLEtBQXVCNkIsRUFBQTdCLEVBQW9CLENBQUMsSUFBckIsWUFBQTZCLEVBQXdCLEtBYTVELFFBQ0MsTUFBSSxJQUNMbEQsT0FBQyxNQUFJLFdBQVUsT0FDWCxVQUFBUixNQUFDLE1BQUcsU0FBUSxhQUNaQSxNQUFDLEtBQUUsU0FFSCw0WUFDQ1MsRUFBVSxLQUNmLElBNUJrRW9CLEtBQXVCOEIsRUFBQTlCLEVBQW9CLENBQUMsSUFBckIsWUFBQThCLEVBQXdCLFlBNkJySCxHQUNKLEVBQ0NoQyxFQUFpQixTQUFXLEVBQ3hCM0IsTUFBQSxPQUFJLFVBQVUsTUFDWCxTQUFBQSxNQUFDVyxFQUFjLElBQ25CLEVBRUEsSUFFUixHQUNKLEVBQ0osRUFDSixHQWpIT1gsRUFBQSxJQUFDLE1BQUcsU0FBSyxTQW1IeEIiLCJuYW1lcyI6WyJTbGlkZXJTZXJ2aWNlcyIsInN1YlNlcnZpY2lvcyIsInN1YnRpdGxlIiwianN4IiwiU3dpcGVyIiwiQXV0b3BsYXkiLCJQYWdpbmF0aW9uIiwiTmF2aWdhdGlvbiIsInN1YlNlcnZpY2lvIiwiaW5kZXgiLCJTd2lwZXJTbGlkZSIsImpzeHMiLCJQZGZWaWV3ZXIiLCJsYXp5IiwiTGF6eVNlcnZpY2lvcyIsIl9fdml0ZVByZWxvYWQiLCJTZXJ2ZWNlc0RldGFpbCIsImlzc3VlIiwicGFyYW1ldHJvcyIsInVzZVBhcmFtcyIsImlkIiwidGl0bGUiLCJzZXRUaXRsZSIsInVzZVN0YXRlIiwiaW1hZ2VuIiwic2V0SW1hZ2VuIiwiaW1hZ2VuU2VydmljaW9zIiwic2VydmVjZXMiLCJ1c2VRdWVyeSIsImRpc3Bvc2l0aXZvIiwic2VydmljaW9fZWxlZ2lkbyIsInNldFNlcnZpY2lvX2VsZWdpZG8iLCJzZWxlY3RlZFN1YlNlcnZpY2lvIiwic2V0U2VsZWN0ZWRTdWJTZXJ2aWNpbyIsInNsaWRlciIsInNldFNsaWRlciIsInNldFN1YnRpdGxlIiwiZmlsdGVyU2VydmljaW8iLCJzZXJ2aWNpbyIsInVzZUVmZmVjdCIsInNlcnZpY2lvRWxlZ2lkbyIsInRpdGxlU3RyaW5nIiwiaW1hZ2VuVG9wb2dyYWZpYSIsImltYWdlbkluZ2VuaWVyaWEiLCJpbWFnZW5NZWRpb0FtYmllbnRlIiwid2lkdGgiLCJ1c2VTY3JlZW5TaXplIiwiaXNNb2JpbGUiLCJzdWJTZXJ2aWNpb1BhZ2luYVJlZiIsInVzZVJlZiIsImhhbmRsZVN1YlNlcnZpY2lvQ2xpY2siLCJsaXN0U3Vic2VydmljaW9zIiwiZWxlbWVudFBvc2l0aW9uIiwib2Zmc2V0IiwiRnJhZ21lbnQiLCJQYWdlc0xheW91dCIsIkJhbm5lciIsIm1vdGlvbiIsIkFpT3V0bGluZURvdWJsZVJpZ2h0IiwiQWlGaWxsQ2FyZXREb3duIiwiQW5pbWF0ZVByZXNlbmNlIiwiX2EiLCJfYiJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21wb25lbnRzL3NsaWRlclNlcnZpY2VzLnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9zZXJ2ZWNlc0RldGFpbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN3aXBlciwgU3dpcGVyU2xpZGUgfSBmcm9tICdzd2lwZXIvcmVhY3QnO1xuaW1wb3J0IHsgIFN1YnNlcnZpY2lvIH0gZnJvbSAnLi4vdHlwZXMvdHlwZXMnO1xuaW1wb3J0ICcuL3N0eWxlcy9zbGlkZXJTZXJ2aWNlLmNzcyc7XG4vLyBJbXBvcnQgU3dpcGVyIHN0eWxlc1xuaW1wb3J0ICdzd2lwZXIvY3NzL25hdmlnYXRpb24nO1xuaW1wb3J0ICdzd2lwZXIvY3NzL3BhZ2luYXRpb24nO1xuaW1wb3J0ICdzd2lwZXIvY3NzL3Njcm9sbGJhcic7XG5pbXBvcnQgJ3N3aXBlci9jc3MnO1xuaW1wb3J0IHsgQXV0b3BsYXksIE5hdmlnYXRpb24sIFBhZ2luYXRpb24gfSBmcm9tICdzd2lwZXIvbW9kdWxlcyc7XG5cblxuaW50ZXJmYWNlIFNsaWRlclNlcnZpY2VzUHJvcHMge1xuICAgIHN1YlNlcnZpY2lvcz86IFN1YnNlcnZpY2lvW10gfCBudWxsO1xuICAgIHN1YnRpdGxlPzogYm9vbGVhbjtcbn1cblxuXG5jb25zdCBTbGlkZXJTZXJ2aWNlczogUmVhY3QuRkM8U2xpZGVyU2VydmljZXNQcm9wcz4gPSAoeyBzdWJTZXJ2aWNpb3Msc3VidGl0bGV9KSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJzZSByZWluaWNpbyBlbCBzbGlkZXJcIixzdWJTZXJ2aWNpb3Msc3VidGl0bGUpO1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICAgIDxTd2lwZXJcbiAgICAgICAgICAgIHNwYWNlQmV0d2Vlbj17MzB9XG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3PXsxfVxuICAgICAgICAgICAgYXV0b3BsYXk9e3tcbiAgICAgICAgICAgICAgICBkZWxheTogNTAwMCxcbiAgICAgICAgICAgICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGF1c2VPbk1vdXNlRW50ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG5hdmlnYXRpb249e3RydWV9XG4gICAgICAgICAgICAgIG1vZHVsZXM9e1tBdXRvcGxheSwgUGFnaW5hdGlvbiwgTmF2aWdhdGlvbl19XG4gICAgICAgICAgICAgIFxuICAgICAgICA+XG4gICAgICAgICAgICB7c3ViU2VydmljaW9zPy5tYXAoKHN1YlNlcnZpY2lvLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxTd2lwZXJTbGlkZSBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzbGlkZS1zZXJ2aWNlICR7c3ViU2VydmljaW8ubm9tYnJlfSBgIH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17c3ViU2VydmljaW8uaW1hZ2VufSBhbHQ9e3N1YlNlcnZpY2lvLm5vbWJyZX0gY2xhc3NOYW1lPSdpbWctZmx1aWQgaW1nLXN1YnNlcnZpY2lvJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGUgPyBzdWJTZXJ2aWNpby5ub21icmUgOiAgJycgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDwvU3dpcGVyU2xpZGU+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgPC9Td2lwZXI+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNsaWRlclNlcnZpY2VzO1xuIiwiaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlLCBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IGxhenksIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQWlGaWxsQ2FyZXREb3duLCBBaU91dGxpbmVEb3VibGVSaWdodCB9IGZyb20gXCJyZWFjdC1pY29ucy9haVwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCBpbWFnZW5JbmdlbmllcmlhIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL2luZ2VuaWVyaWEucG5nJztcbmltcG9ydCBpbWFnZW5NZWRpb0FtYmllbnRlIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL21lZGlvLnBuZyc7XG5pbXBvcnQgaW1hZ2VuU2VydmljaW9zIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL3NlcnZpY2lvcy5wbmcnO1xuaW1wb3J0IGltYWdlblRvcG9ncmFmaWEgZnJvbSAnLi4vYXNzZXRzL2ltZy9iYW5uZXIvdG9wby5wbmcnO1xuaW1wb3J0IEJhbm5lciBmcm9tIFwiLi4vY29tcG9uZW50cy9iYW5uZXJcIjtcbmltcG9ydCBTbGlkZXJTZXJ2aWNlcyBmcm9tIFwiLi4vY29tcG9uZW50cy9zbGlkZXJTZXJ2aWNlc1wiO1xuaW1wb3J0IHVzZVNjcmVlblNpemUgZnJvbSAnLi4vaG9va3MvU2NyZWVuU2l6ZSc7XG5pbXBvcnQgUGFnZXNMYXlvdXQgZnJvbSBcIi4uL2xheW91dHMvcGFnZXNMYXlvdXRzXCI7XG5pbXBvcnQgeyBTZXJ2aWNpbzIsIFN1YnNlcnZpY2lvIH0gZnJvbSBcIi4uL3R5cGVzL3R5cGVzXCI7XG5pbXBvcnQgXCIuL3N0eWxlcy9zZXJ2aWNlc0RldGFpbC5jc3NcIjtcbmNvbnN0IFBkZlZpZXdlciA9IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL2Jyb2NodXJlJykpO1xuXG5jb25zdCBMYXp5U2VydmljaW9zID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvc2VjdGlvbnMvU2VydmljaW9zJykpO1xuXG5pbnRlcmZhY2UgU2VydmVjZXNEZXRhaWxQcm9wcyB7XG4gICAgaXNzdWU6IHN0cmluZztcbn1cblxuY29uc3QgU2VydmVjZXNEZXRhaWw6IFJlYWN0LkZDPFNlcnZlY2VzRGV0YWlsUHJvcHM+ID0gKHsgaXNzdWUgfSkgPT4ge1xuICAgIGNvbnN0IHBhcmFtZXRyb3MgPSB1c2VQYXJhbXMoKTtcbiAgICBjb25zb2xlLmxvZyhwYXJhbWV0cm9zLCAncGFyYW1ldHJvcycpO1xuXG4gICAgY29uc3QgeyBpZCB9ID0gdXNlUGFyYW1zPHsgaWQ6IHN0cmluZyB9PigpO1xuXG4gICAgbGV0IFt0aXRsZSwgc2V0VGl0bGVdID0gdXNlU3RhdGU8U3RyaW5nPihcIk51ZXN0cm9zIFNlcnZpY2lvc1wiKTtcbiAgICBsZXQgW2ltYWdlbiwgc2V0SW1hZ2VuXSA9IHVzZVN0YXRlPFN0cmluZz4oaW1hZ2VuU2VydmljaW9zKTtcbiAgICBjb25zdCB7IGRhdGE6IHNlcnZlY2VzIH0gPSB1c2VRdWVyeTxTZXJ2aWNpbzJbXT4oe1xuICAgICAgICBxdWVyeUtleTogWydzZXJ2aWNlcyddLFxuICAgICAgICBzdGFsZVRpbWU6IDEwMDAgKiA2MCAqIDMwLFxuICAgICAgICByZWZldGNoT25XaW5kb3dGb2N1czogZmFsc2UsXG4gICAgICAgIHJlZmV0Y2hJbnRlcnZhbDogMTAwMCAqIDYwICogMzAsXG4gICAgfSk7XG4gICAgbGV0IGRpc3Bvc2l0aXZvID0gXCJjb250YWluZXJcIjtcbiAgICBjb25zdCBbc2VydmljaW9fZWxlZ2lkbywgc2V0U2VydmljaW9fZWxlZ2lkb10gPSB1c2VTdGF0ZTxTZXJ2aWNpbzJbXT4oKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRTdWJTZXJ2aWNpbywgc2V0U2VsZWN0ZWRTdWJTZXJ2aWNpb10gPSB1c2VTdGF0ZTxTdWJzZXJ2aWNpb1tdIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3NsaWRlciwgc2V0U2xpZGVyXSA9IHVzZVN0YXRlPFN1YnNlcnZpY2lvW10gfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbc3VidGl0bGUsIHNldFN1YnRpdGxlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xuXG4gICAgY29uc3QgZmlsdGVyU2VydmljaW8gPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAoIXNlcnZlY2VzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VydmljaW86IFNlcnZpY2lvMltdID0gc2VydmVjZXMuZmlsdGVyKChzZXJ2aWNpbzogU2VydmljaW8yKSA9PiBzZXJ2aWNpby5ub21icmUgPT09IGlkKTtcbiAgICAgICAgc2V0U2xpZGVyKHNlcnZpY2lvWzBdLnN1YnNlcnZpY2lvcyk7XG4gICAgICAgIHJldHVybiBzZXJ2aWNpbztcbiAgICB9XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoc2VydmVjZXMpIHtcbiAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZpY2lvRWxlZ2lkbyA9IGZpbHRlclNlcnZpY2lvKGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljaW9FbGVnaWRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlU3RyaW5nID0gXCJzZXJ2aWNpb3MgZGUgXCIgKyBzZXJ2aWNpb0VsZWdpZG9bMF0ubm9tYnJlO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaXRsZSh0aXRsZVN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNlcnZpY2lvX2VsZWdpZG8oc2VydmljaW9FbGVnaWRvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2lvRWxlZ2lkb1swXS5ub21icmUgPT09IFwiVG9wb2dyYWbDrWFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1hZ2VuKGltYWdlblRvcG9ncmFmaWEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNpb0VsZWdpZG9bMF0ubm9tYnJlID09PSBcIkluZ2VuaWVyw61hIHkgQ29uc3VsdG9yw61hXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEltYWdlbihpbWFnZW5JbmdlbmllcmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljaW9FbGVnaWRvWzBdLm5vbWJyZSA9PT0gXCJNZWRpbyBBbWJpZW50ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbWFnZW4oaW1hZ2VuTWVkaW9BbWJpZW50ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFNlcnZpY2lvX2VsZWdpZG8oc2VydmVjZXMpO1xuICAgICAgICAgICAgICAgIHNldFRpdGxlKFwiTnVlc3Ryb3MgU2VydmljaW9zXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YlNlcnZpY2lvcyA9IHNlcnZlY2VzLmZsYXRNYXAoKHN1YlNlcnZpY2lvKSA9PiBzdWJTZXJ2aWNpby5zdWJzZXJ2aWNpb3MpO1xuICAgICAgICAgICAgICAgIHNldFNsaWRlcihzdWJTZXJ2aWNpb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW3NlcnZlY2VzLCBpZF0pO1xuXG4gICAgY29uc3QgeyB3aWR0aCB9ID0gdXNlU2NyZWVuU2l6ZSgpO1xuICAgIGNvbnN0IGlzTW9iaWxlID0gd2lkdGggPD0gMTAwMDtcbiAgICBjb25zdCBzdWJTZXJ2aWNpb1BhZ2luYVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gICAgaWYgKGlzTW9iaWxlKSB7XG4gICAgICAgIGRpc3Bvc2l0aXZvID0gXCJtb2JpbGVcIjtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVTdWJTZXJ2aWNpb0NsaWNrID0gYXN5bmMgKHN1YlNlcnZpY2lvOiBTdWJzZXJ2aWNpbykgPT4ge1xuICAgICAgICBpZiAoIXN1YlNlcnZpY2lvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaXN0U3Vic2VydmljaW9zOiBTdWJzZXJ2aWNpb1tdID0gW11cbiAgICAgICAgbGlzdFN1YnNlcnZpY2lvcy5wdXNoKHN1YlNlcnZpY2lvKVxuICAgICAgICBzZXRTZWxlY3RlZFN1YlNlcnZpY2lvKGxpc3RTdWJzZXJ2aWNpb3MpO1xuICAgICAgICBzZXRTdWJ0aXRsZShmYWxzZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGxpc3RTdWJzZXJ2aWNpb3MsICdzZWxlY3RlZFN1YlNlcnZpY2lvJyk7XG4gICAgICAgIGlmICghbGlzdFN1YnNlcnZpY2lvcykge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgc2V0U2xpZGVyKGxpc3RTdWJzZXJ2aWNpb3MpO1xuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkU3ViU2VydmljaW8obnVsbCk7XG4gICAgICAgICAgICBzZXRTdWJ0aXRsZSh0cnVlKTtcbiAgICAgICAgICAgIGlmICghc2VydmVjZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbHRlclNlcnZpY2lvKGlkKTtcbiAgICAgICAgfSwgMjAwMDApO1xuICAgIH07XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoc3ViU2VydmljaW9QYWdpbmFSZWYuY3VycmVudCAmJiAhIXNlbGVjdGVkU3ViU2VydmljaW8pIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRQb3NpdGlvbiA9IHN1YlNlcnZpY2lvUGFnaW5hUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gLTMwMDsgLy8gQWp1c3RhIGVzdGUgdmFsb3Igc2Vnw7puIGN1w6FudG8gbcOhcyBhcnJpYmEgcXVpZXJhcyBxdWUgc2VhIGVsIHNjcm9sbFxuICAgICAgICAgICAgd2luZG93LnNjcm9sbCh7XG4gICAgICAgICAgICAgICAgdG9wOiBlbGVtZW50UG9zaXRpb24gKyBvZmZzZXQsXG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtzZWxlY3RlZFN1YlNlcnZpY2lvXSk7XG5cbiAgICBpZiAoIXNlcnZpY2lvX2VsZWdpZG8pIHtcbiAgICAgICAgcmV0dXJuIDxoMz5FcnJvcjwvaDM+O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgICA8UGFnZXNMYXlvdXQ+XG4gICAgICAgICAgICAgICAgPEJhbm5lciB0aXRsZT17c2VydmljaW9fZWxlZ2lkby5sZW5ndGggPT0gMSA/IHNlcnZpY2lvX2VsZWdpZG9bMF0ubm9tYnJlIDogXCJTZXJ2aWNpb3NcIn0gcGFyYWdyYXBoPXt0aXRsZS50b1N0cmluZygpfSBpbWFnZT17aW1hZ2VufSAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtkaXNwb3NpdGl2b30+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHNlcnZpY2lvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljaW9fZWxlZ2lkby5sZW5ndGggPT09IDEgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+e3RpdGxlfTwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMYXp5U2VydmljaW9zIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgY29sLW1kLTQgXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Bhc2lkZSAke2lzc3VlfS10ZW1wbGF0ZWB9ID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZpY2lvX2VsZWdpZG8ubWFwKChzZXJ2aWNpbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17c2VydmljaW8uaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBweC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC42IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInNlcnZpY2lvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzZXJ2aWNpby5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz57c2VydmljaW8/Lm5vbWJyZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9J3B4LTInPntzZXJ2aWNpbz8uZGVzY3JpcGNpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljaW8uc3Vic2VydmljaW9zLm1hcCgoc3ViU2VydmljaW8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzdWJTZXJ2aWNpby5pZH0gY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN1YlNlcnZpY2lvQ2xpY2soc3ViU2VydmljaW8pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3Vic2VydmljaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtzdWJTZXJ2aWNpby5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgaXRlbXMgbXgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNvbC0xIGljb24tcm93XCI+PEFpT3V0bGluZURvdWJsZVJpZ2h0IC8+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJjb2wtMTBcIj57c3ViU2VydmljaW8ubm9tYnJlICsgXCIgICBcIn08c3Bhbj48QWlGaWxsQ2FyZXREb3duIC8+PC9zcGFuPjwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgY29sLW1kLTggXCIgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHNsaWRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2xpZGVyU2VydmljZXMgc3ViU2VydmljaW9zPXtzbGlkZXJ9IHN1YnRpdGxlPXtzdWJ0aXRsZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBwb3JxdWUtZWxlZ2lybm9zXCIgcmVmPXtzdWJTZXJ2aWNpb1BhZ2luYVJlZn0ga2V5PXtzZWxlY3RlZFN1YlNlcnZpY2lvICYmIHNlbGVjdGVkU3ViU2VydmljaW9bMF0/LmRlc2NyaXBjaW9ufT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IGhlaWdodDogXCJhdXRvXCIsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0PXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCwgc2NhbGU6IDAuNSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMywgZGVsYXk6IDEsIGRlbGF5Q2hpbGRyZW46IDAuMywgc3RhZ2dlckNoaWxkcmVuOiAwLjMgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3NlbGVjdGVkU3ViU2VydmljaW8gJiYgc2VsZWN0ZWRTdWJTZXJ2aWNpb1swXT8uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRTdWJTZXJ2aWNpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3RlZFN1YlNlcnZpY2lvWzBdLm5vbWJyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlNlcnZpY2lvcyBkZSBjYWxpZGFkIHkgY29uIGxhIG3DoXMgYWx0YSB0ZWNub2xvZ8OtYVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFN1YlNlcnZpY2lvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkU3ViU2VydmljaW9bMF0uZGVzY3JpcGNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJTb21vcyB1bmEgZW1wcmVzYSBjb24gbcOhcyBkZSAxMCBhw7FvcyBkZSBleHBlcmllbmNpYSBlbiBlbCBtZXJjYWRvLCBjb24gcHJvZmVzaW9uYWxlcyBhbHRhbWVudGUgY2FsaWZpY2Fkb3MgeSBjb24gYW1wbGlhIGV4cGVyaWVuY2lhIGVuIGVsIHNlY3RvciBww7pibGljbyB5IHByaXZhZG8sIGJyaW5kYW5kbyBzZXJ2aWNpb3MgZGUgY2FsaWRhZCB5IGNvbiBsYSBtw6FzIGFsdGEgdGVjbm9sb2fDrWEuXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J215LTUnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyPkJyb2NodXJlPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmEgb2J0ZW5lciB1bmEgdmlzacOzbiBjb21wbGV0YSBkZSBudWVzdHJvcyBzZXJ2aWNpb3MgeSB2ZW50YWphcywgdGUgaW52aXRhbW9zIGEgZGVzY2FyZ2FyIG51ZXN0cm8gYnJvY2h1cmUgaW5mb3JtYXRpdm8uIEFxdcOtIGVuY29udHJhcsOhcyBkZXRhbGxlcyBleGhhdXN0aXZvcyBzb2JyZSBudWVzdHJhcyBvZmVydGFzLCB0ZXN0aW1vbmlvcyBkZSBjbGllbnRlcyBzYXRpc2ZlY2hvcyB5IGxhIGluZm9ybWFjacOzbiBkZSBjb250YWN0byBuZWNlc2FyaWEgcGFyYSBkYXIgZWwgc2lndWllbnRlIHBhc28gaGFjaWEgdW5hIGNvbGFib3JhY2nDs24gZXhpdG9zYS4gwqFEZXNjdWJyZSBjw7NtbyBwb2RlbW9zIGF5dWRhcnRlIGEgYWxjYW56YXIgdHVzIG9iamV0aXZvcyBob3kgbWlzbW8hXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGRmVmlld2VyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljaW9fZWxlZ2lkby5sZW5ndGggPT09IDEgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExhenlTZXJ2aWNpb3MgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1BhZ2VzTGF5b3V0PlxuICAgICAgICA8Lz5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VydmVjZXNEZXRhaWw7XG4iXSwiZmlsZSI6ImFzc2V0cy9zZXJ2ZWNlc0RldGFpbC03ZDU4MDhjZC5qcyJ9