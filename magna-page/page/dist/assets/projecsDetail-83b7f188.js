import{p as w,q as b,j as e,S as E,A as P,k as N,l as T,m as _,o as S,r as u,_ as y,R as j,n as O,i as x,h as I,L as g}from"./index-ef17fea3.js";import{B as M}from"./banner-4cdfae9d.js";import{i as R}from"./projects-ac20cde4.js";import"./index.esm-72d272c7.js";import"./iconBase-d5e231c0.js";import"./index.esm-67870a5b.js";function F(i){const{effect:s,swiper:t,on:c,setTranslate:l,setTransition:f,overwriteParams:o,perspective:r,recreateShadows:n,getEffectParams:a}=i;c("beforeInit",()=>{if(t.params.effect!==s)return;t.classNames.push(`${t.params.containerModifierClass}${s}`),r&&r()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(t.params,d),Object.assign(t.originalParams,d)}),c("setTranslate",()=>{t.params.effect===s&&l()}),c("setTransition",(d,p)=>{t.params.effect===s&&f(p)}),c("transitionEnd",()=>{if(t.params.effect===s&&n){if(!a||!a().slideShadows)return;t.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),n()}});let m;c("virtualUpdate",()=>{t.params.effect===s&&(t.slides.length||(m=!0),requestAnimationFrame(()=>{m&&t.slides&&t.slides.length&&(l(),m=!1)}))})}function $(i,s){const t=w(s);return t!==s&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function D(i){let{swiper:s,duration:t,transformElements:c,allSlides:l}=i;const{activeIndex:f}=s,o=r=>r.parentElement?r.parentElement:s.slides.filter(a=>a.shadowRoot&&a.shadowRoot===r.parentNode)[0];if(s.params.virtualTranslate&&t!==0){let r=!1,n;l?n=c:n=c.filter(a=>{const m=a.classList.contains("swiper-slide-transform")?o(a):a;return s.getSlideIndex(m)===f}),n.forEach(a=>{b(a,()=>{if(r||!s||s.destroyed)return;r=!0,s.animating=!1;const m=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(m)})})}}function k(i){let{swiper:s,extendParams:t,on:c}=i;t({fadeEffect:{crossFade:!1}}),F({effect:"fade",swiper:s,on:c,setTranslate:()=>{const{slides:o}=s,r=s.params.fadeEffect;for(let n=0;n<o.length;n+=1){const a=s.slides[n];let d=-a.swiperSlideOffset;s.params.virtualTranslate||(d-=s.translate);let p=0;s.isHorizontal()||(p=d,d=0);const v=s.params.fadeEffect.crossFade?Math.max(1-Math.abs(a.progress),0):1+Math.min(Math.max(a.progress,-1),0),h=$(r,a);h.style.opacity=v,h.style.transform=`translate3d(${d}px, ${p}px, 0px)`}},setTransition:o=>{const r=s.slides.map(n=>w(n));r.forEach(n=>{n.style.transitionDuration=`${o}ms`}),D({swiper:s,duration:o,transformElements:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!s.params.cssMode})})}const A=({images:i})=>e.jsx(E,{spaceBetween:0,slidesPerView:1,autoplay:{delay:8e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},modules:[P,N,T,k],effect:"fade",className:"projectDetailSlider",children:i.map((s,t)=>e.jsx(_,{style:{height:"100%",width:"100%",backgroundColor:"white"},children:e.jsxs(S.div,{initial:{opacity:0,y:50},transition:{duration:.5},animate:{opacity:1,y:0},children:[e.jsx("img",{src:`${s.imagen}`,alt:`proyecto-${s.proyecto} `,className:"img-fluid imagen-proecto"}),e.jsx("div",{children:e.jsx("a",{href:s.references_url?s.references_url:"https://www.Magnaingenieriaytopografia.com",target:"_blank",rel:"noreferrer",children:s.references_name?s.references_name:"Magnaingenieriaytopografia.com"})})]})},t))});const L=u.lazy(()=>y(()=>import("./proyectos-87d067a2.js"),["assets/proyectos-87d067a2.js","assets/index-ef17fea3.js","assets/index-fb14aeaa.css","assets/setionHeader-70313f63.js","assets/Recurso 1-e9af6898.js","assets/ScreenSize-3b2e8cbc.js","assets/useLazyload-ebb7f7c0.js","assets/proyectos-42af8fd5.css"])),V=u.lazy(()=>y(()=>import("./cardsProjects-de3e0c4c.js"),["assets/cardsProjects-de3e0c4c.js","assets/index-ef17fea3.js","assets/index-fb14aeaa.css","assets/useLazyload-ebb7f7c0.js","assets/cardsProjects-577b53fd.css"])),W=()=>{const[i,s]=j.useState(),[t,c]=j.useState([]),{projectArg:l}=O(),{data:f}=x({queryKey:["projects"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchInterval:1e3*60*30}),{data:o}=x({queryKey:["projectsImages"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchInterval:1e3*60*30});return!f||!o||!l?e.jsx("div",{children:"no hay "}):(u.useEffect(()=>{const r=f.results.find(a=>a.id===parseInt(l))||null,n=o.filter(a=>a.proyecto===parseInt(l));r&&(s(r),c(n))},[f,o,l]),!i||!t?null:e.jsx(e.Fragment,{children:e.jsxs(I,{children:[e.jsx(M,{title:"Proyectos",paragraph:"Proyectos",image:R}),e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"row titulo",children:[e.jsx("h2",{className:"col-10",children:i.nombre}),e.jsx(g,{to:"/projects",className:"col-2",children:e.jsx("button",{className:"boton-1 ",children:"ver m치s"})})]}),e.jsxs("div",{className:"row project-detail",children:[e.jsx("div",{className:"col-12 col-md-6 ",children:e.jsx(A,{images:t})}),e.jsxs("div",{className:"col-12 col-md-6",children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("h3",{children:"Descripci칩n del proyecto"}),e.jsx("p",{children:i.descripcion}),e.jsx("h3",{children:"Ubicaci칩n"}),e.jsxs("p",{children:[i.ciudad.departamento.pais.nombre,", ",i.ciudad.departamento.nombre,", ",i.ciudad.nombre]}),e.jsx("h3",{children:"Servicios prestados"}),i.servicios.map(r=>e.jsxs(e.Fragment,{children:[e.jsx("h5",{children:r.nombre},r.id),e.jsx(g,{to:"/servicios",children:e.jsx("button",{className:"boton-1",children:"ver m치s"})})]}))]},l)]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 relacionados",children:e.jsx("h3",{children:"Proyectos relacionados"})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(V,{type:i.tipo.id,actualPage:i.id,imagenes:o})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(L,{})})})]})]})}))};export{W as default};


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Im9VQUFBLFNBQVNBLEVBQVdDLEVBQVEsQ0FDMUIsS0FBTSxDQUNKLE9BQUFDLEVBQ0EsT0FBQUMsRUFDQSxHQUFBQyxFQUNBLGFBQUFDLEVBQ0EsY0FBQUMsRUFDQSxnQkFBQUMsRUFDQSxZQUFBQyxFQUNBLGdCQUFBQyxFQUNBLGdCQUFBQyxDQUNELEVBQUdULEVBQ0pHLEVBQUcsYUFBYyxJQUFNLENBQ3JCLEdBQUlELEVBQU8sT0FBTyxTQUFXRCxFQUFRLE9BQ3JDQyxFQUFPLFdBQVcsS0FBSyxHQUFHQSxFQUFPLE9BQU8sc0JBQXNCLEdBQUdELENBQU0sRUFBRSxFQUNyRU0sR0FBZUEsS0FDakJMLEVBQU8sV0FBVyxLQUFLLEdBQUdBLEVBQU8sT0FBTyxzQkFBc0IsSUFBSSxFQUVwRSxNQUFNUSxFQUF3QkosRUFBa0JBLEVBQWUsRUFBSyxHQUNwRSxPQUFPLE9BQU9KLEVBQU8sT0FBUVEsQ0FBcUIsRUFDbEQsT0FBTyxPQUFPUixFQUFPLGVBQWdCUSxDQUFxQixDQUM5RCxDQUFHLEVBQ0RQLEVBQUcsZUFBZ0IsSUFBTSxDQUNuQkQsRUFBTyxPQUFPLFNBQVdELEdBQzdCRyxHQUNKLENBQUcsRUFDREQsRUFBRyxnQkFBaUIsQ0FBQ1EsRUFBSUMsSUFBYSxDQUNoQ1YsRUFBTyxPQUFPLFNBQVdELEdBQzdCSSxFQUFjTyxDQUFRLENBQzFCLENBQUcsRUFDRFQsRUFBRyxnQkFBaUIsSUFBTSxDQUN4QixHQUFJRCxFQUFPLE9BQU8sU0FBV0QsR0FDekJPLEVBQWlCLENBQ25CLEdBQUksQ0FBQ0MsR0FBbUIsQ0FBQ0EsRUFBaUIsRUFBQyxhQUFjLE9BRXpEUCxFQUFPLE9BQU8sUUFBUVcsR0FBVyxDQUMvQkEsRUFBUSxpQkFBaUIsOEdBQThHLEVBQUUsUUFBUUMsR0FBWUEsRUFBUyxPQUFNLENBQUUsQ0FDdEwsQ0FBTyxFQUVETixHQUNELENBQ0wsQ0FBRyxFQUNELElBQUlPLEVBQ0paLEVBQUcsZ0JBQWlCLElBQU0sQ0FDcEJELEVBQU8sT0FBTyxTQUFXRCxJQUN4QkMsRUFBTyxPQUFPLFNBQ2pCYSxFQUF5QixJQUUzQixzQkFBc0IsSUFBTSxDQUN0QkEsR0FBMEJiLEVBQU8sUUFBVUEsRUFBTyxPQUFPLFNBQzNERSxJQUNBVyxFQUF5QixHQUVqQyxDQUFLLEVBQ0wsQ0FBRyxDQUNILENDckRBLFNBQVNDLEVBQWFDLEVBQWNKLEVBQVMsQ0FDM0MsTUFBTUssRUFBY0MsRUFBb0JOLENBQU8sRUFDL0MsT0FBSUssSUFBZ0JMLElBQ2xCSyxFQUFZLE1BQU0sbUJBQXFCLFNBQ3ZDQSxFQUFZLE1BQU0sNkJBQTZCLEVBQUksVUFFOUNBLENBQ1QsQ0NQQSxTQUFTRSxFQUEyQkMsRUFBTSxDQUN4QyxHQUFJLENBQ0YsT0FBQW5CLEVBQ0EsU0FBQVUsRUFDQSxrQkFBQVUsRUFDQSxVQUFBQyxDQUNELEVBQUdGLEVBQ0osS0FBTSxDQUNKLFlBQUFHLENBQ0QsRUFBR3RCLEVBQ0V1QixFQUFXQyxHQUNWQSxFQUFHLGNBS0RBLEVBQUcsY0FITXhCLEVBQU8sT0FBTyxPQUFPVyxHQUFXQSxFQUFRLFlBQWNBLEVBQVEsYUFBZWEsRUFBRyxVQUFVLEVBQUUsQ0FBQyxFQUsvRyxHQUFJeEIsRUFBTyxPQUFPLGtCQUFvQlUsSUFBYSxFQUFHLENBQ3BELElBQUllLEVBQWlCLEdBQ2pCQyxFQUNBTCxFQUNGSyxFQUFzQk4sRUFFdEJNLEVBQXNCTixFQUFrQixPQUFPSixHQUFlLENBQzVELE1BQU1RLEVBQUtSLEVBQVksVUFBVSxTQUFTLHdCQUF3QixFQUFJTyxFQUFTUCxDQUFXLEVBQUlBLEVBQzlGLE9BQU9oQixFQUFPLGNBQWN3QixDQUFFLElBQU1GLENBQzVDLENBQU8sRUFFSEksRUFBb0IsUUFBUUYsR0FBTSxDQUNoQ0csRUFBcUJILEVBQUksSUFBTSxDQUU3QixHQURJQyxHQUNBLENBQUN6QixHQUFVQSxFQUFPLFVBQVcsT0FDakN5QixFQUFpQixHQUNqQnpCLEVBQU8sVUFBWSxHQUNuQixNQUFNNEIsRUFBTSxJQUFJLE9BQU8sWUFBWSxnQkFBaUIsQ0FDbEQsUUFBUyxHQUNULFdBQVksRUFDdEIsQ0FBUyxFQUNENUIsRUFBTyxVQUFVLGNBQWM0QixDQUFHLENBQzFDLENBQU8sQ0FDUCxDQUFLLENBQ0YsQ0FDSCxDQ3hDQSxTQUFTQyxFQUFXVixFQUFNLENBQ3hCLEdBQUksQ0FDRixPQUFBbkIsRUFDQSxhQUFBOEIsRUFDQSxHQUFBN0IsQ0FDRCxFQUFHa0IsRUFDSlcsRUFBYSxDQUNYLFdBQVksQ0FDVixVQUFXLEVBQ1osQ0FDTCxDQUFHLEVBa0NEakMsRUFBVyxDQUNULE9BQVEsT0FDUixPQUFBRyxFQUNBLEdBQUFDLEVBQ0EsYUFyQ21CLElBQU0sQ0FDekIsS0FBTSxDQUNKLE9BQUE4QixDQUNELEVBQUcvQixFQUNFRixFQUFTRSxFQUFPLE9BQU8sV0FDN0IsUUFBU2dDLEVBQUksRUFBR0EsRUFBSUQsRUFBTyxPQUFRQyxHQUFLLEVBQUcsQ0FDekMsTUFBTXJCLEVBQVVYLEVBQU8sT0FBT2dDLENBQUMsRUFFL0IsSUFBSUMsRUFBSyxDQURNdEIsRUFBUSxrQkFFbEJYLEVBQU8sT0FBTyxtQkFBa0JpQyxHQUFNakMsRUFBTyxXQUNsRCxJQUFJa0MsRUFBSyxFQUNKbEMsRUFBTyxpQkFDVmtDLEVBQUtELEVBQ0xBLEVBQUssR0FFUCxNQUFNRSxFQUFlbkMsRUFBTyxPQUFPLFdBQVcsVUFBWSxLQUFLLElBQUksRUFBSSxLQUFLLElBQUlXLEVBQVEsUUFBUSxFQUFHLENBQUMsRUFBSSxFQUFJLEtBQUssSUFBSSxLQUFLLElBQUlBLEVBQVEsU0FBVSxFQUFFLEVBQUcsQ0FBQyxFQUNoSnlCLEVBQVd0QixFQUFhaEIsRUFBUWEsQ0FBTyxFQUM3Q3lCLEVBQVMsTUFBTSxRQUFVRCxFQUN6QkMsRUFBUyxNQUFNLFVBQVksZUFBZUgsQ0FBRSxPQUFPQyxDQUFFLFVBQ3RELENBQ0wsRUFrQkksY0FqQm9CeEIsR0FBWSxDQUNoQyxNQUFNVSxFQUFvQnBCLEVBQU8sT0FBTyxJQUFJVyxHQUFXTSxFQUFvQk4sQ0FBTyxDQUFDLEVBQ25GUyxFQUFrQixRQUFRSSxHQUFNLENBQzlCQSxFQUFHLE1BQU0sbUJBQXFCLEdBQUdkLENBQVEsSUFDL0MsQ0FBSyxFQUNEUSxFQUEyQixDQUN6QixPQUFBbEIsRUFDQSxTQUFBVSxFQUNBLGtCQUFBVSxFQUNBLFVBQVcsRUFDakIsQ0FBSyxDQUNMLEVBT0ksZ0JBQWlCLEtBQU8sQ0FDdEIsY0FBZSxFQUNmLGVBQWdCLEVBQ2hCLG9CQUFxQixHQUNyQixhQUFjLEVBQ2QsaUJBQWtCLENBQUNwQixFQUFPLE9BQU8sT0FDdkMsRUFDQSxDQUFHLENBQ0gsQ0NuREEsTUFBTXFDLEVBQXNCLENBQ3hCLENBQUUsT0FBQUMsS0FJRUMsRUFBQSxJQUFDQyxFQUFBLENBQ0csYUFBYyxFQUNkLGNBQWUsRUFDZixTQUFVLENBQ04sTUFBTyxJQUNQLHFCQUFzQixHQUN0QixrQkFBbUIsRUFDdkIsRUFDQSxRQUFTLENBQUNDLEVBQVVDLEVBQVlDLEVBQVdkLENBQVUsRUFDckQsT0FBTyxPQUNQLFVBQVUsc0JBRVQsU0FBT1MsRUFBQSxJQUFJLENBQUNNLEVBQU9DLElBQ2hCTixFQUFBLElBQUNPLEVBQUEsQ0FDRCxNQUFPLENBQUMsT0FBUSxPQUFRLE1BQU8sT0FBTyxnQkFBaUIsT0FBTyxFQUUxRCxTQUFBQyxFQUFBLEtBQUNDLEVBQU8sSUFBUCxDQUNHLFFBQVMsQ0FBRSxRQUFTLEVBQUcsRUFBRyxFQUFHLEVBQzdCLFdBQVksQ0FBRSxTQUFVLEVBQUksRUFDNUIsUUFBUyxDQUFFLFFBQVMsRUFBRyxFQUFHLENBQUUsRUFFNUIsVUFBQVQsRUFBQSxJQUFDLE1BQUksS0FBSyxHQUFHSyxFQUFNLE1BQU0sR0FBSSxJQUFLLFlBQVlBLEVBQU0sUUFBUSxJQUFLLFVBQVUsMkJBQTJCLFFBQ3JHLE1BQ0QsVUFBQUwsTUFBQyxLQUFFLEtBQU1LLEVBQU0sZUFBZ0JBLEVBQU0sZUFBaUIsNkNBQThDLE9BQU8sU0FBUyxJQUFJLGFBRXhILFNBQUFBLEVBQU0sZ0JBQWlCQSxFQUFNLGdCQUFrQixpQ0FFbkQsQ0FDSSxJQUNKLEdBaEJjQyxDQUFBLENBa0JyQixJQ3ZDYixNQUFNSSxFQUFZQyxFQUFBLEtBQUssSUFBTUMsRUFBQSxXQUFPLHlCQUFrQyxFQUFDLDRQQUVqRUMsRUFBb0JGLEVBQUEsS0FBSyxVQUFNLE9BQU8sNkJBQTZCLEVBQUMsbUtBQ3BFRyxFQUF5QixJQUFNLENBQ2pDLEtBQU0sQ0FBQ0MsRUFBU0MsQ0FBVSxFQUFJQyxFQUFNLFNBQWlCLEVBQy9DLENBQUNDLEVBQVFDLENBQVMsRUFBSUYsRUFBTSxTQUErQixFQUFFLEVBQzdELENBQUUsV0FBQUcsR0FBY0MsSUFDaEIsQ0FBRSxLQUFLQyxDQUFTLEVBQUlDLEVBQXlCLENBQy9DLFNBQVUsQ0FBQyxVQUFVLEVBQ3JCLFVBQVcsSUFBSyxHQUFHLEdBQUcscUJBQXNCLEdBQU0sZUFBZ0IsR0FBTSxtQkFBb0IsR0FBTSxnQkFBaUIsSUFBSyxHQUFHLEdBQzlILEVBQ0ssQ0FBRSxLQUFLQyxDQUFjLEVBQUlELEVBQStCLENBQzFELFNBQVUsQ0FBQyxnQkFBZ0IsRUFDM0IsVUFBVyxJQUFLLEdBQUcsR0FBRyxxQkFBc0IsR0FBTSxlQUFnQixHQUFNLG1CQUFvQixHQUFNLGdCQUFpQixJQUFLLEdBQUcsR0FDOUgsRUFHRCxNQUFHLENBQUNELEdBQVksQ0FBQ0UsR0FBaUIsQ0FBQ0osRUFDeEJwQixFQUFBLElBQUMsT0FBSSxTQUFPLGFBR3ZCeUIsWUFBVSxJQUFNLENBQ04sTUFBQUMsRUFBZ0NKLEVBQVMsUUFBUSxLQUFNUCxHQUFvQkEsRUFBUSxLQUFPLFNBQVNLLENBQVUsQ0FBQyxHQUFLLEtBQ25IckIsRUFBK0J5QixFQUFjLE9BQVFOLEdBQStCQSxFQUFPLFdBQWEsU0FBU0UsQ0FBVSxDQUFDLEVBQzdITSxJQUdMVixFQUFXVSxDQUFjLEVBQ3pCUCxFQUFVcEIsQ0FBTSxFQUNiLEdBQUN1QixFQUFTRSxFQUFjSixDQUFVLENBQUMsRUFFdEMsQ0FBQ0wsR0FBVyxDQUFDRyxFQUNOLEtBSVBsQixNQUFBMkIsV0FBQSxDQUNBLGdCQUFDQyxFQUNHLFdBQUE1QixNQUFDNkIsR0FBTyxNQUFNLFlBQVksVUFBVSxZQUFZLE1BQU9DLEVBQWEsRUFDcEV0QixPQUFDLE1BQUksV0FBVSxrQkFDWCxVQUFDQSxPQUFBLE9BQUksVUFBVSxhQUNYLFVBQUFSLEVBQUEsSUFBQyxLQUFHLFdBQVUsU0FDVCxTQUFBZSxFQUFRLE9BQ2IsRUFDQWYsRUFBQSxJQUFDK0IsRUFBSyxJQUFHLFlBQVksVUFBVSxRQUMzQixTQUFBL0IsRUFBQSxJQUFDLFNBQU8sV0FBVSxXQUFXLGtCQUU3QixHQUNKLEdBRUosRUFDQVEsT0FBQyxNQUFJLFdBQVUscUJBQ1gsVUFBQVIsTUFBQyxPQUFJLFVBQVUsbUJBQ1gsZUFBQ0YsRUFBb0IsUUFBUW9CLEVBQU8sQ0FDeEMsR0FDQVYsT0FBQyxNQUFJLFdBQVUsa0JBQ1gsVUFBQVIsRUFBQSxJQUFDLEtBQUcsVUFDSCxLQUFHLElBQ0pBLE1BQUMsTUFBRyxTQUVKLDZCQUNBQSxNQUFDLElBQUcsVUFBQWUsRUFBUSxXQUFZLEdBQ3hCZixNQUFDLE1BQUcsU0FFSixxQkFDQyxJQUNJLFdBQVFlLEVBQUEsT0FBTyxhQUFhLEtBQUssT0FBTyxLQUFHQSxFQUFRLE9BQU8sYUFBYSxPQUFPLEtBQUdBLEVBQVEsT0FBTyxRQUNyRyxFQUNBZixNQUFDLE1BQUcsU0FFSix3QkFFSWUsRUFBUSxVQUFVLElBQUtpQixHQUVuQnhCLE9BQUFtQixXQUFBLFdBQUEzQixFQUFBLElBQUMsS0FBc0IsVUFBQWdDLEVBQVMsTUFBdkIsRUFBQUEsRUFBUyxFQUFxQixFQUN2Q2hDLEVBQUEsSUFBQytCLEdBQUssR0FBSSxhQUNOLGVBQUMsU0FBTyxXQUFVLFVBQVUsbUJBRTVCLENBRUosSUFFQSxDQUNILElBNUI2QlgsQ0E4QnRDLEdBQ0osRUFDQ3BCLEVBQUEsV0FBSSxVQUFVLE1BQ1gsU0FBQ0EsTUFBQSxPQUFJLFVBQVUsc0JBQ1gsU0FBQ0EsRUFBQSxVQUFHLFNBRUosMEJBQ0osR0FDSixFQUNBQSxNQUFDLE9BQUksVUFBVSxNQUNYLGVBQUMsTUFBSSxXQUFVLFNBQ1gsU0FBQ0EsRUFBQSxJQUFBYSxFQUFBLENBQWtCLEtBQU1FLEVBQVEsS0FBSyxHQUFJLFdBQVlBLEVBQVEsR0FBSSxTQUFVUyxFQUFjLEVBQzlGLENBQ0osR0FDQXhCLEVBQUEsSUFBQyxNQUFJLFdBQVUsTUFDWCxTQUFBQSxNQUFDLE1BQUksV0FBVSxTQUNYLFNBQUFBLEVBQUEsSUFBQ1UsRUFBVSxHQUNmLEdBQ0osR0FDSixFQUNKLEVBQ0EsR0FFUiIsIm5hbWVzIjpbImVmZmVjdEluaXQiLCJwYXJhbXMiLCJlZmZlY3QiLCJzd2lwZXIiLCJvbiIsInNldFRyYW5zbGF0ZSIsInNldFRyYW5zaXRpb24iLCJvdmVyd3JpdGVQYXJhbXMiLCJwZXJzcGVjdGl2ZSIsInJlY3JlYXRlU2hhZG93cyIsImdldEVmZmVjdFBhcmFtcyIsIm92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCIsIl9zIiwiZHVyYXRpb24iLCJzbGlkZUVsIiwic2hhZG93RWwiLCJyZXF1aXJlVXBkYXRlT25WaXJ0dWFsIiwiZWZmZWN0VGFyZ2V0IiwiZWZmZWN0UGFyYW1zIiwidHJhbnNmb3JtRWwiLCJnZXRTbGlkZVRyYW5zZm9ybUVsIiwiZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQiLCJfcmVmIiwidHJhbnNmb3JtRWxlbWVudHMiLCJhbGxTbGlkZXMiLCJhY3RpdmVJbmRleCIsImdldFNsaWRlIiwiZWwiLCJldmVudFRyaWdnZXJlZCIsInRyYW5zaXRpb25FbmRUYXJnZXQiLCJlbGVtZW50VHJhbnNpdGlvbkVuZCIsImV2dCIsIkVmZmVjdEZhZGUiLCJleHRlbmRQYXJhbXMiLCJzbGlkZXMiLCJpIiwidHgiLCJ0eSIsInNsaWRlT3BhY2l0eSIsInRhcmdldEVsIiwiU2xpZGVyUHJvamVjdERldGFpbCIsImltYWdlcyIsImpzeCIsIlN3aXBlciIsIkF1dG9wbGF5IiwiUGFnaW5hdGlvbiIsIk5hdmlnYXRpb24iLCJpbWFnZSIsImluZGV4IiwiU3dpcGVyU2xpZGUiLCJqc3hzIiwibW90aW9uIiwiUHJveWVjdG9zIiwibGF6eSIsIl9fdml0ZVByZWxvYWQiLCJMYXp5Q2FyZHNQcm9qZWN0cyIsIlByb2plY3REZXRhaWwiLCJwcm9qZWN0Iiwic2V0UHJvamVjdCIsIlJlYWN0IiwiaW1hZ2VuIiwic2V0SW1hZ2VuIiwicHJvamVjdEFyZyIsInVzZVBhcmFtcyIsInByb2plY3RzIiwidXNlUXVlcnkiLCJwcm9qZWN0SW1hZ2VzIiwidXNlRWZmZWN0IiwicHJvamVjdF9zZWxlY3QiLCJGcmFnbWVudCIsIlBhZ2VzTGF5b3V0IiwiQmFubmVyIiwiaW1hZ2VuQmFubmVyIiwiTGluayIsInNlcnZpY2lvIl0sInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZWZmZWN0LWluaXQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZWZmZWN0LXRhcmdldC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9lZmZlY3QtdmlydHVhbC10cmFuc2l0aW9uLWVuZC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL21vZHVsZXMvZWZmZWN0LWZhZGUubWpzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvc2xpZGVyUHJvamVjdERldGFpbC50c3giLCIuLi8uLi9zcmMvcGFnZXMvcHJvamVjc0RldGFpbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZWZmZWN0SW5pdChwYXJhbXMpIHtcbiAgY29uc3Qge1xuICAgIGVmZmVjdCxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgb3ZlcndyaXRlUGFyYW1zLFxuICAgIHBlcnNwZWN0aXZlLFxuICAgIHJlY3JlYXRlU2hhZG93cyxcbiAgICBnZXRFZmZlY3RQYXJhbXNcbiAgfSA9IHBhcmFtcztcbiAgb24oJ2JlZm9yZUluaXQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30ke2VmZmVjdH1gKTtcbiAgICBpZiAocGVyc3BlY3RpdmUgJiYgcGVyc3BlY3RpdmUoKSkge1xuICAgICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9M2RgKTtcbiAgICB9XG4gICAgY29uc3Qgb3ZlcndyaXRlUGFyYW1zUmVzdWx0ID0gb3ZlcndyaXRlUGFyYW1zID8gb3ZlcndyaXRlUGFyYW1zKCkgOiB7fTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5wYXJhbXMsIG92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCk7XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIub3JpZ2luYWxQYXJhbXMsIG92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNsYXRlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc2V0VHJhbnNsYXRlKCk7XG4gIH0pO1xuICBvbignc2V0VHJhbnNpdGlvbicsIChfcywgZHVyYXRpb24pID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIHNldFRyYW5zaXRpb24oZHVyYXRpb24pO1xuICB9KTtcbiAgb24oJ3RyYW5zaXRpb25FbmQnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBpZiAocmVjcmVhdGVTaGFkb3dzKSB7XG4gICAgICBpZiAoIWdldEVmZmVjdFBhcmFtcyB8fCAhZ2V0RWZmZWN0UGFyYW1zKCkuc2xpZGVTaGFkb3dzKSByZXR1cm47XG4gICAgICAvLyByZW1vdmUgc2hhZG93c1xuICAgICAgc3dpcGVyLnNsaWRlcy5mb3JFYWNoKHNsaWRlRWwgPT4ge1xuICAgICAgICBzbGlkZUVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItc2xpZGUtc2hhZG93LXRvcCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQsIC5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSwgLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCcpLmZvckVhY2goc2hhZG93RWwgPT4gc2hhZG93RWwucmVtb3ZlKCkpO1xuICAgICAgfSk7XG4gICAgICAvLyBjcmVhdGUgbmV3IG9uZVxuICAgICAgcmVjcmVhdGVTaGFkb3dzKCk7XG4gICAgfVxuICB9KTtcbiAgbGV0IHJlcXVpcmVVcGRhdGVPblZpcnR1YWw7XG4gIG9uKCd2aXJ0dWFsVXBkYXRlJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgaWYgKCFzd2lwZXIuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbCA9IHRydWU7XG4gICAgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBpZiAocmVxdWlyZVVwZGF0ZU9uVmlydHVhbCAmJiBzd2lwZXIuc2xpZGVzICYmIHN3aXBlci5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIHNldFRyYW5zbGF0ZSgpO1xuICAgICAgICByZXF1aXJlVXBkYXRlT25WaXJ0dWFsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5leHBvcnQgeyBlZmZlY3RJbml0IGFzIGUgfTtcbiIsImltcG9ydCB7IGwgYXMgZ2V0U2xpZGVUcmFuc2Zvcm1FbCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gZWZmZWN0VGFyZ2V0KGVmZmVjdFBhcmFtcywgc2xpZGVFbCkge1xuICBjb25zdCB0cmFuc2Zvcm1FbCA9IGdldFNsaWRlVHJhbnNmb3JtRWwoc2xpZGVFbCk7XG4gIGlmICh0cmFuc2Zvcm1FbCAhPT0gc2xpZGVFbCkge1xuICAgIHRyYW5zZm9ybUVsLnN0eWxlLmJhY2tmYWNlVmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIHRyYW5zZm9ybUVsLnN0eWxlWyctd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHknXSA9ICdoaWRkZW4nO1xuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1FbDtcbn1cblxuZXhwb3J0IHsgZWZmZWN0VGFyZ2V0IGFzIGUgfTtcbiIsImltcG9ydCB7IGogYXMgZWxlbWVudFRyYW5zaXRpb25FbmQgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZHVyYXRpb24sXG4gICAgdHJhbnNmb3JtRWxlbWVudHMsXG4gICAgYWxsU2xpZGVzXG4gIH0gPSBfcmVmO1xuICBjb25zdCB7XG4gICAgYWN0aXZlSW5kZXhcbiAgfSA9IHN3aXBlcjtcbiAgY29uc3QgZ2V0U2xpZGUgPSBlbCA9PiB7XG4gICAgaWYgKCFlbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAvLyBhc3N1bWUgc2hhZG93IHJvb3RcbiAgICAgIGNvbnN0IHNsaWRlID0gc3dpcGVyLnNsaWRlcy5maWx0ZXIoc2xpZGVFbCA9PiBzbGlkZUVsLnNoYWRvd1Jvb3QgJiYgc2xpZGVFbC5zaGFkb3dSb290ID09PSBlbC5wYXJlbnROb2RlKVswXTtcbiAgICAgIHJldHVybiBzbGlkZTtcbiAgICB9XG4gICAgcmV0dXJuIGVsLnBhcmVudEVsZW1lbnQ7XG4gIH07XG4gIGlmIChzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUgJiYgZHVyYXRpb24gIT09IDApIHtcbiAgICBsZXQgZXZlbnRUcmlnZ2VyZWQgPSBmYWxzZTtcbiAgICBsZXQgdHJhbnNpdGlvbkVuZFRhcmdldDtcbiAgICBpZiAoYWxsU2xpZGVzKSB7XG4gICAgICB0cmFuc2l0aW9uRW5kVGFyZ2V0ID0gdHJhbnNmb3JtRWxlbWVudHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zaXRpb25FbmRUYXJnZXQgPSB0cmFuc2Zvcm1FbGVtZW50cy5maWx0ZXIodHJhbnNmb3JtRWwgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IHRyYW5zZm9ybUVsLmNsYXNzTGlzdC5jb250YWlucygnc3dpcGVyLXNsaWRlLXRyYW5zZm9ybScpID8gZ2V0U2xpZGUodHJhbnNmb3JtRWwpIDogdHJhbnNmb3JtRWw7XG4gICAgICAgIHJldHVybiBzd2lwZXIuZ2V0U2xpZGVJbmRleChlbCkgPT09IGFjdGl2ZUluZGV4O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRyYW5zaXRpb25FbmRUYXJnZXQuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbGVtZW50VHJhbnNpdGlvbkVuZChlbCwgKCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnRUcmlnZ2VyZWQpIHJldHVybjtcbiAgICAgICAgaWYgKCFzd2lwZXIgfHwgc3dpcGVyLmRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBldmVudFRyaWdnZXJlZCA9IHRydWU7XG4gICAgICAgIHN3aXBlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgZXZ0ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudCgndHJhbnNpdGlvbmVuZCcsIHtcbiAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHN3aXBlci53cmFwcGVyRWwuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQgYXMgZSB9O1xuIiwiaW1wb3J0IHsgZSBhcyBlZmZlY3RJbml0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFRhcmdldCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBlIGFzIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyc7XG5pbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuLi9zaGFyZWQvdXRpbHMubWpzJztcblxuZnVuY3Rpb24gRWZmZWN0RmFkZShfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGV4dGVuZFBhcmFtcyxcbiAgICBvblxuICB9ID0gX3JlZjtcbiAgZXh0ZW5kUGFyYW1zKHtcbiAgICBmYWRlRWZmZWN0OiB7XG4gICAgICBjcm9zc0ZhZGU6IGZhbHNlXG4gICAgfVxuICB9KTtcbiAgY29uc3Qgc2V0VHJhbnNsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHNsaWRlc1xuICAgIH0gPSBzd2lwZXI7XG4gICAgY29uc3QgcGFyYW1zID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBjb25zdCBzbGlkZUVsID0gc3dpcGVyLnNsaWRlc1tpXTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHNsaWRlRWwuc3dpcGVyU2xpZGVPZmZzZXQ7XG4gICAgICBsZXQgdHggPSAtb2Zmc2V0O1xuICAgICAgaWYgKCFzd2lwZXIucGFyYW1zLnZpcnR1YWxUcmFuc2xhdGUpIHR4IC09IHN3aXBlci50cmFuc2xhdGU7XG4gICAgICBsZXQgdHkgPSAwO1xuICAgICAgaWYgKCFzd2lwZXIuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgdHkgPSB0eDtcbiAgICAgICAgdHggPSAwO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2xpZGVPcGFjaXR5ID0gc3dpcGVyLnBhcmFtcy5mYWRlRWZmZWN0LmNyb3NzRmFkZSA/IE1hdGgubWF4KDEgLSBNYXRoLmFicyhzbGlkZUVsLnByb2dyZXNzKSwgMCkgOiAxICsgTWF0aC5taW4oTWF0aC5tYXgoc2xpZGVFbC5wcm9ncmVzcywgLTEpLCAwKTtcbiAgICAgIGNvbnN0IHRhcmdldEVsID0gZWZmZWN0VGFyZ2V0KHBhcmFtcywgc2xpZGVFbCk7XG4gICAgICB0YXJnZXRFbC5zdHlsZS5vcGFjaXR5ID0gc2xpZGVPcGFjaXR5O1xuICAgICAgdGFyZ2V0RWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7dHh9cHgsICR7dHl9cHgsIDBweClgO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0VHJhbnNpdGlvbiA9IGR1cmF0aW9uID0+IHtcbiAgICBjb25zdCB0cmFuc2Zvcm1FbGVtZW50cyA9IHN3aXBlci5zbGlkZXMubWFwKHNsaWRlRWwgPT4gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKSk7XG4gICAgdHJhbnNmb3JtRWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSBgJHtkdXJhdGlvbn1tc2A7XG4gICAgfSk7XG4gICAgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoe1xuICAgICAgc3dpcGVyLFxuICAgICAgZHVyYXRpb24sXG4gICAgICB0cmFuc2Zvcm1FbGVtZW50cyxcbiAgICAgIGFsbFNsaWRlczogdHJ1ZVxuICAgIH0pO1xuICB9O1xuICBlZmZlY3RJbml0KHtcbiAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICBzd2lwZXIsXG4gICAgb24sXG4gICAgc2V0VHJhbnNsYXRlLFxuICAgIHNldFRyYW5zaXRpb24sXG4gICAgb3ZlcndyaXRlUGFyYW1zOiAoKSA9PiAoe1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHNsaWRlc1Blckdyb3VwOiAxLFxuICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMCxcbiAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICFzd2lwZXIucGFyYW1zLmNzc01vZGVcbiAgICB9KVxuICB9KTtcbn1cblxuZXhwb3J0IHsgRWZmZWN0RmFkZSBhcyBkZWZhdWx0IH07XG4iLCJcbmltcG9ydCB7IFN3aXBlciwgU3dpcGVyU2xpZGUgfSBmcm9tICdzd2lwZXIvcmVhY3QnO1xuaW1wb3J0IHsgbW90aW9ufSBmcm9tICdmcmFtZXItbW90aW9uJ1xuaW1wb3J0IHsgUHJveWVjdEltYWdlc01hZ25hfSBmcm9tICcuLi90eXBlcy9wcm9qZWN0cyc7XG5pbXBvcnQgeyBBdXRvcGxheSwgUGFnaW5hdGlvbiwgTmF2aWdhdGlvbixFZmZlY3RGYWRlIH0gZnJvbSAnc3dpcGVyL21vZHVsZXMnO1xuaW1wb3J0ICdzd2lwZXIvY3NzJztcbmltcG9ydCAnc3dpcGVyL2Nzcy9lZmZlY3QtZmFkZSc7XG5cbnR5cGUgU2xpZGVyUHJvamVjdERldGFpbFByb3BzID0ge1xuICAgIGltYWdlczogUHJveWVjdEltYWdlc01hZ25hW107XG59O1xuXG5jb25zdCBTbGlkZXJQcm9qZWN0RGV0YWlsID0gKFxuICAgIHsgaW1hZ2VzIH06IFNsaWRlclByb2plY3REZXRhaWxQcm9wc1xuKSA9PiB7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8U3dpcGVyXG4gICAgICAgICAgICBzcGFjZUJldHdlZW49ezB9XG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3PXsxfVxuICAgICAgICAgICAgYXV0b3BsYXk9e3tcbiAgICAgICAgICAgICAgICBkZWxheTogODAwMCxcbiAgICAgICAgICAgICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGF1c2VPbk1vdXNlRW50ZXI6IHRydWUsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgbW9kdWxlcz17W0F1dG9wbGF5LCBQYWdpbmF0aW9uLCBOYXZpZ2F0aW9uLEVmZmVjdEZhZGVdfVxuICAgICAgICAgICAgZWZmZWN0PSdmYWRlJ1xuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHJvamVjdERldGFpbFNsaWRlclwiXG4gICAgICAgID5cbiAgICAgICAgICAgIHtpbWFnZXMubWFwKChpbWFnZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8U3dpcGVyU2xpZGUga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICBzdHlsZT17e2hlaWdodDogJzEwMCUnLCB3aWR0aDogJzEwMCUnLGJhY2tncm91bmRDb2xvcjogJ3doaXRlJ319XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiA1MCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC41IH19XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2Ake2ltYWdlLmltYWdlbn1gfSBhbHQ9e2Bwcm95ZWN0by0ke2ltYWdlLnByb3llY3RvfSBgfSBjbGFzc05hbWU9XCJpbWctZmx1aWQgaW1hZ2VuLXByb2VjdG9cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2ltYWdlLnJlZmVyZW5jZXNfdXJsPyBpbWFnZS5yZWZlcmVuY2VzX3VybCA6ICdodHRwczovL3d3dy5NYWduYWluZ2VuaWVyaWF5dG9wb2dyYWZpYS5jb20nfSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub3JlZmVycmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UucmVmZXJlbmNlc19uYW1lPyBpbWFnZS5yZWZlcmVuY2VzX25hbWUgOiAnTWFnbmFpbmdlbmllcmlheXRvcG9ncmFmaWEuY29tJ1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICA8L1N3aXBlclNsaWRlPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvU3dpcGVyPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTbGlkZXJQcm9qZWN0RGV0YWlsO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCxsYXp5IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IHsgTGluaywgdXNlUGFyYW1zIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgQmFubmVyIGZyb20gJy4uL2NvbXBvbmVudHMvYmFubmVyJztcbmltcG9ydCBpbWFnZW5CYW5uZXIgZnJvbSAnLi4vYXNzZXRzL2ltZy9iYW5uZXIvcHJvamVjdHMud2VicCc7XG5pbXBvcnQgeyBSZXN1bHQsUHJveWVjdG9zTWFnbmEsUHJveWVjdEltYWdlc01hZ25hLFNlcnZpY2lvIH0gZnJvbSAnLi4vdHlwZXMvcHJvamVjdHMnO1xuaW1wb3J0IFNsaWRlclByb2plY3REZXRhaWwgZnJvbSAnLi4vY29tcG9uZW50cy9zbGlkZXJQcm9qZWN0RGV0YWlsJztcbmltcG9ydCBQYWdlc0xheW91dCBmcm9tICcuLi9sYXlvdXRzL3BhZ2VzTGF5b3V0cyc7XG4vLyBpbXBvcnQgeyBQcm95ZWN0b3MgfSBmcm9tICcuLi9jb21wb25lbnRzL3NlY3Rpb25zL3Byb3llY3Rvcyc7XG5jb25zdCBQcm95ZWN0b3MgPSBsYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9zZWN0aW9ucy9wcm95ZWN0b3MnKSk7XG5pbXBvcnQgJy4vc3R5bGVzL3Byb2plY3RzRGV0YWlsLmNzcydcbmNvbnN0IExhenlDYXJkc1Byb2plY3RzID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvY2FyZHNQcm9qZWN0cycpKTtcbmNvbnN0IFByb2plY3REZXRhaWw6IFJlYWN0LkZDPSAoKSA9PiB7XG4gICAgY29uc3QgW3Byb2plY3QsIHNldFByb2plY3RdID0gUmVhY3QudXNlU3RhdGU8UmVzdWx0PigpO1xuICAgIGNvbnN0IFtpbWFnZW4sIHNldEltYWdlbl0gPSBSZWFjdC51c2VTdGF0ZTxQcm95ZWN0SW1hZ2VzTWFnbmFbXT4oW10pO1xuICAgIGNvbnN0IHsgcHJvamVjdEFyZ30gPSB1c2VQYXJhbXM8eyBwcm9qZWN0QXJnOiBzdHJpbmcgfT4oKTtcbiAgICBjb25zdCB7IGRhdGE6cHJvamVjdHMgfSA9IHVzZVF1ZXJ5PFByb3llY3Rvc01hZ25hPih7XG4gICAgICAgIHF1ZXJ5S2V5OiBbJ3Byb2plY3RzJ10sXG4gICAgICAgIHN0YWxlVGltZTogMTAwMCo2MCozMCxyZWZldGNoT25XaW5kb3dGb2N1czogZmFsc2UscmVmZXRjaE9uTW91bnQ6IGZhbHNlLHJlZmV0Y2hPblJlY29ubmVjdDogZmFsc2UscmVmZXRjaEludGVydmFsOiAxMDAwKjYwKjMwLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZGF0YTpwcm9qZWN0SW1hZ2VzIH0gPSB1c2VRdWVyeTxQcm95ZWN0SW1hZ2VzTWFnbmFbXT4oe1xuICAgICAgICBxdWVyeUtleTogWydwcm9qZWN0c0ltYWdlcyddLFxuICAgICAgICBzdGFsZVRpbWU6IDEwMDAqNjAqMzAscmVmZXRjaE9uV2luZG93Rm9jdXM6IGZhbHNlLHJlZmV0Y2hPbk1vdW50OiBmYWxzZSxyZWZldGNoT25SZWNvbm5lY3Q6IGZhbHNlLHJlZmV0Y2hJbnRlcnZhbDogMTAwMCo2MCozMCxcbiAgICB9KTtcbiAgICBcblxuICAgIGlmKCFwcm9qZWN0cyB8fCAhcHJvamVjdEltYWdlcyB8fCAhcHJvamVjdEFyZyl7XG4gICAgICAgIHJldHVybiA8ZGl2Pm5vIGhheSA8L2Rpdj47XG4gICAgfVxuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3Rfc2VsZWN0OiBSZXN1bHQgfCBudWxsID0gcHJvamVjdHMucmVzdWx0cy5maW5kKChwcm9qZWN0OiBSZXN1bHQpID0+IHByb2plY3QuaWQgPT09IHBhcnNlSW50KHByb2plY3RBcmcpKSB8fCBudWxsO1xuICAgICAgICBjb25zdCBpbWFnZXM6IFByb3llY3RJbWFnZXNNYWduYVtdID0gcHJvamVjdEltYWdlcy5maWx0ZXIoKGltYWdlbjogUHJveWVjdEltYWdlc01hZ25hKSA9PiBpbWFnZW4ucHJveWVjdG8gPT09IHBhcnNlSW50KHByb2plY3RBcmcpKTtcbiAgICAgICAgaWYgKCFwcm9qZWN0X3NlbGVjdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFByb2plY3QocHJvamVjdF9zZWxlY3QpO1xuICAgICAgICBzZXRJbWFnZW4oaW1hZ2VzKTtcbiAgICAgICAgfSwgW3Byb2plY3RzLHByb2plY3RJbWFnZXMscHJvamVjdEFyZ10pO1xuXG4gICAgaWYgKCFwcm9qZWN0IHx8ICFpbWFnZW4pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgPFBhZ2VzTGF5b3V0PlxuICAgICAgICAgICAgPEJhbm5lciB0aXRsZT1cIlByb3llY3Rvc1wiIHBhcmFncmFwaD0nUHJveWVjdG9zJyBpbWFnZT17aW1hZ2VuQmFubmVyfS8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRpdHVsb1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPSdjb2wtMTAnPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb2plY3Qubm9tYnJlfVxuICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8TGluayB0bz0nL3Byb2plY3RzJyBjbGFzc05hbWU9J2NvbC0yJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPSdib3Rvbi0xICc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyIG3DoXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHByb2plY3QtZGV0YWlsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIGNvbC1tZC02IFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNsaWRlclByb2plY3REZXRhaWwgaW1hZ2VzPXtpbWFnZW59Lz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIGNvbC1tZC02XCIga2V5PXtwcm9qZWN0QXJnfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcGNpw7NuIGRlbCBwcm95ZWN0b1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPntwcm9qZWN0LmRlc2NyaXBjaW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVYmljYWNpw7NuXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Byb2plY3QuY2l1ZGFkLmRlcGFydGFtZW50by5wYWlzLm5vbWJyZX0sIHtwcm9qZWN0LmNpdWRhZC5kZXBhcnRhbWVudG8ubm9tYnJlfSwge3Byb2plY3QuY2l1ZGFkLm5vbWJyZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXJ2aWNpb3MgcHJlc3RhZG9zXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Quc2VydmljaW9zLm1hcCgoc2VydmljaW86IFNlcnZpY2lvKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBrZXk9e3NlcnZpY2lvLmlkfT57c2VydmljaW8ubm9tYnJlfTwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPXtgL3NlcnZpY2lvc2B9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J2JvdG9uLTEnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlciBtw6FzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgcmVsYWNpb25hZG9zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJveWVjdG9zIHJlbGFjaW9uYWRvc1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMYXp5Q2FyZHNQcm9qZWN0cyB0eXBlPXtwcm9qZWN0LnRpcG8uaWR9IGFjdHVhbFBhZ2U9e3Byb2plY3QuaWR9IGltYWdlbmVzPXtwcm9qZWN0SW1hZ2VzfS8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UHJveWVjdG9zIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUGFnZXNMYXlvdXQ+XG4gICAgICAgIDwvPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9qZWN0RGV0YWlsO1xuIl0sImZpbGUiOiJhc3NldHMvcHJvamVjc0RldGFpbC04M2I3ZjE4OC5qcyJ9