import{j as e,S as _,A,b as P,N as E,c as I,d as C,r as n,_ as R,e as D,f as O,u as T,g as L,h as M,k,P as q,m as x}from"./index-71c105d5.js";import{B as z}from"./banner-cc19681b.js";import{A as B,a as F}from"./index.esm-2f1fcde0.js";import{u as V}from"./ScreenSize-41f2c531.js";import{A as $}from"./index-3be2af05.js";import"./index.esm-d4a00941.js";const K=({subServicios:l})=>e.jsx(_,{spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:!0,modules:[A,P,E],children:l==null?void 0:l.map((r,c)=>e.jsx(I,{children:e.jsxs("div",{className:`slide ${r.nombre}`,children:[e.jsx("img",{src:C+"/media/"+r.imagen,alt:r.nombre,className:"img-fluid img-subservicio"}),e.jsx("h3",{children:r.nombre})]})},c))});const Q=n.lazy(()=>R(()=>import("./Servicios-208559d0.js"),["assets/Servicios-208559d0.js","assets/index-71c105d5.js","assets/index-584fdea8.css","assets/setionHeader-a5ca421c.js","assets/Servicios-461373b5.css"])),Y=({issue:l})=>{const{id:r}=D();let[c,p]=n.useState("Nuestros Servicios"),[v,d]=n.useState(O);const{data:o}=T({queryKey:["services"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchInterval:1e3*60*30});let j="container";const[t,u]=n.useState(),[m,g]=n.useState([]),[s,f]=n.useState(null);n.useEffect(()=>{if(o)if(r){const i=o.servicios.filter(a=>a.id.toString()===r);if(i){const a="servicios de "+i[0].nombre;p(a),u(i);const S=o.subServicios.filter(w=>w.servicio_id===i[0].id);g(S),i[0].nombre==="Topografía"&&d(L),i[0].nombre==="Ingeniería y Consultoría"&&d(M),i[0].nombre==="Medio Ambiente"&&d(k),console.log(c,"title")}}else u(o.servicios),g(o.subServicios),p("Nuestros Servicios")},[o,r]);const{width:y}=V(),N=y<=1e3,h=n.useRef(null);N&&(j="mobile");const b=async i=>{f(i)};return n.useEffect(()=>{h.current&&s&&h.current.scrollIntoView({behavior:"smooth"})},[s]),!t||!m?e.jsx("h3",{children:"Error"}):(console.log(t,"servicio_elegido"),e.jsx(e.Fragment,{children:e.jsxs(q,{children:[e.jsx(z,{title:t.length==1?t[0].nombre:"Servicios",paragraph:c.toString(),image:v}),e.jsxs("div",{className:j,children:[e.jsx("div",{className:"row servicio",children:e.jsx("div",{className:"col-12",children:e.jsxs("h2",{className:"text-center",children:[" ",c]})})}),e.jsxs("div",{className:"row content",children:[e.jsx("div",{className:"col-12 col-md-4 ",children:e.jsx("div",{className:`aside ${l}-template`,children:t.map(i=>e.jsx("div",{children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"servicio",children:[e.jsx("h3",{children:i==null?void 0:i.nombre}),e.jsx("p",{children:i==null?void 0:i.descripcion})]},i.id)}),e.jsx("div",{children:m.filter(a=>a.servicio_id===i.id).map(a=>e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(x.div,{onClick:()=>b(a),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"subservicio",children:e.jsxs("div",{className:"row items",children:[e.jsx("span",{className:"col-1 icon-row",children:e.jsx(B,{})}),e.jsxs("h5",{className:"col-10",children:[a.nombre+"   ",e.jsx("span",{children:e.jsx(F,{})})]})]})},a.id)})},a.id))})]})},i.id))})}),e.jsxs("div",{className:"col-12 col-md-8 ",children:[e.jsx("div",{className:"row slider",children:e.jsx(K,{subServicios:m})}),e.jsx("div",{ref:h,children:e.jsx("br",{})},s==null?void 0:s.descripcion),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"row porque-elegirnos",children:[e.jsx($,{children:e.jsxs(x.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,scale:.5},transition:{duration:.3,delay:1,delayChildren:.3,staggerChildren:.3},children:[e.jsx("h2",{children:s?s.nombre:"Servicios de calidad y con la más alta tecnología"}),e.jsx("p",{children:s?s.descripcion:"Somos una empresa con más de 10 años de experiencia en el mercado, con profesionales altamente calificados y con amplia experiencia en el sector público y privado, brindando servicios de calidad y con la más alta tecnología."})]},s==null?void 0:s.id)}),e.jsx("h2",{children:"¿Por qué elegirnos?"}),e.jsx("p",{children:"Somos una empresa con más de 10 años de experiencia en el mercado, con profesionales altamente calificados y con amplia experiencia en el sector público y privado, brindando servicios de calidad y con la más alta tecnología."})]})]})]}),e.jsx("div",{className:"row",children:e.jsx(Q,{})})]})]})}))};export{Y as default};
