import{p as y,q as E,j as s,S as P,A as N,k as T,l as _,m as S,o as O,r as u,_ as v,n as j,R as x,i as g,h as I,L as w}from"./index-e183d08d.js";import{B as M}from"./banner-9708afb9.js";import{i as R}from"./projects-3211399b.js";import"./index.esm-7087b389.js";import"./iconBase-5a6e9e1a.js";import"./index.esm-8c98af6d.js";function F(d){const{effect:e,swiper:t,on:n,setTranslate:m,setTransition:l,overwriteParams:o,perspective:r,recreateShadows:a,getEffectParams:i}=d;n("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),r&&r()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const f=o?o():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),n("setTranslate",()=>{t.params.effect===e&&m()}),n("setTransition",(f,p)=>{t.params.effect===e&&l(p)}),n("transitionEnd",()=>{if(t.params.effect===e&&a){if(!i||!i().slideShadows)return;t.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),a()}});let c;n("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(c=!0),requestAnimationFrame(()=>{c&&t.slides&&t.slides.length&&(m(),c=!1)}))})}function $(d,e){const t=y(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function D(d){let{swiper:e,duration:t,transformElements:n,allSlides:m}=d;const{activeIndex:l}=e,o=r=>r.parentElement?r.parentElement:e.slides.filter(i=>i.shadowRoot&&i.shadowRoot===r.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let r=!1,a;m?a=n:a=n.filter(i=>{const c=i.classList.contains("swiper-slide-transform")?o(i):i;return e.getSlideIndex(c)===l}),a.forEach(i=>{E(i,()=>{if(r||!e||e.destroyed)return;r=!0,e.animating=!1;const c=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(c)})})}}function k(d){let{swiper:e,extendParams:t,on:n}=d;t({fadeEffect:{crossFade:!1}}),F({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:o}=e,r=e.params.fadeEffect;for(let a=0;a<o.length;a+=1){const i=e.slides[a];let f=-i.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let p=0;e.isHorizontal()||(p=f,f=0);const b=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i.progress),0):1+Math.min(Math.max(i.progress,-1),0),h=$(r,i);h.style.opacity=b,h.style.transform=`translate3d(${f}px, ${p}px, 0px)`}},setTransition:o=>{const r=e.slides.map(a=>y(a));r.forEach(a=>{a.style.transitionDuration=`${o}ms`}),D({swiper:e,duration:o,transformElements:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const q=({images:d})=>s.jsx(P,{spaceBetween:0,slidesPerView:1,autoplay:{delay:8e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},modules:[N,T,_,k],effect:"fade",className:"projectDetailSlider",children:d.map((e,t)=>s.jsx(S,{style:{height:"100%",width:"100%",backgroundColor:"white"},children:s.jsxs(O.div,{initial:{opacity:0,y:50},transition:{duration:.5},animate:{opacity:1,y:0},children:[s.jsx("img",{src:`${e.imagen}`,alt:`proyecto-${e.proyecto} `,className:"img-fluid imagen-proecto"}),s.jsx("div",{children:s.jsx("a",{href:e.references_url?e.references_url:"https://www.Magnaingenieriaytopografia.com",target:"_blank",rel:"noreferrer",children:e.references_name?e.references_name:"Magnaingenieriaytopografia.com"})})]})},t))});const A=u.lazy(()=>v(()=>import("./proyectos-2ab83351.js"),["assets/proyectos-2ab83351.js","assets/index-e183d08d.js","assets/index-9f47fd08.css","assets/setionHeader-b1264ec8.js","assets/Recurso 1-e9af6898.js","assets/ScreenSize-09bb2cac.js","assets/useLazyload-11af7c3a.js","assets/proyectos-42af8fd5.css"])),L=u.lazy(()=>v(()=>import("./cardsProjects-fd65a5ad.js"),["assets/cardsProjects-fd65a5ad.js","assets/index-e183d08d.js","assets/index-9f47fd08.css","assets/useLazyload-11af7c3a.js","assets/cardsProjects-577b53fd.css"])),W=()=>{const d=j();console.log(d,"parametros");const[e,t]=x.useState(),[n,m]=x.useState([]),{projectArg:l}=j();console.log(l,"id");const{data:o}=g({queryKey:["projects"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchInterval:1e3*60*30}),{data:r}=g({queryKey:["projectsImages"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchInterval:1e3*60*30});return!o||!r||!l?s.jsx("div",{children:"no hay "}):(u.useEffect(()=>{const a=o.results.find(c=>c.id===parseInt(l))||null,i=r.filter(c=>c.proyecto===parseInt(l));console.log(a,"aqui estoy en project_select",i,"images"),a&&(t(a),m(i))},[o,r,l]),!e||!n?null:s.jsx(s.Fragment,{children:s.jsxs(I,{children:[s.jsx(M,{title:"Proyectos",paragraph:"Proyectos",image:R}),s.jsxs("div",{className:"container-fluid",children:[s.jsxs("div",{className:"row titulo",children:[s.jsx("h2",{className:"col-10",children:e.nombre}),s.jsx(w,{to:"/projects",className:"col-2",children:s.jsx("button",{className:"boton-1 ",children:"ver m치s"})})]}),s.jsxs("div",{className:"row project-detail",children:[s.jsx("div",{className:"col-12 col-md-6 ",children:s.jsx(q,{images:n})}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsx("br",{}),s.jsx("br",{}),s.jsx("h3",{children:"Descripci칩n del proyecto"}),s.jsx("p",{children:e.descripcion}),s.jsx("h3",{children:"Ubicaci칩n"}),s.jsxs("p",{children:[e.ciudad.departamento.pais.nombre,", ",e.ciudad.departamento.nombre,", ",e.ciudad.nombre]}),s.jsx("h3",{children:"Servicios prestados"}),e.servicios.map(a=>s.jsxs(s.Fragment,{children:[s.jsx("h5",{children:a.nombre},a.id),s.jsx(w,{to:"/servicios",children:s.jsx("button",{className:"boton-1",children:"ver m치s"})})]}))]},l)]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 relacionados",children:s.jsx("h3",{children:"Proyectos relacionados"})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsx(L,{type:e.tipo.id,actualPage:e.id,imagenes:r})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsx(A,{})})})]})]})}))};export{W as default};


//# sourceMappingURL=data:application/json;base64,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LFNBQUNBLEVBQUEsVUFBRyxTQUVKLDBCQUNKLEdBQ0osRUFDQUEsTUFBQyxPQUFJLFVBQVUsTUFDWCxlQUFDLE1BQUksV0FBVSxTQUNYLFNBQUNBLEVBQUEsSUFBQWEsRUFBQSxDQUFrQixLQUFNSSxFQUFRLEtBQUssR0FBSSxXQUFZQSxFQUFRLEdBQUksU0FBVVEsRUFBYyxFQUM5RixDQUNKLEdBQ0F6QixFQUFBLElBQUMsTUFBSSxXQUFVLE1BQ1gsU0FBQUEsTUFBQyxNQUFJLFdBQVUsU0FDWCxTQUFBQSxFQUFBLElBQUNVLEVBQVUsR0FDZixHQUNKLEdBQ0osRUFDSixFQUNBLEdBRVIiLCJuYW1lcyI6WyJlZmZlY3RJbml0IiwicGFyYW1zIiwiZWZmZWN0Iiwic3dpcGVyIiwib24iLCJzZXRUcmFuc2xhdGUiLCJzZXRUcmFuc2l0aW9uIiwib3ZlcndyaXRlUGFyYW1zIiwicGVyc3BlY3RpdmUiLCJyZWNyZWF0ZVNoYWRvd3MiLCJnZXRFZmZlY3RQYXJhbXMiLCJvdmVyd3JpdGVQYXJhbXNSZXN1bHQiLCJfcyIsImR1cmF0aW9uIiwic2xpZGVFbCIsInNoYWRvd0VsIiwicmVxdWlyZVVwZGF0ZU9uVmlydHVhbCIsImVmZmVjdFRhcmdldCIsImVmZmVjdFBhcmFtcyIsInRyYW5zZm9ybUVsIiwiZ2V0U2xpZGVUcmFuc2Zvcm1FbCIsImVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIiwiX3JlZiIsInRyYW5zZm9ybUVsZW1lbnRzIiwiYWxsU2xpZGVzIiwiYWN0aXZlSW5kZXgiLCJnZXRTbGlkZSIsImVsIiwiZXZlbnRUcmlnZ2VyZWQiLCJ0cmFuc2l0aW9uRW5kVGFyZ2V0IiwiZWxlbWVudFRyYW5zaXRpb25FbmQiLCJldnQiLCJFZmZlY3RGYWRlIiwiZXh0ZW5kUGFyYW1zIiwic2xpZGVzIiwiaSIsInR4IiwidHkiLCJzbGlkZU9wYWNpdHkiLCJ0YXJnZXRFbCIsIlNsaWRlclByb2plY3REZXRhaWwiLCJpbWFnZXMiLCJqc3giLCJTd2lwZXIiLCJBdXRvcGxheSIsIlBhZ2luYXRpb24iLCJOYXZpZ2F0aW9uIiwiaW1hZ2UiLCJpbmRleCIsIlN3aXBlclNsaWRlIiwianN4cyIsIm1vdGlvbiIsIlByb3llY3RvcyIsImxhenkiLCJfX3ZpdGVQcmVsb2FkIiwiTGF6eUNhcmRzUHJvamVjdHMiLCJQcm9qZWN0RGV0YWlsIiwicGFyYW1ldHJvcyIsInVzZVBhcmFtcyIsInByb2plY3QiLCJzZXRQcm9qZWN0IiwiUmVhY3QiLCJpbWFnZW4iLCJzZXRJbWFnZW4iLCJwcm9qZWN0QXJnIiwicHJvamVjdHMiLCJ1c2VRdWVyeSIsInByb2plY3RJbWFnZXMiLCJ1c2VFZmZlY3QiLCJwcm9qZWN0X3NlbGVjdCIsIkZyYWdtZW50IiwiUGFnZXNMYXlvdXQiLCJCYW5uZXIiLCJpbWFnZW5CYW5uZXIiLCJMaW5rIiwic2VydmljaW8iXSwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9lZmZlY3QtaW5pdC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvc3dpcGVyL3NoYXJlZC9lZmZlY3QtdGFyZ2V0Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC12aXJ0dWFsLXRyYW5zaXRpb24tZW5kLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvbW9kdWxlcy9lZmZlY3QtZmFkZS5tanMiLCIuLi8uLi9zcmMvY29tcG9uZW50cy9zbGlkZXJQcm9qZWN0RGV0YWlsLnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9wcm9qZWNzRGV0YWlsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlZmZlY3RJbml0KHBhcmFtcykge1xuICBjb25zdCB7XG4gICAgZWZmZWN0LFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBvdmVyd3JpdGVQYXJhbXMsXG4gICAgcGVyc3BlY3RpdmUsXG4gICAgcmVjcmVhdGVTaGFkb3dzLFxuICAgIGdldEVmZmVjdFBhcmFtc1xuICB9ID0gcGFyYW1zO1xuICBvbignYmVmb3JlSW5pdCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfSR7ZWZmZWN0fWApO1xuICAgIGlmIChwZXJzcGVjdGl2ZSAmJiBwZXJzcGVjdGl2ZSgpKSB7XG4gICAgICBzd2lwZXIuY2xhc3NOYW1lcy5wdXNoKGAke3N3aXBlci5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30zZGApO1xuICAgIH1cbiAgICBjb25zdCBvdmVyd3JpdGVQYXJhbXNSZXN1bHQgPSBvdmVyd3JpdGVQYXJhbXMgPyBvdmVyd3JpdGVQYXJhbXMoKSA6IHt9O1xuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLnBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgICBPYmplY3QuYXNzaWduKHN3aXBlci5vcmlnaW5hbFBhcmFtcywgb3ZlcndyaXRlUGFyYW1zUmVzdWx0KTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2xhdGUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBzZXRUcmFuc2xhdGUoKTtcbiAgfSk7XG4gIG9uKCdzZXRUcmFuc2l0aW9uJywgKF9zLCBkdXJhdGlvbikgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc2V0VHJhbnNpdGlvbihkdXJhdGlvbik7XG4gIH0pO1xuICBvbigndHJhbnNpdGlvbkVuZCcsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIGlmIChyZWNyZWF0ZVNoYWRvd3MpIHtcbiAgICAgIGlmICghZ2V0RWZmZWN0UGFyYW1zIHx8ICFnZXRFZmZlY3RQYXJhbXMoKS5zbGlkZVNoYWRvd3MpIHJldHVybjtcbiAgICAgIC8vIHJlbW92ZSBzaGFkb3dzXG4gICAgICBzd2lwZXIuc2xpZGVzLmZvckVhY2goc2xpZGVFbCA9PiB7XG4gICAgICAgIHNsaWRlRWwucXVlcnlTZWxlY3RvckFsbCgnLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0JykuZm9yRWFjaChzaGFkb3dFbCA9PiBzaGFkb3dFbC5yZW1vdmUoKSk7XG4gICAgICB9KTtcbiAgICAgIC8vIGNyZWF0ZSBuZXcgb25lXG4gICAgICByZWNyZWF0ZVNoYWRvd3MoKTtcbiAgICB9XG4gIH0pO1xuICBsZXQgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbDtcbiAgb24oJ3ZpcnR1YWxVcGRhdGUnLCAoKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBpZiAoIXN3aXBlci5zbGlkZXMubGVuZ3RoKSB7XG4gICAgICByZXF1aXJlVXBkYXRlT25WaXJ0dWFsID0gdHJ1ZTtcbiAgICB9XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmIChyZXF1aXJlVXBkYXRlT25WaXJ0dWFsICYmIHN3aXBlci5zbGlkZXMgJiYgc3dpcGVyLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICAgc2V0VHJhbnNsYXRlKCk7XG4gICAgICAgIHJlcXVpcmVVcGRhdGVPblZpcnR1YWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IGVmZmVjdEluaXQgYXMgZSB9O1xuIiwiaW1wb3J0IHsgbCBhcyBnZXRTbGlkZVRyYW5zZm9ybUVsIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBlZmZlY3RUYXJnZXQoZWZmZWN0UGFyYW1zLCBzbGlkZUVsKSB7XG4gIGNvbnN0IHRyYW5zZm9ybUVsID0gZ2V0U2xpZGVUcmFuc2Zvcm1FbChzbGlkZUVsKTtcbiAgaWYgKHRyYW5zZm9ybUVsICE9PSBzbGlkZUVsKSB7XG4gICAgdHJhbnNmb3JtRWwuc3R5bGUuYmFja2ZhY2VWaXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgdHJhbnNmb3JtRWwuc3R5bGVbJy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eSddID0gJ2hpZGRlbic7XG4gIH1cbiAgcmV0dXJuIHRyYW5zZm9ybUVsO1xufVxuXG5leHBvcnQgeyBlZmZlY3RUYXJnZXQgYXMgZSB9O1xuIiwiaW1wb3J0IHsgaiBhcyBlbGVtZW50VHJhbnNpdGlvbkVuZCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBkdXJhdGlvbixcbiAgICB0cmFuc2Zvcm1FbGVtZW50cyxcbiAgICBhbGxTbGlkZXNcbiAgfSA9IF9yZWY7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmVJbmRleFxuICB9ID0gc3dpcGVyO1xuICBjb25zdCBnZXRTbGlkZSA9IGVsID0+IHtcbiAgICBpZiAoIWVsLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIC8vIGFzc3VtZSBzaGFkb3cgcm9vdFxuICAgICAgY29uc3Qgc2xpZGUgPSBzd2lwZXIuc2xpZGVzLmZpbHRlcihzbGlkZUVsID0+IHNsaWRlRWwuc2hhZG93Um9vdCAmJiBzbGlkZUVsLnNoYWRvd1Jvb3QgPT09IGVsLnBhcmVudE5vZGUpWzBdO1xuICAgICAgcmV0dXJuIHNsaWRlO1xuICAgIH1cbiAgICByZXR1cm4gZWwucGFyZW50RWxlbWVudDtcbiAgfTtcbiAgaWYgKHN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiBkdXJhdGlvbiAhPT0gMCkge1xuICAgIGxldCBldmVudFRyaWdnZXJlZCA9IGZhbHNlO1xuICAgIGxldCB0cmFuc2l0aW9uRW5kVGFyZ2V0O1xuICAgIGlmIChhbGxTbGlkZXMpIHtcbiAgICAgIHRyYW5zaXRpb25FbmRUYXJnZXQgPSB0cmFuc2Zvcm1FbGVtZW50cztcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNpdGlvbkVuZFRhcmdldCA9IHRyYW5zZm9ybUVsZW1lbnRzLmZpbHRlcih0cmFuc2Zvcm1FbCA9PiB7XG4gICAgICAgIGNvbnN0IGVsID0gdHJhbnNmb3JtRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzd2lwZXItc2xpZGUtdHJhbnNmb3JtJykgPyBnZXRTbGlkZSh0cmFuc2Zvcm1FbCkgOiB0cmFuc2Zvcm1FbDtcbiAgICAgICAgcmV0dXJuIHN3aXBlci5nZXRTbGlkZUluZGV4KGVsKSA9PT0gYWN0aXZlSW5kZXg7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdHJhbnNpdGlvbkVuZFRhcmdldC5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsZW1lbnRUcmFuc2l0aW9uRW5kKGVsLCAoKSA9PiB7XG4gICAgICAgIGlmIChldmVudFRyaWdnZXJlZCkgcmV0dXJuO1xuICAgICAgICBpZiAoIXN3aXBlciB8fCBzd2lwZXIuZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGV2ZW50VHJpZ2dlcmVkID0gdHJ1ZTtcbiAgICAgICAgc3dpcGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBldnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KCd0cmFuc2l0aW9uZW5kJywge1xuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgc3dpcGVyLndyYXBwZXJFbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCBhcyBlIH07XG4iLCJpbXBvcnQgeyBlIGFzIGVmZmVjdEluaXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LWluaXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VGFyZ2V0IH0gZnJvbSAnLi4vc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzJztcbmltcG9ydCB7IGUgYXMgZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQubWpzJztcbmltcG9ydCB7IGwgYXMgZ2V0U2xpZGVUcmFuc2Zvcm1FbCB9IGZyb20gJy4uL3NoYXJlZC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBFZmZlY3RGYWRlKF9yZWYpIHtcbiAgbGV0IHtcbiAgICBzd2lwZXIsXG4gICAgZXh0ZW5kUGFyYW1zLFxuICAgIG9uXG4gIH0gPSBfcmVmO1xuICBleHRlbmRQYXJhbXMoe1xuICAgIGZhZGVFZmZlY3Q6IHtcbiAgICAgIGNyb3NzRmFkZTogZmFsc2VcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzZXRUcmFuc2xhdGUgPSAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2xpZGVzXG4gICAgfSA9IHN3aXBlcjtcbiAgICBjb25zdCBwYXJhbXMgPSBzd2lwZXIucGFyYW1zLmZhZGVFZmZlY3Q7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNsaWRlRWwgPSBzd2lwZXIuc2xpZGVzW2ldO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gc2xpZGVFbC5zd2lwZXJTbGlkZU9mZnNldDtcbiAgICAgIGxldCB0eCA9IC1vZmZzZXQ7XG4gICAgICBpZiAoIXN3aXBlci5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSkgdHggLT0gc3dpcGVyLnRyYW5zbGF0ZTtcbiAgICAgIGxldCB0eSA9IDA7XG4gICAgICBpZiAoIXN3aXBlci5pc0hvcml6b250YWwoKSkge1xuICAgICAgICB0eSA9IHR4O1xuICAgICAgICB0eCA9IDA7XG4gICAgICB9XG4gICAgICBjb25zdCBzbGlkZU9wYWNpdHkgPSBzd2lwZXIucGFyYW1zLmZhZGVFZmZlY3QuY3Jvc3NGYWRlID8gTWF0aC5tYXgoMSAtIE1hdGguYWJzKHNsaWRlRWwucHJvZ3Jlc3MpLCAwKSA6IDEgKyBNYXRoLm1pbihNYXRoLm1heChzbGlkZUVsLnByb2dyZXNzLCAtMSksIDApO1xuICAgICAgY29uc3QgdGFyZ2V0RWwgPSBlZmZlY3RUYXJnZXQocGFyYW1zLCBzbGlkZUVsKTtcbiAgICAgIHRhcmdldEVsLnN0eWxlLm9wYWNpdHkgPSBzbGlkZU9wYWNpdHk7XG4gICAgICB0YXJnZXRFbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoJHt0eH1weCwgJHt0eX1weCwgMHB4KWA7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRUcmFuc2l0aW9uID0gZHVyYXRpb24gPT4ge1xuICAgIGNvbnN0IHRyYW5zZm9ybUVsZW1lbnRzID0gc3dpcGVyLnNsaWRlcy5tYXAoc2xpZGVFbCA9PiBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpKTtcbiAgICB0cmFuc2Zvcm1FbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGAke2R1cmF0aW9ufW1zYDtcbiAgICB9KTtcbiAgICBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCh7XG4gICAgICBzd2lwZXIsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHRyYW5zZm9ybUVsZW1lbnRzLFxuICAgICAgYWxsU2xpZGVzOiB0cnVlXG4gICAgfSk7XG4gIH07XG4gIGVmZmVjdEluaXQoe1xuICAgIGVmZmVjdDogJ2ZhZGUnLFxuICAgIHN3aXBlcixcbiAgICBvbixcbiAgICBzZXRUcmFuc2xhdGUsXG4gICAgc2V0VHJhbnNpdGlvbixcbiAgICBvdmVyd3JpdGVQYXJhbXM6ICgpID0+ICh7XG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgdmlydHVhbFRyYW5zbGF0ZTogIXN3aXBlci5wYXJhbXMuY3NzTW9kZVxuICAgIH0pXG4gIH0pO1xufVxuXG5leHBvcnQgeyBFZmZlY3RGYWRlIGFzIGRlZmF1bHQgfTtcbiIsIlxuaW1wb3J0IHsgU3dpcGVyLCBTd2lwZXJTbGlkZSB9IGZyb20gJ3N3aXBlci9yZWFjdCc7XG5pbXBvcnQgeyBtb3Rpb259IGZyb20gJ2ZyYW1lci1tb3Rpb24nXG5pbXBvcnQgeyBQcm95ZWN0SW1hZ2VzTWFnbmF9IGZyb20gJy4uL3R5cGVzL3Byb2plY3RzJztcbmltcG9ydCB7IEF1dG9wbGF5LCBQYWdpbmF0aW9uLCBOYXZpZ2F0aW9uLEVmZmVjdEZhZGUgfSBmcm9tICdzd2lwZXIvbW9kdWxlcyc7XG5pbXBvcnQgJ3N3aXBlci9jc3MnO1xuaW1wb3J0ICdzd2lwZXIvY3NzL2VmZmVjdC1mYWRlJztcblxudHlwZSBTbGlkZXJQcm9qZWN0RGV0YWlsUHJvcHMgPSB7XG4gICAgaW1hZ2VzOiBQcm95ZWN0SW1hZ2VzTWFnbmFbXTtcbn07XG5cbmNvbnN0IFNsaWRlclByb2plY3REZXRhaWwgPSAoXG4gICAgeyBpbWFnZXMgfTogU2xpZGVyUHJvamVjdERldGFpbFByb3BzXG4pID0+IHtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxTd2lwZXJcbiAgICAgICAgICAgIHNwYWNlQmV0d2Vlbj17MH1cbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc9ezF9XG4gICAgICAgICAgICBhdXRvcGxheT17e1xuICAgICAgICAgICAgICAgIGRlbGF5OiA4MDAwLFxuICAgICAgICAgICAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYXVzZU9uTW91c2VFbnRlcjogdHJ1ZSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBtb2R1bGVzPXtbQXV0b3BsYXksIFBhZ2luYXRpb24sIE5hdmlnYXRpb24sRWZmZWN0RmFkZV19XG4gICAgICAgICAgICBlZmZlY3Q9J2ZhZGUnXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwcm9qZWN0RGV0YWlsU2xpZGVyXCJcbiAgICAgICAgPlxuICAgICAgICAgICAge2ltYWdlcy5tYXAoKGltYWdlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxTd2lwZXJTbGlkZSBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7aGVpZ2h0OiAnMTAwJScsIHdpZHRoOiAnMTAwJScsYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDUwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17YCR7aW1hZ2UuaW1hZ2VufWB9IGFsdD17YHByb3llY3RvLSR7aW1hZ2UucHJveWVjdG99IGB9IGNsYXNzTmFtZT1cImltZy1mbHVpZCBpbWFnZW4tcHJvZWN0b1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17aW1hZ2UucmVmZXJlbmNlc191cmw/IGltYWdlLnJlZmVyZW5jZXNfdXJsIDogJ2h0dHBzOi8vd3d3Lk1hZ25haW5nZW5pZXJpYXl0b3BvZ3JhZmlhLmNvbSd9IHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vcmVmZXJyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5yZWZlcmVuY2VzX25hbWU/IGltYWdlLnJlZmVyZW5jZXNfbmFtZSA6ICdNYWduYWluZ2VuaWVyaWF5dG9wb2dyYWZpYS5jb20nXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgIDwvU3dpcGVyU2xpZGU+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgPC9Td2lwZXI+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNsaWRlclByb2plY3REZXRhaWw7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LGxhenkgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgeyBMaW5rLCB1c2VQYXJhbXMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBCYW5uZXIgZnJvbSAnLi4vY29tcG9uZW50cy9iYW5uZXInO1xuaW1wb3J0IGltYWdlbkJhbm5lciBmcm9tICcuLi9hc3NldHMvaW1nL2Jhbm5lci9wcm9qZWN0cy5wbmcnO1xuaW1wb3J0IHsgUmVzdWx0LFByb3llY3Rvc01hZ25hLFByb3llY3RJbWFnZXNNYWduYSxTZXJ2aWNpbyB9IGZyb20gJy4uL3R5cGVzL3Byb2plY3RzJztcbmltcG9ydCBTbGlkZXJQcm9qZWN0RGV0YWlsIGZyb20gJy4uL2NvbXBvbmVudHMvc2xpZGVyUHJvamVjdERldGFpbCc7XG5pbXBvcnQgUGFnZXNMYXlvdXQgZnJvbSAnLi4vbGF5b3V0cy9wYWdlc0xheW91dHMnO1xuLy8gaW1wb3J0IHsgUHJveWVjdG9zIH0gZnJvbSAnLi4vY29tcG9uZW50cy9zZWN0aW9ucy9wcm95ZWN0b3MnO1xuY29uc3QgUHJveWVjdG9zID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvc2VjdGlvbnMvcHJveWVjdG9zJykpO1xuaW1wb3J0ICcuL3N0eWxlcy9wcm9qZWN0c0RldGFpbC5jc3MnXG5jb25zdCBMYXp5Q2FyZHNQcm9qZWN0cyA9IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL2NhcmRzUHJvamVjdHMnKSk7XG5jb25zdCBQcm9qZWN0RGV0YWlsOiBSZWFjdC5GQz0gKCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtZXRyb3MgPSB1c2VQYXJhbXMoKTtcbiAgICBjb25zb2xlLmxvZyhwYXJhbWV0cm9zLCAncGFyYW1ldHJvcycpO1xuICAgIGNvbnN0IFtwcm9qZWN0LCBzZXRQcm9qZWN0XSA9IFJlYWN0LnVzZVN0YXRlPFJlc3VsdD4oKTtcbiAgICBjb25zdCBbaW1hZ2VuLCBzZXRJbWFnZW5dID0gUmVhY3QudXNlU3RhdGU8UHJveWVjdEltYWdlc01hZ25hW10+KFtdKTtcbiAgICBjb25zdCB7IHByb2plY3RBcmd9ID0gdXNlUGFyYW1zPHsgcHJvamVjdEFyZzogc3RyaW5nIH0+KCk7XG4gICAgY29uc29sZS5sb2cocHJvamVjdEFyZywgJ2lkJyk7XG4gICAgXG4gICAgY29uc3QgeyBkYXRhOnByb2plY3RzIH0gPSB1c2VRdWVyeTxQcm95ZWN0b3NNYWduYT4oe1xuICAgICAgICBxdWVyeUtleTogWydwcm9qZWN0cyddLFxuICAgICAgICBzdGFsZVRpbWU6IDEwMDAqNjAqMzAscmVmZXRjaE9uV2luZG93Rm9jdXM6IGZhbHNlLHJlZmV0Y2hPbk1vdW50OiBmYWxzZSxyZWZldGNoT25SZWNvbm5lY3Q6IGZhbHNlLHJlZmV0Y2hJbnRlcnZhbDogMTAwMCo2MCozMCxcbiAgICB9KTtcbiAgICBjb25zdCB7IGRhdGE6cHJvamVjdEltYWdlcyB9ID0gdXNlUXVlcnk8UHJveWVjdEltYWdlc01hZ25hW10+KHtcbiAgICAgICAgcXVlcnlLZXk6IFsncHJvamVjdHNJbWFnZXMnXSxcbiAgICAgICAgc3RhbGVUaW1lOiAxMDAwKjYwKjMwLHJlZmV0Y2hPbldpbmRvd0ZvY3VzOiBmYWxzZSxyZWZldGNoT25Nb3VudDogZmFsc2UscmVmZXRjaE9uUmVjb25uZWN0OiBmYWxzZSxyZWZldGNoSW50ZXJ2YWw6IDEwMDAqNjAqMzAsXG4gICAgfSk7XG4gICAgXG5cbiAgICBpZighcHJvamVjdHMgfHwgIXByb2plY3RJbWFnZXMgfHwgIXByb2plY3RBcmcpe1xuICAgICAgICByZXR1cm4gPGRpdj5ubyBoYXkgPC9kaXY+O1xuICAgIH1cbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBwcm9qZWN0X3NlbGVjdDogUmVzdWx0IHwgbnVsbCA9IHByb2plY3RzLnJlc3VsdHMuZmluZCgocHJvamVjdDogUmVzdWx0KSA9PiBwcm9qZWN0LmlkID09PSBwYXJzZUludChwcm9qZWN0QXJnKSkgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgaW1hZ2VzOiBQcm95ZWN0SW1hZ2VzTWFnbmFbXSA9IHByb2plY3RJbWFnZXMuZmlsdGVyKChpbWFnZW46IFByb3llY3RJbWFnZXNNYWduYSkgPT4gaW1hZ2VuLnByb3llY3RvID09PSBwYXJzZUludChwcm9qZWN0QXJnKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3Rfc2VsZWN0LCAnYXF1aSBlc3RveSBlbiBwcm9qZWN0X3NlbGVjdCcsaW1hZ2VzLFwiaW1hZ2VzXCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFwcm9qZWN0X3NlbGVjdCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFByb2plY3QocHJvamVjdF9zZWxlY3QpO1xuICAgICAgICBzZXRJbWFnZW4oaW1hZ2VzKTtcbiAgICAgICAgfSwgW3Byb2plY3RzLHByb2plY3RJbWFnZXMscHJvamVjdEFyZ10pO1xuXG4gICAgaWYgKCFwcm9qZWN0IHx8ICFpbWFnZW4pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgPFBhZ2VzTGF5b3V0PlxuICAgICAgICAgICAgPEJhbm5lciB0aXRsZT1cIlByb3llY3Rvc1wiIHBhcmFncmFwaD0nUHJveWVjdG9zJyBpbWFnZT17aW1hZ2VuQmFubmVyfS8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHRpdHVsb1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPSdjb2wtMTAnPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb2plY3Qubm9tYnJlfVxuICAgICAgICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8TGluayB0bz0nL3Byb2plY3RzJyBjbGFzc05hbWU9J2NvbC0yJz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPSdib3Rvbi0xICc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyIG3DoXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHByb2plY3QtZGV0YWlsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIGNvbC1tZC02IFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNsaWRlclByb2plY3REZXRhaWwgaW1hZ2VzPXtpbWFnZW59Lz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIGNvbC1tZC02XCIga2V5PXtwcm9qZWN0QXJnfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcGNpw7NuIGRlbCBwcm95ZWN0b1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPntwcm9qZWN0LmRlc2NyaXBjaW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVYmljYWNpw7NuXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Byb2plY3QuY2l1ZGFkLmRlcGFydGFtZW50by5wYWlzLm5vbWJyZX0sIHtwcm9qZWN0LmNpdWRhZC5kZXBhcnRhbWVudG8ubm9tYnJlfSwge3Byb2plY3QuY2l1ZGFkLm5vbWJyZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXJ2aWNpb3MgcHJlc3RhZG9zXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Quc2VydmljaW9zLm1hcCgoc2VydmljaW86IFNlcnZpY2lvKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBrZXk9e3NlcnZpY2lvLmlkfT57c2VydmljaW8ubm9tYnJlfTwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPXtgL3NlcnZpY2lvc2B9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J2JvdG9uLTEnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlciBtw6FzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgcmVsYWNpb25hZG9zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJveWVjdG9zIHJlbGFjaW9uYWRvc1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMYXp5Q2FyZHNQcm9qZWN0cyB0eXBlPXtwcm9qZWN0LnRpcG8uaWR9IGFjdHVhbFBhZ2U9e3Byb2plY3QuaWR9IGltYWdlbmVzPXtwcm9qZWN0SW1hZ2VzfS8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UHJveWVjdG9zIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUGFnZXNMYXlvdXQ+XG4gICAgICAgIDwvPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9qZWN0RGV0YWlsO1xuIl0sImZpbGUiOiJhc3NldHMvcHJvamVjc0RldGFpbC1mZDA4ZTI5NC5qcyJ9