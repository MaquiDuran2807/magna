import{j as e,r as u,R as p,_ as j}from"./jsx-runtime-329ae681.js";import{Q as N,a as v}from"./useQuery-303ce1b9.js";import{i as x,h as P,b}from"./main.js";import{B as y,S as B,f as R,a as S}from"./sidebarBolgs-bd9e1872.js";import{L as f}from"./index-47726f55.js";import{a as F}from"./index.esm-eafa3a99.js";import{u as M}from"./useLazyload-0697bf1e.js";import"./utils-4decd3ad.js";import"./apiClient-4214bebe.js";import"./index-fdfb6bde.js";import"./logoOriginal-f292af29.js";import"./ThemeProvider-0f50096d.js";import"./floawhatsapp-6f52b278.js";import"./footer1-07962d7a.js";import"./index.esm-f65753b7.js";import"./iconBase-362add62.js";import"./index.esm-8ae24eaa.js";import"./index.esm-b821d194.js";var w=class extends N{constructor(s,t){super(s,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(s,t){super.setOptions({...s,behavior:x()},t)}getOptimisticResult(s){return s.behavior=x(),super.getOptimisticResult(s)}fetchNextPage(s){return this.fetch({...s,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(s){return this.fetch({...s,meta:{fetchMore:{direction:"backward"}}})}createResult(s,t){var n,o,h,r;const{state:a}=s,c=super.createResult(s,t),{isFetching:i,isRefetching:l}=c,d=i&&((o=(n=a.fetchMeta)==null?void 0:n.fetchMore)==null?void 0:o.direction)==="forward",m=i&&((r=(h=a.fetchMeta)==null?void 0:h.fetchMore)==null?void 0:r.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:P(t,a.data),hasPreviousPage:b(t,a.data),isFetchingNextPage:d,isFetchingPreviousPage:m,isRefetching:l&&!d&&!m}}};function L(s,t){return v(s,w,t)}const O=({blogs:s,search:t})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[t&&t.length===0&&e.jsx("h3",{children:"No se encontraron resultados"}),t&&t.length>0&&e.jsx("h3",{children:"Resultados de la búsqueda"}),t&&(t==null?void 0:t.map(a=>e.jsx("div",{className:"col-lg-4 col-md-4 col-sm-6 ",children:e.jsx(f,{to:`/blog/${a.id}`,className:"link-blogs",children:e.jsxs("div",{className:"card card-blog mt-3 small-card",children:[e.jsx("div",{className:"card-img-top",children:e.jsx("img",{src:a.image,className:"img-fluid small-image",alt:a.title})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:a.title}),e.jsxs("p",{className:"card-text",children:[a.description.slice(0,200),"..."]})]})]})})},a.id))),t&&t.length>0&&e.jsx("hr",{className:"mt-5"})]}),e.jsx("div",{className:"row",children:s.map(a=>{let c="",i="",l="";return a.important===!1?(c="col-lg-4 col-md-4 col-sm-6",l="small-card",i="small-image"):a.important===!0?(c="col-lg-6 col-md-12 col-sm-12 ",i="big-image",l="big-card"):(c="col-lg-3 col-md-4 col-sm-6",i="small-image",l="small-card"),e.jsx("div",{className:c,children:e.jsx(f,{to:`/blog/${a.id}`,className:"link-blogs",children:e.jsxs("div",{className:`card card-blog mt-3 ${l}`,children:[e.jsx("div",{className:"card-img-top",children:e.jsx("img",{src:a.image,className:` img-fluid ${i}`,alt:a.title})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:a.title}),e.jsxs("p",{className:"card-text",children:[a.description.slice(0,200),"..."]})]})]})})},a.id)})})]}),_=({setFilter:s})=>{const[t,a]=u.useState(""),c=i=>{a(i.target.value),s(i.target.value)};return e.jsxs("div",{children:[e.jsx("input",{type:"text",value:t,onChange:c,placeholder:"Buscar...",className:"blog-search"}),e.jsx(F,{className:"ms-2"})]})},C=p.lazy(()=>j(()=>import("./main.js").then(s=>s.s),["main.js","jsx-runtime-329ae681.js","index-47726f55.js","index-fdfb6bde.js","utils-4decd3ad.js","apiClient-4214bebe.js","index-4365ec00.css"])),E=()=>{const[s,t]=u.useState(""),[a,c]=u.useState(null),{data:i,isError:l,isLoading:d,fetchNextPage:m,hasNextPage:n,isFetchingNextPage:o}=L({queryKey:["blogs"],queryFn:({pageParam:r=0})=>S(r),initialPageParam:"1",staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchInterval:1e3*60*30,getNextPageParam:r=>{if(r!=null&&r.nextPage)return r.nextPage.split("=")[1]}});if(u.useEffect(()=>{if(!s)return;(async()=>{const g=await R(s);g&&c(g)})()},[s]),l)return e.jsx("div",{children:"Error"});if(d)return e.jsx(C,{});if(!i)return;const h=i.pages.flatMap(r=>(r==null?void 0:r.blogs)??[]);return e.jsx("div",{className:"blog-container pt-3",children:e.jsx(y,{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"blog-header  text-center",children:e.jsx("h1",{children:"MagnaBlog"})}),e.jsx("div",{className:" text-center",children:e.jsx(_,{setFilter:t})}),e.jsxs("div",{className:"blog-cards ",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-8 col-12",children:e.jsx(O,{blogs:h,search:a})}),e.jsx("div",{className:"col-md-4 col-12",children:e.jsx(B,{})})]}),e.jsx("button",{onClick:()=>m(),className:"btn btn-primary",type:"button",disabled:!n||o,style:{marginTop:"2rem"},children:o?"Loading more...":n?"Cargar más blogs":"No hay más blogs"})]})]})})})};function Z(){const{isVisible:s,ref:t}=M("100px");return e.jsx("div",{id:"LazyBlog",ref:t,children:s?e.jsx(E,{}):null})}export{Z as default};


//# sourceMappingURL=data:application/json;base64,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QUMsT0FBSSxVQUFVLDJCQUNYLFNBQUNBLE1BQUEsTUFBRyxxQkFBUyxDQUNqQixTQUNDLE1BQUksV0FBVSxlQUNYLFNBQUNBLEVBQUEsSUFBQWtDLEVBQUEsQ0FBVyxVQUFBM0IsQ0FBc0IsR0FDdEMsRUFDQVQsT0FBQyxNQUFJLFdBQVUsY0FDWCxVQUFDQSxPQUFBLE9BQUksVUFBVSxNQUNYLFVBQUNFLE1BQUEsT0FBSSxVQUFVLGtCQUNYLFNBQUFBLE1BQUNMLEdBQVMsTUFBQUMsRUFBYyxPQUFRd0IsRUFBYSxDQUNqRCxTQUNDLE1BQUksV0FBVSxrQkFDWCxTQUFBcEIsTUFBQ21DLEdBQVEsR0FDYixHQUNKLEVBQ0FuQyxFQUFBLElBQUMsVUFDTCxRQUFTLElBQU15QixFQUFjLEVBQzdCLFVBQVUsa0JBQ1YsS0FBSyxTQUNMLFNBQVUsQ0FBQ25DLEdBQWVOLEVBQzFCLE1BQU8sQ0FBRSxVQUFXLE1BQU8sRUFFMUIsU0FBQUEsRUFDSyxrQkFDQU0sRUFDQSxtQkFDQSxtQkFDVixHQUNJLEdBQ0osRUFDSixDQUNKLEVBRVIsRUFHQSxTQUF3QjhDLEdBQVksQ0FDaEMsS0FBTSxDQUFFLFVBQUFDLEVBQVcsSUFBQUMsQ0FBSSxFQUFJQyxFQUF3QixPQUFPLEVBR3RELE9BQUF2QyxFQUFBLElBQUMsT0FBSSxHQUFHLFdBQVcsSUFBQXNDLEVBQ2QsU0FBWUQsRUFBQXJDLEVBQUEsSUFBQ2tCLEVBQUksSUFBSyxJQUMzQixFQUVOIiwibmFtZXMiOlsiSW5maW5pdGVRdWVyeU9ic2VydmVyIiwiUXVlcnlPYnNlcnZlciIsImNsaWVudCIsIm9wdGlvbnMiLCJub3RpZnlPcHRpb25zIiwiaW5maW5pdGVRdWVyeUJlaGF2aW9yIiwicXVlcnkiLCJzdGF0ZSIsInJlc3VsdCIsImlzRmV0Y2hpbmciLCJpc1JlZmV0Y2hpbmciLCJpc0ZldGNoaW5nTmV4dFBhZ2UiLCJfYiIsIl9hIiwiaXNGZXRjaGluZ1ByZXZpb3VzUGFnZSIsIl9kIiwiX2MiLCJoYXNOZXh0UGFnZSIsImhhc1ByZXZpb3VzUGFnZSIsInVzZUluZmluaXRlUXVlcnkiLCJxdWVyeUNsaWVudCIsInVzZUJhc2VRdWVyeSIsIkJsb2dMaXN0IiwiYmxvZ3MiLCJzZWFyY2giLCJqc3hzIiwiRnJhZ21lbnQiLCJqc3giLCJibG9nIiwiTGluayIsInNpemVDbGFzcyIsImltYWdlQ2xhc3MiLCJjYXJkQ2xhc3MiLCJTZWFyY2giLCJzZXRGaWx0ZXIiLCJzZWFyY2hWYWx1ZSIsInNldFNlYXJjaFZhbHVlIiwidXNlU3RhdGUiLCJoYW5kbGVTZWFyY2hDaGFuZ2UiLCJldmVudCIsIkZpU2VhcmNoIiwiU3Bpbm5lciIsIlJlYWN0IiwiX192aXRlUHJlbG9hZCIsIm4iLCJCbG9nIiwiZmlsdGVyIiwiZmlsdGVyQmxvZ3MiLCJzZXRGaWx0ZXJCbG9nc3QiLCJkYXRhIiwiaXNFcnJvciIsImlzTG9hZGluZyIsImZldGNoTmV4dFBhZ2UiLCJwYWdlUGFyYW0iLCJmZXRjaE5leHRCbG9ncyIsImxhc3RQYWdlIiwidXNlRWZmZWN0IiwicmVzcG9uc2UiLCJmZXRjaEJsb2dTZWFyY2giLCJwYWdlIiwiQmxvZ0xheW91dCIsIkJsb2dTZWFyY2giLCJTaWRlYmFyIiwiTGF6eUJsb2ciLCJpc1Zpc2libGUiLCJyZWYiLCJ1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciJdLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9AdGFuc3RhY2svcXVlcnktY29yZS9idWlsZC9tb2Rlcm4vaW5maW5pdGVRdWVyeU9ic2VydmVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL0B0YW5zdGFjay9yZWFjdC1xdWVyeS9idWlsZC9tb2Rlcm4vdXNlSW5maW5pdGVRdWVyeS5qcyIsIi4uL3NyYy9jb21wb25lbnRzL2Jsb2dDYXJkcy50c3giLCIuLi9zcmMvY29tcG9uZW50cy9zZWFyY2gudHN4IiwiLi4vc3JjL3BhZ2VzL2Jsb2cudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9pbmZpbml0ZVF1ZXJ5T2JzZXJ2ZXIudHNcbmltcG9ydCB7IFF1ZXJ5T2JzZXJ2ZXIgfSBmcm9tIFwiLi9xdWVyeU9ic2VydmVyLmpzXCI7XG5pbXBvcnQge1xuICBoYXNOZXh0UGFnZSxcbiAgaGFzUHJldmlvdXNQYWdlLFxuICBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3Jcbn0gZnJvbSBcIi4vaW5maW5pdGVRdWVyeUJlaGF2aW9yLmpzXCI7XG52YXIgSW5maW5pdGVRdWVyeU9ic2VydmVyID0gY2xhc3MgZXh0ZW5kcyBRdWVyeU9ic2VydmVyIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2VsZXNzLWNvbnN0cnVjdG9yXG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgb3B0aW9ucykge1xuICAgIHN1cGVyKGNsaWVudCwgb3B0aW9ucyk7XG4gIH1cbiAgYmluZE1ldGhvZHMoKSB7XG4gICAgc3VwZXIuYmluZE1ldGhvZHMoKTtcbiAgICB0aGlzLmZldGNoTmV4dFBhZ2UgPSB0aGlzLmZldGNoTmV4dFBhZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZldGNoUHJldmlvdXNQYWdlID0gdGhpcy5mZXRjaFByZXZpb3VzUGFnZS5iaW5kKHRoaXMpO1xuICB9XG4gIHNldE9wdGlvbnMob3B0aW9ucywgbm90aWZ5T3B0aW9ucykge1xuICAgIHN1cGVyLnNldE9wdGlvbnMoXG4gICAgICB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGJlaGF2aW9yOiBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3IoKVxuICAgICAgfSxcbiAgICAgIG5vdGlmeU9wdGlvbnNcbiAgICApO1xuICB9XG4gIGdldE9wdGltaXN0aWNSZXN1bHQob3B0aW9ucykge1xuICAgIG9wdGlvbnMuYmVoYXZpb3IgPSBpbmZpbml0ZVF1ZXJ5QmVoYXZpb3IoKTtcbiAgICByZXR1cm4gc3VwZXIuZ2V0T3B0aW1pc3RpY1Jlc3VsdChvcHRpb25zKTtcbiAgfVxuICBmZXRjaE5leHRQYWdlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaCh7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgbWV0YToge1xuICAgICAgICBmZXRjaE1vcmU6IHsgZGlyZWN0aW9uOiBcImZvcndhcmRcIiB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZmV0Y2hQcmV2aW91c1BhZ2Uob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmZldGNoKHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGZldGNoTW9yZTogeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgY3JlYXRlUmVzdWx0KHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBzdGF0ZSB9ID0gcXVlcnk7XG4gICAgY29uc3QgcmVzdWx0ID0gc3VwZXIuY3JlYXRlUmVzdWx0KHF1ZXJ5LCBvcHRpb25zKTtcbiAgICBjb25zdCB7IGlzRmV0Y2hpbmcsIGlzUmVmZXRjaGluZyB9ID0gcmVzdWx0O1xuICAgIGNvbnN0IGlzRmV0Y2hpbmdOZXh0UGFnZSA9IGlzRmV0Y2hpbmcgJiYgc3RhdGUuZmV0Y2hNZXRhPy5mZXRjaE1vcmU/LmRpcmVjdGlvbiA9PT0gXCJmb3J3YXJkXCI7XG4gICAgY29uc3QgaXNGZXRjaGluZ1ByZXZpb3VzUGFnZSA9IGlzRmV0Y2hpbmcgJiYgc3RhdGUuZmV0Y2hNZXRhPy5mZXRjaE1vcmU/LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXN1bHQsXG4gICAgICBmZXRjaE5leHRQYWdlOiB0aGlzLmZldGNoTmV4dFBhZ2UsXG4gICAgICBmZXRjaFByZXZpb3VzUGFnZTogdGhpcy5mZXRjaFByZXZpb3VzUGFnZSxcbiAgICAgIGhhc05leHRQYWdlOiBoYXNOZXh0UGFnZShvcHRpb25zLCBzdGF0ZS5kYXRhKSxcbiAgICAgIGhhc1ByZXZpb3VzUGFnZTogaGFzUHJldmlvdXNQYWdlKG9wdGlvbnMsIHN0YXRlLmRhdGEpLFxuICAgICAgaXNGZXRjaGluZ05leHRQYWdlLFxuICAgICAgaXNGZXRjaGluZ1ByZXZpb3VzUGFnZSxcbiAgICAgIGlzUmVmZXRjaGluZzogaXNSZWZldGNoaW5nICYmICFpc0ZldGNoaW5nTmV4dFBhZ2UgJiYgIWlzRmV0Y2hpbmdQcmV2aW91c1BhZ2VcbiAgICB9O1xuICB9XG59O1xuZXhwb3J0IHtcbiAgSW5maW5pdGVRdWVyeU9ic2VydmVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5maW5pdGVRdWVyeU9ic2VydmVyLmpzLm1hcCIsIlwidXNlIGNsaWVudFwiO1xuXG4vLyBzcmMvdXNlSW5maW5pdGVRdWVyeS50c1xuaW1wb3J0IHsgSW5maW5pdGVRdWVyeU9ic2VydmVyIH0gZnJvbSBcIkB0YW5zdGFjay9xdWVyeS1jb3JlXCI7XG5pbXBvcnQgeyB1c2VCYXNlUXVlcnkgfSBmcm9tIFwiLi91c2VCYXNlUXVlcnkuanNcIjtcbmZ1bmN0aW9uIHVzZUluZmluaXRlUXVlcnkob3B0aW9ucywgcXVlcnlDbGllbnQpIHtcbiAgcmV0dXJuIHVzZUJhc2VRdWVyeShcbiAgICBvcHRpb25zLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5uZWNlc3NhcnktdHlwZS1hc3NlcnRpb25cbiAgICBJbmZpbml0ZVF1ZXJ5T2JzZXJ2ZXIsXG4gICAgcXVlcnlDbGllbnRcbiAgKTtcbn1cbmV4cG9ydCB7XG4gIHVzZUluZmluaXRlUXVlcnlcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VJbmZpbml0ZVF1ZXJ5LmpzLm1hcCIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gJy4uL3R5cGVzL2Jsb2cnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcblxyXG5cclxuaW50ZXJmYWNlIEJsb2dMaXN0UHJvcHMge1xyXG4gICAgYmxvZ3M6IFJlc3VsdFtdO1xyXG4gICAgc2VhcmNoPzogUmVzdWx0W10gfCBudWxsO1xyXG59XHJcblxyXG5jb25zdCBCbG9nTGlzdDogUmVhY3QuRkM8QmxvZ0xpc3RQcm9wcz4gPSAoeyBibG9ncyxzZWFyY2ggIH0pID0+IHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICB7c2VhcmNoICYmIHNlYXJjaC5sZW5ndGggPT09IDAgJiYgPGgzPk5vIHNlIGVuY29udHJhcm9uIHJlc3VsdGFkb3M8L2gzPn1cclxuICAgICAgICAgICAge3NlYXJjaCAmJiBzZWFyY2gubGVuZ3RoID4gMCAmJiA8aDM+UmVzdWx0YWRvcyBkZSBsYSBiw7pzcXVlZGE8L2gzPn1cclxuICAgICAgICAgICAge3NlYXJjaCAmJlxyXG4gICAgICAgICAgICAgICAgc2VhcmNoPy5tYXAoKGJsb2cpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YmxvZy5pZH0gY2xhc3NOYW1lPVwiY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTYgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPXtgL2Jsb2cvJHtibG9nLmlkfWB9IGNsYXNzTmFtZT0nbGluay1ibG9ncyc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkIGNhcmQtYmxvZyBtdC0zIHNtYWxsLWNhcmRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWltZy10b3BcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtibG9nLmltYWdlfSBjbGFzc05hbWU9XCJpbWctZmx1aWQgc21hbGwtaW1hZ2VcIiBhbHQ9e2Jsb2cudGl0bGV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj57YmxvZy50aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC10ZXh0XCI+e2Jsb2cuZGVzY3JpcHRpb24uc2xpY2UoMCwgMjAwKX0uLi48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAge3NlYXJjaCAmJiBzZWFyY2gubGVuZ3RoID4gMCAmJiBcclxuICAgICAgICAgICAgPGhyIGNsYXNzTmFtZT0nbXQtNScvPn1cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgIHtibG9ncy5tYXAoKGJsb2cpID0+IHtcclxuICAgIGxldCBzaXplQ2xhc3MgPSAnJztcclxuICAgIGxldCBpbWFnZUNsYXNzID0gJyc7XHJcbiAgICBsZXQgY2FyZENsYXNzID0gJyc7XHJcbiAgICBpZiAoYmxvZy5pbXBvcnRhbnQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgc2l6ZUNsYXNzID0gJ2NvbC1sZy00IGNvbC1tZC00IGNvbC1zbS02JzsgLy8gUHJpbWVyYSB0YXJqZXRhIHBlcXVlw7FhXHJcbiAgICAgICAgY2FyZENsYXNzID0gJ3NtYWxsLWNhcmQnO1xyXG4gICAgICAgIGltYWdlQ2xhc3MgPSAnc21hbGwtaW1hZ2UnO1xyXG4gICAgfSBlbHNlIGlmIChibG9nLmltcG9ydGFudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHNpemVDbGFzcyA9ICdjb2wtbGctNiBjb2wtbWQtMTIgY29sLXNtLTEyICc7IC8vIFNlZ3VuZGEgdGFyamV0YSAzIHZlY2VzIG3DoXMgZ3JhbmRlXHJcbiAgICAgICAgaW1hZ2VDbGFzcyA9ICdiaWctaW1hZ2UnO1xyXG4gICAgICAgIGNhcmRDbGFzcyA9ICdiaWctY2FyZCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNpemVDbGFzcyA9ICdjb2wtbGctMyBjb2wtbWQtNCBjb2wtc20tNic7IC8vIFJlc3RvIGRlIHRhcmpldGFzIHBlcXVlw7Fhc1xyXG4gICAgICAgIGltYWdlQ2xhc3MgPSAnc21hbGwtaW1hZ2UnO1xyXG4gICAgICAgIGNhcmRDbGFzcyA9ICdzbWFsbC1jYXJkJztcclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgPGRpdiBrZXk9e2Jsb2cuaWR9IGNsYXNzTmFtZT17c2l6ZUNsYXNzfT5cclxuICAgICAgICAgICAgPExpbmsgdG89e2AvYmxvZy8ke2Jsb2cuaWR9YH0gY2xhc3NOYW1lPSdsaW5rLWJsb2dzJz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgY2FyZCBjYXJkLWJsb2cgbXQtMyAke2NhcmRDbGFzc31gfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaW1nLXRvcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17YmxvZy5pbWFnZX0gY2xhc3NOYW1lPXtgIGltZy1mbHVpZCAke2ltYWdlQ2xhc3N9YH0gYWx0PXtibG9nLnRpdGxlfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+e2Jsb2cudGl0bGV9PC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC10ZXh0XCI+e2Jsb2cuZGVzY3JpcHRpb24uc2xpY2UoMCwgMjAwKX0uLi48L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxufSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICAgICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCbG9nTGlzdDsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGaVNlYXJjaCB9IGZyb20gJ3JlYWN0LWljb25zL2ZpJztcblxudHlwZSBTZWFyY2hQcm9wcyA9IHtcbiAgICBzZXRGaWx0ZXI6IChmaWx0ZXI6IHN0cmluZykgPT4gdm9pZDtcbn07XG5cbmNvbnN0IFNlYXJjaDogUmVhY3QuRkM8U2VhcmNoUHJvcHM+ID0gKHsgc2V0RmlsdGVyIH0pID0+IHtcbiAgICBjb25zdCBbc2VhcmNoVmFsdWUsIHNldFNlYXJjaFZhbHVlXSA9IHVzZVN0YXRlKCcnKTtcblxuICAgIGNvbnN0IGhhbmRsZVNlYXJjaENoYW5nZSA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgICAgc2V0U2VhcmNoVmFsdWUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgc2V0RmlsdGVyKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFZhbHVlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTZWFyY2hDaGFuZ2V9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJCdXNjYXIuLi5cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYmxvZy1zZWFyY2gnXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEZpU2VhcmNoIGNsYXNzTmFtZT1cIm1zLTJcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VhcmNoOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJbmZpbml0ZVF1ZXJ5IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmNvbnN0IFNwaW5uZXIgPSBSZWFjdC5sYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9zcGlubmVyJykpO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZX0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSAnLi4vdHlwZXMvYmxvZyc7XG5pbXBvcnQgeyBmZXRjaE5leHRCbG9ncyxmZXRjaEJsb2dTZWFyY2ggfSBmcm9tICcuLi9hcGkvYmxvZyc7XG5pbXBvcnQgXCIuLi9wYWdlcy9zdHlsZXMvYmxvZ3MuY3NzXCJcbmltcG9ydCBCbG9nTGF5b3V0IGZyb20gJy4uL2xheW91dHMvYmxvZ0xheW91dCc7XG5pbXBvcnQgQmxvZ0xpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9ibG9nQ2FyZHMnO1xuaW1wb3J0IFNpZGViYXIgZnJvbSAnLi4vY29tcG9uZW50cy9zaWRlYmFyQm9sZ3MnO1xuaW1wb3J0IEJsb2dTZWFyY2ggZnJvbSAnLi4vY29tcG9uZW50cy9zZWFyY2gnO1xuaW1wb3J0IHVzZUludGVyc2VjdGlvbk9ic2VydmVyIGZyb20gJy4uL2hvb2tzL3VzZUxhenlsb2FkJztcblxuXG5jb25zdCBCbG9nID0gICgpID0+IHtcbiAgICBjb25zdCBbZmlsdGVyLCBzZXRGaWx0ZXJdID0gdXNlU3RhdGUoXCJcIik7XG4gICAgY29uc3QgW2ZpbHRlckJsb2dzLCBzZXRGaWx0ZXJCbG9nc3RdID0gdXNlU3RhdGU8UmVzdWx0W10gfCBudWxsPihudWxsKTtcbiAgICBjb25zdCB7IGRhdGEsIGlzRXJyb3IsIGlzTG9hZGluZywgZmV0Y2hOZXh0UGFnZSxoYXNOZXh0UGFnZSxpc0ZldGNoaW5nTmV4dFBhZ2UgfSA9IHVzZUluZmluaXRlUXVlcnkoXG4gICAgICAgIHtcbiAgICAgICAgICBxdWVyeUtleTogWydibG9ncyddLFxuICAgICAgICAgIHF1ZXJ5Rm46ICh7IHBhZ2VQYXJhbSA9IDAgfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGZldGNoTmV4dEJsb2dzKHBhZ2VQYXJhbSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbml0aWFsUGFnZVBhcmFtOiAnMScsXG4gICAgICAgICAgc3RhbGVUaW1lOiAxMDAwKjYwKjMwLHJlZmV0Y2hPbldpbmRvd0ZvY3VzOiBmYWxzZSxyZWZldGNoSW50ZXJ2YWw6IDEwMDAqNjAqMzAsXG4gICAgICAgICAgZ2V0TmV4dFBhZ2VQYXJhbTogKGxhc3RQYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAobGFzdFBhZ2U/Lm5leHRQYWdlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBsYXN0UGFnZS5uZXh0UGFnZS5zcGxpdCgnPScpWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWZpbHRlcikgcmV0dXJuO1xuICAgICAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoQmxvZ1NlYXJjaChmaWx0ZXIpO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgcmV0dXJuO1xuICAgICAgICAgICAgc2V0RmlsdGVyQmxvZ3N0KHJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgZmV0Y2hEYXRhKCk7XG4gICAgfSwgW2ZpbHRlcl0pO1xuXG4gICAgaWYgKGlzRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIDxkaXY+RXJyb3I8L2Rpdj47XG4gICAgfVxuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuIDxTcGlubmVyIC8+O1xuICAgIH1cbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGJsb2dzOiBSZXN1bHRbXSA9IGRhdGEucGFnZXMuZmxhdE1hcCgocGFnZSkgPT4gcGFnZT8uYmxvZ3MgPz8gW10pO1xuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSdibG9nLWNvbnRhaW5lciBwdC0zJz5cbiAgICAgICAgICAgIDxCbG9nTGF5b3V0PiBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1mbHVpZFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJsb2ctaGVhZGVyICB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgxPk1hZ25hQmxvZzwvaDE+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJsb2dTZWFyY2ggc2V0RmlsdGVyPXtzZXRGaWx0ZXJ9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJsb2ctY2FyZHMgXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLWxnLTggY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCbG9nTGlzdCBibG9ncz17YmxvZ3N9IHNlYXJjaD17ZmlsdGVyQmxvZ3N9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNCBjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNpZGViYXIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmZXRjaE5leHRQYWdlKCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWhhc05leHRQYWdlIHx8IGlzRmV0Y2hpbmdOZXh0UGFnZX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMnJlbScgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpc0ZldGNoaW5nTmV4dFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ0xvYWRpbmcgbW9yZS4uLidcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaGFzTmV4dFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ0NhcmdhciBtw6FzIGJsb2dzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnTm8gaGF5IG3DoXMgYmxvZ3MnfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQmxvZ0xheW91dD5cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGF6eUJsb2cgKCkge1xuICAgIGNvbnN0IHsgaXNWaXNpYmxlLCByZWYgfSA9IHVzZUludGVyc2VjdGlvbk9ic2VydmVyKCcxMDBweCcpO1xuICBcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGlkPVwiTGF6eUJsb2dcIiByZWY9e3JlZn0+XG4gICAgICAgICAgICB7aXNWaXNpYmxlID8gPEJsb2cvPiA6IG51bGx9XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuXG4gICAgXG4iXSwiZmlsZSI6ImJsb2ctYjNlNzYwZTguanMifQ==