import{j as e,S as I,A as O,k as z,l as C,m as R,e as T,r,_ as N,n as L,o as B,p as M,i as V,q as p}from"./index.js";import{A as q,a as k}from"./index.esm-8e0e7528.js";import{i as F,a as K,b as Q,c as W}from"./medio-dc70beb8.js";import{B as Y}from"./banner-c41eb154.js";import{u as $}from"./ScreenSize-d22b7a5d.js";import{A as G}from"./index-8079b195.js";import"./iconBase-24917912.js";import"./index.esm-552fc115.js";import"./index.esm-84b527cb.js";const H=({subServicios:a,subtitle:c})=>e.jsx(I,{spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:!0,modules:[O,z,C],children:a==null?void 0:a.map((n,d)=>e.jsx(R,{children:e.jsxs("div",{className:`slide-service ${n.nombre} `,children:[e.jsx("img",{src:n.imagen,alt:n.nombre,className:"img-fluid img-subservicio"}),e.jsx("h3",{children:c?n.nombre:""})]})},d))});const J=r.lazy(()=>N(()=>import("./brochure-5c889bc1.js"),["brochure-5c889bc1.js","index.js","index-5a9f3c56.css"])),S=r.lazy(()=>N(()=>import("./Servicios-defab640.js"),["Servicios-defab640.js","index.js","index-5a9f3c56.css","setionHeader-b666466c.js","Servicios-7ee61343.css"])),U=()=>{var b,y;const{id:a}=L();let[c,n]=r.useState("Nuestros Servicios"),[d,m]=r.useState(F);const{data:o}=B({queryKey:["services"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchInterval:1e3*60*30});let x="container";const[l,j]=r.useState(),[t,v]=r.useState(null),[w,u]=r.useState(null),[_,f]=r.useState(!0),g=s=>{if(!o)return;const i=o.filter(D=>D.nombre===s);return u(i[0].subservicios),i};r.useEffect(()=>{if(o)if(a){const s=g(a);if(s){const i="servicios de "+s[0].nombre;n(i),j(s),s[0].nombre==="Topografía"&&m(K),s[0].nombre==="Ingeniería y Consultoría"&&m(Q),s[0].nombre==="Medio Ambiente"&&m(W)}}else{j(o),n("Nuestros Servicios");const s=o.flatMap(i=>i.subservicios);u(s)}},[o,a]);const{width:A}=$(),P=A<=1e3,h=r.useRef(null);P&&(x="mobile");const E=async s=>{if(!s)return;const i=[];i.push(s),v(i),f(!1),i&&(u(i),a&&setTimeout(()=>{v(null),f(!0),o&&g(a)},2e4))};return r.useEffect(()=>{if(h.current&&t){const s=h.current.getBoundingClientRect().top+window.pageYOffset,i=-300;window.scroll({top:s+i,behavior:"smooth"})}},[t]),l?e.jsx(e.Fragment,{children:e.jsxs(V,{children:[e.jsx(Y,{title:l.length==1?l[0].nombre:"Servicios",paragraph:c.toString(),image:d}),e.jsxs("div",{className:x,children:[e.jsx("div",{className:"row servicio",children:l.length===1?e.jsx("div",{className:"col-12",children:e.jsx("h2",{className:"text-center",children:c})}):e.jsx("div",{className:"row",children:e.jsx(S,{})})}),e.jsxs("div",{className:"row content",children:[e.jsx("div",{className:"col-12 col-md-4 ",children:e.jsx("div",{className:"aside -template",children:l.map(s=>e.jsx("div",{children:e.jsxs("div",{className:"row px-2",children:[e.jsx("div",{className:"col-12",children:e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"servicio",children:[e.jsx("h3",{children:s==null?void 0:s.nombre}),e.jsx("p",{className:"px-2",children:s==null?void 0:s.descripcion})]},s.id)}),e.jsx("div",{children:s.subservicios.map(i=>e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(p.div,{onClick:()=>E(i),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"subservicio",children:e.jsxs("div",{className:"row items mx-3",children:[e.jsx("span",{className:"col-1 icon-row",children:e.jsx(q,{})}),e.jsxs("h5",{className:"col-10",children:[i.nombre+"   ",e.jsx("span",{children:e.jsx(k,{})})]})]})},i.id)})},i.id))})]})},s.id))})}),e.jsxs("div",{className:"col-12 col-md-8 ",children:[e.jsx("div",{className:"row slider",children:e.jsx(H,{subServicios:w,subtitle:_})}),e.jsxs("div",{className:"row porque-elegirnos",ref:h,children:[e.jsx(G,{children:e.jsxs(p.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,scale:.5},transition:{duration:.3,delay:1,delayChildren:.3,staggerChildren:.3},children:[e.jsx("h2",{children:t?t[0].nombre:"Servicios de calidad y con la más alta tecnología"}),e.jsx("p",{children:t?t[0].descripcion:"Somos una empresa con más de 10 años de experiencia en el mercado, con profesionales altamente calificados y con amplia experiencia en el sector público y privado, brindando servicios de calidad y con la más alta tecnología."})]},t&&((b=t[0])==null?void 0:b.id))}),e.jsx("div",{}),e.jsxs("div",{className:"my-5",children:[e.jsx("h2",{children:"Brochure"}),e.jsx("p",{children:"Para obtener una visión completa de nuestros servicios y ventajas, te invitamos a descargar nuestro brochure informativo. Aquí encontrarás detalles exhaustivos sobre nuestras ofertas, testimonios de clientes satisfechos y la información de contacto necesaria para dar el siguiente paso hacia una colaboración exitosa. ¡Descubre cómo podemos ayudarte a alcanzar tus objetivos hoy mismo!"}),e.jsx(J,{})]})]},t&&((y=t[0])==null?void 0:y.descripcion))]}),l.length===1?e.jsx("div",{className:"row",children:e.jsx(S,{})}):""]})]})]})}):e.jsx(M,{})};function oe(){const{isVisible:a,ref:c}=T("100px");return e.jsx("div",{id:"LazyServecesDetail",ref:c,children:a?e.jsx(U,{}):null})}export{oe as default};


//# sourceMappingURL=data:application/json;base64,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UUFBUyxDQUFFLEVBQ2pDLFFBQVMsQ0FBRSxPQUFRLE9BQVEsUUFBUyxDQUFFLEVBQ3RDLEtBQU0sQ0FBRSxPQUFRLEVBQUcsUUFBUyxFQUFHLE1BQU8sRUFBSSxFQUMxQyxXQUFZLENBQUUsU0FBVSxHQUFLLE1BQU8sRUFBRyxjQUFlLEdBQUssZ0JBQWlCLEVBQUksRUFHaEYsVUFBQXBELE1BQUMsTUFDSSxTQUNLMkIsSUFBb0IsQ0FBQyxFQUFFLE9BQ3ZCLG9EQUNWLFFBQ0MsSUFDSSxVQUFBQSxFQUNLQSxFQUFvQixDQUFDLEVBQUUsWUFDdkIsbU9BQ1YsSUFYS0EsS0FBdUI2QixFQUFBN0IsRUFBb0IsQ0FBQyxJQUFyQixZQUFBNkIsRUFBd0IsS0FhNUQsUUFDQyxNQUFJLElBQ0xoRCxPQUFDLE1BQUksV0FBVSxPQUNYLFVBQUFSLE1BQUMsTUFBRyxTQUFRLGFBQ1pBLE1BQUMsS0FBRSxTQUVILDRZQUNDUyxFQUFVLEtBQ2YsSUE1QmtFa0IsS0FBdUI4QixFQUFBOUIsRUFBb0IsQ0FBQyxJQUFyQixZQUFBOEIsRUFBd0IsWUE2QnJILEdBQ0osRUFDQ2hDLEVBQWlCLFNBQVcsRUFDeEJ6QixNQUFBLE9BQUksVUFBVSxNQUNYLFNBQUFBLE1BQUNXLEVBQWMsSUFDbkIsRUFFQSxJQUVSLEdBQ0osRUFDSixFQUNKLFNBakhRK0MsRUFBTyxHQW1IdkIsRUFHQSxTQUF3QkMsSUFBc0IsQ0FDMUMsS0FBTSxDQUFFLFVBQUFDLEVBQVcsSUFBQUMsQ0FBSSxFQUFJQyxFQUF3QixPQUFPLEVBR3RELE9BQUE5RCxFQUFBLElBQUMsT0FBSSxHQUFHLHFCQUFxQixJQUFBNkQsRUFDeEIsU0FBWUQsRUFBQTVELEVBQUEsSUFBQ2EsRUFBZSxJQUFLLElBQ3RDLEVBRU4iLCJuYW1lcyI6WyJTbGlkZXJTZXJ2aWNlcyIsInN1YlNlcnZpY2lvcyIsInN1YnRpdGxlIiwianN4IiwiU3dpcGVyIiwiQXV0b3BsYXkiLCJQYWdpbmF0aW9uIiwiTmF2aWdhdGlvbiIsInN1YlNlcnZpY2lvIiwiaW5kZXgiLCJTd2lwZXJTbGlkZSIsImpzeHMiLCJQZGZWaWV3ZXIiLCJsYXp5IiwiTGF6eVNlcnZpY2lvcyIsIl9fdml0ZVByZWxvYWQiLCJTZXJ2ZWNlc0RldGFpbCIsImlkIiwidXNlUGFyYW1zIiwidGl0bGUiLCJzZXRUaXRsZSIsInVzZVN0YXRlIiwiaW1hZ2VuIiwic2V0SW1hZ2VuIiwiaW1hZ2VuU2VydmljaW9zIiwic2VydmVjZXMiLCJ1c2VRdWVyeSIsImRpc3Bvc2l0aXZvIiwic2VydmljaW9fZWxlZ2lkbyIsInNldFNlcnZpY2lvX2VsZWdpZG8iLCJzZWxlY3RlZFN1YlNlcnZpY2lvIiwic2V0U2VsZWN0ZWRTdWJTZXJ2aWNpbyIsInNsaWRlciIsInNldFNsaWRlciIsInNldFN1YnRpdGxlIiwiZmlsdGVyU2VydmljaW8iLCJzZXJ2aWNpbyIsInVzZUVmZmVjdCIsInNlcnZpY2lvRWxlZ2lkbyIsInRpdGxlU3RyaW5nIiwiaW1hZ2VuVG9wb2dyYWZpYSIsImltYWdlbkluZ2VuaWVyaWEiLCJpbWFnZW5NZWRpb0FtYmllbnRlIiwid2lkdGgiLCJ1c2VTY3JlZW5TaXplIiwiaXNNb2JpbGUiLCJzdWJTZXJ2aWNpb1BhZ2luYVJlZiIsInVzZVJlZiIsImhhbmRsZVN1YlNlcnZpY2lvQ2xpY2siLCJsaXN0U3Vic2VydmljaW9zIiwiZWxlbWVudFBvc2l0aW9uIiwib2Zmc2V0IiwiRnJhZ21lbnQiLCJQYWdlc0xheW91dCIsIkJhbm5lciIsIm1vdGlvbiIsIkFpT3V0bGluZURvdWJsZVJpZ2h0IiwiQWlGaWxsQ2FyZXREb3duIiwiQW5pbWF0ZVByZXNlbmNlIiwiX2EiLCJfYiIsIlNwaW5uZXIiLCJMYXp5U2VydmVjZXNEZXRhaWwiLCJpc1Zpc2libGUiLCJyZWYiLCJ1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciJdLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL3NsaWRlclNlcnZpY2VzLnRzeCIsIi4uL3NyYy9wYWdlcy9zZXJ2ZWNlc0RldGFpbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN3aXBlciwgU3dpcGVyU2xpZGUgfSBmcm9tICdzd2lwZXIvcmVhY3QnO1xuaW1wb3J0IHsgIFN1YnNlcnZpY2lvIH0gZnJvbSAnLi4vdHlwZXMvdHlwZXMnO1xuaW1wb3J0ICcuL3N0eWxlcy9zbGlkZXJTZXJ2aWNlLmNzcyc7XG4vLyBJbXBvcnQgU3dpcGVyIHN0eWxlc1xuaW1wb3J0ICdzd2lwZXIvY3NzL25hdmlnYXRpb24nO1xuaW1wb3J0ICdzd2lwZXIvY3NzL3BhZ2luYXRpb24nO1xuaW1wb3J0ICdzd2lwZXIvY3NzL3Njcm9sbGJhcic7XG5pbXBvcnQgJ3N3aXBlci9jc3MnO1xuaW1wb3J0IHsgQXV0b3BsYXksIE5hdmlnYXRpb24sIFBhZ2luYXRpb24gfSBmcm9tICdzd2lwZXIvbW9kdWxlcyc7XG5cblxuaW50ZXJmYWNlIFNsaWRlclNlcnZpY2VzUHJvcHMge1xuICAgIHN1YlNlcnZpY2lvcz86IFN1YnNlcnZpY2lvW10gfCBudWxsO1xuICAgIHN1YnRpdGxlPzogYm9vbGVhbjtcbn1cblxuY29uc3QgU2xpZGVyU2VydmljZXM6IFJlYWN0LkZDPFNsaWRlclNlcnZpY2VzUHJvcHM+ID0gKHsgc3ViU2VydmljaW9zLHN1YnRpdGxlfSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxTd2lwZXJcbiAgICAgICAgICAgIHNwYWNlQmV0d2Vlbj17MzB9XG4gICAgICAgICAgICBzbGlkZXNQZXJWaWV3PXsxfVxuICAgICAgICAgICAgYXV0b3BsYXk9e3tcbiAgICAgICAgICAgICAgICBkZWxheTogNTAwMCxcbiAgICAgICAgICAgICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGF1c2VPbk1vdXNlRW50ZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG5hdmlnYXRpb249e3RydWV9XG4gICAgICAgICAgICAgIG1vZHVsZXM9e1tBdXRvcGxheSwgUGFnaW5hdGlvbiwgTmF2aWdhdGlvbl19XG4gICAgICAgICAgICAgIFxuICAgICAgICA+XG4gICAgICAgICAgICB7c3ViU2VydmljaW9zPy5tYXAoKHN1YlNlcnZpY2lvLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxTd2lwZXJTbGlkZSBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzbGlkZS1zZXJ2aWNlICR7c3ViU2VydmljaW8ubm9tYnJlfSBgIH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17c3ViU2VydmljaW8uaW1hZ2VufSBhbHQ9e3N1YlNlcnZpY2lvLm5vbWJyZX0gY2xhc3NOYW1lPSdpbWctZmx1aWQgaW1nLXN1YnNlcnZpY2lvJyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGUgPyBzdWJTZXJ2aWNpby5ub21icmUgOiAgJycgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDwvU3dpcGVyU2xpZGU+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgPC9Td2lwZXI+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNsaWRlclNlcnZpY2VzO1xuIiwiaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlLCBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IGxhenksIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQWlGaWxsQ2FyZXREb3duLCBBaU91dGxpbmVEb3VibGVSaWdodCB9IGZyb20gXCJyZWFjdC1pY29ucy9haVwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCBpbWFnZW5JbmdlbmllcmlhIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL2luZ2VuaWVyaWEud2VicCc7XG5pbXBvcnQgaW1hZ2VuTWVkaW9BbWJpZW50ZSBmcm9tICcuLi9hc3NldHMvaW1nL2Jhbm5lci9tZWRpby53ZWJwJztcbmltcG9ydCBpbWFnZW5TZXJ2aWNpb3MgZnJvbSAnLi4vYXNzZXRzL2ltZy9iYW5uZXIvc2VydmljaW9zLndlYnAnO1xuaW1wb3J0IGltYWdlblRvcG9ncmFmaWEgZnJvbSAnLi4vYXNzZXRzL2ltZy9iYW5uZXIvY29udmVydGVkX3RvcG8ud2VicCc7XG5pbXBvcnQgQmFubmVyIGZyb20gXCIuLi9jb21wb25lbnRzL2Jhbm5lclwiO1xuaW1wb3J0IFNsaWRlclNlcnZpY2VzIGZyb20gXCIuLi9jb21wb25lbnRzL3NsaWRlclNlcnZpY2VzXCI7XG5pbXBvcnQgdXNlU2NyZWVuU2l6ZSBmcm9tICcuLi9ob29rcy9TY3JlZW5TaXplJztcbmltcG9ydCBQYWdlc0xheW91dCBmcm9tIFwiLi4vbGF5b3V0cy9wYWdlc0xheW91dHNcIjtcbmltcG9ydCB7IFNlcnZpY2lvMiwgU3Vic2VydmljaW8gfSBmcm9tIFwiLi4vdHlwZXMvdHlwZXNcIjtcbmltcG9ydCBcIi4vc3R5bGVzL3NlcnZpY2VzRGV0YWlsLmNzc1wiO1xuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vY29tcG9uZW50cy9zcGlubmVyJztcbmltcG9ydCB1c2VJbnRlcnNlY3Rpb25PYnNlcnZlciBmcm9tICcuLi9ob29rcy91c2VMYXp5bG9hZCc7XG5jb25zdCBQZGZWaWV3ZXIgPSBsYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9icm9jaHVyZScpKTtcblxuY29uc3QgTGF6eVNlcnZpY2lvcyA9IGxhenkoKCkgPT4gaW1wb3J0KCcuLi9jb21wb25lbnRzL3NlY3Rpb25zL1NlcnZpY2lvcycpKTtcblxuXG5cbmNvbnN0IFNlcnZlY2VzRGV0YWlsOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGlkIH0gPSB1c2VQYXJhbXM8eyBpZDogc3RyaW5nIH0+KCk7XG5cbiAgICBsZXQgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZTxTdHJpbmc+KFwiTnVlc3Ryb3MgU2VydmljaW9zXCIpO1xuICAgIGxldCBbaW1hZ2VuLCBzZXRJbWFnZW5dID0gdXNlU3RhdGU8U3RyaW5nPihpbWFnZW5TZXJ2aWNpb3MpO1xuICAgIGNvbnN0IHsgZGF0YTogc2VydmVjZXMgfSA9IHVzZVF1ZXJ5PFNlcnZpY2lvMltdPih7XG4gICAgICAgIHF1ZXJ5S2V5OiBbJ3NlcnZpY2VzJ10sXG4gICAgICAgIHN0YWxlVGltZTogMTAwMCAqIDYwICogMzAsXG4gICAgICAgIHJlZmV0Y2hPbldpbmRvd0ZvY3VzOiBmYWxzZSxcbiAgICAgICAgcmVmZXRjaEludGVydmFsOiAxMDAwICogNjAgKiAzMCxcbiAgICB9KTtcbiAgICBsZXQgZGlzcG9zaXRpdm8gPSBcImNvbnRhaW5lclwiO1xuICAgIGNvbnN0IFtzZXJ2aWNpb19lbGVnaWRvLCBzZXRTZXJ2aWNpb19lbGVnaWRvXSA9IHVzZVN0YXRlPFNlcnZpY2lvMltdPigpO1xuICAgIGNvbnN0IFtzZWxlY3RlZFN1YlNlcnZpY2lvLCBzZXRTZWxlY3RlZFN1YlNlcnZpY2lvXSA9IHVzZVN0YXRlPFN1YnNlcnZpY2lvW10gfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbc2xpZGVyLCBzZXRTbGlkZXJdID0gdXNlU3RhdGU8U3Vic2VydmljaW9bXSB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtzdWJ0aXRsZSwgc2V0U3VidGl0bGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XG5cbiAgICBjb25zdCBmaWx0ZXJTZXJ2aWNpbyA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgIGlmICghc2VydmVjZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXJ2aWNpbzogU2VydmljaW8yW10gPSBzZXJ2ZWNlcy5maWx0ZXIoKHNlcnZpY2lvOiBTZXJ2aWNpbzIpID0+IHNlcnZpY2lvLm5vbWJyZSA9PT0gaWQpO1xuICAgICAgICBzZXRTbGlkZXIoc2VydmljaW9bMF0uc3Vic2VydmljaW9zKTtcbiAgICAgICAgcmV0dXJuIHNlcnZpY2lvO1xuICAgIH1cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzZXJ2ZWNlcykge1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VydmljaW9FbGVnaWRvID0gZmlsdGVyU2VydmljaW8oaWQpO1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNpb0VsZWdpZG8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGVTdHJpbmcgPSBcInNlcnZpY2lvcyBkZSBcIiArIHNlcnZpY2lvRWxlZ2lkb1swXS5ub21icmU7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpdGxlKHRpdGxlU3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VydmljaW9fZWxlZ2lkbyhzZXJ2aWNpb0VsZWdpZG8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljaW9FbGVnaWRvWzBdLm5vbWJyZSA9PT0gXCJUb3BvZ3JhZsOtYVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbWFnZW4oaW1hZ2VuVG9wb2dyYWZpYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZpY2lvRWxlZ2lkb1swXS5ub21icmUgPT09IFwiSW5nZW5pZXLDrWEgeSBDb25zdWx0b3LDrWFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1hZ2VuKGltYWdlbkluZ2VuaWVyaWEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNpb0VsZWdpZG9bMF0ubm9tYnJlID09PSBcIk1lZGlvIEFtYmllbnRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEltYWdlbihpbWFnZW5NZWRpb0FtYmllbnRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0U2VydmljaW9fZWxlZ2lkbyhzZXJ2ZWNlcyk7XG4gICAgICAgICAgICAgICAgc2V0VGl0bGUoXCJOdWVzdHJvcyBTZXJ2aWNpb3NcIik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViU2VydmljaW9zID0gc2VydmVjZXMuZmxhdE1hcCgoc3ViU2VydmljaW8pID0+IHN1YlNlcnZpY2lvLnN1YnNlcnZpY2lvcyk7XG4gICAgICAgICAgICAgICAgc2V0U2xpZGVyKHN1YlNlcnZpY2lvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbc2VydmVjZXMsIGlkXSk7XG5cbiAgICBjb25zdCB7IHdpZHRoIH0gPSB1c2VTY3JlZW5TaXplKCk7XG4gICAgY29uc3QgaXNNb2JpbGUgPSB3aWR0aCA8PSAxMDAwO1xuICAgIGNvbnN0IHN1YlNlcnZpY2lvUGFnaW5hUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgICAgZGlzcG9zaXRpdm8gPSBcIm1vYmlsZVwiO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVN1YlNlcnZpY2lvQ2xpY2sgPSBhc3luYyAoc3ViU2VydmljaW86IFN1YnNlcnZpY2lvKSA9PiB7XG4gICAgICAgIGlmICghc3ViU2VydmljaW8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpc3RTdWJzZXJ2aWNpb3M6IFN1YnNlcnZpY2lvW10gPSBbXVxuICAgICAgICBsaXN0U3Vic2VydmljaW9zLnB1c2goc3ViU2VydmljaW8pXG4gICAgICAgIHNldFNlbGVjdGVkU3ViU2VydmljaW8obGlzdFN1YnNlcnZpY2lvcyk7XG4gICAgICAgIHNldFN1YnRpdGxlKGZhbHNlKTtcbiAgICAgICAgaWYgKCFsaXN0U3Vic2VydmljaW9zKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzZXRTbGlkZXIobGlzdFN1YnNlcnZpY2lvcyk7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRTdWJTZXJ2aWNpbyhudWxsKTtcbiAgICAgICAgICAgIHNldFN1YnRpdGxlKHRydWUpO1xuICAgICAgICAgICAgaWYgKCFzZXJ2ZWNlcykge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsdGVyU2VydmljaW8oaWQpO1xuICAgICAgICB9LCAyMDAwMCk7XG4gICAgfTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzdWJTZXJ2aWNpb1BhZ2luYVJlZi5jdXJyZW50ICYmICEhc2VsZWN0ZWRTdWJTZXJ2aWNpbykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudFBvc2l0aW9uID0gc3ViU2VydmljaW9QYWdpbmFSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSAtMzAwOyAvLyBBanVzdGEgZXN0ZSB2YWxvciBzZWfDum4gY3XDoW50byBtw6FzIGFycmliYSBxdWllcmFzIHF1ZSBzZWEgZWwgc2Nyb2xsXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHtcbiAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRQb3NpdGlvbiArIG9mZnNldCxcbiAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW3NlbGVjdGVkU3ViU2VydmljaW9dKTtcblxuICAgIGlmICghc2VydmljaW9fZWxlZ2lkbykge1xuICAgICAgICByZXR1cm4gPFNwaW5uZXIvPjtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAgPFBhZ2VzTGF5b3V0PlxuICAgICAgICAgICAgICAgIDxCYW5uZXIgdGl0bGU9e3NlcnZpY2lvX2VsZWdpZG8ubGVuZ3RoID09IDEgPyBzZXJ2aWNpb19lbGVnaWRvWzBdLm5vbWJyZSA6IFwiU2VydmljaW9zXCJ9IHBhcmFncmFwaD17dGl0bGUudG9TdHJpbmcoKX0gaW1hZ2U9e2ltYWdlbn0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17ZGlzcG9zaXRpdm99PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBzZXJ2aWNpb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZpY2lvX2VsZWdpZG8ubGVuZ3RoID09PSAxID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPnt0aXRsZX08L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGF6eVNlcnZpY2lvcyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyIGNvbC1tZC00IFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYXNpZGUgLXRlbXBsYXRlYH0gPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VydmljaW9fZWxlZ2lkby5tYXAoKHNlcnZpY2lvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzZXJ2aWNpby5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHB4LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjYgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VydmljaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3NlcnZpY2lvLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPntzZXJ2aWNpbz8ubm9tYnJlfTwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ncHgtMic+e3NlcnZpY2lvPy5kZXNjcmlwY2lvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZXJ2aWNpby5zdWJzZXJ2aWNpb3MubWFwKChzdWJTZXJ2aWNpbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3N1YlNlcnZpY2lvLmlkfSBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3ViU2VydmljaW9DbGljayhzdWJTZXJ2aWNpbyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdWJzZXJ2aWNpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N1YlNlcnZpY2lvLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBpdGVtcyBteC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY29sLTEgaWNvbi1yb3dcIj48QWlPdXRsaW5lRG91YmxlUmlnaHQgLz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImNvbC0xMFwiPntzdWJTZXJ2aWNpby5ub21icmUgKyBcIiAgIFwifTxzcGFuPjxBaUZpbGxDYXJldERvd24gLz48L3NwYW4+PC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiBjb2wtbWQtOCBcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgc2xpZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTbGlkZXJTZXJ2aWNlcyBzdWJTZXJ2aWNpb3M9e3NsaWRlcn0gc3VidGl0bGU9e3N1YnRpdGxlfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IHBvcnF1ZS1lbGVnaXJub3NcIiByZWY9e3N1YlNlcnZpY2lvUGFnaW5hUmVmfSBrZXk9e3NlbGVjdGVkU3ViU2VydmljaW8gJiYgc2VsZWN0ZWRTdWJTZXJ2aWNpb1swXT8uZGVzY3JpcGNpb259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgaGVpZ2h0OiBcImF1dG9cIiwgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQ9e3sgaGVpZ2h0OiAwLCBvcGFjaXR5OiAwLCBzY2FsZTogMC41IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zLCBkZWxheTogMSwgZGVsYXlDaGlsZHJlbjogMC4zLCBzdGFnZ2VyQ2hpbGRyZW46IDAuMyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17c2VsZWN0ZWRTdWJTZXJ2aWNpbyAmJiBzZWxlY3RlZFN1YlNlcnZpY2lvWzBdPy5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFN1YlNlcnZpY2lvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkU3ViU2VydmljaW9bMF0ubm9tYnJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiU2VydmljaW9zIGRlIGNhbGlkYWQgeSBjb24gbGEgbcOhcyBhbHRhIHRlY25vbG9nw61hXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkU3ViU2VydmljaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2VsZWN0ZWRTdWJTZXJ2aWNpb1swXS5kZXNjcmlwY2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlNvbW9zIHVuYSBlbXByZXNhIGNvbiBtw6FzIGRlIDEwIGHDsW9zIGRlIGV4cGVyaWVuY2lhIGVuIGVsIG1lcmNhZG8sIGNvbiBwcm9mZXNpb25hbGVzIGFsdGFtZW50ZSBjYWxpZmljYWRvcyB5IGNvbiBhbXBsaWEgZXhwZXJpZW5jaWEgZW4gZWwgc2VjdG9yIHDDumJsaWNvIHkgcHJpdmFkbywgYnJpbmRhbmRvIHNlcnZpY2lvcyBkZSBjYWxpZGFkIHkgY29uIGxhIG3DoXMgYWx0YSB0ZWNub2xvZ8OtYS5cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXktNSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDI+QnJvY2h1cmU8L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyYSBvYnRlbmVyIHVuYSB2aXNpw7NuIGNvbXBsZXRhIGRlIG51ZXN0cm9zIHNlcnZpY2lvcyB5IHZlbnRhamFzLCB0ZSBpbnZpdGFtb3MgYSBkZXNjYXJnYXIgbnVlc3RybyBicm9jaHVyZSBpbmZvcm1hdGl2by4gQXF1w60gZW5jb250cmFyw6FzIGRldGFsbGVzIGV4aGF1c3Rpdm9zIHNvYnJlIG51ZXN0cmFzIG9mZXJ0YXMsIHRlc3RpbW9uaW9zIGRlIGNsaWVudGVzIHNhdGlzZmVjaG9zIHkgbGEgaW5mb3JtYWNpw7NuIGRlIGNvbnRhY3RvIG5lY2VzYXJpYSBwYXJhIGRhciBlbCBzaWd1aWVudGUgcGFzbyBoYWNpYSB1bmEgY29sYWJvcmFjacOzbiBleGl0b3NhLiDCoURlc2N1YnJlIGPDs21vIHBvZGVtb3MgYXl1ZGFydGUgYSBhbGNhbnphciB0dXMgb2JqZXRpdm9zIGhveSBtaXNtbyFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQZGZWaWV3ZXIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZXJ2aWNpb19lbGVnaWRvLmxlbmd0aCA9PT0gMSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGF6eVNlcnZpY2lvcyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvUGFnZXNMYXlvdXQ+XG4gICAgICAgIDwvPlxuICAgICk7XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExhenlTZXJ2ZWNlc0RldGFpbCAoKSB7XG4gICAgY29uc3QgeyBpc1Zpc2libGUsIHJlZiB9ID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoJzEwMHB4Jyk7XG4gIFxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgaWQ9XCJMYXp5U2VydmVjZXNEZXRhaWxcIiByZWY9e3JlZn0+XG4gICAgICAgICAgICB7aXNWaXNpYmxlID8gPFNlcnZlY2VzRGV0YWlsIC8+IDogbnVsbH1cbiAgICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfSJdLCJmaWxlIjoic2VydmVjZXNEZXRhaWwtNzA4MjVmNTEuanMifQ==