import{_ as y,u as j}from"./@tanstack/react-query-devtools-a5fc292d.js";import{j as s}from"./spinner-75e68d5d.js";import{r as u,a as x}from"./react-1cdf6ce0.js";import{u as g,L as w}from"./react-router-dom-3d2ba1f5.js";import{B as E}from"./banner-ae774052.js";import{S as P,b as N,c as T,N as _,d as S,P as O,i as I}from"./main-85e60c12.js";import{g as v,e as M}from"./swiper-dad05047.js";import{m as F}from"./framer-motion-e3192eb3.js";import"./react-dom-983a5519.js";import"./index.esm-387aec9d.js";import"./index.esm-d847aead.js";import"./axios-28bc18a3.js";function R(d){const{effect:e,swiper:t,on:n,setTranslate:m,setTransition:l,overwriteParams:o,perspective:a,recreateShadows:r,getEffectParams:i}=d;n("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const f=o?o():{};Object.assign(t.params,f),Object.assign(t.originalParams,f)}),n("setTranslate",()=>{t.params.effect===e&&m()}),n("setTransition",(f,p)=>{t.params.effect===e&&l(p)}),n("transitionEnd",()=>{if(t.params.effect===e&&r){if(!i||!i().slideShadows)return;t.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(p=>p.remove())}),r()}});let c;n("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(c=!0),requestAnimationFrame(()=>{c&&t.slides&&t.slides.length&&(m(),c=!1)}))})}function $(d,e){const t=v(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function D(d){let{swiper:e,duration:t,transformElements:n,allSlides:m}=d;const{activeIndex:l}=e,o=a=>a.parentElement?a.parentElement:e.slides.filter(i=>i.shadowRoot&&i.shadowRoot===a.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let a=!1,r;m?r=n:r=n.filter(i=>{const c=i.classList.contains("swiper-slide-transform")?o(i):i;return e.getSlideIndex(c)===l}),r.forEach(i=>{M(i,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const c=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(c)})})}}function L(d){let{swiper:e,extendParams:t,on:n}=d;t({fadeEffect:{crossFade:!1}}),R({effect:"fade",swiper:e,on:n,setTranslate:()=>{const{slides:o}=e,a=e.params.fadeEffect;for(let r=0;r<o.length;r+=1){const i=e.slides[r];let f=-i.swiperSlideOffset;e.params.virtualTranslate||(f-=e.translate);let p=0;e.isHorizontal()||(p=f,f=0);const b=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(i.progress),0):1+Math.min(Math.max(i.progress,-1),0),h=$(a,i);h.style.opacity=b,h.style.transform=`translate3d(${f}px, ${p}px, 0px)`}},setTransition:o=>{const a=e.slides.map(r=>v(r));a.forEach(r=>{r.style.transitionDuration=`${o}ms`}),D({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const V=({images:d})=>s.jsx(P,{spaceBetween:0,slidesPerView:1,autoplay:{delay:8e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},modules:[N,T,_,L],effect:"fade",className:"projectDetailSlider",children:d.map((e,t)=>s.jsx(S,{style:{height:"100%",width:"100%",backgroundColor:"white"},children:s.jsxs(F.div,{initial:{opacity:0,y:50},transition:{duration:.5},animate:{opacity:1,y:0},children:[s.jsx("img",{src:`${e.imagen}`,alt:`proyecto-${e.proyecto} `,className:"img-fluid imagen-proecto"}),s.jsx("div",{children:s.jsx("a",{href:e.references_url?e.references_url:"https://www.Magnaingenieriaytopografia.com",target:"_blank",rel:"noreferrer",children:e.references_name?e.references_name:"Magnaingenieriaytopografia.com"})})]})},t))});const k=u.lazy(()=>y(()=>import("./proyectos-3296ce13.js"),["static/proyectos-3296ce13.js","static/spinner-75e68d5d.js","static/react-1cdf6ce0.js","static/setionHeader-0090b7fc.js","static/framer-motion-e3192eb3.js","static/@tanstack/react-query-devtools-a5fc292d.js","static/main-85e60c12.js","static/react-dom-983a5519.js","static/react-router-dom-3d2ba1f5.js","static/axios-28bc18a3.js","static/swiper-dad05047.js","static/index-1ffa2a7c.css","static/Recurso 1-101c8ab1.js","static/ScreenSize-8bca974b.js","static/useLazyload-da8a0755.js","static/proyectos-6b00c577.css"])),q=u.lazy(()=>y(()=>import("./cardsProjects-f0d867fe.js"),["static/cardsProjects-f0d867fe.js","static/spinner-75e68d5d.js","static/react-1cdf6ce0.js","static/@tanstack/react-query-devtools-a5fc292d.js","static/react-router-dom-3d2ba1f5.js","static/react-dom-983a5519.js","static/useLazyload-da8a0755.js","static/framer-motion-e3192eb3.js","static/cardsProjects-577b53fd.css"])),Y=()=>{const d=g();console.log(d,"parametros");const[e,t]=x.useState(),[n,m]=x.useState([]),{projectArg:l}=g();console.log(l,"id");const{data:o}=j({queryKey:["projects"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchInterval:1e3*60*30}),{data:a}=j({queryKey:["projectsImages"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchInterval:1e3*60*30});return!o||!a||!l?s.jsx("div",{children:"no hay "}):(u.useEffect(()=>{const r=o.results.find(c=>c.id===parseInt(l))||null,i=a.filter(c=>c.proyecto===parseInt(l));console.log(r,"aqui estoy en project_select",i,"images"),r&&(t(r),m(i))},[o,a,l]),!e||!n?null:s.jsx(s.Fragment,{children:s.jsxs(O,{children:[s.jsx(E,{title:"Proyectos",paragraph:"Proyectos",image:I}),s.jsxs("div",{className:"container-fluid",children:[s.jsxs("div",{className:"row titulo",children:[s.jsx("h2",{className:"col-10",children:e.nombre}),s.jsx(w,{to:"/projects",className:"col-2",children:s.jsx("button",{className:"boton-1 ",children:"ver m치s"})})]}),s.jsxs("div",{className:"row project-detail",children:[s.jsx("div",{className:"col-12 col-md-6 ",children:s.jsx(V,{images:n})}),s.jsxs("div",{className:"col-12 col-md-6",children:[s.jsx("br",{}),s.jsx("br",{}),s.jsx("h3",{children:"Descripci칩n del proyecto"}),s.jsx("p",{children:e.descripcion}),s.jsx("h3",{children:"Ubicaci칩n"}),s.jsxs("p",{children:[e.ciudad.departamento.pais.nombre,", ",e.ciudad.departamento.nombre,", ",e.ciudad.nombre]}),s.jsx("h3",{children:"Servicios prestados"}),e.servicios.map(r=>s.jsxs(s.Fragment,{children:[s.jsx("h5",{children:r.nombre},r.id),s.jsx(w,{to:"/servicios",children:s.jsx("button",{className:"boton-1",children:"ver m치s"})})]}))]},l)]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12 relacionados",children:s.jsx("h3",{children:"Proyectos relacionados"})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsx(q,{type:e.tipo.id,actualPage:e.id,imagenes:a})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsx(k,{})})})]})]})}))};export{Y as default};


//# sourceMappingURL=data:application/json;base64,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Q1gsU0FBQ0EsRUFBQSxVQUFHLFNBRUosMEJBQ0osR0FDSixFQUNBQSxNQUFDLE9BQUksVUFBVSxNQUNYLGVBQUMsTUFBSSxXQUFVLFNBQ1gsU0FBQ0EsRUFBQSxJQUFBYSxFQUFBLENBQWtCLEtBQU1JLEVBQVEsS0FBSyxHQUFJLFdBQVlBLEVBQVEsR0FBSSxTQUFVUSxFQUFjLEVBQzlGLENBQ0osR0FDQXpCLEVBQUEsSUFBQyxNQUFJLFdBQVUsTUFDWCxTQUFBQSxNQUFDLE1BQUksV0FBVSxTQUNYLFNBQUFBLEVBQUEsSUFBQ1UsRUFBVSxHQUNmLEdBQ0osR0FDSixFQUNKLEVBQ0EsR0FFUiIsIm5hbWVzIjpbImVmZmVjdEluaXQiLCJwYXJhbXMiLCJlZmZlY3QiLCJzd2lwZXIiLCJvbiIsInNldFRyYW5zbGF0ZSIsInNldFRyYW5zaXRpb24iLCJvdmVyd3JpdGVQYXJhbXMiLCJwZXJzcGVjdGl2ZSIsInJlY3JlYXRlU2hhZG93cyIsImdldEVmZmVjdFBhcmFtcyIsIm92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCIsIl9zIiwiZHVyYXRpb24iLCJzbGlkZUVsIiwic2hhZG93RWwiLCJyZXF1aXJlVXBkYXRlT25WaXJ0dWFsIiwiZWZmZWN0VGFyZ2V0IiwiZWZmZWN0UGFyYW1zIiwidHJhbnNmb3JtRWwiLCJnZXRTbGlkZVRyYW5zZm9ybUVsIiwiZWZmZWN0VmlydHVhbFRyYW5zaXRpb25FbmQiLCJfcmVmIiwidHJhbnNmb3JtRWxlbWVudHMiLCJhbGxTbGlkZXMiLCJhY3RpdmVJbmRleCIsImdldFNsaWRlIiwiZWwiLCJldmVudFRyaWdnZXJlZCIsInRyYW5zaXRpb25FbmRUYXJnZXQiLCJlbGVtZW50VHJhbnNpdGlvbkVuZCIsImV2dCIsIkVmZmVjdEZhZGUiLCJleHRlbmRQYXJhbXMiLCJzbGlkZXMiLCJpIiwidHgiLCJ0eSIsInNsaWRlT3BhY2l0eSIsInRhcmdldEVsIiwiU2xpZGVyUHJvamVjdERldGFpbCIsImltYWdlcyIsImpzeCIsIlN3aXBlciIsIkF1dG9wbGF5IiwiUGFnaW5hdGlvbiIsIk5hdmlnYXRpb24iLCJpbWFnZSIsImluZGV4IiwiU3dpcGVyU2xpZGUiLCJqc3hzIiwibW90aW9uIiwiUHJveWVjdG9zIiwibGF6eSIsIl9fdml0ZVByZWxvYWQiLCJMYXp5Q2FyZHNQcm9qZWN0cyIsIlByb2plY3REZXRhaWwiLCJwYXJhbWV0cm9zIiwidXNlUGFyYW1zIiwicHJvamVjdCIsInNldFByb2plY3QiLCJSZWFjdCIsImltYWdlbiIsInNldEltYWdlbiIsInByb2plY3RBcmciLCJwcm9qZWN0cyIsInVzZVF1ZXJ5IiwicHJvamVjdEltYWdlcyIsInVzZUVmZmVjdCIsInByb2plY3Rfc2VsZWN0IiwiRnJhZ21lbnQiLCJQYWdlc0xheW91dCIsIkJhbm5lciIsImltYWdlbkJhbm5lciIsIkxpbmsiLCJzZXJ2aWNpbyJdLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC1pbml0Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9zd2lwZXIvc2hhcmVkL2VmZmVjdC10YXJnZXQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9zaGFyZWQvZWZmZWN0LXZpcnR1YWwtdHJhbnNpdGlvbi1lbmQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL3N3aXBlci9tb2R1bGVzL2VmZmVjdC1mYWRlLm1qcyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL3NsaWRlclByb2plY3REZXRhaWwudHN4IiwiLi4vLi4vc3JjL3BhZ2VzL3Byb2plY3NEZXRhaWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGVmZmVjdEluaXQocGFyYW1zKSB7XG4gIGNvbnN0IHtcbiAgICBlZmZlY3QsXG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBzZXRUcmFuc2l0aW9uLFxuICAgIG92ZXJ3cml0ZVBhcmFtcyxcbiAgICBwZXJzcGVjdGl2ZSxcbiAgICByZWNyZWF0ZVNoYWRvd3MsXG4gICAgZ2V0RWZmZWN0UGFyYW1zXG4gIH0gPSBwYXJhbXM7XG4gIG9uKCdiZWZvcmVJbml0JywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgc3dpcGVyLmNsYXNzTmFtZXMucHVzaChgJHtzd2lwZXIucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtlZmZlY3R9YCk7XG4gICAgaWYgKHBlcnNwZWN0aXZlICYmIHBlcnNwZWN0aXZlKCkpIHtcbiAgICAgIHN3aXBlci5jbGFzc05hbWVzLnB1c2goYCR7c3dpcGVyLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzfTNkYCk7XG4gICAgfVxuICAgIGNvbnN0IG92ZXJ3cml0ZVBhcmFtc1Jlc3VsdCA9IG92ZXJ3cml0ZVBhcmFtcyA/IG92ZXJ3cml0ZVBhcmFtcygpIDoge307XG4gICAgT2JqZWN0LmFzc2lnbihzd2lwZXIucGFyYW1zLCBvdmVyd3JpdGVQYXJhbXNSZXN1bHQpO1xuICAgIE9iamVjdC5hc3NpZ24oc3dpcGVyLm9yaWdpbmFsUGFyYW1zLCBvdmVyd3JpdGVQYXJhbXNSZXN1bHQpO1xuICB9KTtcbiAgb24oJ3NldFRyYW5zbGF0ZScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIHNldFRyYW5zbGF0ZSgpO1xuICB9KTtcbiAgb24oJ3NldFRyYW5zaXRpb24nLCAoX3MsIGR1cmF0aW9uKSA9PiB7XG4gICAgaWYgKHN3aXBlci5wYXJhbXMuZWZmZWN0ICE9PSBlZmZlY3QpIHJldHVybjtcbiAgICBzZXRUcmFuc2l0aW9uKGR1cmF0aW9uKTtcbiAgfSk7XG4gIG9uKCd0cmFuc2l0aW9uRW5kJywgKCkgPT4ge1xuICAgIGlmIChzd2lwZXIucGFyYW1zLmVmZmVjdCAhPT0gZWZmZWN0KSByZXR1cm47XG4gICAgaWYgKHJlY3JlYXRlU2hhZG93cykge1xuICAgICAgaWYgKCFnZXRFZmZlY3RQYXJhbXMgfHwgIWdldEVmZmVjdFBhcmFtcygpLnNsaWRlU2hhZG93cykgcmV0dXJuO1xuICAgICAgLy8gcmVtb3ZlIHNoYWRvd3NcbiAgICAgIHN3aXBlci5zbGlkZXMuZm9yRWFjaChzbGlkZUVsID0+IHtcbiAgICAgICAgc2xpZGVFbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQnKS5mb3JFYWNoKHNoYWRvd0VsID0+IHNoYWRvd0VsLnJlbW92ZSgpKTtcbiAgICAgIH0pO1xuICAgICAgLy8gY3JlYXRlIG5ldyBvbmVcbiAgICAgIHJlY3JlYXRlU2hhZG93cygpO1xuICAgIH1cbiAgfSk7XG4gIGxldCByZXF1aXJlVXBkYXRlT25WaXJ0dWFsO1xuICBvbigndmlydHVhbFVwZGF0ZScsICgpID0+IHtcbiAgICBpZiAoc3dpcGVyLnBhcmFtcy5lZmZlY3QgIT09IGVmZmVjdCkgcmV0dXJuO1xuICAgIGlmICghc3dpcGVyLnNsaWRlcy5sZW5ndGgpIHtcbiAgICAgIHJlcXVpcmVVcGRhdGVPblZpcnR1YWwgPSB0cnVlO1xuICAgIH1cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgaWYgKHJlcXVpcmVVcGRhdGVPblZpcnR1YWwgJiYgc3dpcGVyLnNsaWRlcyAmJiBzd2lwZXIuc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICBzZXRUcmFuc2xhdGUoKTtcbiAgICAgICAgcmVxdWlyZVVwZGF0ZU9uVmlydHVhbCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgZWZmZWN0SW5pdCBhcyBlIH07XG4iLCJpbXBvcnQgeyBsIGFzIGdldFNsaWRlVHJhbnNmb3JtRWwgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIGVmZmVjdFRhcmdldChlZmZlY3RQYXJhbXMsIHNsaWRlRWwpIHtcbiAgY29uc3QgdHJhbnNmb3JtRWwgPSBnZXRTbGlkZVRyYW5zZm9ybUVsKHNsaWRlRWwpO1xuICBpZiAodHJhbnNmb3JtRWwgIT09IHNsaWRlRWwpIHtcbiAgICB0cmFuc2Zvcm1FbC5zdHlsZS5iYWNrZmFjZVZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB0cmFuc2Zvcm1FbC5zdHlsZVsnLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5J10gPSAnaGlkZGVuJztcbiAgfVxuICByZXR1cm4gdHJhbnNmb3JtRWw7XG59XG5cbmV4cG9ydCB7IGVmZmVjdFRhcmdldCBhcyBlIH07XG4iLCJpbXBvcnQgeyBqIGFzIGVsZW1lbnRUcmFuc2l0aW9uRW5kIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZChfcmVmKSB7XG4gIGxldCB7XG4gICAgc3dpcGVyLFxuICAgIGR1cmF0aW9uLFxuICAgIHRyYW5zZm9ybUVsZW1lbnRzLFxuICAgIGFsbFNsaWRlc1xuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGFjdGl2ZUluZGV4XG4gIH0gPSBzd2lwZXI7XG4gIGNvbnN0IGdldFNsaWRlID0gZWwgPT4ge1xuICAgIGlmICghZWwucGFyZW50RWxlbWVudCkge1xuICAgICAgLy8gYXNzdW1lIHNoYWRvdyByb290XG4gICAgICBjb25zdCBzbGlkZSA9IHN3aXBlci5zbGlkZXMuZmlsdGVyKHNsaWRlRWwgPT4gc2xpZGVFbC5zaGFkb3dSb290ICYmIHNsaWRlRWwuc2hhZG93Um9vdCA9PT0gZWwucGFyZW50Tm9kZSlbMF07XG4gICAgICByZXR1cm4gc2xpZGU7XG4gICAgfVxuICAgIHJldHVybiBlbC5wYXJlbnRFbGVtZW50O1xuICB9O1xuICBpZiAoc3dpcGVyLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlICYmIGR1cmF0aW9uICE9PSAwKSB7XG4gICAgbGV0IGV2ZW50VHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgbGV0IHRyYW5zaXRpb25FbmRUYXJnZXQ7XG4gICAgaWYgKGFsbFNsaWRlcykge1xuICAgICAgdHJhbnNpdGlvbkVuZFRhcmdldCA9IHRyYW5zZm9ybUVsZW1lbnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2l0aW9uRW5kVGFyZ2V0ID0gdHJhbnNmb3JtRWxlbWVudHMuZmlsdGVyKHRyYW5zZm9ybUVsID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSB0cmFuc2Zvcm1FbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N3aXBlci1zbGlkZS10cmFuc2Zvcm0nKSA/IGdldFNsaWRlKHRyYW5zZm9ybUVsKSA6IHRyYW5zZm9ybUVsO1xuICAgICAgICByZXR1cm4gc3dpcGVyLmdldFNsaWRlSW5kZXgoZWwpID09PSBhY3RpdmVJbmRleDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0cmFuc2l0aW9uRW5kVGFyZ2V0LmZvckVhY2goZWwgPT4ge1xuICAgICAgZWxlbWVudFRyYW5zaXRpb25FbmQoZWwsICgpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50VHJpZ2dlcmVkKSByZXR1cm47XG4gICAgICAgIGlmICghc3dpcGVyIHx8IHN3aXBlci5kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgZXZlbnRUcmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICBzd2lwZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGV2dCA9IG5ldyB3aW5kb3cuQ3VzdG9tRXZlbnQoJ3RyYW5zaXRpb25lbmQnLCB7XG4gICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBzd2lwZXIud3JhcHBlckVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB7IGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kIGFzIGUgfTtcbiIsImltcG9ydCB7IGUgYXMgZWZmZWN0SW5pdCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtaW5pdC5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RUYXJnZXQgfSBmcm9tICcuLi9zaGFyZWQvZWZmZWN0LXRhcmdldC5tanMnO1xuaW1wb3J0IHsgZSBhcyBlZmZlY3RWaXJ0dWFsVHJhbnNpdGlvbkVuZCB9IGZyb20gJy4uL3NoYXJlZC9lZmZlY3QtdmlydHVhbC10cmFuc2l0aW9uLWVuZC5tanMnO1xuaW1wb3J0IHsgbCBhcyBnZXRTbGlkZVRyYW5zZm9ybUVsIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIEVmZmVjdEZhZGUoX3JlZikge1xuICBsZXQge1xuICAgIHN3aXBlcixcbiAgICBleHRlbmRQYXJhbXMsXG4gICAgb25cbiAgfSA9IF9yZWY7XG4gIGV4dGVuZFBhcmFtcyh7XG4gICAgZmFkZUVmZmVjdDoge1xuICAgICAgY3Jvc3NGYWRlOiBmYWxzZVxuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHNldFRyYW5zbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzbGlkZXNcbiAgICB9ID0gc3dpcGVyO1xuICAgIGNvbnN0IHBhcmFtcyA9IHN3aXBlci5wYXJhbXMuZmFkZUVmZmVjdDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc2xpZGVFbCA9IHN3aXBlci5zbGlkZXNbaV07XG4gICAgICBjb25zdCBvZmZzZXQgPSBzbGlkZUVsLnN3aXBlclNsaWRlT2Zmc2V0O1xuICAgICAgbGV0IHR4ID0gLW9mZnNldDtcbiAgICAgIGlmICghc3dpcGVyLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlKSB0eCAtPSBzd2lwZXIudHJhbnNsYXRlO1xuICAgICAgbGV0IHR5ID0gMDtcbiAgICAgIGlmICghc3dpcGVyLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgIHR5ID0gdHg7XG4gICAgICAgIHR4ID0gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsaWRlT3BhY2l0eSA9IHN3aXBlci5wYXJhbXMuZmFkZUVmZmVjdC5jcm9zc0ZhZGUgPyBNYXRoLm1heCgxIC0gTWF0aC5hYnMoc2xpZGVFbC5wcm9ncmVzcyksIDApIDogMSArIE1hdGgubWluKE1hdGgubWF4KHNsaWRlRWwucHJvZ3Jlc3MsIC0xKSwgMCk7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IGVmZmVjdFRhcmdldChwYXJhbXMsIHNsaWRlRWwpO1xuICAgICAgdGFyZ2V0RWwuc3R5bGUub3BhY2l0eSA9IHNsaWRlT3BhY2l0eTtcbiAgICAgIHRhcmdldEVsLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3R4fXB4LCAke3R5fXB4LCAwcHgpYDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldFRyYW5zaXRpb24gPSBkdXJhdGlvbiA9PiB7XG4gICAgY29uc3QgdHJhbnNmb3JtRWxlbWVudHMgPSBzd2lwZXIuc2xpZGVzLm1hcChzbGlkZUVsID0+IGdldFNsaWRlVHJhbnNmb3JtRWwoc2xpZGVFbCkpO1xuICAgIHRyYW5zZm9ybUVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgICAgZWwuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gYCR7ZHVyYXRpb259bXNgO1xuICAgIH0pO1xuICAgIGVmZmVjdFZpcnR1YWxUcmFuc2l0aW9uRW5kKHtcbiAgICAgIHN3aXBlcixcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgdHJhbnNmb3JtRWxlbWVudHMsXG4gICAgICBhbGxTbGlkZXM6IHRydWVcbiAgICB9KTtcbiAgfTtcbiAgZWZmZWN0SW5pdCh7XG4gICAgZWZmZWN0OiAnZmFkZScsXG4gICAgc3dpcGVyLFxuICAgIG9uLFxuICAgIHNldFRyYW5zbGF0ZSxcbiAgICBzZXRUcmFuc2l0aW9uLFxuICAgIG92ZXJ3cml0ZVBhcmFtczogKCkgPT4gKHtcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICBzbGlkZXNQZXJHcm91cDogMSxcbiAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICB2aXJ0dWFsVHJhbnNsYXRlOiAhc3dpcGVyLnBhcmFtcy5jc3NNb2RlXG4gICAgfSlcbiAgfSk7XG59XG5cbmV4cG9ydCB7IEVmZmVjdEZhZGUgYXMgZGVmYXVsdCB9O1xuIiwiXG5pbXBvcnQgeyBTd2lwZXIsIFN3aXBlclNsaWRlIH0gZnJvbSAnc3dpcGVyL3JlYWN0JztcbmltcG9ydCB7IG1vdGlvbn0gZnJvbSAnZnJhbWVyLW1vdGlvbidcbmltcG9ydCB7IFByb3llY3RJbWFnZXNNYWduYX0gZnJvbSAnLi4vdHlwZXMvcHJvamVjdHMnO1xuaW1wb3J0IHsgQXV0b3BsYXksIFBhZ2luYXRpb24sIE5hdmlnYXRpb24sRWZmZWN0RmFkZSB9IGZyb20gJ3N3aXBlci9tb2R1bGVzJztcbmltcG9ydCAnc3dpcGVyL2Nzcyc7XG5pbXBvcnQgJ3N3aXBlci9jc3MvZWZmZWN0LWZhZGUnO1xuXG50eXBlIFNsaWRlclByb2plY3REZXRhaWxQcm9wcyA9IHtcbiAgICBpbWFnZXM6IFByb3llY3RJbWFnZXNNYWduYVtdO1xufTtcblxuY29uc3QgU2xpZGVyUHJvamVjdERldGFpbCA9IChcbiAgICB7IGltYWdlcyB9OiBTbGlkZXJQcm9qZWN0RGV0YWlsUHJvcHNcbikgPT4ge1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFN3aXBlclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuPXswfVxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldz17MX1cbiAgICAgICAgICAgIGF1dG9wbGF5PXt7XG4gICAgICAgICAgICAgICAgZGVsYXk6IDgwMDAsXG4gICAgICAgICAgICAgICAgZGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBhdXNlT25Nb3VzZUVudGVyOiB0cnVlLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG1vZHVsZXM9e1tBdXRvcGxheSwgUGFnaW5hdGlvbiwgTmF2aWdhdGlvbixFZmZlY3RGYWRlXX1cbiAgICAgICAgICAgIGVmZmVjdD0nZmFkZSdcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInByb2plY3REZXRhaWxTbGlkZXJcIlxuICAgICAgICA+XG4gICAgICAgICAgICB7aW1hZ2VzLm1hcCgoaW1hZ2UsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPFN3aXBlclNsaWRlIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3toZWlnaHQ6ICcxMDAlJywgd2lkdGg6ICcxMDAlJyxiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZSd9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogNTAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuNSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtgJHtpbWFnZS5pbWFnZW59YH0gYWx0PXtgcHJveWVjdG8tJHtpbWFnZS5wcm95ZWN0b30gYH0gY2xhc3NOYW1lPVwiaW1nLWZsdWlkIGltYWdlbi1wcm9lY3RvXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXtpbWFnZS5yZWZlcmVuY2VzX3VybD8gaW1hZ2UucmVmZXJlbmNlc191cmwgOiAnaHR0cHM6Ly93d3cuTWFnbmFpbmdlbmllcmlheXRvcG9ncmFmaWEuY29tJ30gdGFyZ2V0PVwiX2JsYW5rXCIgcmVsPVwibm9yZWZlcnJlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLnJlZmVyZW5jZXNfbmFtZT8gaW1hZ2UucmVmZXJlbmNlc19uYW1lIDogJ01hZ25haW5nZW5pZXJpYXl0b3BvZ3JhZmlhLmNvbSdcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgPC9Td2lwZXJTbGlkZT5cbiAgICAgICAgICAgICkpfVxuICAgICAgICA8L1N3aXBlcj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2xpZGVyUHJvamVjdERldGFpbDtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsbGF6eSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB7IExpbmssIHVzZVBhcmFtcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IEJhbm5lciBmcm9tICcuLi9jb21wb25lbnRzL2Jhbm5lcic7XG5pbXBvcnQgaW1hZ2VuQmFubmVyIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL3Byb2plY3RzLnBuZyc7XG5pbXBvcnQgeyBSZXN1bHQsUHJveWVjdG9zTWFnbmEsUHJveWVjdEltYWdlc01hZ25hLFNlcnZpY2lvIH0gZnJvbSAnLi4vdHlwZXMvcHJvamVjdHMnO1xuaW1wb3J0IFNsaWRlclByb2plY3REZXRhaWwgZnJvbSAnLi4vY29tcG9uZW50cy9zbGlkZXJQcm9qZWN0RGV0YWlsJztcbmltcG9ydCBQYWdlc0xheW91dCBmcm9tICcuLi9sYXlvdXRzL3BhZ2VzTGF5b3V0cyc7XG4vLyBpbXBvcnQgeyBQcm95ZWN0b3MgfSBmcm9tICcuLi9jb21wb25lbnRzL3NlY3Rpb25zL3Byb3llY3Rvcyc7XG5jb25zdCBQcm95ZWN0b3MgPSBsYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9zZWN0aW9ucy9wcm95ZWN0b3MnKSk7XG5pbXBvcnQgJy4vc3R5bGVzL3Byb2plY3RzRGV0YWlsLmNzcydcbmNvbnN0IExhenlDYXJkc1Byb2plY3RzID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvY2FyZHNQcm9qZWN0cycpKTtcbmNvbnN0IFByb2plY3REZXRhaWw6IFJlYWN0LkZDPSAoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1ldHJvcyA9IHVzZVBhcmFtcygpO1xuICAgIGNvbnNvbGUubG9nKHBhcmFtZXRyb3MsICdwYXJhbWV0cm9zJyk7XG4gICAgY29uc3QgW3Byb2plY3QsIHNldFByb2plY3RdID0gUmVhY3QudXNlU3RhdGU8UmVzdWx0PigpO1xuICAgIGNvbnN0IFtpbWFnZW4sIHNldEltYWdlbl0gPSBSZWFjdC51c2VTdGF0ZTxQcm95ZWN0SW1hZ2VzTWFnbmFbXT4oW10pO1xuICAgIGNvbnN0IHsgcHJvamVjdEFyZ30gPSB1c2VQYXJhbXM8eyBwcm9qZWN0QXJnOiBzdHJpbmcgfT4oKTtcbiAgICBjb25zb2xlLmxvZyhwcm9qZWN0QXJnLCAnaWQnKTtcbiAgICBcbiAgICBjb25zdCB7IGRhdGE6cHJvamVjdHMgfSA9IHVzZVF1ZXJ5PFByb3llY3Rvc01hZ25hPih7XG4gICAgICAgIHF1ZXJ5S2V5OiBbJ3Byb2plY3RzJ10sXG4gICAgICAgIHN0YWxlVGltZTogMTAwMCo2MCozMCxyZWZldGNoT25XaW5kb3dGb2N1czogZmFsc2UscmVmZXRjaE9uTW91bnQ6IGZhbHNlLHJlZmV0Y2hPblJlY29ubmVjdDogZmFsc2UscmVmZXRjaEludGVydmFsOiAxMDAwKjYwKjMwLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgZGF0YTpwcm9qZWN0SW1hZ2VzIH0gPSB1c2VRdWVyeTxQcm95ZWN0SW1hZ2VzTWFnbmFbXT4oe1xuICAgICAgICBxdWVyeUtleTogWydwcm9qZWN0c0ltYWdlcyddLFxuICAgICAgICBzdGFsZVRpbWU6IDEwMDAqNjAqMzAscmVmZXRjaE9uV2luZG93Rm9jdXM6IGZhbHNlLHJlZmV0Y2hPbk1vdW50OiBmYWxzZSxyZWZldGNoT25SZWNvbm5lY3Q6IGZhbHNlLHJlZmV0Y2hJbnRlcnZhbDogMTAwMCo2MCozMCxcbiAgICB9KTtcbiAgICBcblxuICAgIGlmKCFwcm9qZWN0cyB8fCAhcHJvamVjdEltYWdlcyB8fCAhcHJvamVjdEFyZyl7XG4gICAgICAgIHJldHVybiA8ZGl2Pm5vIGhheSA8L2Rpdj47XG4gICAgfVxuICAgIFxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3Rfc2VsZWN0OiBSZXN1bHQgfCBudWxsID0gcHJvamVjdHMucmVzdWx0cy5maW5kKChwcm9qZWN0OiBSZXN1bHQpID0+IHByb2plY3QuaWQgPT09IHBhcnNlSW50KHByb2plY3RBcmcpKSB8fCBudWxsO1xuICAgICAgICBjb25zdCBpbWFnZXM6IFByb3llY3RJbWFnZXNNYWduYVtdID0gcHJvamVjdEltYWdlcy5maWx0ZXIoKGltYWdlbjogUHJveWVjdEltYWdlc01hZ25hKSA9PiBpbWFnZW4ucHJveWVjdG8gPT09IHBhcnNlSW50KHByb2plY3RBcmcpKTtcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdF9zZWxlY3QsICdhcXVpIGVzdG95IGVuIHByb2plY3Rfc2VsZWN0JyxpbWFnZXMsXCJpbWFnZXNcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXByb2plY3Rfc2VsZWN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2V0UHJvamVjdChwcm9qZWN0X3NlbGVjdCk7XG4gICAgICAgIHNldEltYWdlbihpbWFnZXMpO1xuICAgICAgICB9LCBbcHJvamVjdHMscHJvamVjdEltYWdlcyxwcm9qZWN0QXJnXSk7XG5cbiAgICBpZiAoIXByb2plY3QgfHwgIWltYWdlbikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICA8UGFnZXNMYXlvdXQ+XG4gICAgICAgICAgICA8QmFubmVyIHRpdGxlPVwiUHJveWVjdG9zXCIgcGFyYWdyYXBoPSdQcm95ZWN0b3MnIGltYWdlPXtpbWFnZW5CYW5uZXJ9Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWZsdWlkXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgdGl0dWxvXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9J2NvbC0xMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cHJvamVjdC5ub21icmV9XG4gICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPScvcHJvamVjdHMnIGNsYXNzTmFtZT0nY29sLTInPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9J2JvdG9uLTEgJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXIgbcOhc1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcHJvamVjdC1kZXRhaWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgY29sLW1kLTYgXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8U2xpZGVyUHJvamVjdERldGFpbCBpbWFnZXM9e2ltYWdlbn0vPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTIgY29sLW1kLTZcIiBrZXk9e3Byb2plY3RBcmd9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXNjcmlwY2nDs24gZGVsIHByb3llY3RvXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3Byb2plY3QuZGVzY3JpcGNpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFViaWNhY2nDs25cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvamVjdC5jaXVkYWQuZGVwYXJ0YW1lbnRvLnBhaXMubm9tYnJlfSwge3Byb2plY3QuY2l1ZGFkLmRlcGFydGFtZW50by5ub21icmV9LCB7cHJvamVjdC5jaXVkYWQubm9tYnJlfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlcnZpY2lvcyBwcmVzdGFkb3NcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdC5zZXJ2aWNpb3MubWFwKChzZXJ2aWNpbzogU2VydmljaW8pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGtleT17c2VydmljaW8uaWR9PntzZXJ2aWNpby5ub21icmV9PC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgdG89e2Avc2VydmljaW9zYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT0nYm90b24tMSc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyIG3DoXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiByZWxhY2lvbmFkb3NcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm95ZWN0b3MgcmVsYWNpb25hZG9zXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExhenlDYXJkc1Byb2plY3RzIHR5cGU9e3Byb2plY3QudGlwby5pZH0gYWN0dWFsUGFnZT17cHJvamVjdC5pZH0gaW1hZ2VuZXM9e3Byb2plY3RJbWFnZXN9Lz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQcm95ZWN0b3MgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9QYWdlc0xheW91dD5cbiAgICAgICAgPC8+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFByb2plY3REZXRhaWw7XG4iXSwiZmlsZSI6InN0YXRpYy9wcm9qZWNzRGV0YWlsLTcxMzZjNjU3LmpzIn0=