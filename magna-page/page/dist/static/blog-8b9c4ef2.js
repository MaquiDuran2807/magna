import{_ as j,c as p}from"./@tanstack/react-query-devtools-32a2eb86.js";import{j as e}from"./@react-pdf/renderer-d806818e.js";import{r as o,b as f}from"./react-a84639bd.js";import{B as N,S as v,f as b,a as y}from"./sidebarBolgs-ac0e135a.js";import{L as x}from"./react-router-dom-3e01f71a.js";import{a as S}from"./index.esm-6aca8226.js";import"./index-4e58cea8.js";import"./react-dom-47c417a6.js";import"./swiper-9dc9b1ac.js";import"./framer-motion-31cb7f15.js";import"./axios-28bc18a3.js";import"./react-pdf-3633ae72.js";import"./react-floating-whatsapp-31f2a923.js";import"./react-icons-293a2bbc.js";import"./index.esm-59189682.js";const B=({blogs:i,search:a})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[a&&a.length===0&&e.jsx("h3",{children:"No se encontraron resultados"}),a&&a.length>0&&e.jsx("h3",{children:"Resultados de la búsqueda"}),a&&(a==null?void 0:a.map(s=>e.jsx("div",{className:"col-lg-4 col-md-4 col-sm-6 ",children:e.jsx(x,{to:`/blog/${s.id}`,className:"link-blogs",children:e.jsxs("div",{className:"card card-blog mt-3 small-card",children:[e.jsx("div",{className:"card-img-top",children:e.jsx("img",{src:s.image,className:"img-fluid small-image",alt:s.title})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:s.title}),e.jsxs("p",{className:"card-text",children:[s.description.slice(0,200),"..."]})]})]})})},s.id))),a&&a.length>0&&e.jsx("hr",{className:"mt-5"})]}),e.jsx("div",{className:"row",children:i.map(s=>{let r="",l="",c="";return s.important===!1?(r="col-lg-4 col-md-4 col-sm-6",c="small-card",l="small-image"):s.important===!0?(r="col-lg-6 col-md-12 col-sm-12 ",l="big-image",c="big-card"):(r="col-lg-3 col-md-4 col-sm-6",l="small-image",c="small-card"),e.jsx("div",{className:r,children:e.jsx(x,{to:`/blog/${s.id}`,className:"link-blogs",children:e.jsxs("div",{className:`card card-blog mt-3 ${c}`,children:[e.jsx("div",{className:"card-img-top",children:e.jsx("img",{src:s.image,className:` img-fluid ${l}`,alt:s.title})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:s.title}),e.jsxs("p",{className:"card-text",children:[s.description.slice(0,200),"..."]})]})]})})},s.id)})})]}),E=({setFilter:i})=>{const[a,s]=o.useState(""),r=l=>{s(l.target.value),i(l.target.value)};return e.jsxs("div",{children:[e.jsx("input",{type:"text",value:a,onChange:r,placeholder:"Buscar...",className:"blog-search"}),e.jsx(S,{className:"ms-2"})]})},P=f.lazy(()=>j(()=>import("./spinner-20db3d9c.js"),["static/spinner-20db3d9c.js","static/@react-pdf/renderer-d806818e.js","static/react-a84639bd.js","static/Animation - 1706024995672-958eeb33.js","static/framer-motion-31cb7f15.js"])),O=()=>{const[i,a]=o.useState(""),[s,r]=o.useState(null),{data:l,isError:c,isLoading:g,fetchNextPage:h,hasNextPage:n,isFetchingNextPage:d}=p({queryKey:["blogs"],queryFn:({pageParam:t=0})=>y(t),initialPageParam:"1",staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchInterval:1e3*60*30,getNextPageParam:t=>{if(console.log(t,"lastPage"),t!=null&&t.nextPage)return console.log(t.nextPage,"lastPage.nextPage"),t.nextPage.split("=")[1]}});if(o.useEffect(()=>{if(!i)return;(async()=>{const m=await b(i);m&&r(m)})()},[i]),o.useEffect(()=>{l&&l.pages[0]&&console.log(l.pages[0].blogs,"data.pages[0].blogs")},[]),c)return e.jsx("div",{children:"Error"});if(g)return e.jsx(P,{});if(console.log(l,"data"),!l)return;const u=l.pages.flatMap(t=>(t==null?void 0:t.blogs)??[]);return e.jsx("div",{className:"blog-container pt-3",children:e.jsx(N,{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"blog-header  text-center",children:e.jsx("h1",{children:"MagnaBlog"})}),e.jsx("div",{className:" text-center",children:e.jsx(E,{setFilter:a})}),e.jsxs("div",{className:"blog-cards ",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-8 col-12",children:e.jsx(B,{blogs:u,search:s})}),e.jsx("div",{className:"col-md-4 col-12",children:e.jsx(v,{})})]}),e.jsx("button",{onClick:()=>h(),className:"btn btn-primary",type:"button",disabled:!n||d,style:{marginTop:"2rem"},children:d?"Loading more...":n?"Cargar más blogs":"No hay más blogs"})]})]})})})};export{O as default};


//# sourceMappingURL=data:application/json;base64,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QyxNQUFJLFdBQVUsZUFDWCxTQUFDQSxFQUFBLElBQUFvQyxFQUFBLENBQVcsVUFBQTdCLENBQXNCLEdBQ3RDLEVBQ0FULE9BQUMsTUFBSSxXQUFVLGNBQ1gsVUFBQ0EsT0FBQSxPQUFJLFVBQVUsTUFDWCxVQUFDRSxNQUFBLE9BQUksVUFBVSxrQkFDWCxTQUFBQSxNQUFDTCxHQUFTLE1BQUFDLEVBQWMsT0FBUXVCLEVBQWEsQ0FDakQsU0FDQyxNQUFJLFdBQVUsa0JBQ1gsU0FBQW5CLE1BQUNxQyxHQUFRLEdBQ2IsR0FDSixFQUNBckMsRUFBQSxJQUFDLFVBQ0wsUUFBUyxJQUFNd0IsRUFBYyxFQUM3QixVQUFVLGtCQUNWLEtBQUssU0FDTCxTQUFVLENBQUNDLEdBQWVDLEVBQzFCLE1BQU8sQ0FBRSxVQUFXLE1BQU8sRUFFMUIsU0FBQUEsRUFDSyxrQkFDQUQsRUFDQSxtQkFDQSxtQkFDVixHQUNJLEdBQ0osRUFDSixDQUNKLEVBRVIiLCJuYW1lcyI6WyJCbG9nTGlzdCIsImJsb2dzIiwic2VhcmNoIiwianN4cyIsIkZyYWdtZW50IiwianN4IiwiYmxvZyIsIkxpbmsiLCJzaXplQ2xhc3MiLCJpbWFnZUNsYXNzIiwiY2FyZENsYXNzIiwiU2VhcmNoIiwic2V0RmlsdGVyIiwic2VhcmNoVmFsdWUiLCJzZXRTZWFyY2hWYWx1ZSIsInVzZVN0YXRlIiwiaGFuZGxlU2VhcmNoQ2hhbmdlIiwiZXZlbnQiLCJGaVNlYXJjaCIsIlNwaW5uZXIiLCJSZWFjdCIsIl9fdml0ZVByZWxvYWQiLCJCbG9nIiwiZmlsdGVyIiwiZmlsdGVyQmxvZ3MiLCJzZXRGaWx0ZXJCbG9nc3QiLCJkYXRhIiwiaXNFcnJvciIsImlzTG9hZGluZyIsImZldGNoTmV4dFBhZ2UiLCJoYXNOZXh0UGFnZSIsImlzRmV0Y2hpbmdOZXh0UGFnZSIsInVzZUluZmluaXRlUXVlcnkiLCJwYWdlUGFyYW0iLCJmZXRjaE5leHRCbG9ncyIsImxhc3RQYWdlIiwidXNlRWZmZWN0IiwicmVzcG9uc2UiLCJmZXRjaEJsb2dTZWFyY2giLCJwYWdlIiwiQmxvZ0xheW91dCIsIkJsb2dTZWFyY2giLCJTaWRlYmFyIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbXBvbmVudHMvYmxvZ0NhcmRzLnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL3NlYXJjaC50c3giLCIuLi8uLi9zcmMvcGFnZXMvYmxvZy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSAnLi4vdHlwZXMvYmxvZyc7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuXHJcblxyXG5pbnRlcmZhY2UgQmxvZ0xpc3RQcm9wcyB7XHJcbiAgICBibG9nczogUmVzdWx0W107XHJcbiAgICBzZWFyY2g/OiBSZXN1bHRbXSB8IG51bGw7XHJcbn1cclxuXHJcbmNvbnN0IEJsb2dMaXN0OiBSZWFjdC5GQzxCbG9nTGlzdFByb3BzPiA9ICh7IGJsb2dzLHNlYXJjaCAgfSkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XHJcbiAgICAgICAgICAgIHtzZWFyY2ggJiYgc2VhcmNoLmxlbmd0aCA9PT0gMCAmJiA8aDM+Tm8gc2UgZW5jb250cmFyb24gcmVzdWx0YWRvczwvaDM+fVxyXG4gICAgICAgICAgICB7c2VhcmNoICYmIHNlYXJjaC5sZW5ndGggPiAwICYmIDxoMz5SZXN1bHRhZG9zIGRlIGxhIGLDunNxdWVkYTwvaDM+fVxyXG4gICAgICAgICAgICB7c2VhcmNoICYmXHJcbiAgICAgICAgICAgICAgICBzZWFyY2g/Lm1hcCgoYmxvZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtibG9nLmlkfSBjbGFzc05hbWU9XCJjb2wtbGctNCBjb2wtbWQtNCBjb2wtc20tNiBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgdG89e2AvYmxvZy8ke2Jsb2cuaWR9YH0gY2xhc3NOYW1lPSdsaW5rLWJsb2dzJz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQgY2FyZC1ibG9nIG10LTMgc21hbGwtY2FyZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaW1nLXRvcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2Jsb2cuaW1hZ2V9IGNsYXNzTmFtZT1cImltZy1mbHVpZCBzbWFsbC1pbWFnZVwiIGFsdD17YmxvZy50aXRsZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPntibG9nLnRpdGxlfTwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYXJkLXRleHRcIj57YmxvZy5kZXNjcmlwdGlvbi5zbGljZSgwLCAyMDApfS4uLjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB7c2VhcmNoICYmIHNlYXJjaC5sZW5ndGggPiAwICYmIFxyXG4gICAgICAgICAgICA8aHIgY2xhc3NOYW1lPSdtdC01Jy8+fVxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAge2Jsb2dzLm1hcCgoYmxvZykgPT4ge1xyXG4gICAgbGV0IHNpemVDbGFzcyA9ICcnO1xyXG4gICAgbGV0IGltYWdlQ2xhc3MgPSAnJztcclxuICAgIGxldCBjYXJkQ2xhc3MgPSAnJztcclxuICAgIGlmIChibG9nLmltcG9ydGFudCA9PT0gZmFsc2UpIHtcclxuICAgICAgICBzaXplQ2xhc3MgPSAnY29sLWxnLTQgY29sLW1kLTQgY29sLXNtLTYnOyAvLyBQcmltZXJhIHRhcmpldGEgcGVxdWXDsWFcclxuICAgICAgICBjYXJkQ2xhc3MgPSAnc21hbGwtY2FyZCc7XHJcbiAgICAgICAgaW1hZ2VDbGFzcyA9ICdzbWFsbC1pbWFnZSc7XHJcbiAgICB9IGVsc2UgaWYgKGJsb2cuaW1wb3J0YW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgc2l6ZUNsYXNzID0gJ2NvbC1sZy02IGNvbC1tZC0xMiBjb2wtc20tMTIgJzsgLy8gU2VndW5kYSB0YXJqZXRhIDMgdmVjZXMgbcOhcyBncmFuZGVcclxuICAgICAgICBpbWFnZUNsYXNzID0gJ2JpZy1pbWFnZSc7XHJcbiAgICAgICAgY2FyZENsYXNzID0gJ2JpZy1jYXJkJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2l6ZUNsYXNzID0gJ2NvbC1sZy0zIGNvbC1tZC00IGNvbC1zbS02JzsgLy8gUmVzdG8gZGUgdGFyamV0YXMgcGVxdWXDsWFzXHJcbiAgICAgICAgaW1hZ2VDbGFzcyA9ICdzbWFsbC1pbWFnZSc7XHJcbiAgICAgICAgY2FyZENsYXNzID0gJ3NtYWxsLWNhcmQnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGtleT17YmxvZy5pZH0gY2xhc3NOYW1lPXtzaXplQ2xhc3N9PlxyXG4gICAgICAgICAgICA8TGluayB0bz17YC9ibG9nLyR7YmxvZy5pZH1gfSBjbGFzc05hbWU9J2xpbmstYmxvZ3MnPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BjYXJkIGNhcmQtYmxvZyBtdC0zICR7Y2FyZENsYXNzfWB9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1pbWctdG9wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtibG9nLmltYWdlfSBjbGFzc05hbWU9e2AgaW1nLWZsdWlkICR7aW1hZ2VDbGFzc31gfSBhbHQ9e2Jsb2cudGl0bGV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj57YmxvZy50aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYXJkLXRleHRcIj57YmxvZy5kZXNjcmlwdGlvbi5zbGljZSgwLCAyMDApfS4uLjwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG59KX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvPlxyXG4gICAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEJsb2dMaXN0OyIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZpU2VhcmNoIH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xuXG50eXBlIFNlYXJjaFByb3BzID0ge1xuICAgIHNldEZpbHRlcjogKGZpbHRlcjogc3RyaW5nKSA9PiB2b2lkO1xufTtcblxuY29uc3QgU2VhcmNoOiBSZWFjdC5GQzxTZWFyY2hQcm9wcz4gPSAoeyBzZXRGaWx0ZXIgfSkgPT4ge1xuICAgIGNvbnN0IFtzZWFyY2hWYWx1ZSwgc2V0U2VhcmNoVmFsdWVdID0gdXNlU3RhdGUoJycpO1xuXG4gICAgY29uc3QgaGFuZGxlU2VhcmNoQ2hhbmdlID0gKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgICAgICBzZXRTZWFyY2hWYWx1ZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICBzZXRGaWx0ZXIoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoVmFsdWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVNlYXJjaENoYW5nZX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkJ1c2Nhci4uLlwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdibG9nLXNlYXJjaCdcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8RmlTZWFyY2ggY2xhc3NOYW1lPVwibXMtMlwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZWFyY2g7IiwiaW1wb3J0IHsgdXNlSW5maW5pdGVRdWVyeSB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5jb25zdCBTcGlubmVyID0gUmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvc3Bpbm5lcicpKTtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlc3VsdCB9IGZyb20gJy4uL3R5cGVzL2Jsb2cnO1xuaW1wb3J0IHsgZmV0Y2hOZXh0QmxvZ3MsZmV0Y2hCbG9nU2VhcmNoIH0gZnJvbSAnLi4vYXBpL2Jsb2cnO1xuaW1wb3J0IFwiLi4vcGFnZXMvc3R5bGVzL2Jsb2dzLmNzc1wiXG5pbXBvcnQgQmxvZ0xheW91dCBmcm9tICcuLi9sYXlvdXRzL2Jsb2dMYXlvdXQnO1xuaW1wb3J0IEJsb2dMaXN0IGZyb20gJy4uL2NvbXBvbmVudHMvYmxvZ0NhcmRzJztcbmltcG9ydCBTaWRlYmFyIGZyb20gJy4uL2NvbXBvbmVudHMvc2lkZWJhckJvbGdzJztcbmltcG9ydCBCbG9nU2VhcmNoIGZyb20gJy4uL2NvbXBvbmVudHMvc2VhcmNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IEJsb2cgPSAgKCkgPT4ge1xuICAgIGNvbnN0IFtmaWx0ZXIsIHNldEZpbHRlcl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBjb25zdCBbZmlsdGVyQmxvZ3MsIHNldEZpbHRlckJsb2dzdF0gPSB1c2VTdGF0ZTxSZXN1bHRbXSB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IHsgZGF0YSwgaXNFcnJvciwgaXNMb2FkaW5nLCBmZXRjaE5leHRQYWdlLGhhc05leHRQYWdlLGlzRmV0Y2hpbmdOZXh0UGFnZSB9ID0gdXNlSW5maW5pdGVRdWVyeShcbiAgICAgICAge1xuICAgICAgICAgIHF1ZXJ5S2V5OiBbJ2Jsb2dzJ10sXG4gICAgICAgICAgcXVlcnlGbjogKHsgcGFnZVBhcmFtID0gMCB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hOZXh0QmxvZ3MocGFnZVBhcmFtKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGluaXRpYWxQYWdlUGFyYW06ICcxJyxcbiAgICAgICAgICBzdGFsZVRpbWU6IDEwMDAqNjAqMzAscmVmZXRjaE9uV2luZG93Rm9jdXM6IGZhbHNlLHJlZmV0Y2hJbnRlcnZhbDogMTAwMCo2MCozMCxcbiAgICAgICAgICBnZXROZXh0UGFnZVBhcmFtOiAobGFzdFBhZ2UpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxhc3RQYWdlLCAnbGFzdFBhZ2UnKTtcbiAgICAgICAgICAgIGlmIChsYXN0UGFnZT8ubmV4dFBhZ2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhsYXN0UGFnZS5uZXh0UGFnZSwgJ2xhc3RQYWdlLm5leHRQYWdlJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHJldHVybiBsYXN0UGFnZS5uZXh0UGFnZS5zcGxpdCgnPScpWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWZpbHRlcikgcmV0dXJuO1xuICAgICAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoQmxvZ1NlYXJjaChmaWx0ZXIpO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkgcmV0dXJuO1xuICAgICAgICAgICAgc2V0RmlsdGVyQmxvZ3N0KHJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgZmV0Y2hEYXRhKCk7XG4gICAgfSwgW2ZpbHRlcl0pO1xuXG4gICAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWRhdGEpIHJldHVybjtcbiAgICAgICAgaWYgKGRhdGEucGFnZXNbMF0gKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLnBhZ2VzWzBdLmJsb2dzLCAnZGF0YS5wYWdlc1swXS5ibG9ncycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBzZXRDb3VudChkYXRhLnBhZ2VzWzBdLmJsb2dzKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICBpZiAoaXNFcnJvcikge1xuICAgICAgICByZXR1cm4gPGRpdj5FcnJvcjwvZGl2PjtcbiAgICB9XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgICByZXR1cm4gPFNwaW5uZXIgLz47XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGRhdGEsICdkYXRhJyk7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgICBcbiAgICB9XG4gICAgY29uc3QgYmxvZ3M6IFJlc3VsdFtdID0gZGF0YS5wYWdlcy5mbGF0TWFwKChwYWdlKSA9PiBwYWdlPy5ibG9ncyA/PyBbXSk7XG4gICAgcmV0dXJuIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Jsb2ctY29udGFpbmVyIHB0LTMnPlxuICAgICAgICAgICAgPEJsb2dMYXlvdXQ+IFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWZsdWlkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxvZy1oZWFkZXIgIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDE+TWFnbmFCbG9nPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QmxvZ1NlYXJjaCBzZXRGaWx0ZXI9e3NldEZpbHRlcn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmxvZy1jYXJkcyBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbGctOCBjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJsb2dMaXN0IGJsb2dzPXtibG9nc30gc2VhcmNoPXtmaWx0ZXJCbG9nc30gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC00IGNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2lkZWJhciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGZldGNoTmV4dFBhZ2UoKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaGFzTmV4dFBhZ2UgfHwgaXNGZXRjaGluZ05leHRQYWdlfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6ICcycmVtJyB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2lzRmV0Y2hpbmdOZXh0UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnTG9hZGluZyBtb3JlLi4uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBoYXNOZXh0UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnQ2FyZ2FyIG3DoXMgYmxvZ3MnXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdObyBoYXkgbcOhcyBibG9ncyd9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9CbG9nTGF5b3V0PlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQmxvZztcblxuXG4gICAgXG4iXSwiZmlsZSI6InN0YXRpYy9ibG9nLThiOWM0ZWYyLmpzIn0=