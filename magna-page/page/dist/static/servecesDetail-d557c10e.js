import{_,u as O}from"./@tanstack/react-query-devtools-a5fc292d.js";import{j as e}from"./spinner-75e68d5d.js";import{r}from"./react-1cdf6ce0.js";import{A as R,a as z}from"./index.esm-c6bbc34e.js";import{S as M,b as V,c as B,N as L,d as q,e as F,f as k,g as $,h as K,P as Q}from"./main-85e60c12.js";import{B as W}from"./banner-ae774052.js";import{u as G}from"./ScreenSize-8bca974b.js";import{u as N}from"./react-router-dom-3d2ba1f5.js";import{m as p,A as H}from"./framer-motion-e3192eb3.js";import"./index.esm-387aec9d.js";import"./react-dom-983a5519.js";import"./axios-28bc18a3.js";import"./swiper-dad05047.js";import"./index.esm-d847aead.js";const J=({subServicios:n,subtitle:l})=>(console.log("se reinicio el slider",n,l),e.jsx(M,{spaceBetween:30,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:!0,modules:[V,B,L],children:n==null?void 0:n.map((a,d)=>e.jsx(q,{children:e.jsxs("div",{className:`slide-service ${a.nombre}`,children:[e.jsx("img",{src:a.imagen,alt:a.nombre,className:"img-fluid img-subservicio"}),e.jsx("h3",{children:l?a.nombre:""})]})},d))}));const U=r.lazy(()=>_(()=>import("./brochure-41ff615d.js"),["static/brochure-41ff615d.js","static/spinner-75e68d5d.js","static/react-1cdf6ce0.js","static/main-85e60c12.js","static/@tanstack/react-query-devtools-a5fc292d.js","static/react-dom-983a5519.js","static/react-router-dom-3d2ba1f5.js","static/axios-28bc18a3.js","static/swiper-dad05047.js","static/framer-motion-e3192eb3.js","static/index-1ffa2a7c.css"])),w=r.lazy(()=>_(()=>import("./Servicios-e5882be8.js"),["static/Servicios-e5882be8.js","static/spinner-75e68d5d.js","static/react-1cdf6ce0.js","static/@tanstack/react-query-devtools-a5fc292d.js","static/setionHeader-0090b7fc.js","static/framer-motion-e3192eb3.js","static/react-router-dom-3d2ba1f5.js","static/react-dom-983a5519.js","static/useLazyload-da8a0755.js","static/Servicios-7ee61343.css"])),me=({issue:n})=>{var y,S;const l=N();console.log(l,"parametros");const{id:a}=N();let[d,x]=r.useState("Nuestros Servicios"),[P,m]=r.useState(F);const{data:t}=O({queryKey:["services"],staleTime:1e3*60*30,refetchOnWindowFocus:!1,refetchInterval:1e3*60*30});let j="container";const[c,v]=r.useState(),[o,f]=r.useState(null),[A,u]=r.useState(null),[E,g]=r.useState(!0),b=s=>{if(!t)return;const i=t.filter(C=>C.nombre===s);return u(i[0].subservicios),i};r.useEffect(()=>{if(t)if(a){const s=b(a);if(s){const i="servicios de "+s[0].nombre;x(i),v(s),s[0].nombre==="Topografía"&&m(k),s[0].nombre==="Ingeniería y Consultoría"&&m($),s[0].nombre==="Medio Ambiente"&&m(K)}}else{v(t),x("Nuestros Servicios");const s=t.flatMap(i=>i.subservicios);u(s)}},[t,a]);const{width:I}=G(),D=I<=1e3,h=r.useRef(null);D&&(j="mobile");const T=async s=>{if(!s)return;const i=[];i.push(s),f(i),g(!1),console.log(i,"selectedSubServicio"),i&&(u(i),a&&setTimeout(()=>{f(null),g(!0),t&&b(a)},2e4))};return r.useEffect(()=>{h.current&&o&&h.current.scrollIntoView({behavior:"smooth"})},[o]),c?(console.log(a,"servicio"),e.jsx(e.Fragment,{children:e.jsxs(Q,{children:[e.jsx(W,{title:c.length==1?c[0].nombre:"Servicios",paragraph:d.toString(),image:P}),e.jsxs("div",{className:j,children:[e.jsx("div",{className:"row servicio",children:c.length===1?e.jsx("div",{className:"col-12",children:e.jsx("h2",{className:"text-center",children:d})}):e.jsx("div",{className:"row",children:e.jsx(w,{})})}),e.jsxs("div",{className:"row content",children:[e.jsx("div",{className:"col-12 col-md-4 ",children:e.jsx("div",{className:`aside ${n}-template`,children:c.map(s=>e.jsx("div",{children:e.jsxs("div",{className:"row px-2",children:[e.jsx("div",{className:"col-12",children:e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},className:"servicio",children:[e.jsx("h3",{children:s==null?void 0:s.nombre}),e.jsx("p",{className:"px-2",children:s==null?void 0:s.descripcion})]},s.id)}),e.jsx("div",{children:s.subservicios.map(i=>e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(p.div,{onClick:()=>T(i),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"subservicio",children:e.jsxs("div",{className:"row items mx-3",children:[e.jsx("span",{className:"col-1 icon-row",children:e.jsx(R,{})}),e.jsxs("h5",{className:"col-10",children:[i.nombre+"   ",e.jsx("span",{children:e.jsx(z,{})})]})]})},i.id)})},i.id))})]})},s.id))})}),e.jsxs("div",{className:"col-12 col-md-8 ",children:[e.jsx("div",{className:"row slider",children:e.jsx(J,{subServicios:A,subtitle:E})}),e.jsx("div",{ref:h,children:e.jsx("br",{})},o&&((y=o[0])==null?void 0:y.descripcion)),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"row porque-elegirnos",children:[e.jsx(H,{children:e.jsxs(p.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0,scale:.5},transition:{duration:.3,delay:1,delayChildren:.3,staggerChildren:.3},children:[e.jsx("h2",{children:o?o[0].nombre:"Servicios de calidad y con la más alta tecnología"}),e.jsx("p",{children:o?o[0].descripcion:"Somos una empresa con más de 10 años de experiencia en el mercado, con profesionales altamente calificados y con amplia experiencia en el sector público y privado, brindando servicios de calidad y con la más alta tecnología."})]},o&&((S=o[0])==null?void 0:S.id))}),e.jsx("div",{}),e.jsxs("div",{className:"my-5",children:[e.jsx("h2",{children:"Brochure"}),e.jsx("p",{children:"Para obtener una visión completa de nuestros servicios y ventajas, te invitamos a descargar nuestro brochure informativo. Aquí encontrarás detalles exhaustivos sobre nuestras ofertas, testimonios de clientes satisfechos y la información de contacto necesaria para dar el siguiente paso hacia una colaboración exitosa. ¡Descubre cómo podemos ayudarte a alcanzar tus objetivos hoy mismo!"}),e.jsx(U,{})]})]})]}),c.length===1?e.jsx("div",{className:"row",children:e.jsx(w,{})}):""]})]})]})})):e.jsx("h3",{children:"Error"})};export{me as default};


//# sourceMappingURL=data:application/json;base64,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QUFvQixDQUFDLElBQXJCLFlBQUEwQixFQUF3QixZQUVwRixRQUNDLEtBQUcsVUFDSCxLQUFHLElBQ0ovQyxPQUFDLE1BQUksV0FBVSx1QkFFUCxVQUFBUixNQUFDd0QsRUFDRyxVQUFBaEQsRUFBQSxLQUFDNEMsRUFBTyxJQUFQLENBQ0csUUFBUyxDQUFFLE9BQVEsRUFBRyxRQUFTLENBQUUsRUFDakMsUUFBUyxDQUFFLE9BQVEsT0FBUSxRQUFTLENBQUUsRUFDdEMsS0FBTSxDQUFFLE9BQVEsRUFBRyxRQUFTLEVBQUcsTUFBTyxFQUFJLEVBQzFDLFdBQVksQ0FBRSxTQUFVLEdBQUssTUFBTyxFQUFHLGNBQWUsR0FBSyxnQkFBaUIsRUFBSSxFQUdoRixVQUFBcEQsTUFBQyxNQUNJLFNBQ0s2QixJQUFvQixDQUFDLEVBQUUsT0FDdkIsb0RBQ1YsUUFDQyxJQUNJLFVBQUFBLEVBQ0tBLEVBQW9CLENBQUMsRUFBRSxZQUN2QixtT0FDVixJQVhLQSxLQUF1QjRCLEVBQUE1QixFQUFvQixDQUFDLElBQXJCLFlBQUE0QixFQUF3QixLQWdCNUQsUUFFSCxNQUVELElBQ0FqRCxPQUFDLE1BQUksV0FBVSxPQUNYLFVBQUFSLE1BQUMsTUFBRyxTQUFRLGFBQ1pBLE1BQUMsS0FBRSxTQUVILDRZQUNDUyxFQUFVLEtBQ2YsR0FFSixHQUdKLEVBQ0NrQixFQUFpQixTQUFXLEVBQ3BCM0IsTUFBQSxPQUFJLFVBQVUsTUFDZixTQUFBQSxNQUFDVyxFQUFjLElBQ2YsRUFFQSxJQUVaLEdBRUosRUFDSixFQUNKLElBcklPWCxFQUFBLElBQUMsTUFBRyxTQUFLLFNBdUl4QiIsIm5hbWVzIjpbIlNsaWRlclNlcnZpY2VzIiwic3ViU2VydmljaW9zIiwic3VidGl0bGUiLCJqc3giLCJTd2lwZXIiLCJBdXRvcGxheSIsIlBhZ2luYXRpb24iLCJOYXZpZ2F0aW9uIiwic3ViU2VydmljaW8iLCJpbmRleCIsIlN3aXBlclNsaWRlIiwianN4cyIsIlBkZlZpZXdlciIsImxhenkiLCJMYXp5U2VydmljaW9zIiwiX192aXRlUHJlbG9hZCIsIlNlcnZlY2VzRGV0YWlsIiwiaXNzdWUiLCJwYXJhbWV0cm9zIiwidXNlUGFyYW1zIiwiaWQiLCJ0aXRsZSIsInNldFRpdGxlIiwidXNlU3RhdGUiLCJpbWFnZW4iLCJzZXRJbWFnZW4iLCJpbWFnZW5TZXJ2aWNpb3MiLCJzZXJ2ZWNlcyIsInVzZVF1ZXJ5IiwiZGlzcG9zaXRpdm8iLCJzZXJ2aWNpb19lbGVnaWRvIiwic2V0U2VydmljaW9fZWxlZ2lkbyIsInNlbGVjdGVkU3ViU2VydmljaW8iLCJzZXRTZWxlY3RlZFN1YlNlcnZpY2lvIiwic2xpZGVyIiwic2V0U2xpZGVyIiwic2V0U3VidGl0bGUiLCJmaWx0ZXJTZXJ2aWNpbyIsInNlcnZpY2lvIiwidXNlRWZmZWN0Iiwic2VydmljaW9FbGVnaWRvIiwidGl0bGVTdHJpbmciLCJpbWFnZW5Ub3BvZ3JhZmlhIiwiaW1hZ2VuSW5nZW5pZXJpYSIsImltYWdlbk1lZGlvQW1iaWVudGUiLCJ3aWR0aCIsInVzZVNjcmVlblNpemUiLCJpc01vYmlsZSIsInN1YlNlcnZpY2lvUGFnaW5hUmVmIiwidXNlUmVmIiwiaGFuZGxlU3ViU2VydmljaW9DbGljayIsImxpc3RTdWJzZXJ2aWNpb3MiLCJGcmFnbWVudCIsIlBhZ2VzTGF5b3V0IiwiQmFubmVyIiwibW90aW9uIiwiQWlPdXRsaW5lRG91YmxlUmlnaHQiLCJBaUZpbGxDYXJldERvd24iLCJfYSIsIkFuaW1hdGVQcmVzZW5jZSIsIl9iIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbXBvbmVudHMvc2xpZGVyU2VydmljZXMudHN4IiwiLi4vLi4vc3JjL3BhZ2VzL3NlcnZlY2VzRGV0YWlsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3dpcGVyLCBTd2lwZXJTbGlkZSB9IGZyb20gJ3N3aXBlci9yZWFjdCc7XG5pbXBvcnQgeyAgU3Vic2VydmljaW8gfSBmcm9tICcuLi90eXBlcy90eXBlcyc7XG5pbXBvcnQgJy4vc3R5bGVzL3NsaWRlclNlcnZpY2UuY3NzJztcbi8vIEltcG9ydCBTd2lwZXIgc3R5bGVzXG5pbXBvcnQgJ3N3aXBlci9jc3MvbmF2aWdhdGlvbic7XG5pbXBvcnQgJ3N3aXBlci9jc3MvcGFnaW5hdGlvbic7XG5pbXBvcnQgJ3N3aXBlci9jc3Mvc2Nyb2xsYmFyJztcbmltcG9ydCAnc3dpcGVyL2Nzcyc7XG5pbXBvcnQgeyBBdXRvcGxheSwgTmF2aWdhdGlvbiwgUGFnaW5hdGlvbiB9IGZyb20gJ3N3aXBlci9tb2R1bGVzJztcblxuXG5pbnRlcmZhY2UgU2xpZGVyU2VydmljZXNQcm9wcyB7XG4gICAgc3ViU2VydmljaW9zPzogU3Vic2VydmljaW9bXSB8IG51bGw7XG4gICAgc3VidGl0bGU/OiBib29sZWFuO1xufVxuXG5cbmNvbnN0IFNsaWRlclNlcnZpY2VzOiBSZWFjdC5GQzxTbGlkZXJTZXJ2aWNlc1Byb3BzPiA9ICh7IHN1YlNlcnZpY2lvcyxzdWJ0aXRsZX0pID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInNlIHJlaW5pY2lvIGVsIHNsaWRlclwiLHN1YlNlcnZpY2lvcyxzdWJ0aXRsZSk7XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFN3aXBlclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuPXszMH1cbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc9ezF9XG4gICAgICAgICAgICBhdXRvcGxheT17e1xuICAgICAgICAgICAgICAgIGRlbGF5OiA1MDAwLFxuICAgICAgICAgICAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwYXVzZU9uTW91c2VFbnRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgbmF2aWdhdGlvbj17dHJ1ZX1cbiAgICAgICAgICAgICAgbW9kdWxlcz17W0F1dG9wbGF5LCBQYWdpbmF0aW9uLCBOYXZpZ2F0aW9uXX1cbiAgICAgICAgPlxuICAgICAgICAgICAge3N1YlNlcnZpY2lvcz8ubWFwKChzdWJTZXJ2aWNpbywgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8U3dpcGVyU2xpZGUga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgc2xpZGUtc2VydmljZSAke3N1YlNlcnZpY2lvLm5vbWJyZX1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtzdWJTZXJ2aWNpby5pbWFnZW59IGFsdD17c3ViU2VydmljaW8ubm9tYnJlfSBjbGFzc05hbWU9J2ltZy1mbHVpZCBpbWctc3Vic2VydmljaW8nIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDM+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZSA/IHN1YlNlcnZpY2lvLm5vbWJyZSA6ICAnJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L1N3aXBlclNsaWRlPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgIDwvU3dpcGVyPlxuICAgICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTbGlkZXJTZXJ2aWNlcztcbiIsIlxuaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdAdGFuc3RhY2svcmVhY3QtcXVlcnknO1xuaW1wb3J0IHsgQW5pbWF0ZVByZXNlbmNlLCBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IGxhenksIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQWlGaWxsQ2FyZXREb3duLCBBaU91dGxpbmVEb3VibGVSaWdodCB9IGZyb20gXCJyZWFjdC1pY29ucy9haVwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCBpbWFnZW5JbmdlbmllcmlhIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL2luZ2VuaWVyaWEucG5nJztcbmltcG9ydCBpbWFnZW5NZWRpb0FtYmllbnRlIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL21lZGlvLnBuZyc7XG5pbXBvcnQgaW1hZ2VuU2VydmljaW9zIGZyb20gJy4uL2Fzc2V0cy9pbWcvYmFubmVyL3NlcnZpY2lvcy5wbmcnO1xuaW1wb3J0IGltYWdlblRvcG9ncmFmaWEgZnJvbSAnLi4vYXNzZXRzL2ltZy9iYW5uZXIvdG9wby5wbmcnO1xuaW1wb3J0IEJhbm5lciBmcm9tIFwiLi4vY29tcG9uZW50cy9iYW5uZXJcIjtcbmltcG9ydCBTbGlkZXJTZXJ2aWNlcyBmcm9tIFwiLi4vY29tcG9uZW50cy9zbGlkZXJTZXJ2aWNlc1wiO1xuaW1wb3J0IHVzZVNjcmVlblNpemUgZnJvbSAnLi4vaG9va3MvU2NyZWVuU2l6ZSc7XG5pbXBvcnQgUGFnZXNMYXlvdXQgZnJvbSBcIi4uL2xheW91dHMvcGFnZXNMYXlvdXRzXCI7XG5pbXBvcnQgeyAgU2VydmljaW8yLCAgU3Vic2VydmljaW8gfSBmcm9tIFwiLi4vdHlwZXMvdHlwZXNcIjtcbi8vIGltcG9ydCBQZGZWaWV3ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9icm9jaHVyZSc7XG5jb25zdCBQZGZWaWV3ZXIgPSBsYXp5KCgpID0+IGltcG9ydCgnLi4vY29tcG9uZW50cy9icm9jaHVyZScpKTtcbmltcG9ydCBcIi4vc3R5bGVzL3NlcnZpY2VzRGV0YWlsLmNzc1wiO1xuXG5jb25zdCBMYXp5U2VydmljaW9zID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4uL2NvbXBvbmVudHMvc2VjdGlvbnMvU2VydmljaW9zJykpO1xuXG5pbnRlcmZhY2UgU2VydmVjZXNEZXRhaWxQcm9wcyB7XG4gICAgaXNzdWU6IHN0cmluZztcbn1cblxuXG5jb25zdCBTZXJ2ZWNlc0RldGFpbDogUmVhY3QuRkM8U2VydmVjZXNEZXRhaWxQcm9wcz4gPSAoeyBpc3N1ZSB9KSA9PiB7XG4gICAgY29uc3QgcGFyYW1ldHJvcyA9IHVzZVBhcmFtcygpO1xuICAgIGNvbnNvbGUubG9nKHBhcmFtZXRyb3MsICdwYXJhbWV0cm9zJyk7XG4gICAgXG4gICAgY29uc3QgeyBpZH0gPSB1c2VQYXJhbXM8eyBpZDogc3RyaW5nIH0+KCk7XG5cbiAgICBsZXQgW3RpdGxlLCBzZXRUaXRsZV0gPSB1c2VTdGF0ZTxTdHJpbmc+KFwiTnVlc3Ryb3MgU2VydmljaW9zXCIpO1xuICAgIGxldCBbaW1hZ2VuLCBzZXRJbWFnZW5dID0gdXNlU3RhdGU8U3RyaW5nPihpbWFnZW5TZXJ2aWNpb3MpO1xuICAgIGNvbnN0IHsgZGF0YTpzZXJ2ZWNlcyB9ID0gdXNlUXVlcnk8U2VydmljaW8yW10+KHtcbiAgICAgICAgcXVlcnlLZXk6IFsnc2VydmljZXMnXSxcbiAgICAgICAgc3RhbGVUaW1lOiAxMDAwKjYwKjMwLHJlZmV0Y2hPbldpbmRvd0ZvY3VzOiBmYWxzZSxyZWZldGNoSW50ZXJ2YWw6IDEwMDAqNjAqMzAsXG4gICAgfSk7XG4gICAgbGV0IGRpc3Bvc2l0aXZvID0gXCJjb250YWluZXJcIjtcbiAgICBjb25zdCBbc2VydmljaW9fZWxlZ2lkbywgc2V0U2VydmljaW9fZWxlZ2lkb10gPSB1c2VTdGF0ZTxTZXJ2aWNpbzJbXT4oKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRTdWJTZXJ2aWNpbywgc2V0U2VsZWN0ZWRTdWJTZXJ2aWNpb10gPSB1c2VTdGF0ZTxTdWJzZXJ2aWNpb1tdIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3NsaWRlciwgc2V0U2xpZGVyXSA9IHVzZVN0YXRlPCBTdWJzZXJ2aWNpb1tdIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3N1YnRpdGxlLCBzZXRTdWJ0aXRsZV0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcblxuICAgIGNvbnN0IGZpbHRlclNlcnZpY2lvID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgaWYgKCFzZXJ2ZWNlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlcnZpY2lvOlNlcnZpY2lvMltdID0gIHNlcnZlY2VzLmZpbHRlcigoc2VydmljaW86IFNlcnZpY2lvMikgPT4gc2VydmljaW8ubm9tYnJlID09PSBpZCk7XG4gICAgICAgIHNldFNsaWRlcihzZXJ2aWNpb1swXS5zdWJzZXJ2aWNpb3MpO1xuICAgICAgICByZXR1cm4gc2VydmljaW87XG4gICAgfVxuICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2VydmVjZXMpIHtcbiAgICAgICAgaWYgKGlkKXtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2lvRWxlZ2lkbyA9IGZpbHRlclNlcnZpY2lvKGlkKTtcbiAgICAgICAgICAgIGlmIChzZXJ2aWNpb0VsZWdpZG8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZVN0cmluZyA9IFwic2VydmljaW9zIGRlIFwiKyBzZXJ2aWNpb0VsZWdpZG9bMF0ubm9tYnJlO1xuICAgICAgICAgICAgICAgIHNldFRpdGxlKHRpdGxlU3RyaW5nKTtcbiAgICAgICAgICAgICAgICBzZXRTZXJ2aWNpb19lbGVnaWRvKHNlcnZpY2lvRWxlZ2lkbyk7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2lvRWxlZ2lkb1swXS5ub21icmUgPT09IFwiVG9wb2dyYWbDrWFcIikge1xuICAgICAgICAgICAgICAgICAgICBzZXRJbWFnZW4oaW1hZ2VuVG9wb2dyYWZpYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZXJ2aWNpb0VsZWdpZG9bMF0ubm9tYnJlID09PSBcIkluZ2VuaWVyw61hIHkgQ29uc3VsdG9yw61hXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SW1hZ2VuKGltYWdlbkluZ2VuaWVyaWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VydmljaW9FbGVnaWRvWzBdLm5vbWJyZSA9PT0gXCJNZWRpbyBBbWJpZW50ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEltYWdlbihpbWFnZW5NZWRpb0FtYmllbnRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgc2V0U2VydmljaW9fZWxlZ2lkbyhzZXJ2ZWNlcyk7XG4gICAgICAgICAgICBzZXRUaXRsZShcIk51ZXN0cm9zIFNlcnZpY2lvc1wiKTtcbiAgICAgICAgICAgIGNvbnN0IHN1YlNlcnZpY2lvcyA9IHNlcnZlY2VzLmZsYXRNYXAoKHN1YlNlcnZpY2lvKSA9PiBzdWJTZXJ2aWNpby5zdWJzZXJ2aWNpb3MpO1xuICAgICAgICAgICAgc2V0U2xpZGVyKHN1YlNlcnZpY2lvcyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuICAgIH0sIFtzZXJ2ZWNlcywgaWRdKTtcbiAgICBcbiAgICBjb25zdCB7IHdpZHRofSA9IHVzZVNjcmVlblNpemUoKTtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpZHRoIDw9IDEwMDA7XG4gICAgY29uc3Qgc3ViU2VydmljaW9QYWdpbmFSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgPihudWxsKTtcbmlmIChpc01vYmlsZSkge1xuICAgIGRpc3Bvc2l0aXZvID0gXCJtb2JpbGVcIjtcbn1cblxuICAgIGNvbnN0IGhhbmRsZVN1YlNlcnZpY2lvQ2xpY2sgPSBhc3luYyhzdWJTZXJ2aWNpbzogU3Vic2VydmljaW8pID0+IHtcbiAgICAgICAgaWYgKCFzdWJTZXJ2aWNpbykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGlzdFN1YnNlcnZpY2lvczpTdWJzZXJ2aWNpb1tdID1bXVxuICAgICAgICBsaXN0U3Vic2VydmljaW9zLnB1c2goc3ViU2VydmljaW8pXG4gICAgICAgIHNldFNlbGVjdGVkU3ViU2VydmljaW8obGlzdFN1YnNlcnZpY2lvcyk7XG4gICAgICAgIHNldFN1YnRpdGxlKGZhbHNlKTtcbiAgICAgICAgY29uc29sZS5sb2cobGlzdFN1YnNlcnZpY2lvcywgJ3NlbGVjdGVkU3ViU2VydmljaW8nKTtcbiAgICAgICAgaWYgKCFsaXN0U3Vic2VydmljaW9zKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzZXRTbGlkZXIobGlzdFN1YnNlcnZpY2lvcyk7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRTdWJTZXJ2aWNpbyhudWxsKTtcbiAgICAgICAgICAgIHNldFN1YnRpdGxlKHRydWUpO1xuICAgICAgICAgICAgaWYgKCFzZXJ2ZWNlcykge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsdGVyU2VydmljaW8oaWQpO1xuICAgICAgICB9LCAyMDAwMCk7XG4gICAgfTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoc3ViU2VydmljaW9QYWdpbmFSZWYuY3VycmVudCYmISFzZWxlY3RlZFN1YlNlcnZpY2lvKSB7XG4gICAgICAgICAgICAvLyBSZWFsaXphciBsYSBsw7NnaWNhIGRlIHNjcm9sbCBhcXXDrVxuICAgICAgICAgICAgc3ViU2VydmljaW9QYWdpbmFSZWYuY3VycmVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAsIFtzZWxlY3RlZFN1YlNlcnZpY2lvXSk7XG4gICAgXG4gICAgaWYgKCFzZXJ2aWNpb19lbGVnaWRvKSB7XG4gICAgICAgIHJldHVybiA8aDM+RXJyb3I8L2gzPjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coaWQsICdzZXJ2aWNpbycpO1xuICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgICA8UGFnZXNMYXlvdXQ+XG4gICAgICAgICAgICAgICAgPEJhbm5lciB0aXRsZT17c2VydmljaW9fZWxlZ2lkby5sZW5ndGggPT0gMSA/IHNlcnZpY2lvX2VsZWdpZG9bMF0ubm9tYnJlIDogXCJTZXJ2aWNpb3NcIn0gcGFyYWdyYXBoPXt0aXRsZS50b1N0cmluZygpfSBpbWFnZT17aW1hZ2VufSAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtkaXNwb3NpdGl2b30+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgc2VydmljaW9cIj5cbiAgICAgICAgICAgICAgICAgICAge3NlcnZpY2lvX2VsZWdpZG8ubGVuZ3RoID09PSAxID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPnt0aXRsZX08L2gyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExhenlTZXJ2aWNpb3MgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBjb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiBjb2wtbWQtNCBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFzaWRlICR7aXNzdWV9LXRlbXBsYXRlYH0gPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNpb19lbGVnaWRvLm1hcCgoc2VydmljaW8pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17c2VydmljaW8uaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcHgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC42IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZXJ2aWNpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3NlcnZpY2lvLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDM+e3NlcnZpY2lvPy5ub21icmV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT0ncHgtMic+e3NlcnZpY2lvPy5kZXNjcmlwY2lvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNpby5zdWJzZXJ2aWNpb3MubWFwKChzdWJTZXJ2aWNpbykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3N1YlNlcnZpY2lvLmlkfSBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU3ViU2VydmljaW9DbGljayhzdWJTZXJ2aWNpbyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdWJzZXJ2aWNpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N1YlNlcnZpY2lvLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBpdGVtcyBteC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY29sLTEgaWNvbi1yb3dcIj48QWlPdXRsaW5lRG91YmxlUmlnaHQgLz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cImNvbC0xMFwiPntzdWJTZXJ2aWNpby5ub21icmUgKyBcIiAgIFwifTxzcGFuPjxBaUZpbGxDYXJldERvd24gLz48L3NwYW4+PC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xMiBjb2wtbWQtOCBcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgc2xpZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTbGlkZXJTZXJ2aWNlcyBzdWJTZXJ2aWNpb3M9e3NsaWRlcn0gc3VidGl0bGU9e3N1YnRpdGxlfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgcmVmPXtzdWJTZXJ2aWNpb1BhZ2luYVJlZn0ga2V5PXtzZWxlY3RlZFN1YlNlcnZpY2lvICYmIHNlbGVjdGVkU3ViU2VydmljaW9bMF0/LmRlc2NyaXBjaW9ufT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcG9ycXVlLWVsZWdpcm5vc1wiID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IGhlaWdodDogMCwgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IGhlaWdodDogXCJhdXRvXCIsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpdD17eyBoZWlnaHQ6IDAsIG9wYWNpdHk6IDAsIHNjYWxlOiAwLjUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zLCBkZWxheTogMSwgZGVsYXlDaGlsZHJlbjogMC4zLCBzdGFnZ2VyQ2hpbGRyZW46IDAuMyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3NlbGVjdGVkU3ViU2VydmljaW8gJiYgc2VsZWN0ZWRTdWJTZXJ2aWNpb1swXT8uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRTdWJTZXJ2aWNpb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc2VsZWN0ZWRTdWJTZXJ2aWNpb1swXS5ub21icmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiU2VydmljaW9zIGRlIGNhbGlkYWQgeSBjb24gbGEgbcOhcyBhbHRhIHRlY25vbG9nw61hXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkU3ViU2VydmljaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkU3ViU2VydmljaW9bMF0uZGVzY3JpcGNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiU29tb3MgdW5hIGVtcHJlc2EgY29uIG3DoXMgZGUgMTAgYcOxb3MgZGUgZXhwZXJpZW5jaWEgZW4gZWwgbWVyY2FkbywgY29uIHByb2Zlc2lvbmFsZXMgYWx0YW1lbnRlIGNhbGlmaWNhZG9zIHkgY29uIGFtcGxpYSBleHBlcmllbmNpYSBlbiBlbCBzZWN0b3IgcMO6YmxpY28geSBwcml2YWRvLCBicmluZGFuZG8gc2VydmljaW9zIGRlIGNhbGlkYWQgeSBjb24gbGEgbcOhcyBhbHRhIHRlY25vbG9nw61hLlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdteS01Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMj5Ccm9jaHVyZTwvaDI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcmEgb2J0ZW5lciB1bmEgdmlzacOzbiBjb21wbGV0YSBkZSBudWVzdHJvcyBzZXJ2aWNpb3MgeSB2ZW50YWphcywgdGUgaW52aXRhbW9zIGEgZGVzY2FyZ2FyIG51ZXN0cm8gYnJvY2h1cmUgaW5mb3JtYXRpdm8uIEFxdcOtIGVuY29udHJhcsOhcyBkZXRhbGxlcyBleGhhdXN0aXZvcyBzb2JyZSBudWVzdHJhcyBvZmVydGFzLCB0ZXN0aW1vbmlvcyBkZSBjbGllbnRlcyBzYXRpc2ZlY2hvcyB5IGxhIGluZm9ybWFjacOzbiBkZSBjb250YWN0byBuZWNlc2FyaWEgcGFyYSBkYXIgZWwgc2lndWllbnRlIHBhc28gaGFjaWEgdW5hIGNvbGFib3JhY2nDs24gZXhpdG9zYS4gwqFEZXNjdWJyZSBjw7NtbyBwb2RlbW9zIGF5dWRhcnRlIGEgYWxjYW56YXIgdHVzIG9iamV0aXZvcyBob3kgbWlzbW8hXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGRmVmlld2VyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlcnZpY2lvX2VsZWdpZG8ubGVuZ3RoID09PSAxID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGF6eVNlcnZpY2lvcyAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9QYWdlc0xheW91dD5cbiAgICAgICAgPC8+XG4gICAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNlcnZlY2VzRGV0YWlsOyJdLCJmaWxlIjoic3RhdGljL3NlcnZlY2VzRGV0YWlsLWQ1NTdjMTBlLmpzIn0=