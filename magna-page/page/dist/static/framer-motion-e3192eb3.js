import{r as m,a as Es}from"./react-1cdf6ce0.js";const It=m.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),re=m.createContext({}),oe=m.createContext(null),ae=typeof document<"u",Tt=ae?m.useLayoutEffect:m.useEffect,Bs=m.createContext({strict:!1}),Ge=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),sr="framerAppearId",Fs="data-"+Ge(sr);function ir(t,e,n,s){const{visualElement:i}=m.useContext(re),o=m.useContext(Bs),r=m.useContext(oe),a=m.useContext(It).reducedMotion,c=m.useRef();s=s||o.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:i,props:n,presenceContext:r,blockInitialAnimation:r?r.initial===!1:!1,reducedMotionConfig:a}));const l=c.current;m.useInsertionEffect(()=>{l&&l.update(n,r)});const u=m.useRef(!!(n[Fs]&&!window.HandoffComplete));return Tt(()=>{l&&(l.render(),u.current&&l.animationState&&l.animationState.animateChanges())}),m.useEffect(()=>{l&&(l.updateFeatures(),!u.current&&l.animationState&&l.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),l}function mt(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rr(t,e,n){return m.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):mt(n)&&(n.current=s))},[e])}function Ft(t){return typeof t=="string"||Array.isArray(t)}function ce(t){return typeof t=="object"&&typeof t.start=="function"}const $e=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ke=["initial",...$e];function le(t){return ce(t.animate)||Ke.some(e=>Ft(t[e]))}function ks(t){return!!(le(t)||t.variants)}function or(t,e){if(le(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ft(n)?n:void 0,animate:Ft(s)?s:void 0}}return t.inherit!==!1?e:{}}function ar(t){const{initial:e,animate:n}=or(t,m.useContext(re));return m.useMemo(()=>({initial:e,animate:n}),[Tn(e),Tn(n)])}function Tn(t){return Array.isArray(t)?t.join(" "):t}const bn={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kt={};for(const t in bn)kt[t]={isEnabled:e=>bn[t].some(n=>!!e[n])};function cr(t){for(const e in t)kt[e]={...kt[e],...t[e]}}const _e=m.createContext({}),Os=m.createContext({}),lr=Symbol.for("motionComponentSymbol");function ur({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:i}){t&&cr(t);function o(a,c){let l;const u={...m.useContext(It),...a,layoutId:fr(a)},{isStatic:f}=u,h=ar(a),d=s(a,f);if(!f&&ae){h.visualElement=ir(i,d,u,e);const p=m.useContext(Os),v=m.useContext(Bs).strict;h.visualElement&&(l=h.visualElement.loadFeatures(u,v,t,p))}return m.createElement(re.Provider,{value:h},l&&h.visualElement?m.createElement(l,{visualElement:h.visualElement,...u}):null,n(i,a,rr(d,h.visualElement,c),d,f,h.visualElement))}const r=m.forwardRef(o);return r[lr]=i,r}function fr({layoutId:t}){const e=m.useContext(_e).id;return e&&t!==void 0?e+"-"+t:t}function hr(t){function e(s,i={}){return ur(t(s,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const dr=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xe(t){return typeof t!="string"||t.includes("-")?!1:!!(dr.indexOf(t)>-1||/[A-Z]/.test(t))}const Jt={};function pr(t){Object.assign(Jt,t)}const jt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ht=new Set(jt);function Is(t,{layout:e,layoutId:n}){return ht.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Jt[t]||t==="opacity")}const O=t=>!!(t&&t.getVelocity),mr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gr=jt.length;function yr(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,i){let o="";for(let r=0;r<gr;r++){const a=jt[r];if(t[a]!==void 0){const c=mr[a]||a;o+=`${c}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,s?"":o):n&&s&&(o="none"),o}const js=t=>e=>typeof e=="string"&&e.startsWith(t),Us=js("--"),Le=js("var(--"),vr=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,xr=(t,e)=>e&&typeof t=="number"?e.transform(t):t,st=(t,e,n)=>Math.min(Math.max(n,t),e),dt={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mt={...dt,transform:t=>st(0,1,t)},Gt={...dt,default:1},Dt=t=>Math.round(t*1e5)/1e5,ue=/(-)?([\d]*\.?[\d])+/g,Ns=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Pr=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ut(t){return typeof t=="string"}const Nt=t=>({test:e=>Ut(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),J=Nt("deg"),G=Nt("%"),P=Nt("px"),Tr=Nt("vh"),br=Nt("vw"),Vn={...G,parse:t=>G.parse(t)/100,transform:t=>G.transform(t*100)},Sn={...dt,transform:Math.round},Ws={borderWidth:P,borderTopWidth:P,borderRightWidth:P,borderBottomWidth:P,borderLeftWidth:P,borderRadius:P,radius:P,borderTopLeftRadius:P,borderTopRightRadius:P,borderBottomRightRadius:P,borderBottomLeftRadius:P,width:P,maxWidth:P,height:P,maxHeight:P,size:P,top:P,right:P,bottom:P,left:P,padding:P,paddingTop:P,paddingRight:P,paddingBottom:P,paddingLeft:P,margin:P,marginTop:P,marginRight:P,marginBottom:P,marginLeft:P,rotate:J,rotateX:J,rotateY:J,rotateZ:J,scale:Gt,scaleX:Gt,scaleY:Gt,scaleZ:Gt,skew:J,skewX:J,skewY:J,distance:P,translateX:P,translateY:P,translateZ:P,x:P,y:P,z:P,perspective:P,transformPerspective:P,opacity:Mt,originX:Vn,originY:Vn,originZ:P,zIndex:Sn,fillOpacity:Mt,strokeOpacity:Mt,numOctaves:Sn};function Ye(t,e,n,s){const{style:i,vars:o,transform:r,transformOrigin:a}=t;let c=!1,l=!1,u=!0;for(const f in e){const h=e[f];if(Us(f)){o[f]=h;continue}const d=Ws[f],p=xr(h,d);if(ht.has(f)){if(c=!0,r[f]=p,!u)continue;h!==(d.default||0)&&(u=!1)}else f.startsWith("origin")?(l=!0,a[f]=p):i[f]=p}if(e.transform||(c||s?i.transform=yr(t.transform,n,u,s):i.transform&&(i.transform="none")),l){const{originX:f="50%",originY:h="50%",originZ:d=0}=a;i.transformOrigin=`${f} ${h} ${d}`}}const qe=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zs(t,e,n){for(const s in e)!O(e[s])&&!Is(s,n)&&(t[s]=e[s])}function Vr({transformTemplate:t},e,n){return m.useMemo(()=>{const s=qe();return Ye(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function Sr(t,e,n){const s=t.style||{},i={};return zs(i,s,t),Object.assign(i,Vr(t,e,n)),t.transformValues?t.transformValues(i):i}function wr(t,e,n){const s={},i=Sr(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=i,s}const Ar=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Qt(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Ar.has(t)}let Hs=t=>!Qt(t);function Cr(t){t&&(Hs=e=>e.startsWith("on")?!Qt(e):t(e))}try{Cr(require("@emotion/is-prop-valid").default)}catch{}function Mr(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(Hs(i)||n===!0&&Qt(i)||!e&&!Qt(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function wn(t,e,n){return typeof t=="string"?t:P.transform(e+n*t)}function Dr(t,e,n){const s=wn(e,t.x,t.width),i=wn(n,t.y,t.height);return`${s} ${i}`}const Lr={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rr={offset:"strokeDashoffset",array:"strokeDasharray"};function Er(t,e,n=1,s=0,i=!0){t.pathLength=1;const o=i?Lr:Rr;t[o.offset]=P.transform(-s);const r=P.transform(e),a=P.transform(n);t[o.array]=`${r} ${a}`}function Ze(t,{attrX:e,attrY:n,attrScale:s,originX:i,originY:o,pathLength:r,pathSpacing:a=1,pathOffset:c=0,...l},u,f,h){if(Ye(t,l,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:v}=t;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=Dr(v,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),s!==void 0&&(d.scale=s),r!==void 0&&Er(d,r,a,c,!1)}const Gs=()=>({...qe(),attrs:{}}),Je=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Br(t,e,n,s){const i=m.useMemo(()=>{const o=Gs();return Ze(o,e,{enableHardwareAcceleration:!1},Je(s),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};zs(o,t.style,t),i.style={...o,...i.style}}return i}function Fr(t=!1){return(n,s,i,{latestValues:o},r)=>{const c=(Xe(n)?Br:wr)(s,o,r,n),u={...Mr(s,typeof n=="string",t),...c,ref:i},{children:f}=s,h=m.useMemo(()=>O(f)?f.get():f,[f]);return m.createElement(n,{...u,children:h})}}function $s(t,{style:e,vars:n},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const o in n)t.style.setProperty(o,n[o])}const Ks=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _s(t,e,n,s){$s(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(Ks.has(i)?i:Ge(i),e.attrs[i])}function Qe(t,e){const{style:n}=t,s={};for(const i in n)(O(n[i])||e.style&&O(e.style[i])||Is(i,t))&&(s[i]=n[i]);return s}function Xs(t,e){const n=Qe(t,e);for(const s in t)if(O(t[s])||O(e[s])){const i=jt.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}function tn(t,e,n,s={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,i)),e}function Wt(t){const e=m.useRef(null);return e.current===null&&(e.current=t()),e.current}const te=t=>Array.isArray(t),kr=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Or=t=>te(t)?t[t.length-1]||0:t;function Xt(t){const e=O(t)?t.get():t;return kr(e)?e.toValue():e}function Ir({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,i,o){const r={latestValues:jr(s,i,o,t),renderState:e()};return n&&(r.mount=a=>n(s,a,r)),r}const Ys=t=>(e,n)=>{const s=m.useContext(re),i=m.useContext(oe),o=()=>Ir(t,e,s,i);return n?o():Wt(o)};function jr(t,e,n,s){const i={},o=s(t,{});for(const h in o)i[h]=Xt(o[h]);let{initial:r,animate:a}=t;const c=le(t),l=ks(t);e&&l&&!c&&t.inherit!==!1&&(r===void 0&&(r=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||r===!1;const f=u?a:r;return f&&typeof f!="boolean"&&!ce(f)&&(Array.isArray(f)?f:[f]).forEach(d=>{const p=tn(t,d);if(!p)return;const{transitionEnd:v,transition:x,...b}=p;for(const g in b){let y=b[g];if(Array.isArray(y)){const T=u?y.length-1:0;y=y[T]}y!==null&&(i[g]=y)}for(const g in v)i[g]=v[g]}),i}const L=t=>t;class An{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Ur(t){let e=new An,n=new An,s=0,i=!1,o=!1;const r=new WeakSet,a={schedule:(c,l=!1,u=!1)=>{const f=u&&i,h=f?e:n;return l&&r.add(c),h.add(c)&&f&&i&&(s=e.order.length),c},cancel:c=>{n.remove(c),r.delete(c)},process:c=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let l=0;l<s;l++){const u=e.order[l];u(c),r.has(u)&&(a.schedule(u),t())}i=!1,o&&(o=!1,a.process(c))}};return a}const $t=["prepare","read","update","preRender","render","postRender"],Nr=40;function Wr(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=$t.reduce((f,h)=>(f[h]=Ur(()=>n=!0),f),{}),r=f=>o[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(f-i.timestamp,Nr),1),i.timestamp=f,i.isProcessing=!0,$t.forEach(r),i.isProcessing=!1,n&&e&&(s=!1,t(a))},c=()=>{n=!0,s=!0,i.isProcessing||t(a)};return{schedule:$t.reduce((f,h)=>{const d=o[h];return f[h]=(p,v=!1,x=!1)=>(n||c(),d.schedule(p,v,x)),f},{}),cancel:f=>$t.forEach(h=>o[h].cancel(f)),state:i,steps:o}}const{schedule:w,cancel:W,state:F,steps:ge}=Wr(typeof requestAnimationFrame<"u"?requestAnimationFrame:L,!0),zr={useVisualState:Ys({scrapeMotionValuesFromProps:Xs,createRenderState:Gs,onMount:(t,e,{renderState:n,latestValues:s})=>{w.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),w.render(()=>{Ze(n,s,{enableHardwareAcceleration:!1},Je(e.tagName),t.transformTemplate),_s(e,n)})}})},Hr={useVisualState:Ys({scrapeMotionValuesFromProps:Qe,createRenderState:qe})};function Gr(t,{forwardMotionProps:e=!1},n,s){return{...Xe(t)?zr:Hr,preloadedFeatures:n,useRender:Fr(e),createVisualElement:s,Component:t}}function _(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const qs=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function fe(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const $r=t=>e=>qs(e)&&t(e,fe(e));function X(t,e,n,s){return _(t,e,$r(n),s)}const Kr=(t,e)=>n=>e(t(n)),et=(...t)=>t.reduce(Kr);function Zs(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Cn=Zs("dragHorizontal"),Mn=Zs("dragVertical");function Js(t){let e=!1;if(t==="y")e=Mn();else if(t==="x")e=Cn();else{const n=Cn(),s=Mn();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function Qs(){const t=Js(!0);return t?(t(),!1):!0}class rt{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Dn(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),i=(o,r)=>{if(o.type==="touch"||Qs())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[s]&&w.update(()=>a[s](o,r))};return X(t.current,n,i,{passive:!t.getProps()[s]})}class _r extends rt{mount(){this.unmount=et(Dn(this.node,!0),Dn(this.node,!1))}unmount(){}}class Xr extends rt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=et(_(this.node.current,"focus",()=>this.onFocus()),_(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ti=(t,e)=>e?t===e?!0:ti(t,e.parentElement):!1;function ye(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,fe(n))}class Yr extends rt{constructor(){super(...arguments),this.removeStartListeners=L,this.removeEndListeners=L,this.removeAccessibleListeners=L,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const s=this.node.getProps(),o=X(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u}=this.node.getProps();w.update(()=>{ti(this.node.current,a.target)?l&&l(a,c):u&&u(a,c)})},{passive:!(s.onTap||s.onPointerUp)}),r=X(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=et(o,r),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const r=a=>{a.key!=="Enter"||!this.checkPressEnd()||ye("up",(c,l)=>{const{onTap:u}=this.node.getProps();u&&w.update(()=>u(c,l))})};this.removeEndListeners(),this.removeEndListeners=_(this.node.current,"keyup",r),ye("down",(a,c)=>{this.startPress(a,c)})},n=_(this.node.current,"keydown",e),s=()=>{this.isPressing&&ye("cancel",(o,r)=>this.cancelPress(o,r))},i=_(this.node.current,"blur",s);this.removeAccessibleListeners=et(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&w.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Qs()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&w.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=X(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=_(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=et(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Re=new WeakMap,ve=new WeakMap,qr=t=>{const e=Re.get(t.target);e&&e(t)},Zr=t=>{t.forEach(qr)};function Jr({root:t,...e}){const n=t||document;ve.has(n)||ve.set(n,{});const s=ve.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(Zr,{root:t,...e})),s[i]}function Qr(t,e,n){const s=Jr(e);return Re.set(t,n),s.observe(t),()=>{Re.delete(t),s.unobserve(t)}}const to={some:0,all:1};class eo extends rt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=e,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:to[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,o&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=l?u:f;h&&h(c)};return Qr(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(no(e,n))&&this.startObserver()}unmount(){}}function no({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const so={inView:{Feature:eo},tap:{Feature:Yr},focus:{Feature:Xr},hover:{Feature:_r}};function ei(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function io(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function ro(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function he(t,e,n){const s=t.getProps();return tn(s,e,n!==void 0?n:s.custom,io(t),ro(t))}let ni=L,de=L;const nt=t=>t*1e3,$=t=>t/1e3,oo={current:!1},si=t=>Array.isArray(t)&&typeof t[0]=="number";function ii(t){return!!(!t||typeof t=="string"&&ri[t]||si(t)||Array.isArray(t)&&t.every(ii))}const Ct=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,ri={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ct([0,.65,.55,1]),circOut:Ct([.55,0,1,.45]),backIn:Ct([.31,.01,.66,-.59]),backOut:Ct([.33,1.53,.69,.99])};function oi(t){if(t)return si(t)?Ct(t):Array.isArray(t)?t.map(oi):ri[t]}function ao(t,e,n,{delay:s=0,duration:i,repeat:o=0,repeatType:r="loop",ease:a,times:c}={}){const l={[e]:n};c&&(l.offset=c);const u=oi(a);return Array.isArray(u)&&(l.easing=u),t.animate(l,{delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"})}function co(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const ai=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lo=1e-7,uo=12;function fo(t,e,n,s,i){let o,r,a=0;do r=e+(n-e)/2,o=ai(r,s,i)-t,o>0?n=r:e=r;while(Math.abs(o)>lo&&++a<uo);return r}function zt(t,e,n,s){if(t===e&&n===s)return L;const i=o=>fo(o,0,1,t,n);return o=>o===0||o===1?o:ai(i(o),e,s)}const ho=zt(.42,0,1,1),po=zt(0,0,.58,1),ci=zt(.42,0,.58,1),mo=t=>Array.isArray(t)&&typeof t[0]!="number",li=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ui=t=>e=>1-t(1-e),en=t=>1-Math.sin(Math.acos(t)),fi=ui(en),go=li(en),hi=zt(.33,1.53,.69,.99),nn=ui(hi),yo=li(nn),vo=t=>(t*=2)<1?.5*nn(t):.5*(2-Math.pow(2,-10*(t-1))),xo={linear:L,easeIn:ho,easeInOut:ci,easeOut:po,circIn:en,circInOut:go,circOut:fi,backIn:nn,backInOut:yo,backOut:hi,anticipate:vo},Ln=t=>{if(Array.isArray(t)){de(t.length===4);const[e,n,s,i]=t;return zt(e,n,s,i)}else if(typeof t=="string")return xo[t];return t},sn=(t,e)=>n=>!!(Ut(n)&&Pr.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),di=(t,e,n)=>s=>{if(!Ut(s))return s;const[i,o,r,a]=s.match(ue);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},Po=t=>st(0,255,t),xe={...dt,transform:t=>Math.round(Po(t))},ft={test:sn("rgb","red"),parse:di("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+xe.transform(t)+", "+xe.transform(e)+", "+xe.transform(n)+", "+Dt(Mt.transform(s))+")"};function To(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Ee={test:sn("#"),parse:To,transform:ft.transform},gt={test:sn("hsl","hue"),parse:di("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+G.transform(Dt(e))+", "+G.transform(Dt(n))+", "+Dt(Mt.transform(s))+")"},I={test:t=>ft.test(t)||Ee.test(t)||gt.test(t),parse:t=>ft.test(t)?ft.parse(t):gt.test(t)?gt.parse(t):Ee.parse(t),transform:t=>Ut(t)?t:t.hasOwnProperty("red")?ft.transform(t):gt.transform(t)},D=(t,e,n)=>-n*t+n*e+t;function Pe(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bo({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,o=0,r=0;if(!e)i=o=r=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=Pe(c,a,t+1/3),o=Pe(c,a,t),r=Pe(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}const Te=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},Vo=[Ee,ft,gt],So=t=>Vo.find(e=>e.test(t));function Rn(t){const e=So(t);let n=e.parse(t);return e===gt&&(n=bo(n)),n}const pi=(t,e)=>{const n=Rn(t),s=Rn(e),i={...n};return o=>(i.red=Te(n.red,s.red,o),i.green=Te(n.green,s.green,o),i.blue=Te(n.blue,s.blue,o),i.alpha=D(n.alpha,s.alpha,o),ft.transform(i))};function wo(t){var e,n;return isNaN(t)&&Ut(t)&&(((e=t.match(ue))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Ns))===null||n===void 0?void 0:n.length)||0)>0}const mi={regex:vr,countKey:"Vars",token:"${v}",parse:L},gi={regex:Ns,countKey:"Colors",token:"${c}",parse:I.parse},yi={regex:ue,countKey:"Numbers",token:"${n}",parse:dt.parse};function be(t,{regex:e,countKey:n,token:s,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...o.map(i)))}function ee(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&be(n,mi),be(n,gi),be(n,yi),n}function vi(t){return ee(t).values}function xi(t){const{values:e,numColors:n,numVars:s,tokenised:i}=ee(t),o=e.length;return r=>{let a=i;for(let c=0;c<o;c++)c<s?a=a.replace(mi.token,r[c]):c<s+n?a=a.replace(gi.token,I.transform(r[c])):a=a.replace(yi.token,Dt(r[c]));return a}}const Ao=t=>typeof t=="number"?0:t;function Co(t){const e=vi(t);return xi(t)(e.map(Ao))}const it={test:wo,parse:vi,createTransformer:xi,getAnimatableNone:Co},Pi=(t,e)=>n=>`${n>0?e:t}`;function Ti(t,e){return typeof t=="number"?n=>D(t,e,n):I.test(t)?pi(t,e):t.startsWith("var(")?Pi(t,e):Vi(t,e)}const bi=(t,e)=>{const n=[...t],s=n.length,i=t.map((o,r)=>Ti(o,e[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}},Mo=(t,e)=>{const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Ti(t[i],e[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}},Vi=(t,e)=>{const n=it.createTransformer(e),s=ee(t),i=ee(e);return s.numVars===i.numVars&&s.numColors===i.numColors&&s.numNumbers>=i.numNumbers?et(bi(s.values,i.values),n):Pi(t,e)},xt=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},En=(t,e)=>n=>D(t,e,n);function Do(t){return typeof t=="number"?En:typeof t=="string"?I.test(t)?pi:Vi:Array.isArray(t)?bi:typeof t=="object"?Mo:En}function Lo(t,e,n){const s=[],i=n||Do(t[0]),o=t.length-1;for(let r=0;r<o;r++){let a=i(t[r],t[r+1]);if(e){const c=Array.isArray(e)?e[r]||L:e;a=et(c,a)}s.push(a)}return s}function pe(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const o=t.length;if(de(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const r=Lo(e,s,i),a=r.length,c=l=>{let u=0;if(a>1)for(;u<t.length-2&&!(l<t[u+1]);u++);const f=xt(t[u],t[u+1],l);return r[u](f)};return n?l=>c(st(t[0],t[o-1],l)):c}function Ro(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=xt(0,e,s);t.push(D(n,1,i))}}function Si(t){const e=[0];return Ro(e,t.length-1),e}function Eo(t,e){return t.map(n=>n*e)}function Bo(t,e){return t.map(()=>e||ci).splice(0,t.length-1)}function ne({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=mo(s)?s.map(Ln):Ln(s),o={done:!1,value:e[0]},r=Eo(n&&n.length===e.length?n:Si(e),t),a=pe(r,e,{ease:Array.isArray(i)?i:Bo(e,i)});return{calculatedDuration:t,next:c=>(o.value=a(c),o.done=c>=t,o)}}function rn(t,e){return e?t*(1e3/e):0}const Fo=5;function wi(t,e,n){const s=Math.max(e-Fo,0);return rn(n-t(s),e-s)}const Ve=.001,ko=.01,Bn=10,Oo=.05,Io=1;function jo({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let i,o;ni(t<=nt(Bn));let r=1-e;r=st(Oo,Io,r),t=st(ko,Bn,$(t)),r<1?(i=l=>{const u=l*r,f=u*t,h=u-n,d=Be(l,r),p=Math.exp(-f);return Ve-h/d*p},o=l=>{const f=l*r*t,h=f*n+n,d=Math.pow(r,2)*Math.pow(l,2)*t,p=Math.exp(-f),v=Be(Math.pow(l,2),r);return(-i(l)+Ve>0?-1:1)*((h-d)*p)/v}):(i=l=>{const u=Math.exp(-l*t),f=(l-n)*t+1;return-Ve+u*f},o=l=>{const u=Math.exp(-l*t),f=(n-l)*(t*t);return u*f});const a=5/t,c=No(i,o,a);if(t=nt(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*s;return{stiffness:l,damping:r*2*Math.sqrt(s*l),duration:t}}}const Uo=12;function No(t,e,n){let s=n;for(let i=1;i<Uo;i++)s=s-t(s)/e(s);return s}function Be(t,e){return t*Math.sqrt(1-e*e)}const Wo=["duration","bounce"],zo=["stiffness","damping","mass"];function Fn(t,e){return e.some(n=>t[n]!==void 0)}function Ho(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Fn(t,zo)&&Fn(t,Wo)){const n=jo(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function Ai({keyframes:t,restDelta:e,restSpeed:n,...s}){const i=t[0],o=t[t.length-1],r={done:!1,value:i},{stiffness:a,damping:c,mass:l,velocity:u,duration:f,isResolvedFromDuration:h}=Ho(s),d=u?-$(u):0,p=c/(2*Math.sqrt(a*l)),v=o-i,x=$(Math.sqrt(a/l)),b=Math.abs(v)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let g;if(p<1){const y=Be(x,p);g=T=>{const V=Math.exp(-p*x*T);return o-V*((d+p*x*v)/y*Math.sin(y*T)+v*Math.cos(y*T))}}else if(p===1)g=y=>o-Math.exp(-x*y)*(v+(d+x*v)*y);else{const y=x*Math.sqrt(p*p-1);g=T=>{const V=Math.exp(-p*x*T),R=Math.min(y*T,300);return o-V*((d+p*x*v)*Math.sinh(R)+y*v*Math.cosh(R))/y}}return{calculatedDuration:h&&f||null,next:y=>{const T=g(y);if(h)r.done=y>=f;else{let V=d;y!==0&&(p<1?V=wi(g,y,T):V=0);const R=Math.abs(V)<=n,C=Math.abs(o-T)<=e;r.done=R&&C}return r.value=r.done?o:T,r}}}function kn({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:c,restDelta:l=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},d=S=>a!==void 0&&S<a||c!==void 0&&S>c,p=S=>a===void 0?c:c===void 0||Math.abs(a-S)<Math.abs(c-S)?a:c;let v=n*e;const x=f+v,b=r===void 0?x:r(x);b!==x&&(v=b-f);const g=S=>-v*Math.exp(-S/s),y=S=>b+g(S),T=S=>{const A=g(S),U=y(S);h.done=Math.abs(A)<=l,h.value=h.done?b:U};let V,R;const C=S=>{d(h.value)&&(V=S,R=Ai({keyframes:[h.value,p(h.value)],velocity:wi(y,S,h.value),damping:i,stiffness:o,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:S=>{let A=!1;return!R&&V===void 0&&(A=!0,T(S),C(S)),V!==void 0&&S>V?R.next(S-V):(!A&&T(S),h)}}}const Go=t=>{const e=({timestamp:n})=>t(n);return{start:()=>w.update(e,!0),stop:()=>W(e),now:()=>F.isProcessing?F.timestamp:performance.now()}},On=2e4;function In(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<On;)e+=n,s=t.next(e);return e>=On?1/0:e}const $o={decay:kn,inertia:kn,tween:ne,keyframes:ne,spring:Ai};function Ot({autoplay:t=!0,delay:e=0,driver:n=Go,keyframes:s,type:i="keyframes",repeat:o=0,repeatDelay:r=0,repeatType:a="loop",onPlay:c,onStop:l,onComplete:u,onUpdate:f,...h}){let d=1,p=!1,v,x;const b=()=>{x=new Promise(M=>{v=M})};b();let g;const y=$o[i]||ne;let T;y!==ne&&typeof s[0]!="number"&&(T=pe([0,100],s,{clamp:!1}),s=[0,100]);const V=y({...h,keyframes:s});let R;a==="mirror"&&(R=y({...h,keyframes:[...s].reverse(),velocity:-(h.velocity||0)}));let C="idle",S=null,A=null,U=null;V.calculatedDuration===null&&o&&(V.calculatedDuration=In(V));const{calculatedDuration:K}=V;let Y=1/0,q=1/0;K!==null&&(Y=K+r,q=Y*(o+1)-r);let k=0;const B=M=>{if(A===null)return;d>0&&(A=Math.min(A,M)),d<0&&(A=Math.min(M-q/d,A)),S!==null?k=S:k=Math.round(M-A)*d;const bt=k-e*(d>=0?1:-1),mn=d>=0?bt<0:bt>q;k=Math.max(bt,0),C==="finished"&&S===null&&(k=q);let gn=k,yn=V;if(o){const me=k/Y;let Ht=Math.floor(me),ot=me%1;!ot&&me>=1&&(ot=1),ot===1&&Ht--,Ht=Math.min(Ht,o+1);const xn=!!(Ht%2);xn&&(a==="reverse"?(ot=1-ot,r&&(ot-=r/Y)):a==="mirror"&&(yn=R));let Pn=st(0,1,ot);k>q&&(Pn=a==="reverse"&&xn?1:0),gn=Pn*Y}const Vt=mn?{done:!1,value:s[0]}:yn.next(gn);T&&(Vt.value=T(Vt.value));let{done:vn}=Vt;!mn&&K!==null&&(vn=d>=0?k>=q:k<=0);const nr=S===null&&(C==="finished"||C==="running"&&vn);return f&&f(Vt.value),nr&&er(),Vt},Z=()=>{g&&g.stop(),g=void 0},pt=()=>{C="idle",Z(),v(),b(),A=U=null},er=()=>{C="finished",u&&u(),Z(),v()},dn=()=>{if(p)return;g||(g=n(B));const M=g.now();c&&c(),S!==null?A=M-S:(!A||C==="finished")&&(A=M),C==="finished"&&b(),U=A,S=null,C="running",g.start()};t&&dn();const pn={then(M,bt){return x.then(M,bt)},get time(){return $(k)},set time(M){M=nt(M),k=M,S!==null||!g||d===0?S=M:A=g.now()-M/d},get duration(){const M=V.calculatedDuration===null?In(V):V.calculatedDuration;return $(M)},get speed(){return d},set speed(M){M===d||!g||(d=M,pn.time=$(k))},get state(){return C},play:dn,pause:()=>{C="paused",S=k},stop:()=>{p=!0,C!=="idle"&&(C="idle",l&&l(),pt())},cancel:()=>{U!==null&&B(U),pt()},complete:()=>{C="finished"},sample:M=>(A=0,B(M))};return pn}function Ko(t){let e;return()=>(e===void 0&&(e=t()),e)}const _o=Ko(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xo=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Kt=10,Yo=2e4,qo=(t,e)=>e.type==="spring"||t==="backgroundColor"||!ii(e.ease);function Zo(t,e,{onUpdate:n,onComplete:s,...i}){if(!(_o()&&Xo.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let r=!1,a,c;const l=()=>{c=new Promise(g=>{a=g})};l();let{keyframes:u,duration:f=300,ease:h,times:d}=i;if(qo(e,i)){const g=Ot({...i,repeat:0,delay:0});let y={done:!1,value:u[0]};const T=[];let V=0;for(;!y.done&&V<Yo;)y=g.sample(V),T.push(y.value),V+=Kt;d=void 0,u=T,f=V-Kt,h="linear"}const p=ao(t.owner.current,e,u,{...i,duration:f,ease:h,times:d}),v=()=>p.cancel(),x=()=>{w.update(v),a(),l()};return p.onfinish=()=>{t.set(co(u,i)),s&&s(),x()},{then(g,y){return c.then(g,y)},attachTimeline(g){return p.timeline=g,p.onfinish=null,L},get time(){return $(p.currentTime||0)},set time(g){p.currentTime=nt(g)},get speed(){return p.playbackRate},set speed(g){p.playbackRate=g},get duration(){return $(f)},play:()=>{r||(p.play(),W(v))},pause:()=>p.pause(),stop:()=>{if(r=!0,p.playState==="idle")return;const{currentTime:g}=p;if(g){const y=Ot({...i,autoplay:!1});t.setWithVelocity(y.sample(g-Kt).value,y.sample(g).value,Kt)}x()},complete:()=>p.finish(),cancel:x}}function Jo({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const i=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:L,pause:L,stop:L,then:o=>(o(),Promise.resolve()),cancel:L,complete:L});return e?Ot({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Qo={type:"spring",stiffness:500,damping:25,restSpeed:10},ta=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ea={type:"keyframes",duration:.8},na={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sa=(t,{keyframes:e})=>e.length>2?ea:ht.has(t)?t.startsWith("scale")?ta(e[1]):Qo:na,Fe=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(it.test(e)||e==="0")&&!e.startsWith("url(")),ia=new Set(["brightness","contrast","saturate","opacity"]);function ra(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ue)||[];if(!s)return t;const i=n.replace(s,"");let o=ia.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+i+")"}const oa=/([a-z-]*)\(.*?\)/g,ke={...it,getAnimatableNone:t=>{const e=t.match(oa);return e?e.map(ra).join(" "):t}},aa={...Ws,color:I,backgroundColor:I,outlineColor:I,fill:I,stroke:I,borderColor:I,borderTopColor:I,borderRightColor:I,borderBottomColor:I,borderLeftColor:I,filter:ke,WebkitFilter:ke},on=t=>aa[t];function Ci(t,e){let n=on(t);return n!==ke&&(n=it),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mi=t=>/^0[^.\s]+$/.test(t);function ca(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Mi(t)}function la(t,e,n,s){const i=Fe(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const r=s.from!==void 0?s.from:t.get();let a;const c=[];for(let l=0;l<o.length;l++)o[l]===null&&(o[l]=l===0?r:o[l-1]),ca(o[l])&&c.push(l),typeof o[l]=="string"&&o[l]!=="none"&&o[l]!=="0"&&(a=o[l]);if(i&&c.length&&a)for(let l=0;l<c.length;l++){const u=c[l];o[u]=Ci(e,a)}return o}function ua({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}function an(t,e){return t[e]||t.default||t}const cn=(t,e,n,s={})=>i=>{const o=an(s,t)||{},r=o.delay||s.delay||0;let{elapsed:a=0}=s;a=a-nt(r);const c=la(e,t,n,o),l=c[0],u=c[c.length-1],f=Fe(t,l),h=Fe(t,u);let d={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-a,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(ua(o)||(d={...d,...sa(t,d)}),d.duration&&(d.duration=nt(d.duration)),d.repeatDelay&&(d.repeatDelay=nt(d.repeatDelay)),!f||!h||oo.current||o.type===!1)return Jo(d);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=Zo(e,t,d);if(p)return p}return Ot(d)};function se(t){return!!(O(t)&&t.add)}const Di=t=>/^\-?\d*\.?\d+$/.test(t);function ln(t,e){t.indexOf(e)===-1&&t.push(e)}function un(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fn{constructor(){this.subscriptions=[]}add(e){return ln(this.subscriptions,e),()=>un(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fa=t=>!isNaN(parseFloat(t)),Lt={current:void 0};class ha{constructor(e,n={}){this.version="10.16.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,i=!0)=>{this.prev=this.current,this.current=s;const{delta:o,timestamp:r}=F;this.lastUpdated!==r&&(this.timeDelta=o,this.lastUpdated=r,w.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>w.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=fa(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fn);const s=this.events[e].add(n);return e==="change"?()=>{s(),w.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Lt.current&&Lt.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?rn(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function z(t,e){return new ha(t,e)}const Li=t=>e=>e.test(t),da={test:t=>t==="auto",parse:t=>t},Ri=[dt,P,G,J,br,Tr,da],St=t=>Ri.find(Li(t)),pa=[...Ri,I,it],ma=t=>pa.find(Li(t));function ga(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,z(n))}function ya(t,e){const n=he(t,e);let{transitionEnd:s={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...s};for(const r in o){const a=Or(o[r]);ga(t,r,a)}}function va(t,e,n){var s,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),r=o.length;if(r)for(let a=0;a<r;a++){const c=o[a],l=e[c];let u=null;Array.isArray(l)&&(u=l[0]),u===null&&(u=(i=(s=n[c])!==null&&s!==void 0?s:t.readValue(c))!==null&&i!==void 0?i:e[c]),u!=null&&(typeof u=="string"&&(Di(u)||Mi(u))?u=parseFloat(u):!ma(u)&&it.test(l)&&(u=Ci(c,l)),t.addValue(c,z(u,{owner:t})),n[c]===void 0&&(n[c]=u),u!==null&&t.setBaseTarget(c,u))}}function xa(t,e){return e?(e[t]||e.default||e).from:void 0}function Pa(t,e,n){const s={};for(const i in t){const o=xa(i,e);if(o!==void 0)s[i]=o;else{const r=n.getValue(i);r&&(s[i]=r.get())}}return s}function Ta({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function ba(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function Ei(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:r,...a}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");s&&(o=s);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const h=t.getValue(f),d=a[f];if(!h||d===void 0||u&&Ta(u,f))continue;const p={delay:n,elapsed:0,...an(o||{},f)};if(window.HandoffAppearAnimations){const b=t.getProps()[Fs];if(b){const g=window.HandoffAppearAnimations(b,f,h,w);g!==null&&(p.elapsed=g,p.isHandoff=!0)}}let v=!p.isHandoff&&!ba(h,d);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(cn(f,h,d,t.shouldReduceMotion&&ht.has(f)?{type:!1}:p));const x=h.animation;se(c)&&(c.add(f),x.then(()=>c.remove(f))),l.push(x)}return r&&Promise.all(l).then(()=>{r&&ya(t,r)}),l}function Oe(t,e,n={}){const s=he(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Ei(t,s,n)):()=>Promise.resolve(),r=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:l=0,staggerChildren:u,staggerDirection:f}=i;return Va(t,e,l+c,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,l]=a==="beforeChildren"?[o,r]:[r,o];return c().then(()=>l())}else return Promise.all([o(),r(n.delay)])}function Va(t,e,n=0,s=0,i=1,o){const r=[],a=(t.variantChildren.size-1)*s,c=i===1?(l=0)=>l*s:(l=0)=>a-l*s;return Array.from(t.variantChildren).sort(Sa).forEach((l,u)=>{l.notify("AnimationStart",e),r.push(Oe(l,e,{...o,delay:n+c(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(r)}function Sa(t,e){return t.sortNodePosition(e)}function wa(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(o=>Oe(t,o,n));s=Promise.all(i)}else if(typeof e=="string")s=Oe(t,e,n);else{const i=typeof e=="function"?he(t,e,n.custom):e;s=Promise.all(Ei(t,i,n))}return s.then(()=>t.notify("AnimationComplete",e))}const Aa=[...$e].reverse(),Ca=$e.length;function Ma(t){return e=>Promise.all(e.map(({animation:n,options:s})=>wa(t,n,s)))}function Da(t){let e=Ma(t);const n=Ra();let s=!0;const i=(c,l)=>{const u=he(t,l);if(u){const{transition:f,transitionEnd:h,...d}=u;c={...c,...d,...h}}return c};function o(c){e=c(t)}function r(c,l){const u=t.getProps(),f=t.getVariantContext(!0)||{},h=[],d=new Set;let p={},v=1/0;for(let b=0;b<Ca;b++){const g=Aa[b],y=n[g],T=u[g]!==void 0?u[g]:f[g],V=Ft(T),R=g===l?y.isActive:null;R===!1&&(v=b);let C=T===f[g]&&T!==u[g]&&V;if(C&&s&&t.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...p},!y.isActive&&R===null||!T&&!y.prevProp||ce(T)||typeof T=="boolean")continue;const S=La(y.prevProp,T);let A=S||g===l&&y.isActive&&!C&&V||b>v&&V;const U=Array.isArray(T)?T:[T];let K=U.reduce(i,{});R===!1&&(K={});const{prevResolvedValues:Y={}}=y,q={...Y,...K},k=B=>{A=!0,d.delete(B),y.needsAnimating[B]=!0};for(const B in q){const Z=K[B],pt=Y[B];p.hasOwnProperty(B)||(Z!==pt?te(Z)&&te(pt)?!ei(Z,pt)||S?k(B):y.protectedKeys[B]=!0:Z!==void 0?k(B):d.add(B):Z!==void 0&&d.has(B)?k(B):y.protectedKeys[B]=!0)}y.prevProp=T,y.prevResolvedValues=K,y.isActive&&(p={...p,...K}),s&&t.blockInitialAnimation&&(A=!1),A&&!C&&h.push(...U.map(B=>({animation:B,options:{type:g,...c}})))}if(d.size){const b={};d.forEach(g=>{const y=t.getBaseTarget(g);y!==void 0&&(b[g]=y)}),h.push({animation:b})}let x=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function a(c,l,u){var f;if(n[c].isActive===l)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(c,l)}),n[c].isActive=l;const h=r(u,c);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>n}}function La(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ei(e,t):!1}function at(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ra(){return{animate:at(!0),whileInView:at(),whileHover:at(),whileTap:at(),whileDrag:at(),whileFocus:at(),exit:at()}}class Ea extends rt{constructor(e){super(e),e.animationState||(e.animationState=Da(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ce(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Ba=0;class Fa extends rt{constructor(){super(...arguments),this.id=Ba++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const ka={animation:{Feature:Ea},exit:{Feature:Fa}},jn=(t,e)=>Math.abs(t-e);function Oa(t,e){const n=jn(t.x,e.x),s=jn(t.y,e.y);return Math.sqrt(n**2+s**2)}class Bi{constructor(e,n,{transformPagePoint:s,contextWindow:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=we(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=Oa(u.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:d}=u,{timestamp:p}=F;this.history.push({...d,timestamp:p});const{onStart:v,onMove:x}=this.handlers;f||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,u)},this.handlePointerMove=(u,f)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=Se(f,this.transformPagePoint),w.update(this.updatePoint,!0)},this.handlePointerUp=(u,f)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,p=we(u.type==="pointercancel"?this.lastMoveEventInfo:Se(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,p),d&&d(u,p)},!qs(e))return;this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const o=fe(e),r=Se(o,this.transformPagePoint),{point:a}=r,{timestamp:c}=F;this.history=[{...a,timestamp:c}];const{onSessionStart:l}=n;l&&l(e,we(r,this.history)),this.removeListeners=et(X(this.contextWindow,"pointermove",this.handlePointerMove),X(this.contextWindow,"pointerup",this.handlePointerUp),X(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),W(this.updatePoint)}}function Se(t,e){return e?{point:e(t.point)}:t}function Un(t,e){return{x:t.x-e.x,y:t.y-e.y}}function we({point:t},e){return{point:t,delta:Un(t,Fi(e)),offset:Un(t,Ia(e)),velocity:ja(e,.1)}}function Ia(t){return t[0]}function Fi(t){return t[t.length-1]}function ja(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=Fi(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>nt(e)));)n--;if(!s)return{x:0,y:0};const o=$(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function j(t){return t.max-t.min}function Ie(t,e=0,n=.01){return Math.abs(t-e)<=n}function Nn(t,e,n,s=.5){t.origin=s,t.originPoint=D(e.min,e.max,t.origin),t.scale=j(n)/j(e),(Ie(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=D(n.min,n.max,t.origin)-t.originPoint,(Ie(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Rt(t,e,n,s){Nn(t.x,e.x,n.x,s?s.originX:void 0),Nn(t.y,e.y,n.y,s?s.originY:void 0)}function Wn(t,e,n){t.min=n.min+e.min,t.max=t.min+j(e)}function Ua(t,e,n){Wn(t.x,e.x,n.x),Wn(t.y,e.y,n.y)}function zn(t,e,n){t.min=e.min-n.min,t.max=t.min+j(e)}function Et(t,e,n){zn(t.x,e.x,n.x),zn(t.y,e.y,n.y)}function Na(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?D(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?D(n,t,s.max):Math.min(t,n)),t}function Hn(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Wa(t,{top:e,left:n,bottom:s,right:i}){return{x:Hn(t.x,n,i),y:Hn(t.y,e,s)}}function Gn(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function za(t,e){return{x:Gn(t.x,e.x),y:Gn(t.y,e.y)}}function Ha(t,e){let n=.5;const s=j(t),i=j(e);return i>s?n=xt(e.min,e.max-s,t.min):s>i&&(n=xt(t.min,t.max-i,e.min)),st(0,1,n)}function Ga(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const je=.35;function $a(t=je){return t===!1?t=0:t===!0&&(t=je),{x:$n(t,"left","right"),y:$n(t,"top","bottom")}}function $n(t,e,n){return{min:Kn(t,e),max:Kn(t,n)}}function Kn(t,e){return typeof t=="number"?t:t[e]||0}const _n=()=>({translate:0,scale:1,origin:0,originPoint:0}),yt=()=>({x:_n(),y:_n()}),Xn=()=>({min:0,max:0}),E=()=>({x:Xn(),y:Xn()});function H(t){return[t("x"),t("y")]}function ki({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Ka({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _a(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ae(t){return t===void 0||t===1}function Ue({scale:t,scaleX:e,scaleY:n}){return!Ae(t)||!Ae(e)||!Ae(n)}function ct(t){return Ue(t)||Oi(t)||t.z||t.rotate||t.rotateX||t.rotateY}function Oi(t){return Yn(t.x)||Yn(t.y)}function Yn(t){return t&&t!=="0%"}function ie(t,e,n){const s=t-n,i=e*s;return n+i}function qn(t,e,n,s,i){return i!==void 0&&(t=ie(t,i,s)),ie(t,n,s)+e}function Ne(t,e=0,n=1,s,i){t.min=qn(t.min,e,n,s,i),t.max=qn(t.max,e,n,s,i)}function Ii(t,{x:e,y:n}){Ne(t.x,e.translate,e.scale,e.originPoint),Ne(t.y,n.translate,n.scale,n.originPoint)}function Xa(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,r;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&vt(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,Ii(t,r)),s&&ct(o.latestValues)&&vt(t,o.latestValues))}e.x=Zn(e.x),e.y=Zn(e.y)}function Zn(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function tt(t,e){t.min=t.min+e,t.max=t.max+e}function Jn(t,e,[n,s,i]){const o=e[i]!==void 0?e[i]:.5,r=D(t.min,t.max,o);Ne(t,e[n],e[s],r,e.scale)}const Ya=["x","scaleX","originX"],qa=["y","scaleY","originY"];function vt(t,e){Jn(t.x,e,Ya),Jn(t.y,e,qa)}function ji(t,e){return ki(_a(t.getBoundingClientRect(),e))}function Za(t,e,n){const s=ji(t,n),{scroll:i}=e;return i&&(tt(s.x,i.offset.x),tt(s.y,i.offset.y)),s}const Ui=({current:t})=>t?t.ownerDocument.defaultView:null,Ja=new WeakMap;class Qa{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=E(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=c=>{this.stopAnimation(),n&&this.snapToCursor(fe(c,"page").point)},o=(c,l)=>{const{drag:u,dragPropagation:f,onDragStart:h}=this.getProps();if(u&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Js(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),H(p=>{let v=this.getAxisMotionValue(p).get()||0;if(G.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[p];b&&(v=j(b)*(parseFloat(v)/100))}}this.originPoint[p]=v}),h&&w.update(()=>h(c,l),!1,!0);const{animationState:d}=this.visualElement;d&&d.setActive("whileDrag",!0)},r=(c,l)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:h,onDrag:d}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:p}=l;if(f&&this.currentDirection===null){this.currentDirection=tc(p),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",l.point,p),this.updateAxis("y",l.point,p),this.visualElement.render(),d&&d(c,l)},a=(c,l)=>this.stop(c,l);this.panSession=new Bi(e,{onSessionStart:i,onStart:o,onMove:r,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:Ui(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&w.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!_t(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let r=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(r=Na(r,this.constraints[e],this.elastic[e])),o.set(r)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&mt(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Wa(i.layoutBox,n):this.constraints=!1,this.elastic=$a(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&H(r=>{this.getAxisMotionValue(r)&&(this.constraints[r]=Ga(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!mt(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Za(s,i.root,this.visualElement.getTransformPagePoint());let r=za(i.layout.layoutBox,o);if(n){const a=n(Ka(r));this.hasMutatedConstraints=!!a,a&&(r=ki(a))}return r}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=H(u=>{if(!_t(u,n,this.currentDirection))return;let f=c&&c[u]||{};r&&(f={min:0,max:0});const h=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:s?e[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,p)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(cn(e,s,0,n))}stopAnimation(){H(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){H(n=>{const{drag:s}=this.getProps();if(!_t(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[n];o.set(e[n]-D(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!mt(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};H(r=>{const a=this.getAxisMotionValue(r);if(a){const c=a.get();i[r]=Ha({min:c,max:c},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),H(r=>{if(!_t(r,e,null))return;const a=this.getAxisMotionValue(r),{min:c,max:l}=this.constraints[r];a.set(D(c,l,i[r]))})}addListeners(){if(!this.visualElement.current)return;Ja.set(this.visualElement,this);const e=this.visualElement.current,n=X(e,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();mt(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),s();const r=_(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(H(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{r(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=je,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function _t(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tc(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ec extends rt{constructor(e){super(e),this.removeGroupControls=L,this.removeListeners=L,this.controls=new Qa(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||L}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qn=t=>(e,n)=>{t&&w.update(()=>t(e,n))};class nc extends rt{constructor(){super(...arguments),this.removePointerDownListener=L}onPointerDown(e){this.session=new Bi(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ui(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Qn(e),onStart:Qn(n),onMove:s,onEnd:(o,r)=>{delete this.session,i&&w.update(()=>i(o,r))}}}mount(){this.removePointerDownListener=X(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function sc(){const t=m.useContext(oe);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,i=m.useId();return m.useEffect(()=>s(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Yt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ts(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(P.test(t))t=parseFloat(t);else return t;const n=ts(t,e.target.x),s=ts(t,e.target.y);return`${n}% ${s}%`}},ic={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=it.parse(t);if(i.length>5)return s;const o=it.createTransformer(t),r=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+r]/=a,i[1+r]/=c;const l=D(a,c,.5);return typeof i[2+r]=="number"&&(i[2+r]/=l),typeof i[3+r]=="number"&&(i[3+r]/=l),o(i)}};class rc extends Es.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=e;pr(oc),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Yt.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,r=s.projection;return r&&(r.isPresent=o,i||e.layoutDependency!==n||n===void 0?r.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?r.promote():r.relegate()||w.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ni(t){const[e,n]=sc(),s=m.useContext(_e);return Es.createElement(rc,{...t,layoutGroup:s,switchLayoutGroup:m.useContext(Os),isPresent:e,safeToRemove:n})}const oc={borderRadius:{...wt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomLeftRadius:wt,borderBottomRightRadius:wt,boxShadow:ic},Wi=["TopLeft","TopRight","BottomLeft","BottomRight"],ac=Wi.length,es=t=>typeof t=="string"?parseFloat(t):t,ns=t=>typeof t=="number"||P.test(t);function cc(t,e,n,s,i,o){i?(t.opacity=D(0,n.opacity!==void 0?n.opacity:1,lc(s)),t.opacityExit=D(e.opacity!==void 0?e.opacity:1,0,uc(s))):o&&(t.opacity=D(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let r=0;r<ac;r++){const a=`border${Wi[r]}Radius`;let c=ss(e,a),l=ss(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||ns(c)===ns(l)?(t[a]=Math.max(D(es(c),es(l),s),0),(G.test(l)||G.test(c))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=D(e.rotate||0,n.rotate||0,s))}function ss(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const lc=zi(0,.5,fi),uc=zi(.5,.95,L);function zi(t,e,n){return s=>s<t?0:s>e?1:n(xt(t,e,s))}function is(t,e){t.min=e.min,t.max=e.max}function N(t,e){is(t.x,e.x),is(t.y,e.y)}function rs(t,e,n,s,i){return t-=e,t=ie(t,1/n,s),i!==void 0&&(t=ie(t,1/i,s)),t}function fc(t,e=0,n=1,s=.5,i,o=t,r=t){if(G.test(e)&&(e=parseFloat(e),e=D(r.min,r.max,e/100)-r.min),typeof e!="number")return;let a=D(o.min,o.max,s);t===o&&(a-=e),t.min=rs(t.min,e,n,a,i),t.max=rs(t.max,e,n,a,i)}function os(t,e,[n,s,i],o,r){fc(t,e[n],e[s],e[i],e.scale,o,r)}const hc=["x","scaleX","originX"],dc=["y","scaleY","originY"];function as(t,e,n,s){os(t.x,e,hc,n?n.x:void 0,s?s.x:void 0),os(t.y,e,dc,n?n.y:void 0,s?s.y:void 0)}function cs(t){return t.translate===0&&t.scale===1}function Hi(t){return cs(t.x)&&cs(t.y)}function pc(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Gi(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function ls(t){return j(t.x)/j(t.y)}class mc{constructor(){this.members=[]}add(e){ln(this.members,e),e.scheduleRender()}remove(e){if(un(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function us(t,e,n){let s="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(s=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:l,rotateY:u}=n;c&&(s+=`rotate(${c}deg) `),l&&(s+=`rotateX(${l}deg) `),u&&(s+=`rotateY(${u}deg) `)}const r=t.x.scale*e.x,a=t.y.scale*e.y;return(r!==1||a!==1)&&(s+=`scale(${r}, ${a})`),s||"none"}const gc=(t,e)=>t.depth-e.depth;class yc{constructor(){this.children=[],this.isDirty=!1}add(e){ln(this.children,e),this.isDirty=!0}remove(e){un(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gc),this.isDirty=!1,this.children.forEach(e)}}function vc(t,e){const n=performance.now(),s=({timestamp:i})=>{const o=i-n;o>=e&&(W(s),t(o-e))};return w.read(s,!0),()=>W(s)}function xc(t){window.MotionDebug&&window.MotionDebug.record(t)}function Pc(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Tc(t,e,n){const s=O(t)?t:z(t);return s.start(cn("",s,e,n)),s.animation}const fs=["","X","Y","Z"],bc={visibility:"hidden"},hs=1e3;let Vc=0;const lt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $i({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},a=e==null?void 0:e()){this.id=Vc++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lt.totalNodes=lt.resolvedTargetDeltas=lt.recalculatedProjection=0,this.nodes.forEach(Ac),this.nodes.forEach(Rc),this.nodes.forEach(Ec),this.nodes.forEach(Cc),xc(lt)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new yc)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new fn),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const c=this.eventHandlers.get(r);c&&c.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Pc(r),this.instance=r;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(r,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=vc(h,250),Yt.hasAnimatedSinceResize&&(Yt.hasAnimatedSinceResize=!1,this.nodes.forEach(ps))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:d,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Ic,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=u.getProps(),g=!this.targetLayout||!Gi(this.targetLayout,p)||d,y=!h&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const T={...an(v,"layout"),onPlay:x,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else h||ps(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,W(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bc),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ds);return}this.isUpdating||this.nodes.forEach(Dc),this.isUpdating=!1,this.nodes.forEach(Lc),this.nodes.forEach(Sc),this.nodes.forEach(wc),this.clearAllSnapshots();const a=performance.now();F.delta=st(0,1e3/60,a-F.timestamp),F.timestamp=a,F.isProcessing=!0,ge.update.process(F),ge.preRender.process(F),ge.render.process(F),F.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Mc),this.sharedNodes.forEach(Fc)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,w.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){w.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=E(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:r,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Hi(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;r&&(a||ct(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return r&&(c=this.removeTransform(c)),jc(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:r}=this.options;if(!r)return E();const a=r.measureViewportBox(),{scroll:c}=this.root;return c&&(tt(a.x,c.offset.x),tt(a.y,c.offset.y)),a}removeElementScroll(r){const a=E();N(a,r);for(let c=0;c<this.path.length;c++){const l=this.path[c],{scroll:u,options:f}=l;if(l!==this.root&&u&&f.layoutScroll){if(u.isRoot){N(a,r);const{scroll:h}=this.root;h&&(tt(a.x,-h.offset.x),tt(a.y,-h.offset.y))}tt(a.x,u.offset.x),tt(a.y,u.offset.y)}}return a}applyTransform(r,a=!1){const c=E();N(c,r);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vt(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ct(u.latestValues)&&vt(c,u.latestValues)}return ct(this.latestValues)&&vt(c,this.latestValues),c}removeTransform(r){const a=E();N(a,r);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!ct(l.latestValues))continue;Ue(l.latestValues)&&l.updateSnapshot();const u=E(),f=l.measurePageBox();N(u,f),as(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return ct(this.latestValues)&&as(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==F.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=F.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=E(),this.relativeTargetOrigin=E(),Et(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),N(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=E(),this.targetWithTransforms=E()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ua(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):N(this.target,this.layout.layoutBox),Ii(this.target,this.targetDelta)):N(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=E(),this.relativeTargetOrigin=E(),Et(this.relativeTargetOrigin,this.target,d.target),N(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ue(this.parent.latestValues)||Oi(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var r;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===F.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;N(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;Xa(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=yt(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yt(),this.projectionDeltaWithTransform=yt());const v=this.projectionTransform;Rt(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=us(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==d)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),lt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),r){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(r,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},f=yt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=E(),d=c?c.source:void 0,p=this.layout?this.layout.source:void 0,v=d!==p,x=this.getStack(),b=!x||x.members.length<=1,g=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(Oc));this.animationProgress=0;let y;this.mixTargetDelta=T=>{const V=T/1e3;ms(f.x,r.x,V),ms(f.y,r.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Et(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kc(this.relativeTarget,this.relativeTargetOrigin,h,V),y&&pc(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=E()),N(y,this.relativeTarget)),v&&(this.animationValues=u,cc(u,l,this.latestValues,V,g,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(W(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=w.update(()=>{Yt.hasAnimatedSinceResize=!0,this.currentAnimation=Tc(0,hs,{...r,onUpdate:a=>{this.mixTargetDelta(a),r.onUpdate&&r.onUpdate(a)},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hs),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=r;if(!(!a||!c||!l)){if(this!==r&&this.layout&&l&&Ki(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||E();const f=j(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+f;const h=j(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+h}N(a,c),vt(a,u),Rt(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new mc),this.sharedNodes.get(r).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var r;const{layoutId:a}=this.options;return a?((r=this.getStack())===null||r===void 0?void 0:r.lead)||this:this}getPrevLead(){var r;const{layoutId:a}=this.options;return a?(r=this.getStack())===null||r===void 0?void 0:r.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:c}=r;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const l={};for(let u=0;u<fs.length;u++){const f="rotate"+fs[u];c[f]&&(l[f]=c[f],r.setStaticValue(f,0))}r.render();for(const u in l)r.setStaticValue(u,l[u]);r.scheduleRender()}getProjectionStyles(r){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bc;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Xt(r==null?void 0:r.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Xt(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!ct(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=us(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x:d,y:p}=this.projectionDelta;l.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,f.animationValues?l.opacity=f===this?(c=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Jt){if(h[v]===void 0)continue;const{correct:x,applyTo:b}=Jt[v],g=l.transform==="none"?h[v]:x(h[v],f);if(b){const y=b.length;for(let T=0;T<y;T++)l[b[T]]=g}else l[v]=g}return this.options.layoutId&&(l.pointerEvents=f===this?Xt(r==null?void 0:r.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ds),this.root.sharedNodes.clear()}}}function Sc(t){t.updateLayout()}function wc(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:o}=t.options,r=n.source!==t.layout.source;o==="size"?H(f=>{const h=r?n.measuredBox[f]:n.layoutBox[f],d=j(h);h.min=s[f].min,h.max=h.min+d}):Ki(o,n.layoutBox,s)&&H(f=>{const h=r?n.measuredBox[f]:n.layoutBox[f],d=j(s[f]);h.max=h.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+d)});const a=yt();Rt(a,s,n.layoutBox);const c=yt();r?Rt(c,t.applyTransform(i,!0),n.measuredBox):Rt(c,s,n.layoutBox);const l=!Hi(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const p=E();Et(p,n.layoutBox,h.layoutBox);const v=E();Et(v,s,d.layoutBox),Gi(p,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Ac(t){lt.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Cc(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Mc(t){t.clearSnapshot()}function ds(t){t.clearMeasurements()}function Dc(t){t.isLayoutDirty=!1}function Lc(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ps(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Rc(t){t.resolveTargetDelta()}function Ec(t){t.calcProjection()}function Bc(t){t.resetRotation()}function Fc(t){t.removeLeadSnapshot()}function ms(t,e,n){t.translate=D(e.translate,0,n),t.scale=D(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gs(t,e,n,s){t.min=D(e.min,n.min,s),t.max=D(e.max,n.max,s)}function kc(t,e,n,s){gs(t.x,e.x,n.x,s),gs(t.y,e.y,n.y,s)}function Oc(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ic={duration:.45,ease:[.4,0,.1,1]},ys=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),vs=ys("applewebkit/")&&!ys("chrome/")?Math.round:L;function xs(t){t.min=vs(t.min),t.max=vs(t.max)}function jc(t){xs(t.x),xs(t.y)}function Ki(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ie(ls(e),ls(n),.2)}const Uc=$i({attachResizeListener:(t,e)=>_(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ce={current:void 0},_i=$i({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ce.current){const t=new Uc({});t.mount(window),t.setOptions({layoutScroll:!0}),Ce.current=t}return Ce.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Nc={pan:{Feature:nc},drag:{Feature:ec,ProjectionNode:_i,MeasureLayout:Ni}},Wc=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function zc(t){const e=Wc.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function We(t,e,n=1){const[s,i]=zc(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const r=o.trim();return Di(r)?parseFloat(r):r}else return Le(i)?We(i,e,n+1):i}function Hc(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!Le(o))return;const r=We(o,s);r&&i.set(r)});for(const i in e){const o=e[i];if(!Le(o))continue;const r=We(o,s);r&&(e[i]=r,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const Gc=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Xi=t=>Gc.has(t),$c=t=>Object.keys(t).some(Xi),Ps=t=>t===dt||t===P,Ts=(t,e)=>parseFloat(t.split(", ")[e]),bs=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return Ts(i[1],e);{const o=s.match(/^matrix\((.+)\)$/);return o?Ts(o[1],t):0}},Kc=new Set(["x","y","z"]),_c=jt.filter(t=>!Kc.has(t));function Xc(t){const e=[];return _c.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Pt={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:bs(4,13),y:bs(5,14)};Pt.translateX=Pt.x;Pt.translateY=Pt.y;const Yc=(t,e,n)=>{const s=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:r}=o,a={};r==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(l=>{a[l]=Pt[l](s,o)}),e.render();const c=e.measureViewportBox();return n.forEach(l=>{const u=e.getValue(l);u&&u.jump(a[l]),t[l]=Pt[l](c,o)}),t},qc=(t,e,n={},s={})=>{e={...e},s={...s};const i=Object.keys(e).filter(Xi);let o=[],r=!1;const a=[];if(i.forEach(c=>{const l=t.getValue(c);if(!t.hasValue(c))return;let u=n[c],f=St(u);const h=e[c];let d;if(te(h)){const p=h.length,v=h[0]===null?1:0;u=h[v],f=St(u);for(let x=v;x<p&&h[x]!==null;x++)d?de(St(h[x])===d):d=St(h[x])}else d=St(h);if(f!==d)if(Ps(f)&&Ps(d)){const p=l.get();typeof p=="string"&&l.set(parseFloat(p)),typeof h=="string"?e[c]=parseFloat(h):Array.isArray(h)&&d===P&&(e[c]=h.map(parseFloat))}else f!=null&&f.transform&&(d!=null&&d.transform)&&(u===0||h===0)?u===0?l.set(d.transform(u)):e[c]=f.transform(h):(r||(o=Xc(t),r=!0),a.push(c),s[c]=s[c]!==void 0?s[c]:e[c],l.jump(h))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,l=Yc(e,t,a);return o.length&&o.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),ae&&c!==null&&window.scrollTo({top:c}),{target:l,transitionEnd:s}}else return{target:e,transitionEnd:s}};function Zc(t,e,n,s){return $c(e)?qc(t,e,n,s):{target:e,transitionEnd:s}}const Jc=(t,e,n,s)=>{const i=Hc(t,e,s);return e=i.target,s=i.transitionEnd,Zc(t,e,n,s)},ze={current:null},Yi={current:!1};function Qc(){if(Yi.current=!0,!!ae)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ze.current=t.matches;t.addListener(e),e()}else ze.current=!1}function tl(t,e,n){const{willChange:s}=e;for(const i in e){const o=e[i],r=n[i];if(O(o))t.addValue(i,o),se(s)&&s.add(i);else if(O(r))t.addValue(i,z(o,{owner:t})),se(s)&&s.remove(i);else if(r!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,z(a!==void 0?a:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Vs=new WeakMap,qi=Object.keys(kt),el=qi.length,Ss=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nl=Ke.length;class sl{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,visualState:o},r={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>w.render(this.render,!1,!0);const{latestValues:a,renderState:c}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=r,this.isControllingVariants=le(n),this.isVariantNode=ks(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const h=u[f];a[f]!==void 0&&O(h)&&(h.set(a[f],!1),se(l)&&l.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,Vs.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Yi.current||Qc(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ze.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vs.delete(this.current),this.projection&&this.projection.unmount(),W(this.notifyUpdate),W(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=ht.has(e),i=n.on("change",r=>{this.latestValues[e]=r,this.props.onUpdate&&w.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,i,o){let r,a;for(let c=0;c<el;c++){const l=qi[c],{isEnabled:u,Feature:f,ProjectionNode:h,MeasureLayout:d}=kt[l];h&&(r=h),u(n)&&(!this.features[l]&&f&&(this.features[l]=new f(this)),d&&(a=d))}if(!this.projection&&r){this.projection=new r(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:l,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:d}=n;this.projection.setOptions({layoutId:c,layout:l,alwaysMeasureLayout:!!u||f&&mt(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof l=="string"?l:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:d})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):E()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Ss.length;s++){const i=Ss[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=tl(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<nl;s++){const i=Ke[s],o=this.props[i];(Ft(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=z(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,i=typeof s=="string"||typeof s=="object"?(n=tn(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!O(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fn),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Zi extends sl{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:i},o){let r=Pa(s,e||{},this);if(i&&(n&&(n=i(n)),s&&(s=i(s)),r&&(r=i(r))),o){va(this,s,r);const a=Jc(this,s,r,n);n=a.transitionEnd,s=a.target}return{transition:e,transitionEnd:n,...s}}}function il(t){return window.getComputedStyle(t)}class rl extends Zi{readValueFromInstance(e,n){if(ht.has(n)){const s=on(n);return s&&s.default||0}else{const s=il(e),i=(Us(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ji(e,n)}build(e,n,s,i){Ye(e,n,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Qe(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;O(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,i){$s(e,n,s,i)}}class ol extends Zi{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ht.has(n)){const s=on(n);return s&&s.default||0}return n=Ks.has(n)?n:Ge(n),e.getAttribute(n)}measureInstanceViewportBox(){return E()}scrapeMotionValuesFromProps(e,n){return Xs(e,n)}build(e,n,s,i){Ze(e,n,s,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,s,i){_s(e,n,s,i)}mount(e){this.isSVGTag=Je(e.tagName),super.mount(e)}}const al=(t,e)=>Xe(t)?new ol(e,{enableHardwareAcceleration:!1}):new rl(e,{enableHardwareAcceleration:!0}),cl={layout:{ProjectionNode:_i,MeasureLayout:Ni}},ll={...ka,...so,...Nc,...cl},Yl=hr((t,e)=>Gr(t,e,ll,al));function Ji(){const t=m.useRef(!1);return Tt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ul(){const t=Ji(),[e,n]=m.useState(0),s=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>w.postRender(s),[s]),e]}class fl extends m.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hl({children:t,isPresent:e}){const n=m.useId(),s=m.useRef(null),i=m.useRef({width:0,height:0,top:0,left:0});return m.useInsertionEffect(()=>{const{width:o,height:r,top:a,left:c}=i.current;if(e||!s.current||!o||!r)return;s.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${r}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[e]),m.createElement(fl,{isPresent:e,childRef:s,sizeRef:i},m.cloneElement(t,{ref:s}))}const Me=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:r})=>{const a=Wt(dl),c=m.useId(),l=m.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;s&&s()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?void 0:[n]);return m.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),m.useEffect(()=>{!n&&!a.size&&s&&s()},[n]),r==="popLayout"&&(t=m.createElement(hl,{isPresent:n},t)),m.createElement(oe.Provider,{value:l},t)};function dl(){return new Map}function pl(t){return m.useEffect(()=>()=>t(),[])}const ut=t=>t.key||"";function ml(t,e){t.forEach(n=>{const s=ut(n);e.set(s,n)})}function gl(t){const e=[];return m.Children.forEach(t,n=>{m.isValidElement(n)&&e.push(n)}),e}const ql=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:r="sync"})=>{const a=m.useContext(_e).forceRender||ul()[0],c=Ji(),l=gl(t);let u=l;const f=m.useRef(new Map).current,h=m.useRef(u),d=m.useRef(new Map).current,p=m.useRef(!0);if(Tt(()=>{p.current=!1,ml(l,d),h.current=u}),pl(()=>{p.current=!0,d.clear(),f.clear()}),p.current)return m.createElement(m.Fragment,null,u.map(g=>m.createElement(Me,{key:ut(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:r},g)));u=[...u];const v=h.current.map(ut),x=l.map(ut),b=v.length;for(let g=0;g<b;g++){const y=v[g];x.indexOf(y)===-1&&!f.has(y)&&f.set(y,void 0)}return r==="wait"&&f.size&&(u=[]),f.forEach((g,y)=>{if(x.indexOf(y)!==-1)return;const T=d.get(y);if(!T)return;const V=v.indexOf(y);let R=g;if(!R){const C=()=>{f.delete(y);const S=Array.from(d.keys()).filter(A=>!x.includes(A));if(S.forEach(A=>d.delete(A)),h.current=l.filter(A=>{const U=ut(A);return U===y||S.includes(U)}),!f.size){if(c.current===!1)return;a(),s&&s()}};R=m.createElement(Me,{key:ut(T),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:o,mode:r},T),f.set(y,R)}u.splice(V,0,R)}),u=u.map(g=>{const y=g.key;return f.has(y)?g:m.createElement(Me,{key:ut(g),isPresent:!0,presenceAffectsLayout:o,mode:r},g)}),m.createElement(m.Fragment,null,f.size?u:u.map(g=>m.cloneElement(g)))};function hn(t){const e=Wt(()=>z(t)),{isStatic:n}=m.useContext(It);if(n){const[,s]=m.useState(t);m.useEffect(()=>e.on("change",s),[])}return e}const yl=t=>typeof t=="object"&&t.mix,vl=t=>yl(t)?t.mix:void 0;function xl(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],i=t[1+n],o=t[2+n],r=t[3+n],a=pe(i,o,{mixer:vl(o[0]),...r});return e?a(s):a}function Qi(t,e){const n=hn(e()),s=()=>n.set(e());return s(),Tt(()=>{const i=()=>w.update(s,!1,!0),o=t.map(r=>r.on("change",i));return()=>{o.forEach(r=>r()),W(s)}}),n}function Pl(t){Lt.current=[],t();const e=Qi(Lt.current,t);return Lt.current=void 0,e}function Zl(t,e,n,s){if(typeof t=="function")return Pl(t);const i=typeof e=="function"?e:xl(e,n,s);return Array.isArray(t)?ws(t,i):ws([t],([o])=>i(o))}function ws(t,e){const n=Wt(()=>[]);return Qi(t,()=>{n.length=0;const s=t.length;for(let i=0;i<s;i++)n[i]=t[i].get();return e(n)})}function Jl(t,e={}){const{isStatic:n}=m.useContext(It),s=m.useRef(null),i=hn(O(t)?t.get():t),o=()=>{s.current&&s.current.stop()};return m.useInsertionEffect(()=>i.attach((r,a)=>{if(n)return a(r);if(o(),s.current=Ot({keyframes:[i.get(),r],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:a}),!F.isProcessing){const c=performance.now()-F.timestamp;c<30&&(s.current.time=$(c))}return i.get()},o),[JSON.stringify(e)]),Tt(()=>{if(O(t))return t.on("change",r=>i.set(parseFloat(r)))},[i]),i}function Tl(t,e,n){m.useInsertionEffect(()=>t.on(e,n),[t,e,n])}function Ql(t){const e=hn(t.getVelocity());return Tl(t,"velocityChange",n=>{e.set(n)}),e}function tr(t,e,n){var s;if(typeof t=="string"){let i=document;e&&(de(!!e.current),i=e.current),n?((s=n[t])!==null&&s!==void 0||(n[t]=i.querySelectorAll(t)),t=n[t]):t=i.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}const qt=new WeakMap;let Q;function bl(t,e){if(e){const{inlineSize:n,blockSize:s}=e[0];return{width:n,height:s}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function Vl({target:t,contentRect:e,borderBoxSize:n}){var s;(s=qt.get(t))===null||s===void 0||s.forEach(i=>{i({target:t,contentSize:e,get size(){return bl(t,n)}})})}function Sl(t){t.forEach(Vl)}function wl(){typeof ResizeObserver>"u"||(Q=new ResizeObserver(Sl))}function Al(t,e){Q||wl();const n=tr(t);return n.forEach(s=>{let i=qt.get(s);i||(i=new Set,qt.set(s,i)),i.add(e),Q==null||Q.observe(s)}),()=>{n.forEach(s=>{const i=qt.get(s);i==null||i.delete(e),i!=null&&i.size||Q==null||Q.unobserve(s)})}}const Zt=new Set;let Bt;function Cl(){Bt=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};Zt.forEach(n=>n(e))},window.addEventListener("resize",Bt)}function Ml(t){return Zt.add(t),Bt||Cl(),()=>{Zt.delete(t),!Zt.size&&Bt&&(Bt=void 0)}}function Dl(t,e){return typeof t=="function"?Ml(t):Al(t,e)}const Ll=50,As=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Rl=()=>({time:0,x:As(),y:As()}),El={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Cs(t,e,n,s){const i=n[e],{length:o,position:r}=El[e],a=i.current,c=n.time;i.current=t["scroll"+r],i.scrollLength=t["scroll"+o]-t["client"+o],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=xt(0,i.scrollLength,i.current);const l=s-c;i.velocity=l>Ll?0:rn(i.current-a,l)}function Bl(t,e,n){Cs(t,"x",e,n),Cs(t,"y",e,n),e.time=n}function Fl(t,e){const n={x:0,y:0};let s=t;for(;s&&s!==e;)if(s instanceof HTMLElement)n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const i=s.getBoundingClientRect();s=s.parentElement;const o=s.getBoundingClientRect();n.x+=i.left-o.left,n.y+=i.top-o.top}else if(s instanceof SVGGraphicsElement){const{x:i,y:o}=s.getBBox();n.x+=i,n.y+=o;let r=null,a=s.parentNode;for(;!r;)a.tagName==="svg"&&(r=a),a=s.parentNode;s=r}else break;return n}const kl={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},He={start:0,center:.5,end:1};function Ms(t,e,n=0){let s=0;if(He[t]!==void 0&&(t=He[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?s=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?s=i/100*document.documentElement.clientWidth:t.endsWith("vh")?s=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(s=e*t),n+s}const Ol=[0,0];function Il(t,e,n,s){let i=Array.isArray(t)?t:Ol,o=0,r=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,He[t]?t:"0"]),o=Ms(i[0],n,s),r=Ms(i[1],e),o-r}const jl={x:0,y:0};function Ul(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Nl(t,e,n){let{offset:s=kl.All}=n;const{target:i=t,axis:o="y"}=n,r=o==="y"?"height":"width",a=i!==t?Fl(i,t):jl,c=i===t?{width:t.scrollWidth,height:t.scrollHeight}:Ul(i),l={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let u=!e[o].interpolate;const f=s.length;for(let h=0;h<f;h++){const d=Il(s[h],l[r],c[r],a[o]);!u&&d!==e[o].interpolatorOffsets[h]&&(u=!0),e[o].offset[h]=d}u&&(e[o].interpolate=pe(e[o].offset,Si(s)),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=e[o].interpolate(e[o].current)}function Wl(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let s=e;for(;s&&s!==t;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function zl(t,e,n,s={}){return{measure:()=>Wl(t,s.target,n),update:i=>{Bl(t,n,i),(s.offset||s.target)&&Nl(t,n,s)},notify:()=>e(n)}}const At=new WeakMap,Ds=new WeakMap,De=new WeakMap,Ls=t=>t===document.documentElement?window:t;function Hl(t,{container:e=document.documentElement,...n}={}){let s=De.get(e);s||(s=new Set,De.set(e,s));const i=Rl(),o=zl(e,t,i,n);if(s.add(o),!At.has(e)){const a=()=>{for(const h of s)h.measure()},c=()=>{for(const h of s)h.update(F.timestamp)},l=()=>{for(const h of s)h.notify()},u=()=>{w.read(a,!1,!0),w.update(c,!1,!0),w.update(l,!1,!0)};At.set(e,u);const f=Ls(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&Ds.set(e,Dl(e,u)),f.addEventListener("scroll",u,{passive:!0})}const r=At.get(e);return w.read(r,!1,!0),()=>{var a;W(r);const c=De.get(e);if(!c||(c.delete(o),c.size))return;const l=At.get(e);At.delete(e),l&&(Ls(e).removeEventListener("scroll",l),(a=Ds.get(e))===null||a===void 0||a(),window.removeEventListener("resize",l))}}function Rs(t,e){ni(!!(!e||e.current))}const Gl=()=>({scrollX:z(0),scrollY:z(0),scrollXProgress:z(0),scrollYProgress:z(0)});function tu({container:t,target:e,layoutEffect:n=!0,...s}={}){const i=Wt(Gl);return(n?Tt:m.useEffect)(()=>(Rs("target",e),Rs("container",t),Hl(({x:r,y:a})=>{i.scrollX.set(r.current),i.scrollXProgress.set(r.progress),i.scrollY.set(a.current),i.scrollYProgress.set(a.progress)},{...s,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(s.offset)]),i}function eu(t){const e=m.useRef(0),{isStatic:n}=m.useContext(It);m.useEffect(()=>{if(n)return;const s=({timestamp:i,delta:o})=>{e.current||(e.current=i),t(i-e.current,o)};return w.update(s,!0),()=>W(s)},[t])}const $l={some:0,all:1};function Kl(t,e,{root:n,margin:s,amount:i="some"}={}){const o=tr(t),r=new WeakMap,a=l=>{l.forEach(u=>{const f=r.get(u.target);if(u.isIntersecting!==!!f)if(u.isIntersecting){const h=e(u);typeof h=="function"?r.set(u.target,h):c.unobserve(u.target)}else f&&(f(u),r.delete(u.target))})},c=new IntersectionObserver(a,{root:n,rootMargin:s,threshold:typeof i=="number"?i:$l[i]});return o.forEach(l=>c.observe(l)),()=>c.disconnect()}function nu(t,{root:e,margin:n,amount:s,once:i=!1}={}){const[o,r]=m.useState(!1);return m.useEffect(()=>{if(!t.current||i&&o)return;const a=()=>(r(!0),i?void 0:()=>r(!1)),c={root:e&&e.current||void 0,margin:n,amount:s};return Kl(t.current,a,c)},[e,t,n,i]),o}export{ql as A,Jl as a,nu as b,tu as c,Ql as d,Zl as e,eu as f,Yl as m,hn as u};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnJhbWVyLW1vdGlvbi1lMzE5MmViMy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L01vdGlvbkNvbmZpZ0NvbnRleHQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L01vdGlvbkNvbnRleHQvaW5kZXgubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L1ByZXNlbmNlQ29udGV4dC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL2lzLWJyb3dzZXIubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtaXNvbW9ycGhpYy1lZmZlY3QubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L0xhenlDb250ZXh0Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9jYW1lbC10by1kYXNoLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL29wdGltaXplZC1hcHBlYXIvZGF0YS1pZC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi91dGlscy91c2UtdmlzdWFsLWVsZW1lbnQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9pcy1yZWYtb2JqZWN0Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL3VzZS1tb3Rpb24tcmVmLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2lzLXZhcmlhbnQtbGFiZWwubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvaXMtYW5pbWF0aW9uLWNvbnRyb2xzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL3ZhcmlhbnQtcHJvcHMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvaXMtY29udHJvbGxpbmctdmFyaWFudHMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L01vdGlvbkNvbnRleHQvdXRpbHMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L01vdGlvbkNvbnRleHQvY3JlYXRlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2RlZmluaXRpb25zLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL2ZlYXR1cmVzL2xvYWQtZmVhdHVyZXMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb250ZXh0L0xheW91dEdyb3VwQ29udGV4dC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbnRleHQvU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL3N5bWJvbC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9pbmRleC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vbW90aW9uLXByb3h5Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy9sb3dlcmNhc2UtZWxlbWVudHMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL2lzLXN2Zy1jb21wb25lbnQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1jb3JyZWN0aW9uLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvdXRpbHMvdHJhbnNmb3JtLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL2lzLWZvcmNlZC1tb3Rpb24tdmFsdWUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91dGlscy9idWlsZC10cmFuc2Zvcm0ubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL2lzLWNzcy12YXJpYWJsZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvZ2V0LWFzLXR5cGUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9jbGFtcC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3R5cGVzL251bWJlcnMvaW5kZXgubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS90eXBlcy91dGlscy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3ZhbHVlLXR5cGVzL3R5cGUtaW50Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9udW1iZXIubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91dGlscy9idWlsZC1zdHlsZXMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvaHRtbC91dGlscy9jcmVhdGUtcmVuZGVyLXN0YXRlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvdXNlLXByb3BzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvbW90aW9uL3V0aWxzL3ZhbGlkLXByb3AubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL2ZpbHRlci1wcm9wcy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvdHJhbnNmb3JtLW9yaWdpbi5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvcGF0aC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvYnVpbGQtYXR0cnMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL2lzLXN2Zy10YWcubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3VzZS1wcm9wcy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXNlLXJlbmRlci5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL3V0aWxzL3JlbmRlci5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvY2FtZWwtY2FzZS1hdHRycy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9zdmcvdXRpbHMvcmVuZGVyLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3ZnL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL3Jlc29sdmUtdmFyaWFudHMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtY29uc3RhbnQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvaXMta2V5ZnJhbWVzLXRhcmdldC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3Jlc29sdmUtdmFsdWUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91dGlscy9yZXNvbHZlLW1vdGlvbi12YWx1ZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi91dGlscy91c2UtdmlzdWFsLXN0YXRlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvbm9vcC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2ZyYW1lbG9vcC9yZW5kZXItc3RlcC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2ZyYW1lbG9vcC9iYXRjaGVyLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZnJhbWVsb29wL2ZyYW1lLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy9jb25maWctbW90aW9uLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2h0bWwvY29uZmlnLW1vdGlvbi5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXRpbHMvY3JlYXRlLWNvbmZpZy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2V2ZW50cy9hZGQtZG9tLWV2ZW50Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZXZlbnRzL3V0aWxzL2lzLXByaW1hcnktcG9pbnRlci5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2V2ZW50cy9ldmVudC1pbmZvLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZXZlbnRzL2FkZC1wb2ludGVyLWV2ZW50Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvcGlwZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2dlc3R1cmVzL2RyYWcvdXRpbHMvbG9jay5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy9GZWF0dXJlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvaG92ZXIubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9mb2N1cy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2dlc3R1cmVzL3V0aWxzL2lzLW5vZGUtb3ItY2hpbGQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9wcmVzcy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy92aWV3cG9ydC9vYnNlcnZlcnMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvdmlld3BvcnQvaW5kZXgubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvZ2VzdHVyZXMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9zaGFsbG93LWNvbXBhcmUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvcmVzb2x2ZS1keW5hbWljLXZhcmlhbnRzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvZXJyb3JzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdGltZS1jb252ZXJzaW9uLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLWluc3RhbnQtdHJhbnNpdGlvbi1zdGF0ZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2Vhc2luZy91dGlscy9pcy1iZXppZXItZGVmaW5pdGlvbi5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9hbmltYXRvcnMvd2FhcGkvZWFzaW5nLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2FuaW1hdG9ycy93YWFwaS9pbmRleC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9hbmltYXRvcnMvd2FhcGkvdXRpbHMvZ2V0LWZpbmFsLWtleWZyYW1lLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZWFzaW5nL2N1YmljLWJlemllci5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2Vhc2luZy9lYXNlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZWFzaW5nL3V0aWxzL2lzLWVhc2luZy1hcnJheS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2Vhc2luZy9tb2RpZmllcnMvbWlycm9yLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZWFzaW5nL21vZGlmaWVycy9yZXZlcnNlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZWFzaW5nL2NpcmMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9lYXNpbmcvYmFjay5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2Vhc2luZy9hbnRpY2lwYXRlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZWFzaW5nL3V0aWxzL21hcC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbG9yL3V0aWxzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdHlwZXMvY29sb3IvcmdiYS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbG9yL2hleC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbG9yL2hzbGEubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS90eXBlcy9jb2xvci9pbmRleC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL21peC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL2hzbGEtdG8tcmdiYS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL21peC1jb2xvci5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3R5cGVzL2NvbXBsZXgvaW5kZXgubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9taXgtY29tcGxleC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3Byb2dyZXNzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvaW50ZXJwb2xhdGUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9vZmZzZXRzL2ZpbGwubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9vZmZzZXRzL2RlZmF1bHQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9vZmZzZXRzL3RpbWUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vZ2VuZXJhdG9ycy9rZXlmcmFtZXMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy92ZWxvY2l0eS1wZXItc2Vjb25kLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2dlbmVyYXRvcnMvdXRpbHMvdmVsb2NpdHkubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vZ2VuZXJhdG9ycy9zcHJpbmcvZmluZC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9nZW5lcmF0b3JzL3NwcmluZy9pbmRleC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9nZW5lcmF0b3JzL2luZXJ0aWEubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vYW5pbWF0b3JzL2pzL2RyaXZlci1mcmFtZWxvb3AubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vZ2VuZXJhdG9ycy91dGlscy9jYWxjLWR1cmF0aW9uLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2FuaW1hdG9ycy9qcy9pbmRleC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL21lbW8ubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vYW5pbWF0b3JzL3dhYXBpL2NyZWF0ZS1hY2NlbGVyYXRlZC1hbmltYXRpb24ubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vYW5pbWF0b3JzL2luc3RhbnQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vdXRpbHMvZGVmYXVsdC10cmFuc2l0aW9ucy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRhYmxlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdHlwZXMvY29tcGxleC9maWx0ZXIubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3ZhbHVlLXR5cGVzL2RlZmF1bHRzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS92YWx1ZS10eXBlcy9hbmltYXRhYmxlLW5vbmUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9pcy16ZXJvLXZhbHVlLXN0cmluZy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy9pcy1ub25lLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL3V0aWxzL2tleWZyYW1lcy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi91dGlscy90cmFuc2l0aW9ucy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9pbnRlcmZhY2VzL21vdGlvbi12YWx1ZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3VzZS13aWxsLWNoYW5nZS9pcy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL2lzLW51bWVyaWNhbC1zdHJpbmcubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9hcnJheS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3N1YnNjcmlwdGlvbi1tYW5hZ2VyLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvaW5kZXgubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3ZhbHVlLXR5cGVzL3Rlc3QubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3ZhbHVlLXR5cGVzL3R5cGUtYXV0by5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvZGltZW5zaW9ucy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvZmluZC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9zZXR0ZXJzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2ludGVyZmFjZXMvdmlzdWFsLWVsZW1lbnQtdGFyZ2V0Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvYW5pbWF0aW9uL2ludGVyZmFjZXMvdmlzdWFsLWVsZW1lbnQtdmFyaWFudC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2FuaW1hdGlvbi9pbnRlcmZhY2VzL3Zpc3VhbC1lbGVtZW50Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL2FuaW1hdGlvbi1zdGF0ZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy9hbmltYXRpb24vaW5kZXgubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvYW5pbWF0aW9uL2V4aXQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvYW5pbWF0aW9ucy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL2Rpc3RhbmNlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvcGFuL1BhblNlc3Npb24ubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L2RlbHRhLWNhbGMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9kcmFnL3V0aWxzL2NvbnN0cmFpbnRzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9tb2RlbHMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3V0aWxzL2VhY2gtYXhpcy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvY29udmVyc2lvbi5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vdXRpbHMvaGFzLXRyYW5zZm9ybS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vZ2VvbWV0cnkvZGVsdGEtYXBwbHkubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3V0aWxzL21lYXN1cmUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9nZXQtY29udGV4dC13aW5kb3cubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9kcmFnL1Zpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9nZXN0dXJlcy9kcmFnL2luZGV4Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvZ2VzdHVyZXMvcGFuL2luZGV4Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvY29tcG9uZW50cy9BbmltYXRlUHJlc2VuY2UvdXNlLXByZXNlbmNlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9ub2RlL3N0YXRlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9zdHlsZXMvc2NhbGUtYm9yZGVyLXJhZGl1cy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWJveC1zaGFkb3cubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvbGF5b3V0L01lYXN1cmVMYXlvdXQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2FuaW1hdGlvbi9taXgtdmFsdWVzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9jb3B5Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9nZW9tZXRyeS9kZWx0YS1yZW1vdmUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL2dlb21ldHJ5L3V0aWxzLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9zaGFyZWQvc3RhY2subWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL3N0eWxlcy90cmFuc2Zvcm0ubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvdXRpbHMvY29tcGFyZS1ieS1kZXB0aC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci91dGlscy9mbGF0LXRyZWUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9kZWxheS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2RlYnVnL3JlY29yZC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXRpbHMvaXMtc3ZnLWVsZW1lbnQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9hbmltYXRpb24vaW50ZXJmYWNlcy9zaW5nbGUtdmFsdWUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9wcm9qZWN0aW9uL25vZGUvY3JlYXRlLXByb2plY3Rpb24tbm9kZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3Byb2plY3Rpb24vbm9kZS9Eb2N1bWVudFByb2plY3Rpb25Ob2RlLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcHJvamVjdGlvbi9ub2RlL0hUTUxQcm9qZWN0aW9uTm9kZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL21vdGlvbi9mZWF0dXJlcy9kcmFnLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS91dGlscy9jc3MtdmFyaWFibGVzLWNvbnZlcnNpb24ubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL3VuaXQtY29udmVyc2lvbi5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vdXRpbHMvcGFyc2UtZG9tLXZhcmlhbnQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy9yZWR1Y2VkLW1vdGlvbi9zdGF0ZS5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3JlZHVjZWQtbW90aW9uL2luZGV4Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3V0aWxzL21vdGlvbi12YWx1ZXMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvc3RvcmUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvVmlzdWFsRWxlbWVudC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vRE9NVmlzdWFsRWxlbWVudC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9odG1sL0hUTUxWaXN1YWxFbGVtZW50Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL3N2Zy9TVkdWaXN1YWxFbGVtZW50Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS9jcmVhdGUtdmlzdWFsLWVsZW1lbnQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9tb3Rpb24vZmVhdHVyZXMvbGF5b3V0Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS9tb3Rpb24ubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtaXMtbW91bnRlZC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1mb3JjZS11cGRhdGUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVQcmVzZW5jZS9Qb3BDaGlsZC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL2NvbXBvbmVudHMvQW5pbWF0ZVByZXNlbmNlL1ByZXNlbmNlQ2hpbGQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy91c2UtdW5tb3VudC1lZmZlY3QubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9jb21wb25lbnRzL0FuaW1hdGVQcmVzZW5jZS9pbmRleC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3ZhbHVlL3VzZS1tb3Rpb24tdmFsdWUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy91dGlscy90cmFuc2Zvcm0ubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91c2UtY29tYmluZS12YWx1ZXMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91c2UtY29tcHV0ZWQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91c2UtdHJhbnNmb3JtLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdXNlLXNwcmluZy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1tb3Rpb24tdmFsdWUtZXZlbnQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy92YWx1ZS91c2UtdmVsb2NpdHkubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3V0aWxzL3Jlc29sdmUtZWxlbWVudC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vcmVzaXplL2hhbmRsZS1lbGVtZW50Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS9yZXNpemUvaGFuZGxlLXdpbmRvdy5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vcmVzaXplL2luZGV4Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvcmVuZGVyL2RvbS9zY3JvbGwvaW5mby5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vc2Nyb2xsL29mZnNldHMvaW5zZXQubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3Njcm9sbC9vZmZzZXRzL3ByZXNldHMubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3Njcm9sbC9vZmZzZXRzL2VkZ2UubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3Njcm9sbC9vZmZzZXRzL29mZnNldC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vc2Nyb2xsL29mZnNldHMvaW5kZXgubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3Njcm9sbC9vbi1zY3JvbGwtaGFuZGxlci5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3JlbmRlci9kb20vc2Nyb2xsL3RyYWNrLm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdmFsdWUvdXNlLXNjcm9sbC5tanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvZnJhbWVyLW1vdGlvbi9kaXN0L2VzL3V0aWxzL3VzZS1hbmltYXRpb24tZnJhbWUubWpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzL2ZyYW1lci1tb3Rpb24vZGlzdC9lcy9yZW5kZXIvZG9tL3ZpZXdwb3J0L2luZGV4Lm1qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy9mcmFtZXItbW90aW9uL2Rpc3QvZXMvdXRpbHMvdXNlLWluLXZpZXcubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5jb25zdCBNb3Rpb25Db25maWdDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gICAgdHJhbnNmb3JtUGFnZVBvaW50OiAocCkgPT4gcCxcbiAgICBpc1N0YXRpYzogZmFsc2UsXG4gICAgcmVkdWNlZE1vdGlvbjogXCJuZXZlclwiLFxufSk7XG5cbmV4cG9ydCB7IE1vdGlvbkNvbmZpZ0NvbnRleHQgfTtcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IE1vdGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KTtcblxuZXhwb3J0IHsgTW90aW9uQ29udGV4dCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmNvbnN0IFByZXNlbmNlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbmV4cG9ydCB7IFByZXNlbmNlQ29udGV4dCB9O1xuIiwiY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuXG5leHBvcnQgeyBpc0Jyb3dzZXIgfTtcbiIsImltcG9ydCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNCcm93c2VyIH0gZnJvbSAnLi9pcy1icm93c2VyLm1qcyc7XG5cbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBpc0Jyb3dzZXIgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG5cbmV4cG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfTtcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IExhenlDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7IHN0cmljdDogZmFsc2UgfSk7XG5cbmV4cG9ydCB7IExhenlDb250ZXh0IH07XG4iLCIvKipcbiAqIENvbnZlcnQgY2FtZWxDYXNlIHRvIGRhc2gtY2FzZSBwcm9wZXJ0aWVzLlxuICovXG5jb25zdCBjYW1lbFRvRGFzaCA9IChzdHIpID0+IHN0ci5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCk7XG5cbmV4cG9ydCB7IGNhbWVsVG9EYXNoIH07XG4iLCJpbXBvcnQgeyBjYW1lbFRvRGFzaCB9IGZyb20gJy4uLy4uL3JlbmRlci9kb20vdXRpbHMvY2FtZWwtdG8tZGFzaC5tanMnO1xuXG5jb25zdCBvcHRpbWl6ZWRBcHBlYXJEYXRhSWQgPSBcImZyYW1lckFwcGVhcklkXCI7XG5jb25zdCBvcHRpbWl6ZWRBcHBlYXJEYXRhQXR0cmlidXRlID0gXCJkYXRhLVwiICsgY2FtZWxUb0Rhc2gob3B0aW1pemVkQXBwZWFyRGF0YUlkKTtcblxuZXhwb3J0IHsgb3B0aW1pemVkQXBwZWFyRGF0YUF0dHJpYnV0ZSwgb3B0aW1pemVkQXBwZWFyRGF0YUlkIH07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUluc2VydGlvbkVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHJlc2VuY2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9QcmVzZW5jZUNvbnRleHQubWpzJztcbmltcG9ydCB7IE1vdGlvbkNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L01vdGlvbkNvbnRleHQvaW5kZXgubWpzJztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi8uLi91dGlscy91c2UtaXNvbW9ycGhpYy1lZmZlY3QubWpzJztcbmltcG9ydCB7IExhenlDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9MYXp5Q29udGV4dC5tanMnO1xuaW1wb3J0IHsgTW90aW9uQ29uZmlnQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvTW90aW9uQ29uZmlnQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgb3B0aW1pemVkQXBwZWFyRGF0YUF0dHJpYnV0ZSB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi9vcHRpbWl6ZWQtYXBwZWFyL2RhdGEtaWQubWpzJztcblxuZnVuY3Rpb24gdXNlVmlzdWFsRWxlbWVudChDb21wb25lbnQsIHZpc3VhbFN0YXRlLCBwcm9wcywgY3JlYXRlVmlzdWFsRWxlbWVudCkge1xuICAgIGNvbnN0IHsgdmlzdWFsRWxlbWVudDogcGFyZW50IH0gPSB1c2VDb250ZXh0KE1vdGlvbkNvbnRleHQpO1xuICAgIGNvbnN0IGxhenlDb250ZXh0ID0gdXNlQ29udGV4dChMYXp5Q29udGV4dCk7XG4gICAgY29uc3QgcHJlc2VuY2VDb250ZXh0ID0gdXNlQ29udGV4dChQcmVzZW5jZUNvbnRleHQpO1xuICAgIGNvbnN0IHJlZHVjZWRNb3Rpb25Db25maWcgPSB1c2VDb250ZXh0KE1vdGlvbkNvbmZpZ0NvbnRleHQpLnJlZHVjZWRNb3Rpb247XG4gICAgY29uc3QgdmlzdWFsRWxlbWVudFJlZiA9IHVzZVJlZigpO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGhhdmVuJ3QgcHJlbG9hZGVkIGEgcmVuZGVyZXIsIGNoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIG9uZSBsYXp5LWxvYWRlZFxuICAgICAqL1xuICAgIGNyZWF0ZVZpc3VhbEVsZW1lbnQgPSBjcmVhdGVWaXN1YWxFbGVtZW50IHx8IGxhenlDb250ZXh0LnJlbmRlcmVyO1xuICAgIGlmICghdmlzdWFsRWxlbWVudFJlZi5jdXJyZW50ICYmIGNyZWF0ZVZpc3VhbEVsZW1lbnQpIHtcbiAgICAgICAgdmlzdWFsRWxlbWVudFJlZi5jdXJyZW50ID0gY3JlYXRlVmlzdWFsRWxlbWVudChDb21wb25lbnQsIHtcbiAgICAgICAgICAgIHZpc3VhbFN0YXRlLFxuICAgICAgICAgICAgcGFyZW50LFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICBwcmVzZW5jZUNvbnRleHQsXG4gICAgICAgICAgICBibG9ja0luaXRpYWxBbmltYXRpb246IHByZXNlbmNlQ29udGV4dFxuICAgICAgICAgICAgICAgID8gcHJlc2VuY2VDb250ZXh0LmluaXRpYWwgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHJlZHVjZWRNb3Rpb25Db25maWcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCB2aXN1YWxFbGVtZW50ID0gdmlzdWFsRWxlbWVudFJlZi5jdXJyZW50O1xuICAgIHVzZUluc2VydGlvbkVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZpc3VhbEVsZW1lbnQgJiYgdmlzdWFsRWxlbWVudC51cGRhdGUocHJvcHMsIHByZXNlbmNlQ29udGV4dCk7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2FjaGUgdGhpcyB2YWx1ZSBhcyB3ZSB3YW50IHRvIGtub3cgd2hldGhlciBIYW5kb2ZmQXBwZWFyQW5pbWF0aW9uc1xuICAgICAqIHdhcyBwcmVzZW50IG9uIGluaXRpYWwgcmVuZGVyIC0gaXQgd2lsbCBiZSBkZWxldGVkIGFmdGVyIHRoaXMuXG4gICAgICovXG4gICAgY29uc3Qgd2FudHNIYW5kb2ZmID0gdXNlUmVmKEJvb2xlYW4ocHJvcHNbb3B0aW1pemVkQXBwZWFyRGF0YUF0dHJpYnV0ZV0gJiYgIXdpbmRvdy5IYW5kb2ZmQ29tcGxldGUpKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF2aXN1YWxFbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2aXN1YWxFbGVtZW50LnJlbmRlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWRlYWxseSB0aGlzIGZ1bmN0aW9uIHdvdWxkIGFsd2F5cyBydW4gaW4gYSB1c2VFZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEhvd2V2ZXIsIGlmIHdlIGhhdmUgb3B0aW1pc2VkIGFwcGVhciBhbmltYXRpb25zIHRvIGhhbmRvZmYgZnJvbSxcbiAgICAgICAgICogaXQgbmVlZHMgdG8gaGFwcGVuIHN5bmNocm9ub3VzbHkgdG8gZW5zdXJlIHRoZXJlJ3Mgbm8gZmxhc2ggb2ZcbiAgICAgICAgICogaW5jb3JyZWN0IHN0eWxlcyBpbiB0aGUgZXZlbnQgb2YgYSBoeWRyYXRpb24gZXJyb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNvIGlmIHdlIGRldGVjdCBhIHNpdHV0YXRpb24gd2hlcmUgb3B0aW1pc2VkIGFwcGVhciBhbmltYXRpb25zXG4gICAgICAgICAqIGFyZSBydW5uaW5nLCB3ZSB1c2UgdXNlTGF5b3V0RWZmZWN0IHRvIHRyaWdnZXIgYW5pbWF0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh3YW50c0hhbmRvZmYuY3VycmVudCAmJiB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLmFuaW1hdGVDaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXZpc3VhbEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZpc3VhbEVsZW1lbnQudXBkYXRlRmVhdHVyZXMoKTtcbiAgICAgICAgaWYgKCF3YW50c0hhbmRvZmYuY3VycmVudCAmJiB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLmFuaW1hdGVDaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhbnRzSGFuZG9mZi5jdXJyZW50KSB7XG4gICAgICAgICAgICB3YW50c0hhbmRvZmYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIGFsbCBmdXR1cmUgY2FsbHMgdG8gYW5pbWF0ZUNoYW5nZXMoKSB3aWxsIHJ1biBpbiB1c2VFZmZlY3RcbiAgICAgICAgICAgIHdpbmRvdy5IYW5kb2ZmQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZpc3VhbEVsZW1lbnQ7XG59XG5cbmV4cG9ydCB7IHVzZVZpc3VhbEVsZW1lbnQgfTtcbiIsImZ1bmN0aW9uIGlzUmVmT2JqZWN0KHJlZikge1xuICAgIHJldHVybiAodHlwZW9mIHJlZiA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVmLCBcImN1cnJlbnRcIikpO1xufVxuXG5leHBvcnQgeyBpc1JlZk9iamVjdCB9O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc1JlZk9iamVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLXJlZi1vYmplY3QubWpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgcmVmIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCBoeWRyYXRlcyB0aGUgcHJvdmlkZWRcbiAqIGV4dGVybmFsIHJlZiBhbmQgVmlzdWFsRWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gdXNlTW90aW9uUmVmKHZpc3VhbFN0YXRlLCB2aXN1YWxFbGVtZW50LCBleHRlcm5hbFJlZikge1xuICAgIHJldHVybiB1c2VDYWxsYmFjaygoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgaW5zdGFuY2UgJiYgdmlzdWFsU3RhdGUubW91bnQgJiYgdmlzdWFsU3RhdGUubW91bnQoaW5zdGFuY2UpO1xuICAgICAgICBpZiAodmlzdWFsRWxlbWVudCkge1xuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICA/IHZpc3VhbEVsZW1lbnQubW91bnQoaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgOiB2aXN1YWxFbGVtZW50LnVubW91bnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZXJuYWxSZWYpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXh0ZXJuYWxSZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGV4dGVybmFsUmVmKGluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmT2JqZWN0KGV4dGVybmFsUmVmKSkge1xuICAgICAgICAgICAgICAgIGV4dGVybmFsUmVmLmN1cnJlbnQgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFxuICAgIC8qKlxuICAgICAqIE9ubHkgcGFzcyBhIG5ldyByZWYgY2FsbGJhY2sgdG8gUmVhY3QgaWYgd2UndmUgcmVjZWl2ZWQgYSB2aXN1YWwgZWxlbWVudFxuICAgICAqIGZhY3RvcnkuIE90aGVyd2lzZSB3ZSdsbCBiZSBtb3VudGluZy9yZW1vdW50aW5nIGV2ZXJ5IHRpbWUgZXh0ZXJuYWxSZWZcbiAgICAgKiBvciBvdGhlciBkZXBlbmRlbmNpZXMgY2hhbmdlLlxuICAgICAqL1xuICAgIFt2aXN1YWxFbGVtZW50XSk7XG59XG5cbmV4cG9ydCB7IHVzZU1vdGlvblJlZiB9O1xuIiwiLyoqXG4gKiBEZWNpZGVzIGlmIHRoZSBzdXBwbGllZCB2YXJpYWJsZSBpcyB2YXJpYW50IGxhYmVsXG4gKi9cbmZ1bmN0aW9uIGlzVmFyaWFudExhYmVsKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheSh2KTtcbn1cblxuZXhwb3J0IHsgaXNWYXJpYW50TGFiZWwgfTtcbiIsImZ1bmN0aW9uIGlzQW5pbWF0aW9uQ29udHJvbHModikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygdi5zdGFydCA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG5leHBvcnQgeyBpc0FuaW1hdGlvbkNvbnRyb2xzIH07XG4iLCJjb25zdCB2YXJpYW50UHJpb3JpdHlPcmRlciA9IFtcbiAgICBcImFuaW1hdGVcIixcbiAgICBcIndoaWxlSW5WaWV3XCIsXG4gICAgXCJ3aGlsZUZvY3VzXCIsXG4gICAgXCJ3aGlsZUhvdmVyXCIsXG4gICAgXCJ3aGlsZVRhcFwiLFxuICAgIFwid2hpbGVEcmFnXCIsXG4gICAgXCJleGl0XCIsXG5dO1xuY29uc3QgdmFyaWFudFByb3BzID0gW1wiaW5pdGlhbFwiLCAuLi52YXJpYW50UHJpb3JpdHlPcmRlcl07XG5cbmV4cG9ydCB7IHZhcmlhbnRQcmlvcml0eU9yZGVyLCB2YXJpYW50UHJvcHMgfTtcbiIsImltcG9ydCB7IGlzQW5pbWF0aW9uQ29udHJvbHMgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvaXMtYW5pbWF0aW9uLWNvbnRyb2xzLm1qcyc7XG5pbXBvcnQgeyBpc1ZhcmlhbnRMYWJlbCB9IGZyb20gJy4vaXMtdmFyaWFudC1sYWJlbC5tanMnO1xuaW1wb3J0IHsgdmFyaWFudFByb3BzIH0gZnJvbSAnLi92YXJpYW50LXByb3BzLm1qcyc7XG5cbmZ1bmN0aW9uIGlzQ29udHJvbGxpbmdWYXJpYW50cyhwcm9wcykge1xuICAgIHJldHVybiAoaXNBbmltYXRpb25Db250cm9scyhwcm9wcy5hbmltYXRlKSB8fFxuICAgICAgICB2YXJpYW50UHJvcHMuc29tZSgobmFtZSkgPT4gaXNWYXJpYW50TGFiZWwocHJvcHNbbmFtZV0pKSk7XG59XG5mdW5jdGlvbiBpc1ZhcmlhbnROb2RlKHByb3BzKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oaXNDb250cm9sbGluZ1ZhcmlhbnRzKHByb3BzKSB8fCBwcm9wcy52YXJpYW50cyk7XG59XG5cbmV4cG9ydCB7IGlzQ29udHJvbGxpbmdWYXJpYW50cywgaXNWYXJpYW50Tm9kZSB9O1xuIiwiaW1wb3J0IHsgaXNWYXJpYW50TGFiZWwgfSBmcm9tICcuLi8uLi9yZW5kZXIvdXRpbHMvaXMtdmFyaWFudC1sYWJlbC5tanMnO1xuaW1wb3J0IHsgaXNDb250cm9sbGluZ1ZhcmlhbnRzIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL2lzLWNvbnRyb2xsaW5nLXZhcmlhbnRzLm1qcyc7XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRUcmVlVmFyaWFudHMocHJvcHMsIGNvbnRleHQpIHtcbiAgICBpZiAoaXNDb250cm9sbGluZ1ZhcmlhbnRzKHByb3BzKSkge1xuICAgICAgICBjb25zdCB7IGluaXRpYWwsIGFuaW1hdGUgfSA9IHByb3BzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5pdGlhbDogaW5pdGlhbCA9PT0gZmFsc2UgfHwgaXNWYXJpYW50TGFiZWwoaW5pdGlhbClcbiAgICAgICAgICAgICAgICA/IGluaXRpYWxcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFuaW1hdGU6IGlzVmFyaWFudExhYmVsKGFuaW1hdGUpID8gYW5pbWF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3BzLmluaGVyaXQgIT09IGZhbHNlID8gY29udGV4dCA6IHt9O1xufVxuXG5leHBvcnQgeyBnZXRDdXJyZW50VHJlZVZhcmlhbnRzIH07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTW90aW9uQ29udGV4dCB9IGZyb20gJy4vaW5kZXgubWpzJztcbmltcG9ydCB7IGdldEN1cnJlbnRUcmVlVmFyaWFudHMgfSBmcm9tICcuL3V0aWxzLm1qcyc7XG5cbmZ1bmN0aW9uIHVzZUNyZWF0ZU1vdGlvbkNvbnRleHQocHJvcHMpIHtcbiAgICBjb25zdCB7IGluaXRpYWwsIGFuaW1hdGUgfSA9IGdldEN1cnJlbnRUcmVlVmFyaWFudHMocHJvcHMsIHVzZUNvbnRleHQoTW90aW9uQ29udGV4dCkpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+ICh7IGluaXRpYWwsIGFuaW1hdGUgfSksIFt2YXJpYW50TGFiZWxzQXNEZXBlbmRlbmN5KGluaXRpYWwpLCB2YXJpYW50TGFiZWxzQXNEZXBlbmRlbmN5KGFuaW1hdGUpXSk7XG59XG5mdW5jdGlvbiB2YXJpYW50TGFiZWxzQXNEZXBlbmRlbmN5KHByb3ApIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwcm9wKSA/IHByb3Auam9pbihcIiBcIikgOiBwcm9wO1xufVxuXG5leHBvcnQgeyB1c2VDcmVhdGVNb3Rpb25Db250ZXh0IH07XG4iLCJjb25zdCBmZWF0dXJlUHJvcHMgPSB7XG4gICAgYW5pbWF0aW9uOiBbXG4gICAgICAgIFwiYW5pbWF0ZVwiLFxuICAgICAgICBcInZhcmlhbnRzXCIsXG4gICAgICAgIFwid2hpbGVIb3ZlclwiLFxuICAgICAgICBcIndoaWxlVGFwXCIsXG4gICAgICAgIFwiZXhpdFwiLFxuICAgICAgICBcIndoaWxlSW5WaWV3XCIsXG4gICAgICAgIFwid2hpbGVGb2N1c1wiLFxuICAgICAgICBcIndoaWxlRHJhZ1wiLFxuICAgIF0sXG4gICAgZXhpdDogW1wiZXhpdFwiXSxcbiAgICBkcmFnOiBbXCJkcmFnXCIsIFwiZHJhZ0NvbnRyb2xzXCJdLFxuICAgIGZvY3VzOiBbXCJ3aGlsZUZvY3VzXCJdLFxuICAgIGhvdmVyOiBbXCJ3aGlsZUhvdmVyXCIsIFwib25Ib3ZlclN0YXJ0XCIsIFwib25Ib3ZlckVuZFwiXSxcbiAgICB0YXA6IFtcIndoaWxlVGFwXCIsIFwib25UYXBcIiwgXCJvblRhcFN0YXJ0XCIsIFwib25UYXBDYW5jZWxcIl0sXG4gICAgcGFuOiBbXCJvblBhblwiLCBcIm9uUGFuU3RhcnRcIiwgXCJvblBhblNlc3Npb25TdGFydFwiLCBcIm9uUGFuRW5kXCJdLFxuICAgIGluVmlldzogW1wid2hpbGVJblZpZXdcIiwgXCJvblZpZXdwb3J0RW50ZXJcIiwgXCJvblZpZXdwb3J0TGVhdmVcIl0sXG4gICAgbGF5b3V0OiBbXCJsYXlvdXRcIiwgXCJsYXlvdXRJZFwiXSxcbn07XG5jb25zdCBmZWF0dXJlRGVmaW5pdGlvbnMgPSB7fTtcbmZvciAoY29uc3Qga2V5IGluIGZlYXR1cmVQcm9wcykge1xuICAgIGZlYXR1cmVEZWZpbml0aW9uc1trZXldID0ge1xuICAgICAgICBpc0VuYWJsZWQ6IChwcm9wcykgPT4gZmVhdHVyZVByb3BzW2tleV0uc29tZSgobmFtZSkgPT4gISFwcm9wc1tuYW1lXSksXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgZmVhdHVyZURlZmluaXRpb25zIH07XG4iLCJpbXBvcnQgeyBmZWF0dXJlRGVmaW5pdGlvbnMgfSBmcm9tICcuL2RlZmluaXRpb25zLm1qcyc7XG5cbmZ1bmN0aW9uIGxvYWRGZWF0dXJlcyhmZWF0dXJlcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGZlYXR1cmVzKSB7XG4gICAgICAgIGZlYXR1cmVEZWZpbml0aW9uc1trZXldID0ge1xuICAgICAgICAgICAgLi4uZmVhdHVyZURlZmluaXRpb25zW2tleV0sXG4gICAgICAgICAgICAuLi5mZWF0dXJlc1trZXldLFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IHsgbG9hZEZlYXR1cmVzIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG5jb25zdCBMYXlvdXRHcm91cENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHt9KTtcblxuZXhwb3J0IHsgTGF5b3V0R3JvdXBDb250ZXh0IH07XG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIEludGVybmFsLCBleHBvcnRlZCBvbmx5IGZvciB1c2FnZSBpbiBGcmFtZXJcbiAqL1xuY29uc3QgU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG5cbmV4cG9ydCB7IFN3aXRjaExheW91dEdyb3VwQ29udGV4dCB9O1xuIiwiY29uc3QgbW90aW9uQ29tcG9uZW50U3ltYm9sID0gU3ltYm9sLmZvcihcIm1vdGlvbkNvbXBvbmVudFN5bWJvbFwiKTtcblxuZXhwb3J0IHsgbW90aW9uQ29tcG9uZW50U3ltYm9sIH07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTW90aW9uQ29uZmlnQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTW90aW9uQ29uZmlnQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgTW90aW9uQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTW90aW9uQ29udGV4dC9pbmRleC5tanMnO1xuaW1wb3J0IHsgdXNlVmlzdWFsRWxlbWVudCB9IGZyb20gJy4vdXRpbHMvdXNlLXZpc3VhbC1lbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyB1c2VNb3Rpb25SZWYgfSBmcm9tICcuL3V0aWxzL3VzZS1tb3Rpb24tcmVmLm1qcyc7XG5pbXBvcnQgeyB1c2VDcmVhdGVNb3Rpb25Db250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9Nb3Rpb25Db250ZXh0L2NyZWF0ZS5tanMnO1xuaW1wb3J0IHsgbG9hZEZlYXR1cmVzIH0gZnJvbSAnLi9mZWF0dXJlcy9sb2FkLWZlYXR1cmVzLm1qcyc7XG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tICcuLi91dGlscy9pcy1icm93c2VyLm1qcyc7XG5pbXBvcnQgeyBMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L0xheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgTGF6eUNvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L0xhenlDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBTd2l0Y2hMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L1N3aXRjaExheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgbW90aW9uQ29tcG9uZW50U3ltYm9sIH0gZnJvbSAnLi91dGlscy9zeW1ib2wubWpzJztcblxuLyoqXG4gKiBDcmVhdGUgYSBgbW90aW9uYCBjb21wb25lbnQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBhY2NlcHRzIGEgQ29tcG9uZW50IGFyZ3VtZW50LCB3aGljaCBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIChpZSBcImRpdlwiXG4gKiBmb3IgYG1vdGlvbi5kaXZgKSwgb3IgYW4gYWN0dWFsIFJlYWN0IGNvbXBvbmVudC5cbiAqXG4gKiBBbG9uZ3NpZGUgdGhpcyBpcyBhIGNvbmZpZyBvcHRpb24gd2hpY2ggcHJvdmlkZXMgYSB3YXkgb2YgcmVuZGVyaW5nIHRoZSBwcm92aWRlZFxuICogY29tcG9uZW50IFwib2ZmbGluZVwiLCBvciBvdXRzaWRlIHRoZSBSZWFjdCByZW5kZXIgY3ljbGUuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU1vdGlvbkNvbXBvbmVudCh7IHByZWxvYWRlZEZlYXR1cmVzLCBjcmVhdGVWaXN1YWxFbGVtZW50LCB1c2VSZW5kZXIsIHVzZVZpc3VhbFN0YXRlLCBDb21wb25lbnQsIH0pIHtcbiAgICBwcmVsb2FkZWRGZWF0dXJlcyAmJiBsb2FkRmVhdHVyZXMocHJlbG9hZGVkRmVhdHVyZXMpO1xuICAgIGZ1bmN0aW9uIE1vdGlvbkNvbXBvbmVudChwcm9wcywgZXh0ZXJuYWxSZWYpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlIG5lZWQgdG8gbWVhc3VyZSB0aGUgZWxlbWVudCB3ZSBsb2FkIHRoaXMgZnVuY3Rpb25hbGl0eSBpbiBhXG4gICAgICAgICAqIHNlcGFyYXRlIGNsYXNzIGNvbXBvbmVudCBpbiBvcmRlciB0byBnYWluIGFjY2VzcyB0byBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGxldCBNZWFzdXJlTGF5b3V0O1xuICAgICAgICBjb25zdCBjb25maWdBbmRQcm9wcyA9IHtcbiAgICAgICAgICAgIC4uLnVzZUNvbnRleHQoTW90aW9uQ29uZmlnQ29udGV4dCksXG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGxheW91dElkOiB1c2VMYXlvdXRJZChwcm9wcyksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgaXNTdGF0aWMgfSA9IGNvbmZpZ0FuZFByb3BzO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdXNlQ3JlYXRlTW90aW9uQ29udGV4dChwcm9wcyk7XG4gICAgICAgIGNvbnN0IHZpc3VhbFN0YXRlID0gdXNlVmlzdWFsU3RhdGUocHJvcHMsIGlzU3RhdGljKTtcbiAgICAgICAgaWYgKCFpc1N0YXRpYyAmJiBpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ3JlYXRlIGEgVmlzdWFsRWxlbWVudCBmb3IgdGhpcyBjb21wb25lbnQuIEEgVmlzdWFsRWxlbWVudCBwcm92aWRlcyBhIGNvbW1vblxuICAgICAgICAgICAgICogaW50ZXJmYWNlIHRvIHJlbmRlcmVyLXNwZWNpZmljIEFQSXMgKGllIERPTS9UaHJlZS5qcyBldGMpIGFzIHdlbGwgYXNcbiAgICAgICAgICAgICAqIHByb3ZpZGluZyBhIHdheSBvZiByZW5kZXJpbmcgdG8gdGhlc2UgQVBJcyBvdXRzaWRlIG9mIHRoZSBSZWFjdCByZW5kZXIgbG9vcFxuICAgICAgICAgICAgICogZm9yIG1vcmUgcGVyZm9ybWFudCBhbmltYXRpb25zIGFuZCBpbnRlcmFjdGlvbnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29udGV4dC52aXN1YWxFbGVtZW50ID0gdXNlVmlzdWFsRWxlbWVudChDb21wb25lbnQsIHZpc3VhbFN0YXRlLCBjb25maWdBbmRQcm9wcywgY3JlYXRlVmlzdWFsRWxlbWVudCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIExvYWQgTW90aW9uIGdlc3R1cmUgYW5kIGFuaW1hdGlvbiBmZWF0dXJlcy4gVGhlc2UgYXJlIHJlbmRlcmVkIGFzIHJlbmRlcmxlc3NcbiAgICAgICAgICAgICAqIGNvbXBvbmVudHMgc28gZWFjaCBmZWF0dXJlIGNhbiBvcHRpb25hbGx5IG1ha2UgdXNlIG9mIFJlYWN0IGxpZmVjeWNsZSBtZXRob2RzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBpbml0aWFsTGF5b3V0R3JvdXBDb25maWcgPSB1c2VDb250ZXh0KFN3aXRjaExheW91dEdyb3VwQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBpc1N0cmljdCA9IHVzZUNvbnRleHQoTGF6eUNvbnRleHQpLnN0cmljdDtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LnZpc3VhbEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBNZWFzdXJlTGF5b3V0ID0gY29udGV4dC52aXN1YWxFbGVtZW50LmxvYWRGZWF0dXJlcyhcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBQYXNzIHRoZSBmdWxsIG5ldyBjb21iaW5lZCBwcm9wcyB0byBjb3JyZWN0bHkgcmUtcmVuZGVyIGR5bmFtaWMgZmVhdHVyZSBjb21wb25lbnRzLlxuICAgICAgICAgICAgICAgIGNvbmZpZ0FuZFByb3BzLCBpc1N0cmljdCwgcHJlbG9hZGVkRmVhdHVyZXMsIGluaXRpYWxMYXlvdXRHcm91cENvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VudCBvcmRlciBhbmQgaGllcmFyY2h5IGlzIHNwZWNpZmljIHRvIGVuc3VyZSBvdXIgZWxlbWVudCByZWZcbiAgICAgICAgICogaXMgaHlkcmF0ZWQgYnkgdGhlIHRpbWUgZmVhdHVyZXMgZmlyZSB0aGVpciBlZmZlY3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KE1vdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSxcbiAgICAgICAgICAgIE1lYXN1cmVMYXlvdXQgJiYgY29udGV4dC52aXN1YWxFbGVtZW50ID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWVhc3VyZUxheW91dCwgeyB2aXN1YWxFbGVtZW50OiBjb250ZXh0LnZpc3VhbEVsZW1lbnQsIC4uLmNvbmZpZ0FuZFByb3BzIH0pKSA6IG51bGwsXG4gICAgICAgICAgICB1c2VSZW5kZXIoQ29tcG9uZW50LCBwcm9wcywgdXNlTW90aW9uUmVmKHZpc3VhbFN0YXRlLCBjb250ZXh0LnZpc3VhbEVsZW1lbnQsIGV4dGVybmFsUmVmKSwgdmlzdWFsU3RhdGUsIGlzU3RhdGljLCBjb250ZXh0LnZpc3VhbEVsZW1lbnQpKSk7XG4gICAgfVxuICAgIGNvbnN0IEZvcndhcmRSZWZDb21wb25lbnQgPSBmb3J3YXJkUmVmKE1vdGlvbkNvbXBvbmVudCk7XG4gICAgRm9yd2FyZFJlZkNvbXBvbmVudFttb3Rpb25Db21wb25lbnRTeW1ib2xdID0gQ29tcG9uZW50O1xuICAgIHJldHVybiBGb3J3YXJkUmVmQ29tcG9uZW50O1xufVxuZnVuY3Rpb24gdXNlTGF5b3V0SWQoeyBsYXlvdXRJZCB9KSB7XG4gICAgY29uc3QgbGF5b3V0R3JvdXBJZCA9IHVzZUNvbnRleHQoTGF5b3V0R3JvdXBDb250ZXh0KS5pZDtcbiAgICByZXR1cm4gbGF5b3V0R3JvdXBJZCAmJiBsYXlvdXRJZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGF5b3V0R3JvdXBJZCArIFwiLVwiICsgbGF5b3V0SWRcbiAgICAgICAgOiBsYXlvdXRJZDtcbn1cblxuZXhwb3J0IHsgY3JlYXRlTW90aW9uQ29tcG9uZW50IH07XG4iLCJpbXBvcnQgeyBjcmVhdGVNb3Rpb25Db21wb25lbnQgfSBmcm9tICcuLi8uLi9tb3Rpb24vaW5kZXgubWpzJztcblxuLyoqXG4gKiBDb252ZXJ0IGFueSBSZWFjdCBjb21wb25lbnQgaW50byBhIGBtb3Rpb25gIGNvbXBvbmVudC4gVGhlIHByb3ZpZGVkIGNvbXBvbmVudFxuICogKiptdXN0KiogdXNlIGBSZWFjdC5mb3J3YXJkUmVmYCB0byB0aGUgdW5kZXJseWluZyBET00gY29tcG9uZW50IHlvdSB3YW50IHRvIGFuaW1hdGUuXG4gKlxuICogYGBganN4XG4gKiBjb25zdCBDb21wb25lbnQgPSBSZWFjdC5mb3J3YXJkUmVmKChwcm9wcywgcmVmKSA9PiB7XG4gKiAgIHJldHVybiA8ZGl2IHJlZj17cmVmfSAvPlxuICogfSlcbiAqXG4gKiBjb25zdCBNb3Rpb25Db21wb25lbnQgPSBtb3Rpb24oQ29tcG9uZW50KVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBjcmVhdGVNb3Rpb25Qcm94eShjcmVhdGVDb25maWcpIHtcbiAgICBmdW5jdGlvbiBjdXN0b20oQ29tcG9uZW50LCBjdXN0b21Nb3Rpb25Db21wb25lbnRDb25maWcgPSB7fSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTW90aW9uQ29tcG9uZW50KGNyZWF0ZUNvbmZpZyhDb21wb25lbnQsIGN1c3RvbU1vdGlvbkNvbXBvbmVudENvbmZpZykpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIFByb3h5ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBjdXN0b207XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgY2FjaGUgb2YgZ2VuZXJhdGVkIGBtb3Rpb25gIGNvbXBvbmVudHMsIGUuZyBgbW90aW9uLmRpdmAsIGBtb3Rpb24uaW5wdXRgIGV0Yy5cbiAgICAgKiBSYXRoZXIgdGhhbiBnZW5lcmF0aW5nIHRoZW0gYW5ldyBldmVyeSByZW5kZXIuXG4gICAgICovXG4gICAgY29uc3QgY29tcG9uZW50Q2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgcmV0dXJuIG5ldyBQcm94eShjdXN0b20sIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxlZCB3aGVuIGBtb3Rpb25gIGlzIHJlZmVyZW5jZWQgd2l0aCBhIHByb3A6IGBtb3Rpb24uZGl2YCwgYG1vdGlvbi5pbnB1dGAgZXRjLlxuICAgICAgICAgKiBUaGUgcHJvcCBuYW1lIGlzIHBhc3NlZCB0aHJvdWdoIGFzIGBrZXlgIGFuZCB3ZSBjYW4gdXNlIHRoYXQgdG8gZ2VuZXJhdGUgYSBgbW90aW9uYFxuICAgICAgICAgKiBET00gY29tcG9uZW50IHdpdGggdGhhdCBuYW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiAoX3RhcmdldCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgZWxlbWVudCBkb2Vzbid0IGV4aXN0IGluIHRoZSBjb21wb25lbnQgY2FjaGUsIGNyZWF0ZSBpdCBhbmQgY2FjaGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICghY29tcG9uZW50Q2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRDYWNoZS5zZXQoa2V5LCBjdXN0b20oa2V5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50Q2FjaGUuZ2V0KGtleSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZU1vdGlvblByb3h5IH07XG4iLCIvKipcbiAqIFdlIGtlZXAgdGhlc2UgbGlzdGVkIHNlcGVyYXRlbHkgYXMgd2UgdXNlIHRoZSBsb3dlcmNhc2UgdGFnIG5hbWVzIGFzIHBhcnRcbiAqIG9mIHRoZSBydW50aW1lIGJ1bmRsZSB0byBkZXRlY3QgU1ZHIGNvbXBvbmVudHNcbiAqL1xuY29uc3QgbG93ZXJjYXNlU1ZHRWxlbWVudHMgPSBbXG4gICAgXCJhbmltYXRlXCIsXG4gICAgXCJjaXJjbGVcIixcbiAgICBcImRlZnNcIixcbiAgICBcImRlc2NcIixcbiAgICBcImVsbGlwc2VcIixcbiAgICBcImdcIixcbiAgICBcImltYWdlXCIsXG4gICAgXCJsaW5lXCIsXG4gICAgXCJmaWx0ZXJcIixcbiAgICBcIm1hcmtlclwiLFxuICAgIFwibWFza1wiLFxuICAgIFwibWV0YWRhdGFcIixcbiAgICBcInBhdGhcIixcbiAgICBcInBhdHRlcm5cIixcbiAgICBcInBvbHlnb25cIixcbiAgICBcInBvbHlsaW5lXCIsXG4gICAgXCJyZWN0XCIsXG4gICAgXCJzdG9wXCIsXG4gICAgXCJzd2l0Y2hcIixcbiAgICBcInN5bWJvbFwiLFxuICAgIFwic3ZnXCIsXG4gICAgXCJ0ZXh0XCIsXG4gICAgXCJ0c3BhblwiLFxuICAgIFwidXNlXCIsXG4gICAgXCJ2aWV3XCIsXG5dO1xuXG5leHBvcnQgeyBsb3dlcmNhc2VTVkdFbGVtZW50cyB9O1xuIiwiaW1wb3J0IHsgbG93ZXJjYXNlU1ZHRWxlbWVudHMgfSBmcm9tICcuLi8uLi9zdmcvbG93ZXJjYXNlLWVsZW1lbnRzLm1qcyc7XG5cbmZ1bmN0aW9uIGlzU1ZHQ29tcG9uZW50KENvbXBvbmVudCkge1xuICAgIGlmIChcbiAgICAvKipcbiAgICAgKiBJZiBpdCdzIG5vdCBhIHN0cmluZywgaXQncyBhIGN1c3RvbSBSZWFjdCBjb21wb25lbnQuIEN1cnJlbnRseSB3ZSBvbmx5IHN1cHBvcnRcbiAgICAgKiBIVE1MIGN1c3RvbSBSZWFjdCBjb21wb25lbnRzLlxuICAgICAqL1xuICAgIHR5cGVvZiBDb21wb25lbnQgIT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGl0IGNvbnRhaW5zIGEgZGFzaCwgdGhlIGVsZW1lbnQgaXMgYSBjdXN0b20gSFRNTCB3ZWJjb21wb25lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBDb21wb25lbnQuaW5jbHVkZXMoXCItXCIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoXG4gICAgLyoqXG4gICAgICogSWYgaXQncyBpbiBvdXIgbGlzdCBvZiBsb3dlcmNhc2UgU1ZHIHRhZ3MsIGl0J3MgYW4gU1ZHIGNvbXBvbmVudFxuICAgICAqL1xuICAgIGxvd2VyY2FzZVNWR0VsZW1lbnRzLmluZGV4T2YoQ29tcG9uZW50KSA+IC0xIHx8XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBpdCBjb250YWlucyBhIGNhcGl0YWwgbGV0dGVyLCBpdCdzIGFuIFNWRyBjb21wb25lbnRcbiAgICAgICAgICovXG4gICAgICAgIC9bQS1aXS8udGVzdChDb21wb25lbnQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7IGlzU1ZHQ29tcG9uZW50IH07XG4iLCJjb25zdCBzY2FsZUNvcnJlY3RvcnMgPSB7fTtcbmZ1bmN0aW9uIGFkZFNjYWxlQ29ycmVjdG9yKGNvcnJlY3RvcnMpIHtcbiAgICBPYmplY3QuYXNzaWduKHNjYWxlQ29ycmVjdG9ycywgY29ycmVjdG9ycyk7XG59XG5cbmV4cG9ydCB7IGFkZFNjYWxlQ29ycmVjdG9yLCBzY2FsZUNvcnJlY3RvcnMgfTtcbiIsIi8qKlxuICogR2VuZXJhdGUgYSBsaXN0IG9mIGV2ZXJ5IHBvc3NpYmxlIHRyYW5zZm9ybSBrZXkuXG4gKi9cbmNvbnN0IHRyYW5zZm9ybVByb3BPcmRlciA9IFtcbiAgICBcInRyYW5zZm9ybVBlcnNwZWN0aXZlXCIsXG4gICAgXCJ4XCIsXG4gICAgXCJ5XCIsXG4gICAgXCJ6XCIsXG4gICAgXCJ0cmFuc2xhdGVYXCIsXG4gICAgXCJ0cmFuc2xhdGVZXCIsXG4gICAgXCJ0cmFuc2xhdGVaXCIsXG4gICAgXCJzY2FsZVwiLFxuICAgIFwic2NhbGVYXCIsXG4gICAgXCJzY2FsZVlcIixcbiAgICBcInJvdGF0ZVwiLFxuICAgIFwicm90YXRlWFwiLFxuICAgIFwicm90YXRlWVwiLFxuICAgIFwicm90YXRlWlwiLFxuICAgIFwic2tld1wiLFxuICAgIFwic2tld1hcIixcbiAgICBcInNrZXdZXCIsXG5dO1xuLyoqXG4gKiBBIHF1aWNrIGxvb2t1cCBmb3IgdHJhbnNmb3JtIHByb3BzLlxuICovXG5jb25zdCB0cmFuc2Zvcm1Qcm9wcyA9IG5ldyBTZXQodHJhbnNmb3JtUHJvcE9yZGVyKTtcblxuZXhwb3J0IHsgdHJhbnNmb3JtUHJvcE9yZGVyLCB0cmFuc2Zvcm1Qcm9wcyB9O1xuIiwiaW1wb3J0IHsgc2NhbGVDb3JyZWN0b3JzIH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi9zdHlsZXMvc2NhbGUtY29ycmVjdGlvbi5tanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtUHJvcHMgfSBmcm9tICcuLi8uLi9yZW5kZXIvaHRtbC91dGlscy90cmFuc2Zvcm0ubWpzJztcblxuZnVuY3Rpb24gaXNGb3JjZWRNb3Rpb25WYWx1ZShrZXksIHsgbGF5b3V0LCBsYXlvdXRJZCB9KSB7XG4gICAgcmV0dXJuICh0cmFuc2Zvcm1Qcm9wcy5oYXMoa2V5KSB8fFxuICAgICAgICBrZXkuc3RhcnRzV2l0aChcIm9yaWdpblwiKSB8fFxuICAgICAgICAoKGxheW91dCB8fCBsYXlvdXRJZCAhPT0gdW5kZWZpbmVkKSAmJlxuICAgICAgICAgICAgKCEhc2NhbGVDb3JyZWN0b3JzW2tleV0gfHwga2V5ID09PSBcIm9wYWNpdHlcIikpKTtcbn1cblxuZXhwb3J0IHsgaXNGb3JjZWRNb3Rpb25WYWx1ZSB9O1xuIiwiY29uc3QgaXNNb3Rpb25WYWx1ZSA9ICh2YWx1ZSkgPT4gQm9vbGVhbih2YWx1ZSAmJiB2YWx1ZS5nZXRWZWxvY2l0eSk7XG5cbmV4cG9ydCB7IGlzTW90aW9uVmFsdWUgfTtcbiIsImltcG9ydCB7IHRyYW5zZm9ybVByb3BPcmRlciB9IGZyb20gJy4vdHJhbnNmb3JtLm1qcyc7XG5cbmNvbnN0IHRyYW5zbGF0ZUFsaWFzID0ge1xuICAgIHg6IFwidHJhbnNsYXRlWFwiLFxuICAgIHk6IFwidHJhbnNsYXRlWVwiLFxuICAgIHo6IFwidHJhbnNsYXRlWlwiLFxuICAgIHRyYW5zZm9ybVBlcnNwZWN0aXZlOiBcInBlcnNwZWN0aXZlXCIsXG59O1xuY29uc3QgbnVtVHJhbnNmb3JtcyA9IHRyYW5zZm9ybVByb3BPcmRlci5sZW5ndGg7XG4vKipcbiAqIEJ1aWxkIGEgQ1NTIHRyYW5zZm9ybSBzdHlsZSBmcm9tIGluZGl2aWR1YWwgeC95L3NjYWxlIGV0YyBwcm9wZXJ0aWVzLlxuICpcbiAqIFRoaXMgb3V0cHV0cyB3aXRoIGEgZGVmYXVsdCBvcmRlciBvZiB0cmFuc2Zvcm1zL3NjYWxlcy9yb3RhdGlvbnMsIHRoaXMgY2FuIGJlIGN1c3RvbWlzZWQgYnlcbiAqIHByb3ZpZGluZyBhIHRyYW5zZm9ybVRlbXBsYXRlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBidWlsZFRyYW5zZm9ybSh0cmFuc2Zvcm0sIHsgZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb24gPSB0cnVlLCBhbGxvd1RyYW5zZm9ybU5vbmUgPSB0cnVlLCB9LCB0cmFuc2Zvcm1Jc0RlZmF1bHQsIHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgLy8gVGhlIHRyYW5zZm9ybSBzdHJpbmcgd2UncmUgZ29pbmcgdG8gYnVpbGQgaW50by5cbiAgICBsZXQgdHJhbnNmb3JtU3RyaW5nID0gXCJcIjtcbiAgICAvKipcbiAgICAgKiBMb29wIG92ZXIgYWxsIHBvc3NpYmxlIHRyYW5zZm9ybXMgaW4gb3JkZXIsIGFkZGluZyB0aGUgb25lcyB0aGF0XG4gICAgICogYXJlIHByZXNlbnQgdG8gdGhlIHRyYW5zZm9ybSBzdHJpbmcuXG4gICAgICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1UcmFuc2Zvcm1zOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdHJhbnNmb3JtUHJvcE9yZGVyW2ldO1xuICAgICAgICBpZiAodHJhbnNmb3JtW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtTmFtZSA9IHRyYW5zbGF0ZUFsaWFzW2tleV0gfHwga2V5O1xuICAgICAgICAgICAgdHJhbnNmb3JtU3RyaW5nICs9IGAke3RyYW5zZm9ybU5hbWV9KCR7dHJhbnNmb3JtW2tleV19KSBgO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlbmFibGVIYXJkd2FyZUFjY2VsZXJhdGlvbiAmJiAhdHJhbnNmb3JtLnopIHtcbiAgICAgICAgdHJhbnNmb3JtU3RyaW5nICs9IFwidHJhbnNsYXRlWigwKVwiO1xuICAgIH1cbiAgICB0cmFuc2Zvcm1TdHJpbmcgPSB0cmFuc2Zvcm1TdHJpbmcudHJpbSgpO1xuICAgIC8vIElmIHdlIGhhdmUgYSBjdXN0b20gYHRyYW5zZm9ybWAgdGVtcGxhdGUsIHBhc3Mgb3VyIHRyYW5zZm9ybSB2YWx1ZXMgYW5kXG4gICAgLy8gZ2VuZXJhdGVkIHRyYW5zZm9ybVN0cmluZyB0byB0aGF0IGJlZm9yZSByZXR1cm5pbmdcbiAgICBpZiAodHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICAgICAgdHJhbnNmb3JtU3RyaW5nID0gdHJhbnNmb3JtVGVtcGxhdGUodHJhbnNmb3JtLCB0cmFuc2Zvcm1Jc0RlZmF1bHQgPyBcIlwiIDogdHJhbnNmb3JtU3RyaW5nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYWxsb3dUcmFuc2Zvcm1Ob25lICYmIHRyYW5zZm9ybUlzRGVmYXVsdCkge1xuICAgICAgICB0cmFuc2Zvcm1TdHJpbmcgPSBcIm5vbmVcIjtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zZm9ybVN0cmluZztcbn1cblxuZXhwb3J0IHsgYnVpbGRUcmFuc2Zvcm0gfTtcbiIsImNvbnN0IGNoZWNrU3RyaW5nU3RhcnRzV2l0aCA9ICh0b2tlbikgPT4gKGtleSkgPT4gdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiAmJiBrZXkuc3RhcnRzV2l0aCh0b2tlbik7XG5jb25zdCBpc0NTU1ZhcmlhYmxlTmFtZSA9IGNoZWNrU3RyaW5nU3RhcnRzV2l0aChcIi0tXCIpO1xuY29uc3QgaXNDU1NWYXJpYWJsZVRva2VuID0gY2hlY2tTdHJpbmdTdGFydHNXaXRoKFwidmFyKC0tXCIpO1xuY29uc3QgY3NzVmFyaWFibGVSZWdleCA9IC92YXJcXHMqXFwoXFxzKi0tW1xcdy1dKyhcXHMqLFxccyooPzooPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKikrKT9cXHMqXFwpL2c7XG5cbmV4cG9ydCB7IGNzc1ZhcmlhYmxlUmVnZXgsIGlzQ1NTVmFyaWFibGVOYW1lLCBpc0NTU1ZhcmlhYmxlVG9rZW4gfTtcbiIsIi8qKlxuICogUHJvdmlkZWQgYSB2YWx1ZSBhbmQgYSBWYWx1ZVR5cGUsIHJldHVybnMgdGhlIHZhbHVlIGFzIHRoYXQgdmFsdWUgdHlwZS5cbiAqL1xuY29uc3QgZ2V0VmFsdWVBc1R5cGUgPSAodmFsdWUsIHR5cGUpID0+IHtcbiAgICByZXR1cm4gdHlwZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgPyB0eXBlLnRyYW5zZm9ybSh2YWx1ZSlcbiAgICAgICAgOiB2YWx1ZTtcbn07XG5cbmV4cG9ydCB7IGdldFZhbHVlQXNUeXBlIH07XG4iLCJjb25zdCBjbGFtcCA9IChtaW4sIG1heCwgdikgPT4gTWF0aC5taW4oTWF0aC5tYXgodiwgbWluKSwgbWF4KTtcblxuZXhwb3J0IHsgY2xhbXAgfTtcbiIsImltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2xhbXAubWpzJztcblxuY29uc3QgbnVtYmVyID0ge1xuICAgIHRlc3Q6ICh2KSA9PiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIixcbiAgICBwYXJzZTogcGFyc2VGbG9hdCxcbiAgICB0cmFuc2Zvcm06ICh2KSA9PiB2LFxufTtcbmNvbnN0IGFscGhhID0ge1xuICAgIC4uLm51bWJlcixcbiAgICB0cmFuc2Zvcm06ICh2KSA9PiBjbGFtcCgwLCAxLCB2KSxcbn07XG5jb25zdCBzY2FsZSA9IHtcbiAgICAuLi5udW1iZXIsXG4gICAgZGVmYXVsdDogMSxcbn07XG5cbmV4cG9ydCB7IGFscGhhLCBudW1iZXIsIHNjYWxlIH07XG4iLCIvKipcbiAqIFRPRE86IFdoZW4gd2UgbW92ZSBmcm9tIHN0cmluZyBhcyBhIHNvdXJjZSBvZiB0cnV0aCB0byBkYXRhIG1vZGVsc1xuICogZXZlcnl0aGluZyBpbiB0aGlzIGZvbGRlciBzaG91bGQgcHJvYmFibHkgYmUgcmVmZXJyZWQgdG8gYXMgbW9kZWxzIHZzIHR5cGVzXG4gKi9cbi8vIElmIHRoaXMgbnVtYmVyIGlzIGEgZGVjaW1hbCwgbWFrZSBpdCBqdXN0IGZpdmUgZGVjaW1hbCBwbGFjZXNcbi8vIHRvIGF2b2lkIGV4cG9uZW50c1xuY29uc3Qgc2FuaXRpemUgPSAodikgPT4gTWF0aC5yb3VuZCh2ICogMTAwMDAwKSAvIDEwMDAwMDtcbmNvbnN0IGZsb2F0UmVnZXggPSAvKC0pPyhbXFxkXSpcXC4/W1xcZF0pKy9nO1xuY29uc3QgY29sb3JSZWdleCA9IC8oI1swLTlhLWZdezMsOH18KHJnYnxoc2wpYT9cXCgoLT9bXFxkXFwuXSslP1ssXFxzXSspezJ9KC0/W1xcZFxcLl0rJT8pXFxzKltcXCxcXC9dP1xccypbXFxkXFwuXSolP1xcKSkvZ2k7XG5jb25zdCBzaW5nbGVDb2xvclJlZ2V4ID0gL14oI1swLTlhLWZdezMsOH18KHJnYnxoc2wpYT9cXCgoLT9bXFxkXFwuXSslP1ssXFxzXSspezJ9KC0/W1xcZFxcLl0rJT8pXFxzKltcXCxcXC9dP1xccypbXFxkXFwuXSolP1xcKSkkL2k7XG5mdW5jdGlvbiBpc1N0cmluZyh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcInN0cmluZ1wiO1xufVxuXG5leHBvcnQgeyBjb2xvclJlZ2V4LCBmbG9hdFJlZ2V4LCBpc1N0cmluZywgc2FuaXRpemUsIHNpbmdsZUNvbG9yUmVnZXggfTtcbiIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMubWpzJztcblxuY29uc3QgY3JlYXRlVW5pdFR5cGUgPSAodW5pdCkgPT4gKHtcbiAgICB0ZXN0OiAodikgPT4gaXNTdHJpbmcodikgJiYgdi5lbmRzV2l0aCh1bml0KSAmJiB2LnNwbGl0KFwiIFwiKS5sZW5ndGggPT09IDEsXG4gICAgcGFyc2U6IHBhcnNlRmxvYXQsXG4gICAgdHJhbnNmb3JtOiAodikgPT4gYCR7dn0ke3VuaXR9YCxcbn0pO1xuY29uc3QgZGVncmVlcyA9IGNyZWF0ZVVuaXRUeXBlKFwiZGVnXCIpO1xuY29uc3QgcGVyY2VudCA9IGNyZWF0ZVVuaXRUeXBlKFwiJVwiKTtcbmNvbnN0IHB4ID0gY3JlYXRlVW5pdFR5cGUoXCJweFwiKTtcbmNvbnN0IHZoID0gY3JlYXRlVW5pdFR5cGUoXCJ2aFwiKTtcbmNvbnN0IHZ3ID0gY3JlYXRlVW5pdFR5cGUoXCJ2d1wiKTtcbmNvbnN0IHByb2dyZXNzUGVyY2VudGFnZSA9IHtcbiAgICAuLi5wZXJjZW50LFxuICAgIHBhcnNlOiAodikgPT4gcGVyY2VudC5wYXJzZSh2KSAvIDEwMCxcbiAgICB0cmFuc2Zvcm06ICh2KSA9PiBwZXJjZW50LnRyYW5zZm9ybSh2ICogMTAwKSxcbn07XG5cbmV4cG9ydCB7IGRlZ3JlZXMsIHBlcmNlbnQsIHByb2dyZXNzUGVyY2VudGFnZSwgcHgsIHZoLCB2dyB9O1xuIiwiaW1wb3J0IHsgbnVtYmVyIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdHlwZXMvbnVtYmVycy9pbmRleC5tanMnO1xuXG5jb25zdCBpbnQgPSB7XG4gICAgLi4ubnVtYmVyLFxuICAgIHRyYW5zZm9ybTogTWF0aC5yb3VuZCxcbn07XG5cbmV4cG9ydCB7IGludCB9O1xuIiwiaW1wb3J0IHsgc2NhbGUsIGFscGhhIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdHlwZXMvbnVtYmVycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgcHgsIGRlZ3JlZXMsIHByb2dyZXNzUGVyY2VudGFnZSB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcbmltcG9ydCB7IGludCB9IGZyb20gJy4vdHlwZS1pbnQubWpzJztcblxuY29uc3QgbnVtYmVyVmFsdWVUeXBlcyA9IHtcbiAgICAvLyBCb3JkZXIgcHJvcHNcbiAgICBib3JkZXJXaWR0aDogcHgsXG4gICAgYm9yZGVyVG9wV2lkdGg6IHB4LFxuICAgIGJvcmRlclJpZ2h0V2lkdGg6IHB4LFxuICAgIGJvcmRlckJvdHRvbVdpZHRoOiBweCxcbiAgICBib3JkZXJMZWZ0V2lkdGg6IHB4LFxuICAgIGJvcmRlclJhZGl1czogcHgsXG4gICAgcmFkaXVzOiBweCxcbiAgICBib3JkZXJUb3BMZWZ0UmFkaXVzOiBweCxcbiAgICBib3JkZXJUb3BSaWdodFJhZGl1czogcHgsXG4gICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6IHB4LFxuICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IHB4LFxuICAgIC8vIFBvc2l0aW9uaW5nIHByb3BzXG4gICAgd2lkdGg6IHB4LFxuICAgIG1heFdpZHRoOiBweCxcbiAgICBoZWlnaHQ6IHB4LFxuICAgIG1heEhlaWdodDogcHgsXG4gICAgc2l6ZTogcHgsXG4gICAgdG9wOiBweCxcbiAgICByaWdodDogcHgsXG4gICAgYm90dG9tOiBweCxcbiAgICBsZWZ0OiBweCxcbiAgICAvLyBTcGFjaW5nIHByb3BzXG4gICAgcGFkZGluZzogcHgsXG4gICAgcGFkZGluZ1RvcDogcHgsXG4gICAgcGFkZGluZ1JpZ2h0OiBweCxcbiAgICBwYWRkaW5nQm90dG9tOiBweCxcbiAgICBwYWRkaW5nTGVmdDogcHgsXG4gICAgbWFyZ2luOiBweCxcbiAgICBtYXJnaW5Ub3A6IHB4LFxuICAgIG1hcmdpblJpZ2h0OiBweCxcbiAgICBtYXJnaW5Cb3R0b206IHB4LFxuICAgIG1hcmdpbkxlZnQ6IHB4LFxuICAgIC8vIFRyYW5zZm9ybSBwcm9wc1xuICAgIHJvdGF0ZTogZGVncmVlcyxcbiAgICByb3RhdGVYOiBkZWdyZWVzLFxuICAgIHJvdGF0ZVk6IGRlZ3JlZXMsXG4gICAgcm90YXRlWjogZGVncmVlcyxcbiAgICBzY2FsZSxcbiAgICBzY2FsZVg6IHNjYWxlLFxuICAgIHNjYWxlWTogc2NhbGUsXG4gICAgc2NhbGVaOiBzY2FsZSxcbiAgICBza2V3OiBkZWdyZWVzLFxuICAgIHNrZXdYOiBkZWdyZWVzLFxuICAgIHNrZXdZOiBkZWdyZWVzLFxuICAgIGRpc3RhbmNlOiBweCxcbiAgICB0cmFuc2xhdGVYOiBweCxcbiAgICB0cmFuc2xhdGVZOiBweCxcbiAgICB0cmFuc2xhdGVaOiBweCxcbiAgICB4OiBweCxcbiAgICB5OiBweCxcbiAgICB6OiBweCxcbiAgICBwZXJzcGVjdGl2ZTogcHgsXG4gICAgdHJhbnNmb3JtUGVyc3BlY3RpdmU6IHB4LFxuICAgIG9wYWNpdHk6IGFscGhhLFxuICAgIG9yaWdpblg6IHByb2dyZXNzUGVyY2VudGFnZSxcbiAgICBvcmlnaW5ZOiBwcm9ncmVzc1BlcmNlbnRhZ2UsXG4gICAgb3JpZ2luWjogcHgsXG4gICAgLy8gTWlzY1xuICAgIHpJbmRleDogaW50LFxuICAgIC8vIFNWR1xuICAgIGZpbGxPcGFjaXR5OiBhbHBoYSxcbiAgICBzdHJva2VPcGFjaXR5OiBhbHBoYSxcbiAgICBudW1PY3RhdmVzOiBpbnQsXG59O1xuXG5leHBvcnQgeyBudW1iZXJWYWx1ZVR5cGVzIH07XG4iLCJpbXBvcnQgeyBidWlsZFRyYW5zZm9ybSB9IGZyb20gJy4vYnVpbGQtdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBpc0NTU1ZhcmlhYmxlTmFtZSB9IGZyb20gJy4uLy4uL2RvbS91dGlscy9pcy1jc3MtdmFyaWFibGUubWpzJztcbmltcG9ydCB7IHRyYW5zZm9ybVByb3BzIH0gZnJvbSAnLi90cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IGdldFZhbHVlQXNUeXBlIH0gZnJvbSAnLi4vLi4vZG9tL3ZhbHVlLXR5cGVzL2dldC1hcy10eXBlLm1qcyc7XG5pbXBvcnQgeyBudW1iZXJWYWx1ZVR5cGVzIH0gZnJvbSAnLi4vLi4vZG9tL3ZhbHVlLXR5cGVzL251bWJlci5tanMnO1xuXG5mdW5jdGlvbiBidWlsZEhUTUxTdHlsZXMoc3RhdGUsIGxhdGVzdFZhbHVlcywgb3B0aW9ucywgdHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICBjb25zdCB7IHN0eWxlLCB2YXJzLCB0cmFuc2Zvcm0sIHRyYW5zZm9ybU9yaWdpbiB9ID0gc3RhdGU7XG4gICAgLy8gVHJhY2sgd2hldGhlciB3ZSBlbmNvdW50ZXIgYW55IHRyYW5zZm9ybSBvciB0cmFuc2Zvcm1PcmlnaW4gdmFsdWVzLlxuICAgIGxldCBoYXNUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgICBsZXQgaGFzVHJhbnNmb3JtT3JpZ2luID0gZmFsc2U7XG4gICAgLy8gRG9lcyB0aGUgY2FsY3VsYXRlZCB0cmFuc2Zvcm0gZXNzZW50aWFsbHkgZXF1YWwgXCJub25lXCI/XG4gICAgbGV0IHRyYW5zZm9ybUlzTm9uZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogTG9vcCBvdmVyIGFsbCBvdXIgbGF0ZXN0IGFuaW1hdGVkIHZhbHVlcyBhbmQgZGVjaWRlIHdoZXRoZXIgdG8gaGFuZGxlIHRoZW1cbiAgICAgKiBhcyBhIHN0eWxlIG9yIENTUyB2YXJpYWJsZS5cbiAgICAgKlxuICAgICAqIFRyYW5zZm9ybXMgYW5kIHRyYW5zZm9ybSBvcmlnaW5zIGFyZSBrZXB0IHNlcGVyYXRlbHkgZm9yIGZ1cnRoZXIgcHJvY2Vzc2luZy5cbiAgICAgKi9cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBsYXRlc3RWYWx1ZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsYXRlc3RWYWx1ZXNba2V5XTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgaXMgYSBDU1MgdmFyaWFibGUgd2UgZG9uJ3QgZG8gYW55IGZ1cnRoZXIgcHJvY2Vzc2luZy5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChpc0NTU1ZhcmlhYmxlTmFtZShrZXkpKSB7XG4gICAgICAgICAgICB2YXJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIGl0cyBkZWZhdWx0IHZhbHVlIHR5cGUsIGllIDAgLT4gXCIwcHhcIlxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSBudW1iZXJWYWx1ZVR5cGVzW2tleV07XG4gICAgICAgIGNvbnN0IHZhbHVlQXNUeXBlID0gZ2V0VmFsdWVBc1R5cGUodmFsdWUsIHZhbHVlVHlwZSk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1Qcm9wcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHRyYW5zZm9ybSwgZmxhZyB0byBlbmFibGUgZnVydGhlciB0cmFuc2Zvcm0gcHJvY2Vzc2luZ1xuICAgICAgICAgICAgaGFzVHJhbnNmb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYW5zZm9ybVtrZXldID0gdmFsdWVBc1R5cGU7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGtub3cgd2UgaGF2ZSBhIG5vbi1kZWZhdWx0IHRyYW5zZm9ybSwgZWFybHkgcmV0dXJuXG4gICAgICAgICAgICBpZiAoIXRyYW5zZm9ybUlzTm9uZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSBjaGVjayB0byBzZWUgaWYgdGhpcyBpcyBhIGRlZmF1bHQgdHJhbnNmb3JtXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09ICh2YWx1ZVR5cGUuZGVmYXVsdCB8fCAwKSlcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Jc05vbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrZXkuc3RhcnRzV2l0aChcIm9yaWdpblwiKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHRyYW5zZm9ybSBvcmlnaW4sIGZsYWcgYW5kIGVuYWJsZSBmdXJ0aGVyIHRyYW5zZm9ybS1vcmlnaW4gcHJvY2Vzc2luZ1xuICAgICAgICAgICAgaGFzVHJhbnNmb3JtT3JpZ2luID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbltrZXldID0gdmFsdWVBc1R5cGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHlsZVtrZXldID0gdmFsdWVBc1R5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFsYXRlc3RWYWx1ZXMudHJhbnNmb3JtKSB7XG4gICAgICAgIGlmIChoYXNUcmFuc2Zvcm0gfHwgdHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IGJ1aWxkVHJhbnNmb3JtKHN0YXRlLnRyYW5zZm9ybSwgb3B0aW9ucywgdHJhbnNmb3JtSXNOb25lLCB0cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGUudHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGhhdmUgcHJldmlvdXNseSBjcmVhdGVkIGEgdHJhbnNmb3JtIGJ1dCBjdXJyZW50bHkgZG9uJ3QgaGF2ZSBhbnksXG4gICAgICAgICAgICAgKiByZXNldCB0cmFuc2Zvcm0gc3R5bGUgdG8gbm9uZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVpbGQgYSB0cmFuc2Zvcm1PcmlnaW4gc3R5bGUuIFVzZXMgdGhlIHNhbWUgZGVmYXVsdHMgYXMgdGhlIGJyb3dzZXIgZm9yXG4gICAgICogdW5kZWZpbmVkIG9yaWdpbnMuXG4gICAgICovXG4gICAgaWYgKGhhc1RyYW5zZm9ybU9yaWdpbikge1xuICAgICAgICBjb25zdCB7IG9yaWdpblggPSBcIjUwJVwiLCBvcmlnaW5ZID0gXCI1MCVcIiwgb3JpZ2luWiA9IDAsIH0gPSB0cmFuc2Zvcm1PcmlnaW47XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAke29yaWdpblh9ICR7b3JpZ2luWX0gJHtvcmlnaW5afWA7XG4gICAgfVxufVxuXG5leHBvcnQgeyBidWlsZEhUTUxTdHlsZXMgfTtcbiIsImNvbnN0IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSA9ICgpID0+ICh7XG4gICAgc3R5bGU6IHt9LFxuICAgIHRyYW5zZm9ybToge30sXG4gICAgdHJhbnNmb3JtT3JpZ2luOiB7fSxcbiAgICB2YXJzOiB7fSxcbn0pO1xuXG5leHBvcnQgeyBjcmVhdGVIdG1sUmVuZGVyU3RhdGUgfTtcbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc0ZvcmNlZE1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vbW90aW9uL3V0aWxzL2lzLWZvcmNlZC1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IGJ1aWxkSFRNTFN0eWxlcyB9IGZyb20gJy4vdXRpbHMvYnVpbGQtc3R5bGVzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVIdG1sUmVuZGVyU3RhdGUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzJztcblxuZnVuY3Rpb24gY29weVJhd1ZhbHVlc09ubHkodGFyZ2V0LCBzb3VyY2UsIHByb3BzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmICghaXNNb3Rpb25WYWx1ZShzb3VyY2Vba2V5XSkgJiYgIWlzRm9yY2VkTW90aW9uVmFsdWUoa2V5LCBwcm9wcykpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB1c2VJbml0aWFsTW90aW9uVmFsdWVzKHsgdHJhbnNmb3JtVGVtcGxhdGUgfSwgdmlzdWFsU3RhdGUsIGlzU3RhdGljKSB7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSgpO1xuICAgICAgICBidWlsZEhUTUxTdHlsZXMoc3RhdGUsIHZpc3VhbFN0YXRlLCB7IGVuYWJsZUhhcmR3YXJlQWNjZWxlcmF0aW9uOiAhaXNTdGF0aWMgfSwgdHJhbnNmb3JtVGVtcGxhdGUpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUudmFycywgc3RhdGUuc3R5bGUpO1xuICAgIH0sIFt2aXN1YWxTdGF0ZV0pO1xufVxuZnVuY3Rpb24gdXNlU3R5bGUocHJvcHMsIHZpc3VhbFN0YXRlLCBpc1N0YXRpYykge1xuICAgIGNvbnN0IHN0eWxlUHJvcCA9IHByb3BzLnN0eWxlIHx8IHt9O1xuICAgIGNvbnN0IHN0eWxlID0ge307XG4gICAgLyoqXG4gICAgICogQ29weSBub24tTW90aW9uIFZhbHVlcyBzdHJhaWdodCBpbnRvIHN0eWxlXG4gICAgICovXG4gICAgY29weVJhd1ZhbHVlc09ubHkoc3R5bGUsIHN0eWxlUHJvcCwgcHJvcHMpO1xuICAgIE9iamVjdC5hc3NpZ24oc3R5bGUsIHVzZUluaXRpYWxNb3Rpb25WYWx1ZXMocHJvcHMsIHZpc3VhbFN0YXRlLCBpc1N0YXRpYykpO1xuICAgIHJldHVybiBwcm9wcy50cmFuc2Zvcm1WYWx1ZXMgPyBwcm9wcy50cmFuc2Zvcm1WYWx1ZXMoc3R5bGUpIDogc3R5bGU7XG59XG5mdW5jdGlvbiB1c2VIVE1MUHJvcHMocHJvcHMsIHZpc3VhbFN0YXRlLCBpc1N0YXRpYykge1xuICAgIC8vIFRoZSBgYW55YCBpc24ndCBpZGVhbCBidXQgaXQgaXMgdGhlIHR5cGUgb2YgY3JlYXRlRWxlbWVudCBwcm9wcyBhcmd1bWVudFxuICAgIGNvbnN0IGh0bWxQcm9wcyA9IHt9O1xuICAgIGNvbnN0IHN0eWxlID0gdXNlU3R5bGUocHJvcHMsIHZpc3VhbFN0YXRlLCBpc1N0YXRpYyk7XG4gICAgaWYgKHByb3BzLmRyYWcgJiYgcHJvcHMuZHJhZ0xpc3RlbmVyICE9PSBmYWxzZSkge1xuICAgICAgICAvLyBEaXNhYmxlIHRoZSBnaG9zdCBlbGVtZW50IHdoZW4gYSB1c2VyIGRyYWdzXG4gICAgICAgIGh0bWxQcm9wcy5kcmFnZ2FibGUgPSBmYWxzZTtcbiAgICAgICAgLy8gRGlzYWJsZSB0ZXh0IHNlbGVjdGlvblxuICAgICAgICBzdHlsZS51c2VyU2VsZWN0ID1cbiAgICAgICAgICAgIHN0eWxlLldlYmtpdFVzZXJTZWxlY3QgPVxuICAgICAgICAgICAgICAgIHN0eWxlLldlYmtpdFRvdWNoQ2FsbG91dCA9XG4gICAgICAgICAgICAgICAgICAgIFwibm9uZVwiO1xuICAgICAgICAvLyBEaXNhYmxlIHNjcm9sbGluZyBvbiB0aGUgZHJhZ2dhYmxlIGRpcmVjdGlvblxuICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9XG4gICAgICAgICAgICBwcm9wcy5kcmFnID09PSB0cnVlXG4gICAgICAgICAgICAgICAgPyBcIm5vbmVcIlxuICAgICAgICAgICAgICAgIDogYHBhbi0ke3Byb3BzLmRyYWcgPT09IFwieFwiID8gXCJ5XCIgOiBcInhcIn1gO1xuICAgIH1cbiAgICBpZiAocHJvcHMudGFiSW5kZXggPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAocHJvcHMub25UYXAgfHwgcHJvcHMub25UYXBTdGFydCB8fCBwcm9wcy53aGlsZVRhcCkpIHtcbiAgICAgICAgaHRtbFByb3BzLnRhYkluZGV4ID0gMDtcbiAgICB9XG4gICAgaHRtbFByb3BzLnN0eWxlID0gc3R5bGU7XG4gICAgcmV0dXJuIGh0bWxQcm9wcztcbn1cblxuZXhwb3J0IHsgY29weVJhd1ZhbHVlc09ubHksIHVzZUhUTUxQcm9wcyB9O1xuIiwiLyoqXG4gKiBBIGxpc3Qgb2YgYWxsIHZhbGlkIE1vdGlvblByb3BzLlxuICpcbiAqIEBwcml2YXRlUmVtYXJrc1xuICogVGhpcyBkb2Vzbid0IHRocm93IGlmIGEgYE1vdGlvblByb3BgIG5hbWUgaXMgbWlzc2luZyAtIGl0IHNob3VsZC5cbiAqL1xuY29uc3QgdmFsaWRNb3Rpb25Qcm9wcyA9IG5ldyBTZXQoW1xuICAgIFwiYW5pbWF0ZVwiLFxuICAgIFwiZXhpdFwiLFxuICAgIFwidmFyaWFudHNcIixcbiAgICBcImluaXRpYWxcIixcbiAgICBcInN0eWxlXCIsXG4gICAgXCJ2YWx1ZXNcIixcbiAgICBcInZhcmlhbnRzXCIsXG4gICAgXCJ0cmFuc2l0aW9uXCIsXG4gICAgXCJ0cmFuc2Zvcm1UZW1wbGF0ZVwiLFxuICAgIFwidHJhbnNmb3JtVmFsdWVzXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImluaGVyaXRcIixcbiAgICBcIm9uTGF5b3V0QW5pbWF0aW9uU3RhcnRcIixcbiAgICBcIm9uTGF5b3V0QW5pbWF0aW9uQ29tcGxldGVcIixcbiAgICBcIm9uTGF5b3V0TWVhc3VyZVwiLFxuICAgIFwib25CZWZvcmVMYXlvdXRNZWFzdXJlXCIsXG4gICAgXCJvbkFuaW1hdGlvblN0YXJ0XCIsXG4gICAgXCJvbkFuaW1hdGlvbkNvbXBsZXRlXCIsXG4gICAgXCJvblVwZGF0ZVwiLFxuICAgIFwib25EcmFnU3RhcnRcIixcbiAgICBcIm9uRHJhZ1wiLFxuICAgIFwib25EcmFnRW5kXCIsXG4gICAgXCJvbk1lYXN1cmVEcmFnQ29uc3RyYWludHNcIixcbiAgICBcIm9uRGlyZWN0aW9uTG9ja1wiLFxuICAgIFwib25EcmFnVHJhbnNpdGlvbkVuZFwiLFxuICAgIFwiX2RyYWdYXCIsXG4gICAgXCJfZHJhZ1lcIixcbiAgICBcIm9uSG92ZXJTdGFydFwiLFxuICAgIFwib25Ib3ZlckVuZFwiLFxuICAgIFwib25WaWV3cG9ydEVudGVyXCIsXG4gICAgXCJvblZpZXdwb3J0TGVhdmVcIixcbiAgICBcImlnbm9yZVN0cmljdFwiLFxuICAgIFwidmlld3BvcnRcIixcbl0pO1xuLyoqXG4gKiBDaGVjayB3aGV0aGVyIGEgcHJvcCBuYW1lIGlzIGEgdmFsaWQgYE1vdGlvblByb3BgIGtleS5cbiAqXG4gKiBAcGFyYW0ga2V5IC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gY2hlY2tcbiAqIEByZXR1cm5zIGB0cnVlYCBpcyBrZXkgaXMgYSB2YWxpZCBgTW90aW9uUHJvcGAuXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBpc1ZhbGlkTW90aW9uUHJvcChrZXkpIHtcbiAgICByZXR1cm4gKGtleS5zdGFydHNXaXRoKFwid2hpbGVcIikgfHxcbiAgICAgICAgKGtleS5zdGFydHNXaXRoKFwiZHJhZ1wiKSAmJiBrZXkgIT09IFwiZHJhZ2dhYmxlXCIpIHx8XG4gICAgICAgIGtleS5zdGFydHNXaXRoKFwibGF5b3V0XCIpIHx8XG4gICAgICAgIGtleS5zdGFydHNXaXRoKFwib25UYXBcIikgfHxcbiAgICAgICAga2V5LnN0YXJ0c1dpdGgoXCJvblBhblwiKSB8fFxuICAgICAgICB2YWxpZE1vdGlvblByb3BzLmhhcyhrZXkpKTtcbn1cblxuZXhwb3J0IHsgaXNWYWxpZE1vdGlvblByb3AgfTtcbiIsImltcG9ydCB7IGlzVmFsaWRNb3Rpb25Qcm9wIH0gZnJvbSAnLi4vLi4vLi4vbW90aW9uL3V0aWxzL3ZhbGlkLXByb3AubWpzJztcblxubGV0IHNob3VsZEZvcndhcmQgPSAoa2V5KSA9PiAhaXNWYWxpZE1vdGlvblByb3Aoa2V5KTtcbmZ1bmN0aW9uIGxvYWRFeHRlcm5hbElzVmFsaWRQcm9wKGlzVmFsaWRQcm9wKSB7XG4gICAgaWYgKCFpc1ZhbGlkUHJvcClcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIEV4cGxpY2l0bHkgZmlsdGVyIG91ciBldmVudHNcbiAgICBzaG91bGRGb3J3YXJkID0gKGtleSkgPT4ga2V5LnN0YXJ0c1dpdGgoXCJvblwiKSA/ICFpc1ZhbGlkTW90aW9uUHJvcChrZXkpIDogaXNWYWxpZFByb3Aoa2V5KTtcbn1cbi8qKlxuICogRW1vdGlvbiBhbmQgU3R5bGVkIENvbXBvbmVudHMgYm90aCBhbGxvdyB1c2VycyB0byBwYXNzIHRocm91Z2ggYXJiaXRyYXJ5IHByb3BzIHRvIHRoZWlyIGNvbXBvbmVudHNcbiAqIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlIENTUy4gVGhleSBib3RoIHVzZSB0aGUgYEBlbW90aW9uL2lzLXByb3AtdmFsaWRgIHBhY2thZ2UgdG8gZGV0ZXJtaW5lIHdoaWNoXG4gKiBvZiB0aGVzZSBzaG91bGQgYmUgcGFzc2VkIHRvIHRoZSB1bmRlcmx5aW5nIERPTSBub2RlLlxuICpcbiAqIEhvd2V2ZXIsIHdoZW4gc3R5bGluZyBhIE1vdGlvbiBjb21wb25lbnQgYHN0eWxlZChtb3Rpb24uZGl2KWAsIGJvdGggcGFja2FnZXMgcGFzcyB0aHJvdWdoICphbGwqIHByb3BzXG4gKiBhcyBpdCdzIHNlZW4gYXMgYW4gYXJiaXRyYXJ5IGNvbXBvbmVudCByYXRoZXIgdGhhbiBhIERPTSBub2RlLiBNb3Rpb24gb25seSBhbGxvd3MgYXJiaXRyYXJ5IHByb3BzXG4gKiBwYXNzZWQgdGhyb3VnaCB0aGUgYGN1c3RvbWAgcHJvcCBzbyBpdCBkb2Vzbid0ICpuZWVkKiB0aGUgcGF5bG9hZCBvciBjb21wdXRhdGlvbmFsIG92ZXJoZWFkIG9mXG4gKiBgQGVtb3Rpb24vaXMtcHJvcC12YWxpZGAsIGhvd2V2ZXIgdG8gZml4IHRoaXMgcHJvYmxlbSB3ZSBuZWVkIHRvIHVzZSBpdC5cbiAqXG4gKiBCeSBtYWtpbmcgaXQgYW4gb3B0aW9uYWxEZXBlbmRlbmN5IHdlIGNhbiBvZmZlciB0aGlzIGZ1bmN0aW9uYWxpdHkgb25seSBpbiB0aGUgc2l0dWF0aW9ucyB3aGVyZSBpdCdzXG4gKiBhY3R1YWxseSByZXF1aXJlZC5cbiAqL1xudHJ5IHtcbiAgICAvKipcbiAgICAgKiBXZSBhdHRlbXB0IHRvIGltcG9ydCB0aGlzIHBhY2thZ2UgYnV0IHJlcXVpcmUgd29uJ3QgYmUgZGVmaW5lZCBpbiBlc20gZW52aXJvbm1lbnRzLCBpbiB0aGF0IGNhc2VcbiAgICAgKiBpc1Byb3BWYWxpZCB3aWxsIGhhdmUgdG8gYmUgcHJvdmlkZWQgdmlhIGBNb3Rpb25Db250ZXh0YC4gSW4gYSA2LjAuMCB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSByZW1vdmVkXG4gICAgICogaW4gZmF2b3VyIG9mIGV4cGxpY2l0IGluamVjdGlvbi5cbiAgICAgKi9cbiAgICBsb2FkRXh0ZXJuYWxJc1ZhbGlkUHJvcChyZXF1aXJlKFwiQGVtb3Rpb24vaXMtcHJvcC12YWxpZFwiKS5kZWZhdWx0KTtcbn1cbmNhdGNoIChfYSkge1xuICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gYWN0dWFsbHkgZG8gYW55dGhpbmcgaGVyZSAtIHRoZSBmYWxsYmFjayBpcyB0aGUgZXhpc3RpbmcgYGlzUHJvcFZhbGlkYC5cbn1cbmZ1bmN0aW9uIGZpbHRlclByb3BzKHByb3BzLCBpc0RvbSwgZm9yd2FyZE1vdGlvblByb3BzKSB7XG4gICAgY29uc3QgZmlsdGVyZWRQcm9wcyA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiB2YWx1ZXMgaXMgY29uc2lkZXJlZCBhIHZhbGlkIHByb3AgYnkgRW1vdGlvbiwgc28gaWYgaXQncyBwcmVzZW50XG4gICAgICAgICAqIHRoaXMgd2lsbCBiZSByZW5kZXJlZCBvdXQgdG8gdGhlIERPTSB1bmxlc3MgZXhwbGljaXRseSBmaWx0ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogV2UgY2hlY2sgdGhlIHR5cGUgYXMgaXQgY291bGQgYmUgdXNlZCB3aXRoIHRoZSBgZmVDb2xvck1hdHJpeGBcbiAgICAgICAgICogZWxlbWVudCwgd2hpY2ggd2Ugc3VwcG9ydC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChrZXkgPT09IFwidmFsdWVzXCIgJiYgdHlwZW9mIHByb3BzLnZhbHVlcyA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoc2hvdWxkRm9yd2FyZChrZXkpIHx8XG4gICAgICAgICAgICAoZm9yd2FyZE1vdGlvblByb3BzID09PSB0cnVlICYmIGlzVmFsaWRNb3Rpb25Qcm9wKGtleSkpIHx8XG4gICAgICAgICAgICAoIWlzRG9tICYmICFpc1ZhbGlkTW90aW9uUHJvcChrZXkpKSB8fFxuICAgICAgICAgICAgLy8gSWYgdHJ5aW5nIHRvIHVzZSBuYXRpdmUgSFRNTCBkcmFnIGV2ZW50cywgZm9yd2FyZCBkcmFnIGxpc3RlbmVyc1xuICAgICAgICAgICAgKHByb3BzW1wiZHJhZ2dhYmxlXCJdICYmIGtleS5zdGFydHNXaXRoKFwib25EcmFnXCIpKSkge1xuICAgICAgICAgICAgZmlsdGVyZWRQcm9wc1trZXldID0gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyZWRQcm9wcztcbn1cblxuZXhwb3J0IHsgZmlsdGVyUHJvcHMsIGxvYWRFeHRlcm5hbElzVmFsaWRQcm9wIH07XG4iLCJpbXBvcnQgeyBweCB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcblxuZnVuY3Rpb24gY2FsY09yaWdpbihvcmlnaW4sIG9mZnNldCwgc2l6ZSkge1xuICAgIHJldHVybiB0eXBlb2Ygb3JpZ2luID09PSBcInN0cmluZ1wiXG4gICAgICAgID8gb3JpZ2luXG4gICAgICAgIDogcHgudHJhbnNmb3JtKG9mZnNldCArIHNpemUgKiBvcmlnaW4pO1xufVxuLyoqXG4gKiBUaGUgU1ZHIHRyYW5zZm9ybSBvcmlnaW4gZGVmYXVsdHMgYXJlIGRpZmZlcmVudCB0byBDU1MgYW5kIGlzIGxlc3MgaW50dWl0aXZlLFxuICogc28gd2UgdXNlIHRoZSBtZWFzdXJlZCBkaW1lbnNpb25zIG9mIHRoZSBTVkcgdG8gcmVjb25jaWxlIHRoZXNlLlxuICovXG5mdW5jdGlvbiBjYWxjU1ZHVHJhbnNmb3JtT3JpZ2luKGRpbWVuc2lvbnMsIG9yaWdpblgsIG9yaWdpblkpIHtcbiAgICBjb25zdCBweE9yaWdpblggPSBjYWxjT3JpZ2luKG9yaWdpblgsIGRpbWVuc2lvbnMueCwgZGltZW5zaW9ucy53aWR0aCk7XG4gICAgY29uc3QgcHhPcmlnaW5ZID0gY2FsY09yaWdpbihvcmlnaW5ZLCBkaW1lbnNpb25zLnksIGRpbWVuc2lvbnMuaGVpZ2h0KTtcbiAgICByZXR1cm4gYCR7cHhPcmlnaW5YfSAke3B4T3JpZ2luWX1gO1xufVxuXG5leHBvcnQgeyBjYWxjU1ZHVHJhbnNmb3JtT3JpZ2luIH07XG4iLCJpbXBvcnQgeyBweCB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcblxuY29uc3QgZGFzaEtleXMgPSB7XG4gICAgb2Zmc2V0OiBcInN0cm9rZS1kYXNob2Zmc2V0XCIsXG4gICAgYXJyYXk6IFwic3Ryb2tlLWRhc2hhcnJheVwiLFxufTtcbmNvbnN0IGNhbWVsS2V5cyA9IHtcbiAgICBvZmZzZXQ6IFwic3Ryb2tlRGFzaG9mZnNldFwiLFxuICAgIGFycmF5OiBcInN0cm9rZURhc2hhcnJheVwiLFxufTtcbi8qKlxuICogQnVpbGQgU1ZHIHBhdGggcHJvcGVydGllcy4gVXNlcyB0aGUgcGF0aCdzIG1lYXN1cmVkIGxlbmd0aCB0byBjb252ZXJ0XG4gKiBvdXIgY3VzdG9tIHBhdGhMZW5ndGgsIHBhdGhTcGFjaW5nIGFuZCBwYXRoT2Zmc2V0IGludG8gc3Ryb2tlLWRhc2hvZmZzZXRcbiAqIGFuZCBzdHJva2UtZGFzaGFycmF5IGF0dHJpYnV0ZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBtdXRhdGl2ZSB0byByZWR1Y2UgcGVyLWZyYW1lIEdDLlxuICovXG5mdW5jdGlvbiBidWlsZFNWR1BhdGgoYXR0cnMsIGxlbmd0aCwgc3BhY2luZyA9IDEsIG9mZnNldCA9IDAsIHVzZURhc2hDYXNlID0gdHJ1ZSkge1xuICAgIC8vIE5vcm1hbGlzZSBwYXRoIGxlbmd0aCBieSBzZXR0aW5nIFNWRyBhdHRyaWJ1dGUgcGF0aExlbmd0aCB0byAxXG4gICAgYXR0cnMucGF0aExlbmd0aCA9IDE7XG4gICAgLy8gV2UgdXNlIGRhc2ggY2FzZSB3aGVuIHNldHRpbmcgYXR0cmlidXRlcyBkaXJlY3RseSB0byB0aGUgRE9NIG5vZGUgYW5kIGNhbWVsIGNhc2VcbiAgICAvLyB3aGVuIGRlZmluaW5nIHByb3BzIG9uIGEgUmVhY3QgY29tcG9uZW50LlxuICAgIGNvbnN0IGtleXMgPSB1c2VEYXNoQ2FzZSA/IGRhc2hLZXlzIDogY2FtZWxLZXlzO1xuICAgIC8vIEJ1aWxkIHRoZSBkYXNoIG9mZnNldFxuICAgIGF0dHJzW2tleXMub2Zmc2V0XSA9IHB4LnRyYW5zZm9ybSgtb2Zmc2V0KTtcbiAgICAvLyBCdWlsZCB0aGUgZGFzaCBhcnJheVxuICAgIGNvbnN0IHBhdGhMZW5ndGggPSBweC50cmFuc2Zvcm0obGVuZ3RoKTtcbiAgICBjb25zdCBwYXRoU3BhY2luZyA9IHB4LnRyYW5zZm9ybShzcGFjaW5nKTtcbiAgICBhdHRyc1trZXlzLmFycmF5XSA9IGAke3BhdGhMZW5ndGh9ICR7cGF0aFNwYWNpbmd9YDtcbn1cblxuZXhwb3J0IHsgYnVpbGRTVkdQYXRoIH07XG4iLCJpbXBvcnQgeyBidWlsZEhUTUxTdHlsZXMgfSBmcm9tICcuLi8uLi9odG1sL3V0aWxzL2J1aWxkLXN0eWxlcy5tanMnO1xuaW1wb3J0IHsgY2FsY1NWR1RyYW5zZm9ybU9yaWdpbiB9IGZyb20gJy4vdHJhbnNmb3JtLW9yaWdpbi5tanMnO1xuaW1wb3J0IHsgYnVpbGRTVkdQYXRoIH0gZnJvbSAnLi9wYXRoLm1qcyc7XG5cbi8qKlxuICogQnVpbGQgU1ZHIHZpc3VhbCBhdHRyYnV0ZXMsIGxpa2UgY3ggYW5kIHN0eWxlLnRyYW5zZm9ybVxuICovXG5mdW5jdGlvbiBidWlsZFNWR0F0dHJzKHN0YXRlLCB7IGF0dHJYLCBhdHRyWSwgYXR0clNjYWxlLCBvcmlnaW5YLCBvcmlnaW5ZLCBwYXRoTGVuZ3RoLCBwYXRoU3BhY2luZyA9IDEsIHBhdGhPZmZzZXQgPSAwLCBcbi8vIFRoaXMgaXMgb2JqZWN0IGNyZWF0aW9uLCB3aGljaCB3ZSB0cnkgdG8gYXZvaWQgcGVyLWZyYW1lLlxuLi4ubGF0ZXN0IH0sIG9wdGlvbnMsIGlzU1ZHVGFnLCB0cmFuc2Zvcm1UZW1wbGF0ZSkge1xuICAgIGJ1aWxkSFRNTFN0eWxlcyhzdGF0ZSwgbGF0ZXN0LCBvcHRpb25zLCB0cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgLyoqXG4gICAgICogRm9yIHN2ZyB0YWdzIHdlIGp1c3Qgd2FudCB0byBtYWtlIHN1cmUgdmlld0JveCBpcyBhbmltYXRhYmxlIGFuZCB0cmVhdCBhbGwgdGhlIHN0eWxlc1xuICAgICAqIGFzIG5vcm1hbCBIVE1MIHRhZ3MuXG4gICAgICovXG4gICAgaWYgKGlzU1ZHVGFnKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zdHlsZS52aWV3Qm94KSB7XG4gICAgICAgICAgICBzdGF0ZS5hdHRycy52aWV3Qm94ID0gc3RhdGUuc3R5bGUudmlld0JveDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0YXRlLmF0dHJzID0gc3RhdGUuc3R5bGU7XG4gICAgc3RhdGUuc3R5bGUgPSB7fTtcbiAgICBjb25zdCB7IGF0dHJzLCBzdHlsZSwgZGltZW5zaW9ucyB9ID0gc3RhdGU7XG4gICAgLyoqXG4gICAgICogSG93ZXZlciwgd2UgYXBwbHkgdHJhbnNmb3JtcyBhcyBDU1MgdHJhbnNmb3Jtcy4gU28gaWYgd2UgZGV0ZWN0IGEgdHJhbnNmb3JtIHdlIHRha2UgaXQgZnJvbSBhdHRyc1xuICAgICAqIGFuZCBjb3B5IGl0IGludG8gc3R5bGUuXG4gICAgICovXG4gICAgaWYgKGF0dHJzLnRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoZGltZW5zaW9ucylcbiAgICAgICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IGF0dHJzLnRyYW5zZm9ybTtcbiAgICAgICAgZGVsZXRlIGF0dHJzLnRyYW5zZm9ybTtcbiAgICB9XG4gICAgLy8gUGFyc2UgdHJhbnNmb3JtT3JpZ2luXG4gICAgaWYgKGRpbWVuc2lvbnMgJiZcbiAgICAgICAgKG9yaWdpblggIT09IHVuZGVmaW5lZCB8fCBvcmlnaW5ZICE9PSB1bmRlZmluZWQgfHwgc3R5bGUudHJhbnNmb3JtKSkge1xuICAgICAgICBzdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBjYWxjU1ZHVHJhbnNmb3JtT3JpZ2luKGRpbWVuc2lvbnMsIG9yaWdpblggIT09IHVuZGVmaW5lZCA/IG9yaWdpblggOiAwLjUsIG9yaWdpblkgIT09IHVuZGVmaW5lZCA/IG9yaWdpblkgOiAwLjUpO1xuICAgIH1cbiAgICAvLyBSZW5kZXIgYXR0clgvYXR0clkvYXR0clNjYWxlIGFzIGF0dHJpYnV0ZXNcbiAgICBpZiAoYXR0clggIT09IHVuZGVmaW5lZClcbiAgICAgICAgYXR0cnMueCA9IGF0dHJYO1xuICAgIGlmIChhdHRyWSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBhdHRycy55ID0gYXR0clk7XG4gICAgaWYgKGF0dHJTY2FsZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBhdHRycy5zY2FsZSA9IGF0dHJTY2FsZTtcbiAgICAvLyBCdWlsZCBTVkcgcGF0aCBpZiBvbmUgaGFzIGJlZW4gZGVmaW5lZFxuICAgIGlmIChwYXRoTGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYnVpbGRTVkdQYXRoKGF0dHJzLCBwYXRoTGVuZ3RoLCBwYXRoU3BhY2luZywgcGF0aE9mZnNldCwgZmFsc2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgYnVpbGRTVkdBdHRycyB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlSHRtbFJlbmRlclN0YXRlIH0gZnJvbSAnLi4vLi4vaHRtbC91dGlscy9jcmVhdGUtcmVuZGVyLXN0YXRlLm1qcyc7XG5cbmNvbnN0IGNyZWF0ZVN2Z1JlbmRlclN0YXRlID0gKCkgPT4gKHtcbiAgICAuLi5jcmVhdGVIdG1sUmVuZGVyU3RhdGUoKSxcbiAgICBhdHRyczoge30sXG59KTtcblxuZXhwb3J0IHsgY3JlYXRlU3ZnUmVuZGVyU3RhdGUgfTtcbiIsImNvbnN0IGlzU1ZHVGFnID0gKHRhZykgPT4gdHlwZW9mIHRhZyA9PT0gXCJzdHJpbmdcIiAmJiB0YWcudG9Mb3dlckNhc2UoKSA9PT0gXCJzdmdcIjtcblxuZXhwb3J0IHsgaXNTVkdUYWcgfTtcbiIsImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb3B5UmF3VmFsdWVzT25seSB9IGZyb20gJy4uL2h0bWwvdXNlLXByb3BzLm1qcyc7XG5pbXBvcnQgeyBidWlsZFNWR0F0dHJzIH0gZnJvbSAnLi91dGlscy9idWlsZC1hdHRycy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlU3ZnUmVuZGVyU3RhdGUgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1yZW5kZXItc3RhdGUubWpzJztcbmltcG9ydCB7IGlzU1ZHVGFnIH0gZnJvbSAnLi91dGlscy9pcy1zdmctdGFnLm1qcyc7XG5cbmZ1bmN0aW9uIHVzZVNWR1Byb3BzKHByb3BzLCB2aXN1YWxTdGF0ZSwgX2lzU3RhdGljLCBDb21wb25lbnQpIHtcbiAgICBjb25zdCB2aXN1YWxQcm9wcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGNyZWF0ZVN2Z1JlbmRlclN0YXRlKCk7XG4gICAgICAgIGJ1aWxkU1ZHQXR0cnMoc3RhdGUsIHZpc3VhbFN0YXRlLCB7IGVuYWJsZUhhcmR3YXJlQWNjZWxlcmF0aW9uOiBmYWxzZSB9LCBpc1NWR1RhZyhDb21wb25lbnQpLCBwcm9wcy50cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5hdHRycyxcbiAgICAgICAgICAgIHN0eWxlOiB7IC4uLnN0YXRlLnN0eWxlIH0sXG4gICAgICAgIH07XG4gICAgfSwgW3Zpc3VhbFN0YXRlXSk7XG4gICAgaWYgKHByb3BzLnN0eWxlKSB7XG4gICAgICAgIGNvbnN0IHJhd1N0eWxlcyA9IHt9O1xuICAgICAgICBjb3B5UmF3VmFsdWVzT25seShyYXdTdHlsZXMsIHByb3BzLnN0eWxlLCBwcm9wcyk7XG4gICAgICAgIHZpc3VhbFByb3BzLnN0eWxlID0geyAuLi5yYXdTdHlsZXMsIC4uLnZpc3VhbFByb3BzLnN0eWxlIH07XG4gICAgfVxuICAgIHJldHVybiB2aXN1YWxQcm9wcztcbn1cblxuZXhwb3J0IHsgdXNlU1ZHUHJvcHMgfTtcbiIsImltcG9ydCB7IHVzZU1lbW8sIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VIVE1MUHJvcHMgfSBmcm9tICcuLi9odG1sL3VzZS1wcm9wcy5tanMnO1xuaW1wb3J0IHsgZmlsdGVyUHJvcHMgfSBmcm9tICcuL3V0aWxzL2ZpbHRlci1wcm9wcy5tanMnO1xuaW1wb3J0IHsgaXNTVkdDb21wb25lbnQgfSBmcm9tICcuL3V0aWxzL2lzLXN2Zy1jb21wb25lbnQubWpzJztcbmltcG9ydCB7IHVzZVNWR1Byb3BzIH0gZnJvbSAnLi4vc3ZnL3VzZS1wcm9wcy5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVVc2VSZW5kZXIoZm9yd2FyZE1vdGlvblByb3BzID0gZmFsc2UpIHtcbiAgICBjb25zdCB1c2VSZW5kZXIgPSAoQ29tcG9uZW50LCBwcm9wcywgcmVmLCB7IGxhdGVzdFZhbHVlcyB9LCBpc1N0YXRpYykgPT4ge1xuICAgICAgICBjb25zdCB1c2VWaXN1YWxQcm9wcyA9IGlzU1ZHQ29tcG9uZW50KENvbXBvbmVudClcbiAgICAgICAgICAgID8gdXNlU1ZHUHJvcHNcbiAgICAgICAgICAgIDogdXNlSFRNTFByb3BzO1xuICAgICAgICBjb25zdCB2aXN1YWxQcm9wcyA9IHVzZVZpc3VhbFByb3BzKHByb3BzLCBsYXRlc3RWYWx1ZXMsIGlzU3RhdGljLCBDb21wb25lbnQpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFByb3BzID0gZmlsdGVyUHJvcHMocHJvcHMsIHR5cGVvZiBDb21wb25lbnQgPT09IFwic3RyaW5nXCIsIGZvcndhcmRNb3Rpb25Qcm9wcyk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRQcm9wcyA9IHtcbiAgICAgICAgICAgIC4uLmZpbHRlcmVkUHJvcHMsXG4gICAgICAgICAgICAuLi52aXN1YWxQcm9wcyxcbiAgICAgICAgICAgIHJlZixcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGNvbXBvbmVudCBoYXMgYmVlbiBoYW5kZWQgYSBtb3Rpb24gdmFsdWUgYXMgaXRzIGNoaWxkLFxuICAgICAgICAgKiBtZW1vaXNlIGl0cyBpbml0aWFsIHZhbHVlIGFuZCByZW5kZXIgdGhhdC4gU3Vic2VxdWVudCB1cGRhdGVzXG4gICAgICAgICAqIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgb25DaGFuZ2UgaGFuZGxlclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkQ2hpbGRyZW4gPSB1c2VNZW1vKCgpID0+IChpc01vdGlvblZhbHVlKGNoaWxkcmVuKSA/IGNoaWxkcmVuLmdldCgpIDogY2hpbGRyZW4pLCBbY2hpbGRyZW5dKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAuLi5lbGVtZW50UHJvcHMsXG4gICAgICAgICAgICBjaGlsZHJlbjogcmVuZGVyZWRDaGlsZHJlbixcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gdXNlUmVuZGVyO1xufVxuXG5leHBvcnQgeyBjcmVhdGVVc2VSZW5kZXIgfTtcbiIsImZ1bmN0aW9uIHJlbmRlckhUTUwoZWxlbWVudCwgeyBzdHlsZSwgdmFycyB9LCBzdHlsZVByb3AsIHByb2plY3Rpb24pIHtcbiAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHN0eWxlLCBwcm9qZWN0aW9uICYmIHByb2plY3Rpb24uZ2V0UHJvamVjdGlvblN0eWxlcyhzdHlsZVByb3ApKTtcbiAgICAvLyBMb29wIG92ZXIgYW55IENTUyB2YXJpYWJsZXMgYW5kIGFzc2lnbiB0aG9zZS5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJzKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YXJzW2tleV0pO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgcmVuZGVySFRNTCB9O1xuIiwiLyoqXG4gKiBBIHNldCBvZiBhdHRyaWJ1dGUgbmFtZXMgdGhhdCBhcmUgYWx3YXlzIHJlYWQvd3JpdHRlbiBhcyBjYW1lbCBjYXNlLlxuICovXG5jb25zdCBjYW1lbENhc2VBdHRyaWJ1dGVzID0gbmV3IFNldChbXG4gICAgXCJiYXNlRnJlcXVlbmN5XCIsXG4gICAgXCJkaWZmdXNlQ29uc3RhbnRcIixcbiAgICBcImtlcm5lbE1hdHJpeFwiLFxuICAgIFwia2VybmVsVW5pdExlbmd0aFwiLFxuICAgIFwia2V5U3BsaW5lc1wiLFxuICAgIFwia2V5VGltZXNcIixcbiAgICBcImxpbWl0aW5nQ29uZUFuZ2xlXCIsXG4gICAgXCJtYXJrZXJIZWlnaHRcIixcbiAgICBcIm1hcmtlcldpZHRoXCIsXG4gICAgXCJudW1PY3RhdmVzXCIsXG4gICAgXCJ0YXJnZXRYXCIsXG4gICAgXCJ0YXJnZXRZXCIsXG4gICAgXCJzdXJmYWNlU2NhbGVcIixcbiAgICBcInNwZWN1bGFyQ29uc3RhbnRcIixcbiAgICBcInNwZWN1bGFyRXhwb25lbnRcIixcbiAgICBcInN0ZERldmlhdGlvblwiLFxuICAgIFwidGFibGVWYWx1ZXNcIixcbiAgICBcInZpZXdCb3hcIixcbiAgICBcImdyYWRpZW50VHJhbnNmb3JtXCIsXG4gICAgXCJwYXRoTGVuZ3RoXCIsXG4gICAgXCJzdGFydE9mZnNldFwiLFxuICAgIFwidGV4dExlbmd0aFwiLFxuICAgIFwibGVuZ3RoQWRqdXN0XCIsXG5dKTtcblxuZXhwb3J0IHsgY2FtZWxDYXNlQXR0cmlidXRlcyB9O1xuIiwiaW1wb3J0IHsgY2FtZWxUb0Rhc2ggfSBmcm9tICcuLi8uLi9kb20vdXRpbHMvY2FtZWwtdG8tZGFzaC5tanMnO1xuaW1wb3J0IHsgcmVuZGVySFRNTCB9IGZyb20gJy4uLy4uL2h0bWwvdXRpbHMvcmVuZGVyLm1qcyc7XG5pbXBvcnQgeyBjYW1lbENhc2VBdHRyaWJ1dGVzIH0gZnJvbSAnLi9jYW1lbC1jYXNlLWF0dHJzLm1qcyc7XG5cbmZ1bmN0aW9uIHJlbmRlclNWRyhlbGVtZW50LCByZW5kZXJTdGF0ZSwgX3N0eWxlUHJvcCwgcHJvamVjdGlvbikge1xuICAgIHJlbmRlckhUTUwoZWxlbWVudCwgcmVuZGVyU3RhdGUsIHVuZGVmaW5lZCwgcHJvamVjdGlvbik7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmVuZGVyU3RhdGUuYXR0cnMpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoIWNhbWVsQ2FzZUF0dHJpYnV0ZXMuaGFzKGtleSkgPyBjYW1lbFRvRGFzaChrZXkpIDoga2V5LCByZW5kZXJTdGF0ZS5hdHRyc1trZXldKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IHJlbmRlclNWRyB9O1xuIiwiaW1wb3J0IHsgaXNGb3JjZWRNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uLy4uL21vdGlvbi91dGlscy9pcy1mb3JjZWQtbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5cbmZ1bmN0aW9uIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhwcm9wcywgcHJldlByb3BzKSB7XG4gICAgY29uc3QgeyBzdHlsZSB9ID0gcHJvcHM7XG4gICAgY29uc3QgbmV3VmFsdWVzID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc3R5bGUpIHtcbiAgICAgICAgaWYgKGlzTW90aW9uVmFsdWUoc3R5bGVba2V5XSkgfHxcbiAgICAgICAgICAgIChwcmV2UHJvcHMuc3R5bGUgJiYgaXNNb3Rpb25WYWx1ZShwcmV2UHJvcHMuc3R5bGVba2V5XSkpIHx8XG4gICAgICAgICAgICBpc0ZvcmNlZE1vdGlvblZhbHVlKGtleSwgcHJvcHMpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZXNba2V5XSA9IHN0eWxlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld1ZhbHVlcztcbn1cblxuZXhwb3J0IHsgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzIH07XG4iLCJpbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgYXMgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzJDEgfSBmcm9tICcuLi8uLi9odG1sL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wT3JkZXIgfSBmcm9tICcuLi8uLi9odG1sL3V0aWxzL3RyYW5zZm9ybS5tanMnO1xuXG5mdW5jdGlvbiBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMocHJvcHMsIHByZXZQcm9wcykge1xuICAgIGNvbnN0IG5ld1ZhbHVlcyA9IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyQxKHByb3BzLCBwcmV2UHJvcHMpO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChpc01vdGlvblZhbHVlKHByb3BzW2tleV0pIHx8IGlzTW90aW9uVmFsdWUocHJldlByb3BzW2tleV0pKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRLZXkgPSB0cmFuc2Zvcm1Qcm9wT3JkZXIuaW5kZXhPZihrZXkpICE9PSAtMVxuICAgICAgICAgICAgICAgID8gXCJhdHRyXCIgKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpXG4gICAgICAgICAgICAgICAgOiBrZXk7XG4gICAgICAgICAgICBuZXdWYWx1ZXNbdGFyZ2V0S2V5XSA9IHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld1ZhbHVlcztcbn1cblxuZXhwb3J0IHsgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzIH07XG4iLCJmdW5jdGlvbiByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyhwcm9wcywgZGVmaW5pdGlvbiwgY3VzdG9tLCBjdXJyZW50VmFsdWVzID0ge30sIGN1cnJlbnRWZWxvY2l0eSA9IHt9KSB7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHZhcmlhbnQgZGVmaW5pdGlvbiBpcyBhIGZ1bmN0aW9uLCByZXNvbHZlLlxuICAgICAqL1xuICAgIGlmICh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGRlZmluaXRpb24gPSBkZWZpbml0aW9uKGN1c3RvbSAhPT0gdW5kZWZpbmVkID8gY3VzdG9tIDogcHJvcHMuY3VzdG9tLCBjdXJyZW50VmFsdWVzLCBjdXJyZW50VmVsb2NpdHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdmFyaWFudCBkZWZpbml0aW9uIGlzIGEgdmFyaWFudCBsYWJlbCwgb3JcbiAgICAgKiB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgYSB2YXJpYW50IGxhYmVsLCByZXNvbHZlLlxuICAgICAqL1xuICAgIGlmICh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBkZWZpbml0aW9uID0gcHJvcHMudmFyaWFudHMgJiYgcHJvcHMudmFyaWFudHNbZGVmaW5pdGlvbl07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0IHRoaXMgcG9pbnQgd2UndmUgcmVzb2x2ZWQgYm90aCBmdW5jdGlvbnMgYW5kIHZhcmlhbnQgbGFiZWxzLFxuICAgICAqIGJ1dCB0aGUgcmVzb2x2ZWQgdmFyaWFudCBsYWJlbCBtaWdodCBpdHNlbGYgaGF2ZSBiZWVuIGEgZnVuY3Rpb24uXG4gICAgICogSWYgc28sIHJlc29sdmUuIFRoaXMgY2FuIG9ubHkgaGF2ZSByZXR1cm5lZCBhIHZhbGlkIHRhcmdldCBvYmplY3QuXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgZGVmaW5pdGlvbiA9IGRlZmluaXRpb24oY3VzdG9tICE9PSB1bmRlZmluZWQgPyBjdXN0b20gOiBwcm9wcy5jdXN0b20sIGN1cnJlbnRWYWx1ZXMsIGN1cnJlbnRWZWxvY2l0eSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZpbml0aW9uO1xufVxuXG5leHBvcnQgeyByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyB9O1xuIiwiaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb25zdGFudCB2YWx1ZSBvdmVyIHRoZSBsaWZlY3ljbGUgb2YgYSBjb21wb25lbnQuXG4gKlxuICogRXZlbiBpZiBgdXNlTWVtb2AgaXMgcHJvdmlkZWQgYW4gZW1wdHkgYXJyYXkgYXMgaXRzIGZpbmFsIGFyZ3VtZW50LCBpdCBkb2Vzbid0IG9mZmVyXG4gKiBhIGd1YXJhbnRlZSB0aGF0IGl0IHdvbid0IHJlLXJ1biBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyBsYXRlciBvbi4gQnkgdXNpbmcgYHVzZUNvbnN0YW50YFxuICogeW91IGNhbiBlbnN1cmUgdGhhdCBpbml0aWFsaXNlcnMgZG9uJ3QgZXhlY3V0ZSB0d2ljZSBvciBtb3JlLlxuICovXG5mdW5jdGlvbiB1c2VDb25zdGFudChpbml0KSB7XG4gICAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGlmIChyZWYuY3VycmVudCA9PT0gbnVsbCkge1xuICAgICAgICByZWYuY3VycmVudCA9IGluaXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlZi5jdXJyZW50O1xufVxuXG5leHBvcnQgeyB1c2VDb25zdGFudCB9O1xuIiwiY29uc3QgaXNLZXlmcmFtZXNUYXJnZXQgPSAodikgPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHYpO1xufTtcblxuZXhwb3J0IHsgaXNLZXlmcmFtZXNUYXJnZXQgfTtcbiIsImltcG9ydCB7IGlzS2V5ZnJhbWVzVGFyZ2V0IH0gZnJvbSAnLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWtleWZyYW1lcy10YXJnZXQubWpzJztcblxuY29uc3QgaXNDdXN0b21WYWx1ZSA9ICh2KSA9PiB7XG4gICAgcmV0dXJuIEJvb2xlYW4odiAmJiB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2Lm1peCAmJiB2LnRvVmFsdWUpO1xufTtcbmNvbnN0IHJlc29sdmVGaW5hbFZhbHVlSW5LZXlmcmFtZXMgPSAodikgPT4ge1xuICAgIC8vIFRPRE8gbWF5YmUgdGhyb3cgaWYgdi5sZW5ndGggLSAxIGlzIHBsYWNlaG9sZGVyIHRva2VuP1xuICAgIHJldHVybiBpc0tleWZyYW1lc1RhcmdldCh2KSA/IHZbdi5sZW5ndGggLSAxXSB8fCAwIDogdjtcbn07XG5cbmV4cG9ydCB7IGlzQ3VzdG9tVmFsdWUsIHJlc29sdmVGaW5hbFZhbHVlSW5LZXlmcmFtZXMgfTtcbiIsImltcG9ydCB7IGlzQ3VzdG9tVmFsdWUgfSBmcm9tICcuLi8uLi91dGlscy9yZXNvbHZlLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi9pcy1tb3Rpb24tdmFsdWUubWpzJztcblxuLyoqXG4gKiBJZiB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgYSBNb3Rpb25WYWx1ZSwgdGhpcyByZXR1cm5zIHRoZSBhY3R1YWwgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHRoZSB2YWx1ZSBpdHNlbGZcbiAqXG4gKiBUT0RPOiBSZW1vdmUgYW5kIG1vdmUgdG8gbGlicmFyeVxuICovXG5mdW5jdGlvbiByZXNvbHZlTW90aW9uVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCB1bndyYXBwZWRWYWx1ZSA9IGlzTW90aW9uVmFsdWUodmFsdWUpID8gdmFsdWUuZ2V0KCkgOiB2YWx1ZTtcbiAgICByZXR1cm4gaXNDdXN0b21WYWx1ZSh1bndyYXBwZWRWYWx1ZSlcbiAgICAgICAgPyB1bndyYXBwZWRWYWx1ZS50b1ZhbHVlKClcbiAgICAgICAgOiB1bndyYXBwZWRWYWx1ZTtcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZU1vdGlvblZhbHVlIH07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRpb24tY29udHJvbHMubWpzJztcbmltcG9ydCB7IFByZXNlbmNlQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvUHJlc2VuY2VDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlVmFyaWFudEZyb21Qcm9wcyB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9yZXNvbHZlLXZhcmlhbnRzLm1qcyc7XG5pbXBvcnQgeyB1c2VDb25zdGFudCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1jb25zdGFudC5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZU1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXRpbHMvcmVzb2x2ZS1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IE1vdGlvbkNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L01vdGlvbkNvbnRleHQvaW5kZXgubWpzJztcbmltcG9ydCB7IGlzQ29udHJvbGxpbmdWYXJpYW50cywgaXNWYXJpYW50Tm9kZSB9IGZyb20gJy4uLy4uL3JlbmRlci91dGlscy9pcy1jb250cm9sbGluZy12YXJpYW50cy5tanMnO1xuXG5mdW5jdGlvbiBtYWtlU3RhdGUoeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMsIGNyZWF0ZVJlbmRlclN0YXRlLCBvbk1vdW50LCB9LCBwcm9wcywgY29udGV4dCwgcHJlc2VuY2VDb250ZXh0KSB7XG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIGxhdGVzdFZhbHVlczogbWFrZUxhdGVzdFZhbHVlcyhwcm9wcywgY29udGV4dCwgcHJlc2VuY2VDb250ZXh0LCBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMpLFxuICAgICAgICByZW5kZXJTdGF0ZTogY3JlYXRlUmVuZGVyU3RhdGUoKSxcbiAgICB9O1xuICAgIGlmIChvbk1vdW50KSB7XG4gICAgICAgIHN0YXRlLm1vdW50ID0gKGluc3RhbmNlKSA9PiBvbk1vdW50KHByb3BzLCBpbnN0YW5jZSwgc3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59XG5jb25zdCBtYWtlVXNlVmlzdWFsU3RhdGUgPSAoY29uZmlnKSA9PiAocHJvcHMsIGlzU3RhdGljKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoTW90aW9uQ29udGV4dCk7XG4gICAgY29uc3QgcHJlc2VuY2VDb250ZXh0ID0gdXNlQ29udGV4dChQcmVzZW5jZUNvbnRleHQpO1xuICAgIGNvbnN0IG1ha2UgPSAoKSA9PiBtYWtlU3RhdGUoY29uZmlnLCBwcm9wcywgY29udGV4dCwgcHJlc2VuY2VDb250ZXh0KTtcbiAgICByZXR1cm4gaXNTdGF0aWMgPyBtYWtlKCkgOiB1c2VDb25zdGFudChtYWtlKTtcbn07XG5mdW5jdGlvbiBtYWtlTGF0ZXN0VmFsdWVzKHByb3BzLCBjb250ZXh0LCBwcmVzZW5jZUNvbnRleHQsIHNjcmFwZU1vdGlvblZhbHVlcykge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIGNvbnN0IG1vdGlvblZhbHVlcyA9IHNjcmFwZU1vdGlvblZhbHVlcyhwcm9wcywge30pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1vdGlvblZhbHVlcykge1xuICAgICAgICB2YWx1ZXNba2V5XSA9IHJlc29sdmVNb3Rpb25WYWx1ZShtb3Rpb25WYWx1ZXNba2V5XSk7XG4gICAgfVxuICAgIGxldCB7IGluaXRpYWwsIGFuaW1hdGUgfSA9IHByb3BzO1xuICAgIGNvbnN0IGlzQ29udHJvbGxpbmdWYXJpYW50cyQxID0gaXNDb250cm9sbGluZ1ZhcmlhbnRzKHByb3BzKTtcbiAgICBjb25zdCBpc1ZhcmlhbnROb2RlJDEgPSBpc1ZhcmlhbnROb2RlKHByb3BzKTtcbiAgICBpZiAoY29udGV4dCAmJlxuICAgICAgICBpc1ZhcmlhbnROb2RlJDEgJiZcbiAgICAgICAgIWlzQ29udHJvbGxpbmdWYXJpYW50cyQxICYmXG4gICAgICAgIHByb3BzLmluaGVyaXQgIT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChpbml0aWFsID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBpbml0aWFsID0gY29udGV4dC5pbml0aWFsO1xuICAgICAgICBpZiAoYW5pbWF0ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgYW5pbWF0ZSA9IGNvbnRleHQuYW5pbWF0ZTtcbiAgICB9XG4gICAgbGV0IGlzSW5pdGlhbEFuaW1hdGlvbkJsb2NrZWQgPSBwcmVzZW5jZUNvbnRleHRcbiAgICAgICAgPyBwcmVzZW5jZUNvbnRleHQuaW5pdGlhbCA9PT0gZmFsc2VcbiAgICAgICAgOiBmYWxzZTtcbiAgICBpc0luaXRpYWxBbmltYXRpb25CbG9ja2VkID0gaXNJbml0aWFsQW5pbWF0aW9uQmxvY2tlZCB8fCBpbml0aWFsID09PSBmYWxzZTtcbiAgICBjb25zdCB2YXJpYW50VG9TZXQgPSBpc0luaXRpYWxBbmltYXRpb25CbG9ja2VkID8gYW5pbWF0ZSA6IGluaXRpYWw7XG4gICAgaWYgKHZhcmlhbnRUb1NldCAmJlxuICAgICAgICB0eXBlb2YgdmFyaWFudFRvU2V0ICE9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgICAhaXNBbmltYXRpb25Db250cm9scyh2YXJpYW50VG9TZXQpKSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSBBcnJheS5pc0FycmF5KHZhcmlhbnRUb1NldCkgPyB2YXJpYW50VG9TZXQgOiBbdmFyaWFudFRvU2V0XTtcbiAgICAgICAgbGlzdC5mb3JFYWNoKChkZWZpbml0aW9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVWYXJpYW50RnJvbVByb3BzKHByb3BzLCBkZWZpbml0aW9uKTtcbiAgICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyB0cmFuc2l0aW9uRW5kLCB0cmFuc2l0aW9uLCAuLi50YXJnZXQgfSA9IHJlc29sdmVkO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlVGFyZ2V0ID0gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVUYXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBUYWtlIGZpbmFsIGtleWZyYW1lIGlmIHRoZSBpbml0aWFsIGFuaW1hdGlvbiBpcyBibG9ja2VkIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgICAgICogd2Ugd2FudCB0byBpbml0aWFsaXNlIGF0IHRoZSBlbmQgb2YgdGhhdCBibG9ja2VkIGFuaW1hdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaXNJbml0aWFsQW5pbWF0aW9uQmxvY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZVRhcmdldC5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVGFyZ2V0ID0gdmFsdWVUYXJnZXRbaW5kZXhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWVUYXJnZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2tleV0gPSB2YWx1ZVRhcmdldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFuc2l0aW9uRW5kKVxuICAgICAgICAgICAgICAgIHZhbHVlc1trZXldID0gdHJhbnNpdGlvbkVuZFtrZXldO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cblxuZXhwb3J0IHsgbWFrZVVzZVZpc3VhbFN0YXRlIH07XG4iLCJjb25zdCBub29wID0gKGFueSkgPT4gYW55O1xuXG5leHBvcnQgeyBub29wIH07XG4iLCJjbGFzcyBRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub3JkZXIgPSBbXTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZWQgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGFkZChwcm9jZXNzKSB7XG4gICAgICAgIGlmICghdGhpcy5zY2hlZHVsZWQuaGFzKHByb2Nlc3MpKSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlZC5hZGQocHJvY2Vzcyk7XG4gICAgICAgICAgICB0aGlzLm9yZGVyLnB1c2gocHJvY2Vzcyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmUocHJvY2Vzcykge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMub3JkZXIuaW5kZXhPZihwcm9jZXNzKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5vcmRlci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZWQuZGVsZXRlKHByb2Nlc3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLm9yZGVyLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVkLmNsZWFyKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyU3RlcChydW5OZXh0RnJhbWUpIHtcbiAgICAvKipcbiAgICAgKiBXZSBjcmVhdGUgYW5kIHJldXNlIHR3byBxdWV1ZXMsIG9uZSB0byBxdWV1ZSBqb2JzIGZvciB0aGUgY3VycmVudCBmcmFtZVxuICAgICAqIGFuZCBvbmUgZm9yIHRoZSBuZXh0LiBXZSByZXVzZSB0byBhdm9pZCB0cmlnZ2VyaW5nIEdDIGFmdGVyIHggZnJhbWVzLlxuICAgICAqL1xuICAgIGxldCB0aGlzRnJhbWUgPSBuZXcgUXVldWUoKTtcbiAgICBsZXQgbmV4dEZyYW1lID0gbmV3IFF1ZXVlKCk7XG4gICAgbGV0IG51bVRvUnVuID0gMDtcbiAgICAvKipcbiAgICAgKiBUcmFjayB3aGV0aGVyIHdlJ3JlIGN1cnJlbnRseSBwcm9jZXNzaW5nIGpvYnMgaW4gdGhpcyBzdGVwLiBUaGlzIHdheVxuICAgICAqIHdlIGNhbiBkZWNpZGUgd2hldGhlciB0byBzY2hlZHVsZSBuZXcgam9icyBmb3IgdGhpcyBmcmFtZSBvciBuZXh0LlxuICAgICAqL1xuICAgIGxldCBpc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICBsZXQgZmx1c2hOZXh0RnJhbWUgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiBwcm9jZXNzZXMgd2hpY2ggd2VyZSBtYXJrZWQga2VlcEFsaXZlIHdoZW4gc2NoZWR1bGVkLlxuICAgICAqL1xuICAgIGNvbnN0IHRvS2VlcEFsaXZlID0gbmV3IFdlYWtTZXQoKTtcbiAgICBjb25zdCBzdGVwID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NoZWR1bGUgYSBwcm9jZXNzIHRvIHJ1biBvbiB0aGUgbmV4dCBmcmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIHNjaGVkdWxlOiAoY2FsbGJhY2ssIGtlZXBBbGl2ZSA9IGZhbHNlLCBpbW1lZGlhdGUgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWRkVG9DdXJyZW50RnJhbWUgPSBpbW1lZGlhdGUgJiYgaXNQcm9jZXNzaW5nO1xuICAgICAgICAgICAgY29uc3QgcXVldWUgPSBhZGRUb0N1cnJlbnRGcmFtZSA/IHRoaXNGcmFtZSA6IG5leHRGcmFtZTtcbiAgICAgICAgICAgIGlmIChrZWVwQWxpdmUpXG4gICAgICAgICAgICAgICAgdG9LZWVwQWxpdmUuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmIChxdWV1ZS5hZGQoY2FsbGJhY2spICYmIGFkZFRvQ3VycmVudEZyYW1lICYmIGlzUHJvY2Vzc2luZykge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIGFkZGluZyBpdCB0byB0aGUgY3VycmVudGx5IHJ1bm5pbmcgcXVldWUsIHVwZGF0ZSBpdHMgbWVhc3VyZWQgc2l6ZVxuICAgICAgICAgICAgICAgIG51bVRvUnVuID0gdGhpc0ZyYW1lLm9yZGVyLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbmNlbCB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgZnJvbSBydW5uaW5nIG9uIHRoZSBuZXh0IGZyYW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgY2FuY2VsOiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIG5leHRGcmFtZS5yZW1vdmUoY2FsbGJhY2spO1xuICAgICAgICAgICAgdG9LZWVwQWxpdmUuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4ZWN1dGUgYWxsIHNjaGVkdWxlIGNhbGxiYWNrcy5cbiAgICAgICAgICovXG4gICAgICAgIHByb2Nlc3M6IChmcmFtZURhdGEpID0+IHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UncmUgYWxyZWFkeSBwcm9jZXNzaW5nIHdlJ3ZlIHByb2JhYmx5IGJlZW4gdHJpZ2dlcmVkIGJ5IGEgZmx1c2hTeW5jXG4gICAgICAgICAgICAgKiBpbnNpZGUgYW4gZXhpc3RpbmcgcHJvY2Vzcy4gSW5zdGVhZCBvZiBleGVjdXRpbmcsIG1hcmsgZmx1c2hOZXh0RnJhbWVcbiAgICAgICAgICAgICAqIGFzIHRydWUgYW5kIGVuc3VyZSB3ZSBmbHVzaCB0aGUgZm9sbG93aW5nIGZyYW1lIGF0IHRoZSBlbmQgb2YgdGhpcyBvbmUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpc1Byb2Nlc3NpbmcpIHtcbiAgICAgICAgICAgICAgICBmbHVzaE5leHRGcmFtZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIFt0aGlzRnJhbWUsIG5leHRGcmFtZV0gPSBbbmV4dEZyYW1lLCB0aGlzRnJhbWVdO1xuICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIG5leHQgZnJhbWUgcXVldWVcbiAgICAgICAgICAgIG5leHRGcmFtZS5jbGVhcigpO1xuICAgICAgICAgICAgLy8gRXhlY3V0ZSB0aGlzIGZyYW1lXG4gICAgICAgICAgICBudW1Ub1J1biA9IHRoaXNGcmFtZS5vcmRlci5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobnVtVG9SdW4pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVRvUnVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzRnJhbWUub3JkZXJbaV07XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZyYW1lRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b0tlZXBBbGl2ZS5oYXMoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwLnNjaGVkdWxlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bk5leHRGcmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZmx1c2hOZXh0RnJhbWUpIHtcbiAgICAgICAgICAgICAgICBmbHVzaE5leHRGcmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0ZXAucHJvY2VzcyhmcmFtZURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIHN0ZXA7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVJlbmRlclN0ZXAgfTtcbiIsImltcG9ydCB7IGNyZWF0ZVJlbmRlclN0ZXAgfSBmcm9tICcuL3JlbmRlci1zdGVwLm1qcyc7XG5cbmNvbnN0IHN0ZXBzT3JkZXIgPSBbXG4gICAgXCJwcmVwYXJlXCIsXG4gICAgXCJyZWFkXCIsXG4gICAgXCJ1cGRhdGVcIixcbiAgICBcInByZVJlbmRlclwiLFxuICAgIFwicmVuZGVyXCIsXG4gICAgXCJwb3N0UmVuZGVyXCIsXG5dO1xuY29uc3QgbWF4RWxhcHNlZCA9IDQwO1xuZnVuY3Rpb24gY3JlYXRlUmVuZGVyQmF0Y2hlcihzY2hlZHVsZU5leHRCYXRjaCwgYWxsb3dLZWVwQWxpdmUpIHtcbiAgICBsZXQgcnVuTmV4dEZyYW1lID0gZmFsc2U7XG4gICAgbGV0IHVzZURlZmF1bHRFbGFwc2VkID0gdHJ1ZTtcbiAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgZGVsdGE6IDAsXG4gICAgICAgIHRpbWVzdGFtcDogMCxcbiAgICAgICAgaXNQcm9jZXNzaW5nOiBmYWxzZSxcbiAgICB9O1xuICAgIGNvbnN0IHN0ZXBzID0gc3RlcHNPcmRlci5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgIGFjY1trZXldID0gY3JlYXRlUmVuZGVyU3RlcCgoKSA9PiAocnVuTmV4dEZyYW1lID0gdHJ1ZSkpO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICBjb25zdCBwcm9jZXNzU3RlcCA9IChzdGVwSWQpID0+IHN0ZXBzW3N0ZXBJZF0ucHJvY2VzcyhzdGF0ZSk7XG4gICAgY29uc3QgcHJvY2Vzc0JhdGNoID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgcnVuTmV4dEZyYW1lID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmRlbHRhID0gdXNlRGVmYXVsdEVsYXBzZWRcbiAgICAgICAgICAgID8gMTAwMCAvIDYwXG4gICAgICAgICAgICA6IE1hdGgubWF4KE1hdGgubWluKHRpbWVzdGFtcCAtIHN0YXRlLnRpbWVzdGFtcCwgbWF4RWxhcHNlZCksIDEpO1xuICAgICAgICBzdGF0ZS50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICAgIHN0YXRlLmlzUHJvY2Vzc2luZyA9IHRydWU7XG4gICAgICAgIHN0ZXBzT3JkZXIuZm9yRWFjaChwcm9jZXNzU3RlcCk7XG4gICAgICAgIHN0YXRlLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICBpZiAocnVuTmV4dEZyYW1lICYmIGFsbG93S2VlcEFsaXZlKSB7XG4gICAgICAgICAgICB1c2VEZWZhdWx0RWxhcHNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgc2NoZWR1bGVOZXh0QmF0Y2gocHJvY2Vzc0JhdGNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgd2FrZSA9ICgpID0+IHtcbiAgICAgICAgcnVuTmV4dEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgdXNlRGVmYXVsdEVsYXBzZWQgPSB0cnVlO1xuICAgICAgICBpZiAoIXN0YXRlLmlzUHJvY2Vzc2luZykge1xuICAgICAgICAgICAgc2NoZWR1bGVOZXh0QmF0Y2gocHJvY2Vzc0JhdGNoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc2NoZWR1bGUgPSBzdGVwc09yZGVyLnJlZHVjZSgoYWNjLCBrZXkpID0+IHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IHN0ZXBzW2tleV07XG4gICAgICAgIGFjY1trZXldID0gKHByb2Nlc3MsIGtlZXBBbGl2ZSA9IGZhbHNlLCBpbW1lZGlhdGUgPSBmYWxzZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFydW5OZXh0RnJhbWUpXG4gICAgICAgICAgICAgICAgd2FrZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXAuc2NoZWR1bGUocHJvY2Vzcywga2VlcEFsaXZlLCBpbW1lZGlhdGUpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICBjb25zdCBjYW5jZWwgPSAocHJvY2VzcykgPT4gc3RlcHNPcmRlci5mb3JFYWNoKChrZXkpID0+IHN0ZXBzW2tleV0uY2FuY2VsKHByb2Nlc3MpKTtcbiAgICByZXR1cm4geyBzY2hlZHVsZSwgY2FuY2VsLCBzdGF0ZSwgc3RlcHMgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlUmVuZGVyQmF0Y2hlciwgc3RlcHNPcmRlciB9O1xuIiwiaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uL3V0aWxzL25vb3AubWpzJztcbmltcG9ydCB7IGNyZWF0ZVJlbmRlckJhdGNoZXIgfSBmcm9tICcuL2JhdGNoZXIubWpzJztcblxuY29uc3QgeyBzY2hlZHVsZTogZnJhbWUsIGNhbmNlbDogY2FuY2VsRnJhbWUsIHN0YXRlOiBmcmFtZURhdGEsIHN0ZXBzLCB9ID0gY3JlYXRlUmVuZGVyQmF0Y2hlcih0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lICE9PSBcInVuZGVmaW5lZFwiID8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIDogbm9vcCwgdHJ1ZSk7XG5cbmV4cG9ydCB7IGNhbmNlbEZyYW1lLCBmcmFtZSwgZnJhbWVEYXRhLCBzdGVwcyB9O1xuIiwiaW1wb3J0IHsgcmVuZGVyU1ZHIH0gZnJvbSAnLi91dGlscy9yZW5kZXIubWpzJztcbmltcG9ydCB7IHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9IGZyb20gJy4vdXRpbHMvc2NyYXBlLW1vdGlvbi12YWx1ZXMubWpzJztcbmltcG9ydCB7IG1ha2VVc2VWaXN1YWxTdGF0ZSB9IGZyb20gJy4uLy4uL21vdGlvbi91dGlscy91c2UtdmlzdWFsLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVTdmdSZW5kZXJTdGF0ZSB9IGZyb20gJy4vdXRpbHMvY3JlYXRlLXJlbmRlci1zdGF0ZS5tanMnO1xuaW1wb3J0IHsgYnVpbGRTVkdBdHRycyB9IGZyb20gJy4vdXRpbHMvYnVpbGQtYXR0cnMubWpzJztcbmltcG9ydCB7IGlzU1ZHVGFnIH0gZnJvbSAnLi91dGlscy9pcy1zdmctdGFnLm1qcyc7XG5pbXBvcnQgeyBmcmFtZSB9IGZyb20gJy4uLy4uL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG5jb25zdCBzdmdNb3Rpb25Db25maWcgPSB7XG4gICAgdXNlVmlzdWFsU3RhdGU6IG1ha2VVc2VWaXN1YWxTdGF0ZSh7XG4gICAgICAgIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wczogc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzLFxuICAgICAgICBjcmVhdGVSZW5kZXJTdGF0ZTogY3JlYXRlU3ZnUmVuZGVyU3RhdGUsXG4gICAgICAgIG9uTW91bnQ6IChwcm9wcywgaW5zdGFuY2UsIHsgcmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcyB9KSA9PiB7XG4gICAgICAgICAgICBmcmFtZS5yZWFkKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJTdGF0ZS5kaW1lbnNpb25zID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbnN0YW5jZS5nZXRCQm94ID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaW5zdGFuY2UuZ2V0QkJveCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpbnN0YW5jZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTW9zdCBsaWtlbHkgdHJ5aW5nIHRvIG1lYXN1cmUgYW4gdW5yZW5kZXJlZCBlbGVtZW50IHVuZGVyIEZpcmVmb3hcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyU3RhdGUuZGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmcmFtZS5yZW5kZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGJ1aWxkU1ZHQXR0cnMocmVuZGVyU3RhdGUsIGxhdGVzdFZhbHVlcywgeyBlbmFibGVIYXJkd2FyZUFjY2VsZXJhdGlvbjogZmFsc2UgfSwgaXNTVkdUYWcoaW5zdGFuY2UudGFnTmFtZSksIHByb3BzLnRyYW5zZm9ybVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICByZW5kZXJTVkcoaW5zdGFuY2UsIHJlbmRlclN0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH0pLFxufTtcblxuZXhwb3J0IHsgc3ZnTW90aW9uQ29uZmlnIH07XG4iLCJpbXBvcnQgeyBtYWtlVXNlVmlzdWFsU3RhdGUgfSBmcm9tICcuLi8uLi9tb3Rpb24vdXRpbHMvdXNlLXZpc3VhbC1zdGF0ZS5tanMnO1xuaW1wb3J0IHsgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzIH0gZnJvbSAnLi91dGlscy9zY3JhcGUtbW90aW9uLXZhbHVlcy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlSHRtbFJlbmRlclN0YXRlIH0gZnJvbSAnLi91dGlscy9jcmVhdGUtcmVuZGVyLXN0YXRlLm1qcyc7XG5cbmNvbnN0IGh0bWxNb3Rpb25Db25maWcgPSB7XG4gICAgdXNlVmlzdWFsU3RhdGU6IG1ha2VVc2VWaXN1YWxTdGF0ZSh7XG4gICAgICAgIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyxcbiAgICAgICAgY3JlYXRlUmVuZGVyU3RhdGU6IGNyZWF0ZUh0bWxSZW5kZXJTdGF0ZSxcbiAgICB9KSxcbn07XG5cbmV4cG9ydCB7IGh0bWxNb3Rpb25Db25maWcgfTtcbiIsImltcG9ydCB7IGlzU1ZHQ29tcG9uZW50IH0gZnJvbSAnLi9pcy1zdmctY29tcG9uZW50Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVVc2VSZW5kZXIgfSBmcm9tICcuLi91c2UtcmVuZGVyLm1qcyc7XG5pbXBvcnQgeyBzdmdNb3Rpb25Db25maWcgfSBmcm9tICcuLi8uLi9zdmcvY29uZmlnLW1vdGlvbi5tanMnO1xuaW1wb3J0IHsgaHRtbE1vdGlvbkNvbmZpZyB9IGZyb20gJy4uLy4uL2h0bWwvY29uZmlnLW1vdGlvbi5tanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVEb21Nb3Rpb25Db25maWcoQ29tcG9uZW50LCB7IGZvcndhcmRNb3Rpb25Qcm9wcyA9IGZhbHNlIH0sIHByZWxvYWRlZEZlYXR1cmVzLCBjcmVhdGVWaXN1YWxFbGVtZW50KSB7XG4gICAgY29uc3QgYmFzZUNvbmZpZyA9IGlzU1ZHQ29tcG9uZW50KENvbXBvbmVudClcbiAgICAgICAgPyBzdmdNb3Rpb25Db25maWdcbiAgICAgICAgOiBodG1sTW90aW9uQ29uZmlnO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VDb25maWcsXG4gICAgICAgIHByZWxvYWRlZEZlYXR1cmVzLFxuICAgICAgICB1c2VSZW5kZXI6IGNyZWF0ZVVzZVJlbmRlcihmb3J3YXJkTW90aW9uUHJvcHMpLFxuICAgICAgICBjcmVhdGVWaXN1YWxFbGVtZW50LFxuICAgICAgICBDb21wb25lbnQsXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlRG9tTW90aW9uQ29uZmlnIH07XG4iLCJmdW5jdGlvbiBhZGREb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9KSB7XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbn1cblxuZXhwb3J0IHsgYWRkRG9tRXZlbnQgfTtcbiIsImNvbnN0IGlzUHJpbWFyeVBvaW50ZXIgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09IFwibW91c2VcIikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGV2ZW50LmJ1dHRvbiAhPT0gXCJudW1iZXJcIiB8fCBldmVudC5idXR0b24gPD0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpc1ByaW1hcnkgaXMgdHJ1ZSBmb3IgYWxsIG1pY2UgYnV0dG9ucywgd2hlcmVhcyBldmVyeSB0b3VjaCBwb2ludFxuICAgICAgICAgKiBpcyByZWdhcmRlZCBhcyBpdHMgb3duIGlucHV0LiBTbyBzdWJzZXF1ZW50IGNvbmN1cnJlbnQgdG91Y2ggcG9pbnRzXG4gICAgICAgICAqIHdpbGwgYmUgZmFsc2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNwZWNpZmljYWxseSBtYXRjaCBhZ2FpbnN0IGZhbHNlIGhlcmUgYXMgaW5jb21wbGV0ZSB2ZXJzaW9ucyBvZlxuICAgICAgICAgKiBQb2ludGVyRXZlbnRzIGluIHZlcnkgb2xkIGJyb3dzZXIgbWlnaHQgaGF2ZSBpdCBzZXQgYXMgdW5kZWZpbmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIGV2ZW50LmlzUHJpbWFyeSAhPT0gZmFsc2U7XG4gICAgfVxufTtcblxuZXhwb3J0IHsgaXNQcmltYXJ5UG9pbnRlciB9O1xuIiwiaW1wb3J0IHsgaXNQcmltYXJ5UG9pbnRlciB9IGZyb20gJy4vdXRpbHMvaXMtcHJpbWFyeS1wb2ludGVyLm1qcyc7XG5cbmZ1bmN0aW9uIGV4dHJhY3RFdmVudEluZm8oZXZlbnQsIHBvaW50VHlwZSA9IFwicGFnZVwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgIHg6IGV2ZW50W3BvaW50VHlwZSArIFwiWFwiXSxcbiAgICAgICAgICAgIHk6IGV2ZW50W3BvaW50VHlwZSArIFwiWVwiXSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuY29uc3QgYWRkUG9pbnRlckluZm8gPSAoaGFuZGxlcikgPT4ge1xuICAgIHJldHVybiAoZXZlbnQpID0+IGlzUHJpbWFyeVBvaW50ZXIoZXZlbnQpICYmIGhhbmRsZXIoZXZlbnQsIGV4dHJhY3RFdmVudEluZm8oZXZlbnQpKTtcbn07XG5cbmV4cG9ydCB7IGFkZFBvaW50ZXJJbmZvLCBleHRyYWN0RXZlbnRJbmZvIH07XG4iLCJpbXBvcnQgeyBhZGREb21FdmVudCB9IGZyb20gJy4vYWRkLWRvbS1ldmVudC5tanMnO1xuaW1wb3J0IHsgYWRkUG9pbnRlckluZm8gfSBmcm9tICcuL2V2ZW50LWluZm8ubWpzJztcblxuZnVuY3Rpb24gYWRkUG9pbnRlckV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGFkZERvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBhZGRQb2ludGVySW5mbyhoYW5kbGVyKSwgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCB7IGFkZFBvaW50ZXJFdmVudCB9O1xuIiwiLyoqXG4gKiBQaXBlXG4gKiBDb21wb3NlIG90aGVyIHRyYW5zZm9ybWVycyB0byBydW4gbGluZWFyaWx5XG4gKiBwaXBlKG1pbigyMCksIG1heCg0MCkpXG4gKiBAcGFyYW0gIHsuLi5mdW5jdGlvbnN9IHRyYW5zZm9ybWVyc1xuICogQHJldHVybiB7ZnVuY3Rpb259XG4gKi9cbmNvbnN0IGNvbWJpbmVGdW5jdGlvbnMgPSAoYSwgYikgPT4gKHYpID0+IGIoYSh2KSk7XG5jb25zdCBwaXBlID0gKC4uLnRyYW5zZm9ybWVycykgPT4gdHJhbnNmb3JtZXJzLnJlZHVjZShjb21iaW5lRnVuY3Rpb25zKTtcblxuZXhwb3J0IHsgcGlwZSB9O1xuIiwiZnVuY3Rpb24gY3JlYXRlTG9jayhuYW1lKSB7XG4gICAgbGV0IGxvY2sgPSBudWxsO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZW5Mb2NrID0gKCkgPT4ge1xuICAgICAgICAgICAgbG9jayA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChsb2NrID09PSBudWxsKSB7XG4gICAgICAgICAgICBsb2NrID0gbmFtZTtcbiAgICAgICAgICAgIHJldHVybiBvcGVuTG9jaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cbmNvbnN0IGdsb2JhbEhvcml6b250YWxMb2NrID0gY3JlYXRlTG9jayhcImRyYWdIb3Jpem9udGFsXCIpO1xuY29uc3QgZ2xvYmFsVmVydGljYWxMb2NrID0gY3JlYXRlTG9jayhcImRyYWdWZXJ0aWNhbFwiKTtcbmZ1bmN0aW9uIGdldEdsb2JhbExvY2soZHJhZykge1xuICAgIGxldCBsb2NrID0gZmFsc2U7XG4gICAgaWYgKGRyYWcgPT09IFwieVwiKSB7XG4gICAgICAgIGxvY2sgPSBnbG9iYWxWZXJ0aWNhbExvY2soKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZHJhZyA9PT0gXCJ4XCIpIHtcbiAgICAgICAgbG9jayA9IGdsb2JhbEhvcml6b250YWxMb2NrKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBvcGVuSG9yaXpvbnRhbCA9IGdsb2JhbEhvcml6b250YWxMb2NrKCk7XG4gICAgICAgIGNvbnN0IG9wZW5WZXJ0aWNhbCA9IGdsb2JhbFZlcnRpY2FsTG9jaygpO1xuICAgICAgICBpZiAob3Blbkhvcml6b250YWwgJiYgb3BlblZlcnRpY2FsKSB7XG4gICAgICAgICAgICBsb2NrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZW5Ib3Jpem9udGFsKCk7XG4gICAgICAgICAgICAgICAgb3BlblZlcnRpY2FsKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVsZWFzZSB0aGUgbG9ja3MgYmVjYXVzZSB3ZSBkb24ndCB1c2UgdGhlbVxuICAgICAgICAgICAgaWYgKG9wZW5Ib3Jpem9udGFsKVxuICAgICAgICAgICAgICAgIG9wZW5Ib3Jpem9udGFsKCk7XG4gICAgICAgICAgICBpZiAob3BlblZlcnRpY2FsKVxuICAgICAgICAgICAgICAgIG9wZW5WZXJ0aWNhbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsb2NrO1xufVxuZnVuY3Rpb24gaXNEcmFnQWN0aXZlKCkge1xuICAgIC8vIENoZWNrIHRoZSBnZXN0dXJlIGxvY2sgLSBpZiB3ZSBnZXQgaXQsIGl0IG1lYW5zIG5vIGRyYWcgZ2VzdHVyZSBpcyBhY3RpdmVcbiAgICAvLyBhbmQgd2UgY2FuIHNhZmVseSBmaXJlIHRoZSB0YXAgZ2VzdHVyZS5cbiAgICBjb25zdCBvcGVuR2VzdHVyZUxvY2sgPSBnZXRHbG9iYWxMb2NrKHRydWUpO1xuICAgIGlmICghb3Blbkdlc3R1cmVMb2NrKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBvcGVuR2VzdHVyZUxvY2soKTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUxvY2ssIGdldEdsb2JhbExvY2ssIGlzRHJhZ0FjdGl2ZSB9O1xuIiwiY2xhc3MgRmVhdHVyZSB7XG4gICAgY29uc3RydWN0b3Iobm9kZSkge1xuICAgICAgICB0aGlzLmlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7IH1cbn1cblxuZXhwb3J0IHsgRmVhdHVyZSB9O1xuIiwiaW1wb3J0IHsgYWRkUG9pbnRlckV2ZW50IH0gZnJvbSAnLi4vZXZlbnRzL2FkZC1wb2ludGVyLWV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBwaXBlIH0gZnJvbSAnLi4vdXRpbHMvcGlwZS5tanMnO1xuaW1wb3J0IHsgaXNEcmFnQWN0aXZlIH0gZnJvbSAnLi9kcmFnL3V0aWxzL2xvY2subWpzJztcbmltcG9ydCB7IEZlYXR1cmUgfSBmcm9tICcuLi9tb3Rpb24vZmVhdHVyZXMvRmVhdHVyZS5tanMnO1xuaW1wb3J0IHsgZnJhbWUgfSBmcm9tICcuLi9mcmFtZWxvb3AvZnJhbWUubWpzJztcblxuZnVuY3Rpb24gYWRkSG92ZXJFdmVudChub2RlLCBpc0FjdGl2ZSkge1xuICAgIGNvbnN0IGV2ZW50TmFtZSA9IFwicG9pbnRlclwiICsgKGlzQWN0aXZlID8gXCJlbnRlclwiIDogXCJsZWF2ZVwiKTtcbiAgICBjb25zdCBjYWxsYmFja05hbWUgPSBcIm9uSG92ZXJcIiArIChpc0FjdGl2ZSA/IFwiU3RhcnRcIiA6IFwiRW5kXCIpO1xuICAgIGNvbnN0IGhhbmRsZUV2ZW50ID0gKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBcInRvdWNoXCIgfHwgaXNEcmFnQWN0aXZlKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHByb3BzID0gbm9kZS5nZXRQcm9wcygpO1xuICAgICAgICBpZiAobm9kZS5hbmltYXRpb25TdGF0ZSAmJiBwcm9wcy53aGlsZUhvdmVyKSB7XG4gICAgICAgICAgICBub2RlLmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcIndoaWxlSG92ZXJcIiwgaXNBY3RpdmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wc1tjYWxsYmFja05hbWVdKSB7XG4gICAgICAgICAgICBmcmFtZS51cGRhdGUoKCkgPT4gcHJvcHNbY2FsbGJhY2tOYW1lXShldmVudCwgaW5mbykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gYWRkUG9pbnRlckV2ZW50KG5vZGUuY3VycmVudCwgZXZlbnROYW1lLCBoYW5kbGVFdmVudCwge1xuICAgICAgICBwYXNzaXZlOiAhbm9kZS5nZXRQcm9wcygpW2NhbGxiYWNrTmFtZV0sXG4gICAgfSk7XG59XG5jbGFzcyBIb3Zlckdlc3R1cmUgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBtb3VudCgpIHtcbiAgICAgICAgdGhpcy51bm1vdW50ID0gcGlwZShhZGRIb3ZlckV2ZW50KHRoaXMubm9kZSwgdHJ1ZSksIGFkZEhvdmVyRXZlbnQodGhpcy5ub2RlLCBmYWxzZSkpO1xuICAgIH1cbiAgICB1bm1vdW50KCkgeyB9XG59XG5cbmV4cG9ydCB7IEhvdmVyR2VzdHVyZSB9O1xuIiwiaW1wb3J0IHsgYWRkRG9tRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvYWRkLWRvbS1ldmVudC5tanMnO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gJy4uL21vdGlvbi9mZWF0dXJlcy9GZWF0dXJlLm1qcyc7XG5pbXBvcnQgeyBwaXBlIH0gZnJvbSAnLi4vdXRpbHMvcGlwZS5tanMnO1xuXG5jbGFzcyBGb2N1c0dlc3R1cmUgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBvbkZvY3VzKCkge1xuICAgICAgICBsZXQgaXNGb2N1c1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgZWxlbWVudCBkb2Vzbid0IG1hdGNoIGZvY3VzLXZpc2libGUgdGhlbiBkb24ndFxuICAgICAgICAgKiBhcHBseSB3aGlsZUhvdmVyLiBCdXQsIGlmIG1hdGNoZXMgdGhyb3dzIHRoYXQgZm9jdXMtdmlzaWJsZVxuICAgICAgICAgKiBpcyBub3QgYSB2YWxpZCBzZWxlY3RvciB0aGVuIGluIHRoYXQgYnJvd3NlciBvdXRsaW5lIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWRcbiAgICAgICAgICogdG8gdGhlIGVsZW1lbnQgYnkgZGVmYXVsdCBhbmQgd2Ugd2FudCB0byBtYXRjaCB0aGF0IGJlaGF2aW91ciB3aXRoIHdoaWxlRm9jdXMuXG4gICAgICAgICAqL1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaXNGb2N1c1Zpc2libGUgPSB0aGlzLm5vZGUuY3VycmVudC5tYXRjaGVzKFwiOmZvY3VzLXZpc2libGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlzRm9jdXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRm9jdXNWaXNpYmxlIHx8ICF0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMubm9kZS5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZUZvY3VzXCIsIHRydWUpO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gICAgb25CbHVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgIXRoaXMubm9kZS5hbmltYXRpb25TdGF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcIndoaWxlRm9jdXNcIiwgZmFsc2UpO1xuICAgICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIG1vdW50KCkge1xuICAgICAgICB0aGlzLnVubW91bnQgPSBwaXBlKGFkZERvbUV2ZW50KHRoaXMubm9kZS5jdXJyZW50LCBcImZvY3VzXCIsICgpID0+IHRoaXMub25Gb2N1cygpKSwgYWRkRG9tRXZlbnQodGhpcy5ub2RlLmN1cnJlbnQsIFwiYmx1clwiLCAoKSA9PiB0aGlzLm9uQmx1cigpKSk7XG4gICAgfVxuICAgIHVubW91bnQoKSB7IH1cbn1cblxuZXhwb3J0IHsgRm9jdXNHZXN0dXJlIH07XG4iLCIvKipcbiAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIHVwIHRoZSB0cmVlIHRvIGNoZWNrIHdoZXRoZXIgdGhlIHByb3ZpZGVkIGNoaWxkIG5vZGVcbiAqIGlzIHRoZSBwYXJlbnQgb3IgYSBkZXNjZW5kYW50IG9mIGl0LlxuICpcbiAqIEBwYXJhbSBwYXJlbnQgLSBFbGVtZW50IHRvIGZpbmRcbiAqIEBwYXJhbSBjaGlsZCAtIEVsZW1lbnQgdG8gdGVzdCBhZ2FpbnN0IHBhcmVudFxuICovXG5jb25zdCBpc05vZGVPckNoaWxkID0gKHBhcmVudCwgY2hpbGQpID0+IHtcbiAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAocGFyZW50ID09PSBjaGlsZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBpc05vZGVPckNoaWxkKHBhcmVudCwgY2hpbGQucGFyZW50RWxlbWVudCk7XG4gICAgfVxufTtcblxuZXhwb3J0IHsgaXNOb2RlT3JDaGlsZCB9O1xuIiwiaW1wb3J0IHsgZXh0cmFjdEV2ZW50SW5mbyB9IGZyb20gJy4uL2V2ZW50cy9ldmVudC1pbmZvLm1qcyc7XG5pbXBvcnQgeyBhZGREb21FdmVudCB9IGZyb20gJy4uL2V2ZW50cy9hZGQtZG9tLWV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBhZGRQb2ludGVyRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvYWRkLXBvaW50ZXItZXZlbnQubWpzJztcbmltcG9ydCB7IEZlYXR1cmUgfSBmcm9tICcuLi9tb3Rpb24vZmVhdHVyZXMvRmVhdHVyZS5tanMnO1xuaW1wb3J0IHsgcGlwZSB9IGZyb20gJy4uL3V0aWxzL3BpcGUubWpzJztcbmltcG9ydCB7IGlzRHJhZ0FjdGl2ZSB9IGZyb20gJy4vZHJhZy91dGlscy9sb2NrLm1qcyc7XG5pbXBvcnQgeyBpc05vZGVPckNoaWxkIH0gZnJvbSAnLi91dGlscy9pcy1ub2RlLW9yLWNoaWxkLm1qcyc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbHMvbm9vcC5tanMnO1xuaW1wb3J0IHsgZnJhbWUgfSBmcm9tICcuLi9mcmFtZWxvb3AvZnJhbWUubWpzJztcblxuZnVuY3Rpb24gZmlyZVN5bnRoZXRpY1BvaW50ZXJFdmVudChuYW1lLCBoYW5kbGVyKSB7XG4gICAgaWYgKCFoYW5kbGVyKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3Qgc3ludGhldGljUG9pbnRlckV2ZW50ID0gbmV3IFBvaW50ZXJFdmVudChcInBvaW50ZXJcIiArIG5hbWUpO1xuICAgIGhhbmRsZXIoc3ludGhldGljUG9pbnRlckV2ZW50LCBleHRyYWN0RXZlbnRJbmZvKHN5bnRoZXRpY1BvaW50ZXJFdmVudCkpO1xufVxuY2xhc3MgUHJlc3NHZXN0dXJlIGV4dGVuZHMgRmVhdHVyZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucmVtb3ZlU3RhcnRMaXN0ZW5lcnMgPSBub29wO1xuICAgICAgICB0aGlzLnJlbW92ZUVuZExpc3RlbmVycyA9IG5vb3A7XG4gICAgICAgIHRoaXMucmVtb3ZlQWNjZXNzaWJsZUxpc3RlbmVycyA9IG5vb3A7XG4gICAgICAgIHRoaXMuc3RhcnRQb2ludGVyUHJlc3MgPSAoc3RhcnRFdmVudCwgc3RhcnRJbmZvKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUVuZExpc3RlbmVycygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQcmVzc2luZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMubm9kZS5nZXRQcm9wcygpO1xuICAgICAgICAgICAgY29uc3QgZW5kUG9pbnRlclByZXNzID0gKGVuZEV2ZW50LCBlbmRJbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrUHJlc3NFbmQoKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgb25UYXAsIG9uVGFwQ2FuY2VsIH0gPSB0aGlzLm5vZGUuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgICAgICBmcmFtZS51cGRhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogV2Ugb25seSBjb3VudCB0aGlzIGFzIGEgdGFwIGdlc3R1cmUgaWYgdGhlIGV2ZW50LnRhcmdldCBpcyB0aGUgc2FtZVxuICAgICAgICAgICAgICAgICAgICAgKiBhcywgb3IgYSBjaGlsZCBvZiwgdGhpcyBjb21wb25lbnQncyBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAhaXNOb2RlT3JDaGlsZCh0aGlzLm5vZGUuY3VycmVudCwgZW5kRXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvblRhcENhbmNlbCAmJiBvblRhcENhbmNlbChlbmRFdmVudCwgZW5kSW5mbylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogb25UYXAgJiYgb25UYXAoZW5kRXZlbnQsIGVuZEluZm8pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZVBvaW50ZXJVcExpc3RlbmVyID0gYWRkUG9pbnRlckV2ZW50KHdpbmRvdywgXCJwb2ludGVydXBcIiwgZW5kUG9pbnRlclByZXNzLCB7IHBhc3NpdmU6ICEocHJvcHMub25UYXAgfHwgcHJvcHNbXCJvblBvaW50ZXJVcFwiXSkgfSk7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVQb2ludGVyQ2FuY2VsTGlzdGVuZXIgPSBhZGRQb2ludGVyRXZlbnQod2luZG93LCBcInBvaW50ZXJjYW5jZWxcIiwgKGNhbmNlbEV2ZW50LCBjYW5jZWxJbmZvKSA9PiB0aGlzLmNhbmNlbFByZXNzKGNhbmNlbEV2ZW50LCBjYW5jZWxJbmZvKSwgeyBwYXNzaXZlOiAhKHByb3BzLm9uVGFwQ2FuY2VsIHx8IHByb3BzW1wib25Qb2ludGVyQ2FuY2VsXCJdKSB9KTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRW5kTGlzdGVuZXJzID0gcGlwZShyZW1vdmVQb2ludGVyVXBMaXN0ZW5lciwgcmVtb3ZlUG9pbnRlckNhbmNlbExpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQcmVzcyhzdGFydEV2ZW50LCBzdGFydEluZm8pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0QWNjZXNzaWJsZVByZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlS2V5ZG93biA9IChrZXlkb3duRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ZG93bkV2ZW50LmtleSAhPT0gXCJFbnRlclwiIHx8IHRoaXMuaXNQcmVzc2luZylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZUtleXVwID0gKGtleXVwRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXVwRXZlbnQua2V5ICE9PSBcIkVudGVyXCIgfHwgIXRoaXMuY2hlY2tQcmVzc0VuZCgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBmaXJlU3ludGhldGljUG9pbnRlckV2ZW50KFwidXBcIiwgKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG9uVGFwIH0gPSB0aGlzLm5vZGUuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvblRhcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLnVwZGF0ZSgoKSA9PiBvblRhcChldmVudCwgaW5mbykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRW5kTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFbmRMaXN0ZW5lcnMgPSBhZGREb21FdmVudCh0aGlzLm5vZGUuY3VycmVudCwgXCJrZXl1cFwiLCBoYW5kbGVLZXl1cCk7XG4gICAgICAgICAgICAgICAgZmlyZVN5bnRoZXRpY1BvaW50ZXJFdmVudChcImRvd25cIiwgKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQcmVzcyhldmVudCwgaW5mbyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlS2V5ZG93bkxpc3RlbmVyID0gYWRkRG9tRXZlbnQodGhpcy5ub2RlLmN1cnJlbnQsIFwia2V5ZG93blwiLCBoYW5kbGVLZXlkb3duKTtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUJsdXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzUHJlc3NpbmcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBmaXJlU3ludGhldGljUG9pbnRlckV2ZW50KFwiY2FuY2VsXCIsIChjYW5jZWxFdmVudCwgY2FuY2VsSW5mbykgPT4gdGhpcy5jYW5jZWxQcmVzcyhjYW5jZWxFdmVudCwgY2FuY2VsSW5mbykpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZUJsdXJMaXN0ZW5lciA9IGFkZERvbUV2ZW50KHRoaXMubm9kZS5jdXJyZW50LCBcImJsdXJcIiwgaGFuZGxlQmx1cik7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFjY2Vzc2libGVMaXN0ZW5lcnMgPSBwaXBlKHJlbW92ZUtleWRvd25MaXN0ZW5lciwgcmVtb3ZlQmx1ckxpc3RlbmVyKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhcnRQcmVzcyhldmVudCwgaW5mbykge1xuICAgICAgICB0aGlzLmlzUHJlc3NpbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IG9uVGFwU3RhcnQsIHdoaWxlVGFwIH0gPSB0aGlzLm5vZGUuZ2V0UHJvcHMoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuc3VyZSB3ZSB0cmlnZ2VyIGFuaW1hdGlvbnMgYmVmb3JlIGZpcmluZyBldmVudCBjYWxsYmFja1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHdoaWxlVGFwICYmIHRoaXMubm9kZS5hbmltYXRpb25TdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlLnNldEFjdGl2ZShcIndoaWxlVGFwXCIsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvblRhcFN0YXJ0KSB7XG4gICAgICAgICAgICBmcmFtZS51cGRhdGUoKCkgPT4gb25UYXBTdGFydChldmVudCwgaW5mbykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNoZWNrUHJlc3NFbmQoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRW5kTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuaXNQcmVzc2luZyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMubm9kZS5nZXRQcm9wcygpO1xuICAgICAgICBpZiAocHJvcHMud2hpbGVUYXAgJiYgdGhpcy5ub2RlLmFuaW1hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUuc2V0QWN0aXZlKFwid2hpbGVUYXBcIiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhaXNEcmFnQWN0aXZlKCk7XG4gICAgfVxuICAgIGNhbmNlbFByZXNzKGV2ZW50LCBpbmZvKSB7XG4gICAgICAgIGlmICghdGhpcy5jaGVja1ByZXNzRW5kKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgb25UYXBDYW5jZWwgfSA9IHRoaXMubm9kZS5nZXRQcm9wcygpO1xuICAgICAgICBpZiAob25UYXBDYW5jZWwpIHtcbiAgICAgICAgICAgIGZyYW1lLnVwZGF0ZSgoKSA9PiBvblRhcENhbmNlbChldmVudCwgaW5mbykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vdW50KCkge1xuICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMubm9kZS5nZXRQcm9wcygpO1xuICAgICAgICBjb25zdCByZW1vdmVQb2ludGVyTGlzdGVuZXIgPSBhZGRQb2ludGVyRXZlbnQodGhpcy5ub2RlLmN1cnJlbnQsIFwicG9pbnRlcmRvd25cIiwgdGhpcy5zdGFydFBvaW50ZXJQcmVzcywgeyBwYXNzaXZlOiAhKHByb3BzLm9uVGFwU3RhcnQgfHwgcHJvcHNbXCJvblBvaW50ZXJTdGFydFwiXSkgfSk7XG4gICAgICAgIGNvbnN0IHJlbW92ZUZvY3VzTGlzdGVuZXIgPSBhZGREb21FdmVudCh0aGlzLm5vZGUuY3VycmVudCwgXCJmb2N1c1wiLCB0aGlzLnN0YXJ0QWNjZXNzaWJsZVByZXNzKTtcbiAgICAgICAgdGhpcy5yZW1vdmVTdGFydExpc3RlbmVycyA9IHBpcGUocmVtb3ZlUG9pbnRlckxpc3RlbmVyLCByZW1vdmVGb2N1c0xpc3RlbmVyKTtcbiAgICB9XG4gICAgdW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVTdGFydExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlbW92ZUVuZExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLnJlbW92ZUFjY2Vzc2libGVMaXN0ZW5lcnMoKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFByZXNzR2VzdHVyZSB9O1xuIiwiLyoqXG4gKiBNYXAgYW4gSW50ZXJzZWN0aW9uSGFuZGxlciBjYWxsYmFjayB0byBhbiBlbGVtZW50LiBXZSBvbmx5IGV2ZXIgbWFrZSBvbmUgaGFuZGxlciBmb3Igb25lXG4gKiBlbGVtZW50LCBzbyBldmVuIHRob3VnaCB0aGVzZSBoYW5kbGVycyBtaWdodCBhbGwgYmUgdHJpZ2dlcmVkIGJ5IGRpZmZlcmVudFxuICogb2JzZXJ2ZXJzLCB3ZSBjYW4ga2VlcCB0aGVtIGluIHRoZSBzYW1lIG1hcC5cbiAqL1xuY29uc3Qgb2JzZXJ2ZXJDYWxsYmFja3MgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBNdWx0aXBsZSBvYnNlcnZlcnMgY2FuIGJlIGNyZWF0ZWQgZm9yIG11bHRpcGxlIGVsZW1lbnQvZG9jdW1lbnQgcm9vdHMuIEVhY2ggd2l0aFxuICogZGlmZmVyZW50IHNldHRpbmdzLiBTbyBoZXJlIHdlIHN0b3JlIGRpY3Rpb25hcmllcyBvZiBvYnNlcnZlcnMgdG8gZWFjaCByb290LFxuICogdXNpbmcgc2VyaWFsaXNlZCBzZXR0aW5ncyAodGhyZXNob2xkL21hcmdpbikgYXMgbG9va3VwIGtleXMuXG4gKi9cbmNvbnN0IG9ic2VydmVycyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBmaXJlT2JzZXJ2ZXJDYWxsYmFjayA9IChlbnRyeSkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gb2JzZXJ2ZXJDYWxsYmFja3MuZ2V0KGVudHJ5LnRhcmdldCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW50cnkpO1xufTtcbmNvbnN0IGZpcmVBbGxPYnNlcnZlckNhbGxiYWNrcyA9IChlbnRyaWVzKSA9PiB7XG4gICAgZW50cmllcy5mb3JFYWNoKGZpcmVPYnNlcnZlckNhbGxiYWNrKTtcbn07XG5mdW5jdGlvbiBpbml0SW50ZXJzZWN0aW9uT2JzZXJ2ZXIoeyByb290LCAuLi5vcHRpb25zIH0pIHtcbiAgICBjb25zdCBsb29rdXBSb290ID0gcm9vdCB8fCBkb2N1bWVudDtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBkb24ndCBoYXZlIGFuIG9ic2VydmVyIGxvb2t1cCBtYXAgZm9yIHRoaXMgcm9vdCwgY3JlYXRlIG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIW9ic2VydmVycy5oYXMobG9va3VwUm9vdCkpIHtcbiAgICAgICAgb2JzZXJ2ZXJzLnNldChsb29rdXBSb290LCB7fSk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RPYnNlcnZlcnMgPSBvYnNlcnZlcnMuZ2V0KGxvb2t1cFJvb3QpO1xuICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGRvbid0IGhhdmUgYW4gb2JzZXJ2ZXIgZm9yIHRoaXMgY29tYmluYXRpb24gb2Ygcm9vdCBhbmQgc2V0dGluZ3MsXG4gICAgICogY3JlYXRlIG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIXJvb3RPYnNlcnZlcnNba2V5XSkge1xuICAgICAgICByb290T2JzZXJ2ZXJzW2tleV0gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZmlyZUFsbE9ic2VydmVyQ2FsbGJhY2tzLCB7IHJvb3QsIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIHJldHVybiByb290T2JzZXJ2ZXJzW2tleV07XG59XG5mdW5jdGlvbiBvYnNlcnZlSW50ZXJzZWN0aW9uKGVsZW1lbnQsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgcm9vdEludGVyZXNlY3Rpb25PYnNlcnZlciA9IGluaXRJbnRlcnNlY3Rpb25PYnNlcnZlcihvcHRpb25zKTtcbiAgICBvYnNlcnZlckNhbGxiYWNrcy5zZXQoZWxlbWVudCwgY2FsbGJhY2spO1xuICAgIHJvb3RJbnRlcmVzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlckNhbGxiYWNrcy5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgIHJvb3RJbnRlcmVzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpO1xuICAgIH07XG59XG5cbmV4cG9ydCB7IG9ic2VydmVJbnRlcnNlY3Rpb24gfTtcbiIsImltcG9ydCB7IEZlYXR1cmUgfSBmcm9tICcuLi9GZWF0dXJlLm1qcyc7XG5pbXBvcnQgeyBvYnNlcnZlSW50ZXJzZWN0aW9uIH0gZnJvbSAnLi9vYnNlcnZlcnMubWpzJztcblxuY29uc3QgdGhyZXNob2xkTmFtZXMgPSB7XG4gICAgc29tZTogMCxcbiAgICBhbGw6IDEsXG59O1xuY2xhc3MgSW5WaWV3RmVhdHVyZSBleHRlbmRzIEZlYXR1cmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmhhc0VudGVyZWRWaWV3ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNJblZpZXcgPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhcnRPYnNlcnZlcigpIHtcbiAgICAgICAgdGhpcy51bm1vdW50KCk7XG4gICAgICAgIGNvbnN0IHsgdmlld3BvcnQgPSB7fSB9ID0gdGhpcy5ub2RlLmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IHsgcm9vdCwgbWFyZ2luOiByb290TWFyZ2luLCBhbW91bnQgPSBcInNvbWVcIiwgb25jZSB9ID0gdmlld3BvcnQ7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICByb290OiByb290ID8gcm9vdC5jdXJyZW50IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcm9vdE1hcmdpbixcbiAgICAgICAgICAgIHRocmVzaG9sZDogdHlwZW9mIGFtb3VudCA9PT0gXCJudW1iZXJcIiA/IGFtb3VudCA6IHRocmVzaG9sZE5hbWVzW2Ftb3VudF0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uSW50ZXJzZWN0aW9uVXBkYXRlID0gKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGlzSW50ZXJzZWN0aW5nIH0gPSBlbnRyeTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlcmUncyBiZWVuIG5vIGNoYW5nZSBpbiB0aGUgdmlld3BvcnQgc3RhdGUsIGVhcmx5IHJldHVybi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNJblZpZXcgPT09IGlzSW50ZXJzZWN0aW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaXNJblZpZXcgPSBpc0ludGVyc2VjdGluZztcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSGFuZGxlIGhhc0VudGVyZWRWaWV3LiBJZiB0aGlzIGlzIG9ubHkgbWVhbnQgdG8gcnVuIG9uY2UsIGFuZFxuICAgICAgICAgICAgICogZWxlbWVudCBpc24ndCB2aXNpYmxlLCBlYXJseSByZXR1cm4uIE90aGVyd2lzZSBzZXQgaGFzRW50ZXJlZFZpZXcgdG8gdHJ1ZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKG9uY2UgJiYgIWlzSW50ZXJzZWN0aW5nICYmIHRoaXMuaGFzRW50ZXJlZFZpZXcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzRW50ZXJlZFZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubm9kZS5hbmltYXRpb25TdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZUluVmlld1wiLCBpc0ludGVyc2VjdGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVzZSB0aGUgbGF0ZXN0IGNvbW1pdHRlZCBwcm9wcyByYXRoZXIgdGhhbiB0aGUgb25lcyBpbiBzY29wZVxuICAgICAgICAgICAgICogd2hlbiB0aGlzIG9ic2VydmVyIGlzIGNyZWF0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgeyBvblZpZXdwb3J0RW50ZXIsIG9uVmlld3BvcnRMZWF2ZSB9ID0gdGhpcy5ub2RlLmdldFByb3BzKCk7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IGlzSW50ZXJzZWN0aW5nID8gb25WaWV3cG9ydEVudGVyIDogb25WaWV3cG9ydExlYXZlO1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW50cnkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZUludGVyc2VjdGlvbih0aGlzLm5vZGUuY3VycmVudCwgb3B0aW9ucywgb25JbnRlcnNlY3Rpb25VcGRhdGUpO1xuICAgIH1cbiAgICBtb3VudCgpIHtcbiAgICAgICAgdGhpcy5zdGFydE9ic2VydmVyKCk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBwcm9wcywgcHJldlByb3BzIH0gPSB0aGlzLm5vZGU7XG4gICAgICAgIGNvbnN0IGhhc09wdGlvbnNDaGFuZ2VkID0gW1wiYW1vdW50XCIsIFwibWFyZ2luXCIsIFwicm9vdFwiXS5zb21lKGhhc1ZpZXdwb3J0T3B0aW9uQ2hhbmdlZChwcm9wcywgcHJldlByb3BzKSk7XG4gICAgICAgIGlmIChoYXNPcHRpb25zQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydE9ic2VydmVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5tb3VudCgpIHsgfVxufVxuZnVuY3Rpb24gaGFzVmlld3BvcnRPcHRpb25DaGFuZ2VkKHsgdmlld3BvcnQgPSB7fSB9LCB7IHZpZXdwb3J0OiBwcmV2Vmlld3BvcnQgPSB7fSB9ID0ge30pIHtcbiAgICByZXR1cm4gKG5hbWUpID0+IHZpZXdwb3J0W25hbWVdICE9PSBwcmV2Vmlld3BvcnRbbmFtZV07XG59XG5cbmV4cG9ydCB7IEluVmlld0ZlYXR1cmUgfTtcbiIsImltcG9ydCB7IEhvdmVyR2VzdHVyZSB9IGZyb20gJy4uLy4uL2dlc3R1cmVzL2hvdmVyLm1qcyc7XG5pbXBvcnQgeyBGb2N1c0dlc3R1cmUgfSBmcm9tICcuLi8uLi9nZXN0dXJlcy9mb2N1cy5tanMnO1xuaW1wb3J0IHsgUHJlc3NHZXN0dXJlIH0gZnJvbSAnLi4vLi4vZ2VzdHVyZXMvcHJlc3MubWpzJztcbmltcG9ydCB7IEluVmlld0ZlYXR1cmUgfSBmcm9tICcuL3ZpZXdwb3J0L2luZGV4Lm1qcyc7XG5cbmNvbnN0IGdlc3R1cmVBbmltYXRpb25zID0ge1xuICAgIGluVmlldzoge1xuICAgICAgICBGZWF0dXJlOiBJblZpZXdGZWF0dXJlLFxuICAgIH0sXG4gICAgdGFwOiB7XG4gICAgICAgIEZlYXR1cmU6IFByZXNzR2VzdHVyZSxcbiAgICB9LFxuICAgIGZvY3VzOiB7XG4gICAgICAgIEZlYXR1cmU6IEZvY3VzR2VzdHVyZSxcbiAgICB9LFxuICAgIGhvdmVyOiB7XG4gICAgICAgIEZlYXR1cmU6IEhvdmVyR2VzdHVyZSxcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgZ2VzdHVyZUFuaW1hdGlvbnMgfTtcbiIsImZ1bmN0aW9uIHNoYWxsb3dDb21wYXJlKG5leHQsIHByZXYpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJldikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBwcmV2TGVuZ3RoID0gcHJldi5sZW5ndGg7XG4gICAgaWYgKHByZXZMZW5ndGggIT09IG5leHQubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByZXZbaV0gIT09IG5leHRbaV0pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgeyBzaGFsbG93Q29tcGFyZSB9O1xuIiwiaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHMgfSBmcm9tICcuL3Jlc29sdmUtdmFyaWFudHMubWpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBsYXRlc3Qgc3RhdGUgb2YgZXZlcnkgTW90aW9uVmFsdWUgb24gYSBWaXN1YWxFbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldEN1cnJlbnQodmlzdWFsRWxlbWVudCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSB7fTtcbiAgICB2aXN1YWxFbGVtZW50LnZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiAoY3VycmVudFtrZXldID0gdmFsdWUuZ2V0KCkpKTtcbiAgICByZXR1cm4gY3VycmVudDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbGF0ZXN0IHZlbG9jaXR5IG9mIGV2ZXJ5IE1vdGlvblZhbHVlIG9uIGEgVmlzdWFsRWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXRWZWxvY2l0eSh2aXN1YWxFbGVtZW50KSB7XG4gICAgY29uc3QgdmVsb2NpdHkgPSB7fTtcbiAgICB2aXN1YWxFbGVtZW50LnZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiAodmVsb2NpdHlba2V5XSA9IHZhbHVlLmdldFZlbG9jaXR5KCkpKTtcbiAgICByZXR1cm4gdmVsb2NpdHk7XG59XG5mdW5jdGlvbiByZXNvbHZlVmFyaWFudCh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uLCBjdXN0b20pIHtcbiAgICBjb25zdCBwcm9wcyA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICByZXR1cm4gcmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHMocHJvcHMsIGRlZmluaXRpb24sIGN1c3RvbSAhPT0gdW5kZWZpbmVkID8gY3VzdG9tIDogcHJvcHMuY3VzdG9tLCBnZXRDdXJyZW50KHZpc3VhbEVsZW1lbnQpLCBnZXRWZWxvY2l0eSh2aXN1YWxFbGVtZW50KSk7XG59XG5cbmV4cG9ydCB7IHJlc29sdmVWYXJpYW50IH07XG4iLCJpbXBvcnQgeyBub29wIH0gZnJvbSAnLi9ub29wLm1qcyc7XG5cbmxldCB3YXJuaW5nID0gbm9vcDtcbmxldCBpbnZhcmlhbnQgPSBub29wO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIHdhcm5pbmcgPSAoY2hlY2ssIG1lc3NhZ2UpID0+IHtcbiAgICAgICAgaWYgKCFjaGVjayAmJiB0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpbnZhcmlhbnQgPSAoY2hlY2ssIG1lc3NhZ2UpID0+IHtcbiAgICAgICAgaWYgKCFjaGVjaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgaW52YXJpYW50LCB3YXJuaW5nIH07XG4iLCIvKipcbiAqIENvbnZlcnRzIHNlY29uZHMgdG8gbWlsbGlzZWNvbmRzXG4gKlxuICogQHBhcmFtIHNlY29uZHMgLSBUaW1lIGluIHNlY29uZHMuXG4gKiBAcmV0dXJuIG1pbGxpc2Vjb25kcyAtIENvbnZlcnRlZCB0aW1lIGluIG1pbGxpc2Vjb25kcy5cbiAqL1xuY29uc3Qgc2Vjb25kc1RvTWlsbGlzZWNvbmRzID0gKHNlY29uZHMpID0+IHNlY29uZHMgKiAxMDAwO1xuY29uc3QgbWlsbGlzZWNvbmRzVG9TZWNvbmRzID0gKG1pbGxpc2Vjb25kcykgPT4gbWlsbGlzZWNvbmRzIC8gMTAwMDtcblxuZXhwb3J0IHsgbWlsbGlzZWNvbmRzVG9TZWNvbmRzLCBzZWNvbmRzVG9NaWxsaXNlY29uZHMgfTtcbiIsImNvbnN0IGluc3RhbnRBbmltYXRpb25TdGF0ZSA9IHtcbiAgICBjdXJyZW50OiBmYWxzZSxcbn07XG5cbmV4cG9ydCB7IGluc3RhbnRBbmltYXRpb25TdGF0ZSB9O1xuIiwiY29uc3QgaXNCZXppZXJEZWZpbml0aW9uID0gKGVhc2luZykgPT4gQXJyYXkuaXNBcnJheShlYXNpbmcpICYmIHR5cGVvZiBlYXNpbmdbMF0gPT09IFwibnVtYmVyXCI7XG5cbmV4cG9ydCB7IGlzQmV6aWVyRGVmaW5pdGlvbiB9O1xuIiwiaW1wb3J0IHsgaXNCZXppZXJEZWZpbml0aW9uIH0gZnJvbSAnLi4vLi4vLi4vZWFzaW5nL3V0aWxzL2lzLWJlemllci1kZWZpbml0aW9uLm1qcyc7XG5cbmZ1bmN0aW9uIGlzV2FhcGlTdXBwb3J0ZWRFYXNpbmcoZWFzaW5nKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oIWVhc2luZyB8fFxuICAgICAgICAodHlwZW9mIGVhc2luZyA9PT0gXCJzdHJpbmdcIiAmJiBzdXBwb3J0ZWRXYWFwaUVhc2luZ1tlYXNpbmddKSB8fFxuICAgICAgICBpc0JlemllckRlZmluaXRpb24oZWFzaW5nKSB8fFxuICAgICAgICAoQXJyYXkuaXNBcnJheShlYXNpbmcpICYmIGVhc2luZy5ldmVyeShpc1dhYXBpU3VwcG9ydGVkRWFzaW5nKSkpO1xufVxuY29uc3QgY3ViaWNCZXppZXJBc1N0cmluZyA9IChbYSwgYiwgYywgZF0pID0+IGBjdWJpYy1iZXppZXIoJHthfSwgJHtifSwgJHtjfSwgJHtkfSlgO1xuY29uc3Qgc3VwcG9ydGVkV2FhcGlFYXNpbmcgPSB7XG4gICAgbGluZWFyOiBcImxpbmVhclwiLFxuICAgIGVhc2U6IFwiZWFzZVwiLFxuICAgIGVhc2VJbjogXCJlYXNlLWluXCIsXG4gICAgZWFzZU91dDogXCJlYXNlLW91dFwiLFxuICAgIGVhc2VJbk91dDogXCJlYXNlLWluLW91dFwiLFxuICAgIGNpcmNJbjogY3ViaWNCZXppZXJBc1N0cmluZyhbMCwgMC42NSwgMC41NSwgMV0pLFxuICAgIGNpcmNPdXQ6IGN1YmljQmV6aWVyQXNTdHJpbmcoWzAuNTUsIDAsIDEsIDAuNDVdKSxcbiAgICBiYWNrSW46IGN1YmljQmV6aWVyQXNTdHJpbmcoWzAuMzEsIDAuMDEsIDAuNjYsIC0wLjU5XSksXG4gICAgYmFja091dDogY3ViaWNCZXppZXJBc1N0cmluZyhbMC4zMywgMS41MywgMC42OSwgMC45OV0pLFxufTtcbmZ1bmN0aW9uIG1hcEVhc2luZ1RvTmF0aXZlRWFzaW5nKGVhc2luZykge1xuICAgIGlmICghZWFzaW5nKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBpc0JlemllckRlZmluaXRpb24oZWFzaW5nKVxuICAgICAgICA/IGN1YmljQmV6aWVyQXNTdHJpbmcoZWFzaW5nKVxuICAgICAgICA6IEFycmF5LmlzQXJyYXkoZWFzaW5nKVxuICAgICAgICAgICAgPyBlYXNpbmcubWFwKG1hcEVhc2luZ1RvTmF0aXZlRWFzaW5nKVxuICAgICAgICAgICAgOiBzdXBwb3J0ZWRXYWFwaUVhc2luZ1tlYXNpbmddO1xufVxuXG5leHBvcnQgeyBjdWJpY0JlemllckFzU3RyaW5nLCBpc1dhYXBpU3VwcG9ydGVkRWFzaW5nLCBtYXBFYXNpbmdUb05hdGl2ZUVhc2luZywgc3VwcG9ydGVkV2FhcGlFYXNpbmcgfTtcbiIsImltcG9ydCB7IG1hcEVhc2luZ1RvTmF0aXZlRWFzaW5nIH0gZnJvbSAnLi9lYXNpbmcubWpzJztcblxuZnVuY3Rpb24gYW5pbWF0ZVN0eWxlKGVsZW1lbnQsIHZhbHVlTmFtZSwga2V5ZnJhbWVzLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24sIHJlcGVhdCA9IDAsIHJlcGVhdFR5cGUgPSBcImxvb3BcIiwgZWFzZSwgdGltZXMsIH0gPSB7fSkge1xuICAgIGNvbnN0IGtleWZyYW1lT3B0aW9ucyA9IHsgW3ZhbHVlTmFtZV06IGtleWZyYW1lcyB9O1xuICAgIGlmICh0aW1lcylcbiAgICAgICAga2V5ZnJhbWVPcHRpb25zLm9mZnNldCA9IHRpbWVzO1xuICAgIGNvbnN0IGVhc2luZyA9IG1hcEVhc2luZ1RvTmF0aXZlRWFzaW5nKGVhc2UpO1xuICAgIC8qKlxuICAgICAqIElmIHRoaXMgaXMgYW4gZWFzaW5nIGFycmF5LCBhcHBseSB0byBrZXlmcmFtZXMsIG5vdCBhbmltYXRpb24gYXMgYSB3aG9sZVxuICAgICAqL1xuICAgIGlmIChBcnJheS5pc0FycmF5KGVhc2luZykpXG4gICAgICAgIGtleWZyYW1lT3B0aW9ucy5lYXNpbmcgPSBlYXNpbmc7XG4gICAgcmV0dXJuIGVsZW1lbnQuYW5pbWF0ZShrZXlmcmFtZU9wdGlvbnMsIHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6ICFBcnJheS5pc0FycmF5KGVhc2luZykgPyBlYXNpbmcgOiBcImxpbmVhclwiLFxuICAgICAgICBmaWxsOiBcImJvdGhcIixcbiAgICAgICAgaXRlcmF0aW9uczogcmVwZWF0ICsgMSxcbiAgICAgICAgZGlyZWN0aW9uOiByZXBlYXRUeXBlID09PSBcInJldmVyc2VcIiA/IFwiYWx0ZXJuYXRlXCIgOiBcIm5vcm1hbFwiLFxuICAgIH0pO1xufVxuXG5leHBvcnQgeyBhbmltYXRlU3R5bGUgfTtcbiIsImZ1bmN0aW9uIGdldEZpbmFsS2V5ZnJhbWUoa2V5ZnJhbWVzLCB7IHJlcGVhdCwgcmVwZWF0VHlwZSA9IFwibG9vcFwiIH0pIHtcbiAgICBjb25zdCBpbmRleCA9IHJlcGVhdCAmJiByZXBlYXRUeXBlICE9PSBcImxvb3BcIiAmJiByZXBlYXQgJSAyID09PSAxXG4gICAgICAgID8gMFxuICAgICAgICA6IGtleWZyYW1lcy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBrZXlmcmFtZXNbaW5kZXhdO1xufVxuXG5leHBvcnQgeyBnZXRGaW5hbEtleWZyYW1lIH07XG4iLCJpbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbHMvbm9vcC5tanMnO1xuXG4vKlxuICBCZXppZXIgZnVuY3Rpb24gZ2VuZXJhdG9yXG4gIFRoaXMgaGFzIGJlZW4gbW9kaWZpZWQgZnJvbSBHYcOrdGFuIFJlbmF1ZGVhdSdzIEJlemllckVhc2luZ1xuICBodHRwczovL2dpdGh1Yi5jb20vZ3JlL2Jlemllci1lYXNpbmcvYmxvYi9tYXN0ZXIvc3JjL2luZGV4LmpzXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmUvYmV6aWVyLWVhc2luZy9ibG9iL21hc3Rlci9MSUNFTlNFXG4gIFxuICBJJ3ZlIHJlbW92ZWQgdGhlIG5ld3RvblJhcGhzb25JdGVyYXRlIGFsZ28gYmVjYXVzZSBpbiBiZW5jaG1hcmtpbmcgaXRcbiAgd2Fzbid0IG5vdGljaWFibHkgZmFzdGVyIHRoYW4gYmluYXJ5U3ViZGl2aXNpb24sIGluZGVlZCByZW1vdmluZyBpdFxuICB1c3VhbGx5IGltcHJvdmVkIHRpbWVzLCBkZXBlbmRpbmcgb24gdGhlIGN1cnZlLlxuICBJIGFsc28gcmVtb3ZlZCB0aGUgbG9va3VwIHRhYmxlLCBhcyBmb3IgdGhlIGFkZGVkIGJ1bmRsZSBzaXplIGFuZCBsb29wIHdlJ3JlXG4gIG9ubHkgY3V0dGluZyB+NCBvciBzbyBzdWJkaXZpc2lvbiBpdGVyYXRpb25zLiBJIGJ1bXBlZCB0aGUgbWF4IGl0ZXJhdGlvbnMgdXBcbiAgdG8gMTIgdG8gY29tcGVuc2F0ZSBhbmQgdGhpcyBzdGlsbCB0ZW5kZWQgdG8gYmUgZmFzdGVyIGZvciBubyBwZXJjZWl2YWJsZVxuICBsb3NzIGluIGFjY3VyYWN5LlxuICBVc2FnZVxuICAgIGNvbnN0IGVhc2VPdXQgPSBjdWJpY0JlemllciguMTcsLjY3LC44MywuNjcpO1xuICAgIGNvbnN0IHggPSBlYXNlT3V0KDAuNSk7IC8vIHJldHVybnMgMC42MjcuLi5cbiovXG4vLyBSZXR1cm5zIHgodCkgZ2l2ZW4gdCwgeDEsIGFuZCB4Miwgb3IgeSh0KSBnaXZlbiB0LCB5MSwgYW5kIHkyLlxuY29uc3QgY2FsY0JlemllciA9ICh0LCBhMSwgYTIpID0+ICgoKDEuMCAtIDMuMCAqIGEyICsgMy4wICogYTEpICogdCArICgzLjAgKiBhMiAtIDYuMCAqIGExKSkgKiB0ICsgMy4wICogYTEpICpcbiAgICB0O1xuY29uc3Qgc3ViZGl2aXNpb25QcmVjaXNpb24gPSAwLjAwMDAwMDE7XG5jb25zdCBzdWJkaXZpc2lvbk1heEl0ZXJhdGlvbnMgPSAxMjtcbmZ1bmN0aW9uIGJpbmFyeVN1YmRpdmlkZSh4LCBsb3dlckJvdW5kLCB1cHBlckJvdW5kLCBtWDEsIG1YMikge1xuICAgIGxldCBjdXJyZW50WDtcbiAgICBsZXQgY3VycmVudFQ7XG4gICAgbGV0IGkgPSAwO1xuICAgIGRvIHtcbiAgICAgICAgY3VycmVudFQgPSBsb3dlckJvdW5kICsgKHVwcGVyQm91bmQgLSBsb3dlckJvdW5kKSAvIDIuMDtcbiAgICAgICAgY3VycmVudFggPSBjYWxjQmV6aWVyKGN1cnJlbnRULCBtWDEsIG1YMikgLSB4O1xuICAgICAgICBpZiAoY3VycmVudFggPiAwLjApIHtcbiAgICAgICAgICAgIHVwcGVyQm91bmQgPSBjdXJyZW50VDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvd2VyQm91bmQgPSBjdXJyZW50VDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKE1hdGguYWJzKGN1cnJlbnRYKSA+IHN1YmRpdmlzaW9uUHJlY2lzaW9uICYmXG4gICAgICAgICsraSA8IHN1YmRpdmlzaW9uTWF4SXRlcmF0aW9ucyk7XG4gICAgcmV0dXJuIGN1cnJlbnRUO1xufVxuZnVuY3Rpb24gY3ViaWNCZXppZXIobVgxLCBtWTEsIG1YMiwgbVkyKSB7XG4gICAgLy8gSWYgdGhpcyBpcyBhIGxpbmVhciBncmFkaWVudCwgcmV0dXJuIGxpbmVhciBlYXNpbmdcbiAgICBpZiAobVgxID09PSBtWTEgJiYgbVgyID09PSBtWTIpXG4gICAgICAgIHJldHVybiBub29wO1xuICAgIGNvbnN0IGdldFRGb3JYID0gKGFYKSA9PiBiaW5hcnlTdWJkaXZpZGUoYVgsIDAsIDEsIG1YMSwgbVgyKTtcbiAgICAvLyBJZiBhbmltYXRpb24gaXMgYXQgc3RhcnQvZW5kLCByZXR1cm4gdCB3aXRob3V0IGVhc2luZ1xuICAgIHJldHVybiAodCkgPT4gdCA9PT0gMCB8fCB0ID09PSAxID8gdCA6IGNhbGNCZXppZXIoZ2V0VEZvclgodCksIG1ZMSwgbVkyKTtcbn1cblxuZXhwb3J0IHsgY3ViaWNCZXppZXIgfTtcbiIsImltcG9ydCB7IGN1YmljQmV6aWVyIH0gZnJvbSAnLi9jdWJpYy1iZXppZXIubWpzJztcblxuY29uc3QgZWFzZUluID0gY3ViaWNCZXppZXIoMC40MiwgMCwgMSwgMSk7XG5jb25zdCBlYXNlT3V0ID0gY3ViaWNCZXppZXIoMCwgMCwgMC41OCwgMSk7XG5jb25zdCBlYXNlSW5PdXQgPSBjdWJpY0JlemllcigwLjQyLCAwLCAwLjU4LCAxKTtcblxuZXhwb3J0IHsgZWFzZUluLCBlYXNlSW5PdXQsIGVhc2VPdXQgfTtcbiIsImNvbnN0IGlzRWFzaW5nQXJyYXkgPSAoZWFzZSkgPT4ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGVhc2UpICYmIHR5cGVvZiBlYXNlWzBdICE9PSBcIm51bWJlclwiO1xufTtcblxuZXhwb3J0IHsgaXNFYXNpbmdBcnJheSB9O1xuIiwiLy8gQWNjZXB0cyBhbiBlYXNpbmcgZnVuY3Rpb24gYW5kIHJldHVybnMgYSBuZXcgb25lIHRoYXQgb3V0cHV0cyBtaXJyb3JlZCB2YWx1ZXMgZm9yXG4vLyB0aGUgc2Vjb25kIGhhbGYgb2YgdGhlIGFuaW1hdGlvbi4gVHVybnMgZWFzZUluIGludG8gZWFzZUluT3V0LlxuY29uc3QgbWlycm9yRWFzaW5nID0gKGVhc2luZykgPT4gKHApID0+IHAgPD0gMC41ID8gZWFzaW5nKDIgKiBwKSAvIDIgOiAoMiAtIGVhc2luZygyICogKDEgLSBwKSkpIC8gMjtcblxuZXhwb3J0IHsgbWlycm9yRWFzaW5nIH07XG4iLCIvLyBBY2NlcHRzIGFuIGVhc2luZyBmdW5jdGlvbiBhbmQgcmV0dXJucyBhIG5ldyBvbmUgdGhhdCBvdXRwdXRzIHJldmVyc2VkIHZhbHVlcy5cbi8vIFR1cm5zIGVhc2VJbiBpbnRvIGVhc2VPdXQuXG5jb25zdCByZXZlcnNlRWFzaW5nID0gKGVhc2luZykgPT4gKHApID0+IDEgLSBlYXNpbmcoMSAtIHApO1xuXG5leHBvcnQgeyByZXZlcnNlRWFzaW5nIH07XG4iLCJpbXBvcnQgeyBtaXJyb3JFYXNpbmcgfSBmcm9tICcuL21vZGlmaWVycy9taXJyb3IubWpzJztcbmltcG9ydCB7IHJldmVyc2VFYXNpbmcgfSBmcm9tICcuL21vZGlmaWVycy9yZXZlcnNlLm1qcyc7XG5cbmNvbnN0IGNpcmNJbiA9IChwKSA9PiAxIC0gTWF0aC5zaW4oTWF0aC5hY29zKHApKTtcbmNvbnN0IGNpcmNPdXQgPSByZXZlcnNlRWFzaW5nKGNpcmNJbik7XG5jb25zdCBjaXJjSW5PdXQgPSBtaXJyb3JFYXNpbmcoY2lyY0luKTtcblxuZXhwb3J0IHsgY2lyY0luLCBjaXJjSW5PdXQsIGNpcmNPdXQgfTtcbiIsImltcG9ydCB7IGN1YmljQmV6aWVyIH0gZnJvbSAnLi9jdWJpYy1iZXppZXIubWpzJztcbmltcG9ydCB7IG1pcnJvckVhc2luZyB9IGZyb20gJy4vbW9kaWZpZXJzL21pcnJvci5tanMnO1xuaW1wb3J0IHsgcmV2ZXJzZUVhc2luZyB9IGZyb20gJy4vbW9kaWZpZXJzL3JldmVyc2UubWpzJztcblxuY29uc3QgYmFja091dCA9IGN1YmljQmV6aWVyKDAuMzMsIDEuNTMsIDAuNjksIDAuOTkpO1xuY29uc3QgYmFja0luID0gcmV2ZXJzZUVhc2luZyhiYWNrT3V0KTtcbmNvbnN0IGJhY2tJbk91dCA9IG1pcnJvckVhc2luZyhiYWNrSW4pO1xuXG5leHBvcnQgeyBiYWNrSW4sIGJhY2tJbk91dCwgYmFja091dCB9O1xuIiwiaW1wb3J0IHsgYmFja0luIH0gZnJvbSAnLi9iYWNrLm1qcyc7XG5cbmNvbnN0IGFudGljaXBhdGUgPSAocCkgPT4gKHAgKj0gMikgPCAxID8gMC41ICogYmFja0luKHApIDogMC41ICogKDIgLSBNYXRoLnBvdygyLCAtMTAgKiAocCAtIDEpKSk7XG5cbmV4cG9ydCB7IGFudGljaXBhdGUgfTtcbiIsImltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgY3ViaWNCZXppZXIgfSBmcm9tICcuLi9jdWJpYy1iZXppZXIubWpzJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi91dGlscy9ub29wLm1qcyc7XG5pbXBvcnQgeyBlYXNlSW4sIGVhc2VJbk91dCwgZWFzZU91dCB9IGZyb20gJy4uL2Vhc2UubWpzJztcbmltcG9ydCB7IGNpcmNJbiwgY2lyY0luT3V0LCBjaXJjT3V0IH0gZnJvbSAnLi4vY2lyYy5tanMnO1xuaW1wb3J0IHsgYmFja0luLCBiYWNrSW5PdXQsIGJhY2tPdXQgfSBmcm9tICcuLi9iYWNrLm1qcyc7XG5pbXBvcnQgeyBhbnRpY2lwYXRlIH0gZnJvbSAnLi4vYW50aWNpcGF0ZS5tanMnO1xuXG5jb25zdCBlYXNpbmdMb29rdXAgPSB7XG4gICAgbGluZWFyOiBub29wLFxuICAgIGVhc2VJbixcbiAgICBlYXNlSW5PdXQsXG4gICAgZWFzZU91dCxcbiAgICBjaXJjSW4sXG4gICAgY2lyY0luT3V0LFxuICAgIGNpcmNPdXQsXG4gICAgYmFja0luLFxuICAgIGJhY2tJbk91dCxcbiAgICBiYWNrT3V0LFxuICAgIGFudGljaXBhdGUsXG59O1xuY29uc3QgZWFzaW5nRGVmaW5pdGlvblRvRnVuY3Rpb24gPSAoZGVmaW5pdGlvbikgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGRlZmluaXRpb24pKSB7XG4gICAgICAgIC8vIElmIGN1YmljIGJlemllciBkZWZpbml0aW9uLCBjcmVhdGUgYmV6aWVyIGN1cnZlXG4gICAgICAgIGludmFyaWFudChkZWZpbml0aW9uLmxlbmd0aCA9PT0gNCwgYEN1YmljIGJlemllciBhcnJheXMgbXVzdCBjb250YWluIGZvdXIgbnVtZXJpY2FsIHZhbHVlcy5gKTtcbiAgICAgICAgY29uc3QgW3gxLCB5MSwgeDIsIHkyXSA9IGRlZmluaXRpb247XG4gICAgICAgIHJldHVybiBjdWJpY0Jlemllcih4MSwgeTEsIHgyLCB5Mik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIC8vIEVsc2UgbG9va3VwIGZyb20gdGFibGVcbiAgICAgICAgaW52YXJpYW50KGVhc2luZ0xvb2t1cFtkZWZpbml0aW9uXSAhPT0gdW5kZWZpbmVkLCBgSW52YWxpZCBlYXNpbmcgdHlwZSAnJHtkZWZpbml0aW9ufSdgKTtcbiAgICAgICAgcmV0dXJuIGVhc2luZ0xvb2t1cFtkZWZpbml0aW9uXTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmluaXRpb247XG59O1xuXG5leHBvcnQgeyBlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbiB9O1xuIiwiaW1wb3J0IHsgaXNTdHJpbmcsIHNpbmdsZUNvbG9yUmVnZXgsIGZsb2F0UmVnZXggfSBmcm9tICcuLi91dGlscy5tanMnO1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgc3RyaW5nIGlzIGEgY29sb3IsIGllIHJnYmEoMCwwLDAsMCkgb3IgIzAwMCxcbiAqIGJ1dCBmYWxzZSBpZiBhIG51bWJlciBvciBtdWx0aXBsZSBjb2xvcnNcbiAqL1xuY29uc3QgaXNDb2xvclN0cmluZyA9ICh0eXBlLCB0ZXN0UHJvcCkgPT4gKHYpID0+IHtcbiAgICByZXR1cm4gQm9vbGVhbigoaXNTdHJpbmcodikgJiYgc2luZ2xlQ29sb3JSZWdleC50ZXN0KHYpICYmIHYuc3RhcnRzV2l0aCh0eXBlKSkgfHxcbiAgICAgICAgKHRlc3RQcm9wICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2LCB0ZXN0UHJvcCkpKTtcbn07XG5jb25zdCBzcGxpdENvbG9yID0gKGFOYW1lLCBiTmFtZSwgY05hbWUpID0+ICh2KSA9PiB7XG4gICAgaWYgKCFpc1N0cmluZyh2KSlcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgY29uc3QgW2EsIGIsIGMsIGFscGhhXSA9IHYubWF0Y2goZmxvYXRSZWdleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgW2FOYW1lXTogcGFyc2VGbG9hdChhKSxcbiAgICAgICAgW2JOYW1lXTogcGFyc2VGbG9hdChiKSxcbiAgICAgICAgW2NOYW1lXTogcGFyc2VGbG9hdChjKSxcbiAgICAgICAgYWxwaGE6IGFscGhhICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KGFscGhhKSA6IDEsXG4gICAgfTtcbn07XG5cbmV4cG9ydCB7IGlzQ29sb3JTdHJpbmcsIHNwbGl0Q29sb3IgfTtcbiIsImltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2xhbXAubWpzJztcbmltcG9ydCB7IG51bWJlciwgYWxwaGEgfSBmcm9tICcuLi9udW1iZXJzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZSB9IGZyb20gJy4uL3V0aWxzLm1qcyc7XG5pbXBvcnQgeyBpc0NvbG9yU3RyaW5nLCBzcGxpdENvbG9yIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5jb25zdCBjbGFtcFJnYlVuaXQgPSAodikgPT4gY2xhbXAoMCwgMjU1LCB2KTtcbmNvbnN0IHJnYlVuaXQgPSB7XG4gICAgLi4ubnVtYmVyLFxuICAgIHRyYW5zZm9ybTogKHYpID0+IE1hdGgucm91bmQoY2xhbXBSZ2JVbml0KHYpKSxcbn07XG5jb25zdCByZ2JhID0ge1xuICAgIHRlc3Q6IGlzQ29sb3JTdHJpbmcoXCJyZ2JcIiwgXCJyZWRcIiksXG4gICAgcGFyc2U6IHNwbGl0Q29sb3IoXCJyZWRcIiwgXCJncmVlblwiLCBcImJsdWVcIiksXG4gICAgdHJhbnNmb3JtOiAoeyByZWQsIGdyZWVuLCBibHVlLCBhbHBoYTogYWxwaGEkMSA9IDEgfSkgPT4gXCJyZ2JhKFwiICtcbiAgICAgICAgcmdiVW5pdC50cmFuc2Zvcm0ocmVkKSArXG4gICAgICAgIFwiLCBcIiArXG4gICAgICAgIHJnYlVuaXQudHJhbnNmb3JtKGdyZWVuKSArXG4gICAgICAgIFwiLCBcIiArXG4gICAgICAgIHJnYlVuaXQudHJhbnNmb3JtKGJsdWUpICtcbiAgICAgICAgXCIsIFwiICtcbiAgICAgICAgc2FuaXRpemUoYWxwaGEudHJhbnNmb3JtKGFscGhhJDEpKSArXG4gICAgICAgIFwiKVwiLFxufTtcblxuZXhwb3J0IHsgcmdiVW5pdCwgcmdiYSB9O1xuIiwiaW1wb3J0IHsgcmdiYSB9IGZyb20gJy4vcmdiYS5tanMnO1xuaW1wb3J0IHsgaXNDb2xvclN0cmluZyB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gcGFyc2VIZXgodikge1xuICAgIGxldCByID0gXCJcIjtcbiAgICBsZXQgZyA9IFwiXCI7XG4gICAgbGV0IGIgPSBcIlwiO1xuICAgIGxldCBhID0gXCJcIjtcbiAgICAvLyBJZiB3ZSBoYXZlIDYgY2hhcmFjdGVycywgaWUgI0ZGMDAwMFxuICAgIGlmICh2Lmxlbmd0aCA+IDUpIHtcbiAgICAgICAgciA9IHYuc3Vic3RyaW5nKDEsIDMpO1xuICAgICAgICBnID0gdi5zdWJzdHJpbmcoMywgNSk7XG4gICAgICAgIGIgPSB2LnN1YnN0cmluZyg1LCA3KTtcbiAgICAgICAgYSA9IHYuc3Vic3RyaW5nKDcsIDkpO1xuICAgICAgICAvLyBPciB3ZSBoYXZlIDMgY2hhcmFjdGVycywgaWUgI0YwMFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgciA9IHYuc3Vic3RyaW5nKDEsIDIpO1xuICAgICAgICBnID0gdi5zdWJzdHJpbmcoMiwgMyk7XG4gICAgICAgIGIgPSB2LnN1YnN0cmluZygzLCA0KTtcbiAgICAgICAgYSA9IHYuc3Vic3RyaW5nKDQsIDUpO1xuICAgICAgICByICs9IHI7XG4gICAgICAgIGcgKz0gZztcbiAgICAgICAgYiArPSBiO1xuICAgICAgICBhICs9IGE7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZDogcGFyc2VJbnQociwgMTYpLFxuICAgICAgICBncmVlbjogcGFyc2VJbnQoZywgMTYpLFxuICAgICAgICBibHVlOiBwYXJzZUludChiLCAxNiksXG4gICAgICAgIGFscGhhOiBhID8gcGFyc2VJbnQoYSwgMTYpIC8gMjU1IDogMSxcbiAgICB9O1xufVxuY29uc3QgaGV4ID0ge1xuICAgIHRlc3Q6IGlzQ29sb3JTdHJpbmcoXCIjXCIpLFxuICAgIHBhcnNlOiBwYXJzZUhleCxcbiAgICB0cmFuc2Zvcm06IHJnYmEudHJhbnNmb3JtLFxufTtcblxuZXhwb3J0IHsgaGV4IH07XG4iLCJpbXBvcnQgeyBhbHBoYSB9IGZyb20gJy4uL251bWJlcnMvaW5kZXgubWpzJztcbmltcG9ydCB7IHBlcmNlbnQgfSBmcm9tICcuLi9udW1iZXJzL3VuaXRzLm1qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZSB9IGZyb20gJy4uL3V0aWxzLm1qcyc7XG5pbXBvcnQgeyBpc0NvbG9yU3RyaW5nLCBzcGxpdENvbG9yIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5jb25zdCBoc2xhID0ge1xuICAgIHRlc3Q6IGlzQ29sb3JTdHJpbmcoXCJoc2xcIiwgXCJodWVcIiksXG4gICAgcGFyc2U6IHNwbGl0Q29sb3IoXCJodWVcIiwgXCJzYXR1cmF0aW9uXCIsIFwibGlnaHRuZXNzXCIpLFxuICAgIHRyYW5zZm9ybTogKHsgaHVlLCBzYXR1cmF0aW9uLCBsaWdodG5lc3MsIGFscGhhOiBhbHBoYSQxID0gMSB9KSA9PiB7XG4gICAgICAgIHJldHVybiAoXCJoc2xhKFwiICtcbiAgICAgICAgICAgIE1hdGgucm91bmQoaHVlKSArXG4gICAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgICAgcGVyY2VudC50cmFuc2Zvcm0oc2FuaXRpemUoc2F0dXJhdGlvbikpICtcbiAgICAgICAgICAgIFwiLCBcIiArXG4gICAgICAgICAgICBwZXJjZW50LnRyYW5zZm9ybShzYW5pdGl6ZShsaWdodG5lc3MpKSArXG4gICAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgICAgc2FuaXRpemUoYWxwaGEudHJhbnNmb3JtKGFscGhhJDEpKSArXG4gICAgICAgICAgICBcIilcIik7XG4gICAgfSxcbn07XG5cbmV4cG9ydCB7IGhzbGEgfTtcbiIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMubWpzJztcbmltcG9ydCB7IGhleCB9IGZyb20gJy4vaGV4Lm1qcyc7XG5pbXBvcnQgeyBoc2xhIH0gZnJvbSAnLi9oc2xhLm1qcyc7XG5pbXBvcnQgeyByZ2JhIH0gZnJvbSAnLi9yZ2JhLm1qcyc7XG5cbmNvbnN0IGNvbG9yID0ge1xuICAgIHRlc3Q6ICh2KSA9PiByZ2JhLnRlc3QodikgfHwgaGV4LnRlc3QodikgfHwgaHNsYS50ZXN0KHYpLFxuICAgIHBhcnNlOiAodikgPT4ge1xuICAgICAgICBpZiAocmdiYS50ZXN0KHYpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmdiYS5wYXJzZSh2KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoc2xhLnRlc3QodikpIHtcbiAgICAgICAgICAgIHJldHVybiBoc2xhLnBhcnNlKHYpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhleC5wYXJzZSh2KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdHJhbnNmb3JtOiAodikgPT4ge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodilcbiAgICAgICAgICAgID8gdlxuICAgICAgICAgICAgOiB2Lmhhc093blByb3BlcnR5KFwicmVkXCIpXG4gICAgICAgICAgICAgICAgPyByZ2JhLnRyYW5zZm9ybSh2KVxuICAgICAgICAgICAgICAgIDogaHNsYS50cmFuc2Zvcm0odik7XG4gICAgfSxcbn07XG5cbmV4cG9ydCB7IGNvbG9yIH07XG4iLCIvKlxuICBWYWx1ZSBpbiByYW5nZSBmcm9tIHByb2dyZXNzXG5cbiAgR2l2ZW4gYSBsb3dlciBsaW1pdCBhbmQgYW4gdXBwZXIgbGltaXQsIHdlIHJldHVybiB0aGUgdmFsdWUgd2l0aGluXG4gIHRoYXQgcmFuZ2UgYXMgZXhwcmVzc2VkIGJ5IHByb2dyZXNzICh1c3VhbGx5IGEgbnVtYmVyIGZyb20gMCB0byAxKVxuXG4gIFNvIHByb2dyZXNzID0gMC41IHdvdWxkIGNoYW5nZVxuXG4gIGZyb20gLS0tLS0tLS0gdG9cblxuICB0b1xuXG4gIGZyb20gLS0tLSB0b1xuXG4gIEUuZy4gZnJvbSA9IDEwLCB0byA9IDIwLCBwcm9ncmVzcyA9IDAuNSA9PiAxNVxuXG4gIEBwYXJhbSBbbnVtYmVyXTogTG93ZXIgbGltaXQgb2YgcmFuZ2VcbiAgQHBhcmFtIFtudW1iZXJdOiBVcHBlciBsaW1pdCBvZiByYW5nZVxuICBAcGFyYW0gW251bWJlcl06IFRoZSBwcm9ncmVzcyBiZXR3ZWVuIGxvd2VyIGFuZCB1cHBlciBsaW1pdHMgZXhwcmVzc2VkIDAtMVxuICBAcmV0dXJuIFtudW1iZXJdOiBWYWx1ZSBhcyBjYWxjdWxhdGVkIGZyb20gcHJvZ3Jlc3Mgd2l0aGluIHJhbmdlIChub3QgbGltaXRlZCB3aXRoaW4gcmFuZ2UpXG4qL1xuY29uc3QgbWl4ID0gKGZyb20sIHRvLCBwcm9ncmVzcykgPT4gLXByb2dyZXNzICogZnJvbSArIHByb2dyZXNzICogdG8gKyBmcm9tO1xuXG5leHBvcnQgeyBtaXggfTtcbiIsIi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9tamFja3Nvbi81MzExMjU2XG5mdW5jdGlvbiBodWVUb1JnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKVxuICAgICAgICB0ICs9IDE7XG4gICAgaWYgKHQgPiAxKVxuICAgICAgICB0IC09IDE7XG4gICAgaWYgKHQgPCAxIC8gNilcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgaWYgKHQgPCAxIC8gMilcbiAgICAgICAgcmV0dXJuIHE7XG4gICAgaWYgKHQgPCAyIC8gMylcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2O1xuICAgIHJldHVybiBwO1xufVxuZnVuY3Rpb24gaHNsYVRvUmdiYSh7IGh1ZSwgc2F0dXJhdGlvbiwgbGlnaHRuZXNzLCBhbHBoYSB9KSB7XG4gICAgaHVlIC89IDM2MDtcbiAgICBzYXR1cmF0aW9uIC89IDEwMDtcbiAgICBsaWdodG5lc3MgLz0gMTAwO1xuICAgIGxldCByZWQgPSAwO1xuICAgIGxldCBncmVlbiA9IDA7XG4gICAgbGV0IGJsdWUgPSAwO1xuICAgIGlmICghc2F0dXJhdGlvbikge1xuICAgICAgICByZWQgPSBncmVlbiA9IGJsdWUgPSBsaWdodG5lc3M7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBxID0gbGlnaHRuZXNzIDwgMC41XG4gICAgICAgICAgICA/IGxpZ2h0bmVzcyAqICgxICsgc2F0dXJhdGlvbilcbiAgICAgICAgICAgIDogbGlnaHRuZXNzICsgc2F0dXJhdGlvbiAtIGxpZ2h0bmVzcyAqIHNhdHVyYXRpb247XG4gICAgICAgIGNvbnN0IHAgPSAyICogbGlnaHRuZXNzIC0gcTtcbiAgICAgICAgcmVkID0gaHVlVG9SZ2IocCwgcSwgaHVlICsgMSAvIDMpO1xuICAgICAgICBncmVlbiA9IGh1ZVRvUmdiKHAsIHEsIGh1ZSk7XG4gICAgICAgIGJsdWUgPSBodWVUb1JnYihwLCBxLCBodWUgLSAxIC8gMyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZDogTWF0aC5yb3VuZChyZWQgKiAyNTUpLFxuICAgICAgICBncmVlbjogTWF0aC5yb3VuZChncmVlbiAqIDI1NSksXG4gICAgICAgIGJsdWU6IE1hdGgucm91bmQoYmx1ZSAqIDI1NSksXG4gICAgICAgIGFscGhhLFxuICAgIH07XG59XG5cbmV4cG9ydCB7IGhzbGFUb1JnYmEgfTtcbiIsImltcG9ydCB7IG1peCB9IGZyb20gJy4vbWl4Lm1qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICcuL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgaHNsYVRvUmdiYSB9IGZyb20gJy4vaHNsYS10by1yZ2JhLm1qcyc7XG5pbXBvcnQgeyBoZXggfSBmcm9tICcuLi92YWx1ZS90eXBlcy9jb2xvci9oZXgubWpzJztcbmltcG9ydCB7IHJnYmEgfSBmcm9tICcuLi92YWx1ZS90eXBlcy9jb2xvci9yZ2JhLm1qcyc7XG5pbXBvcnQgeyBoc2xhIH0gZnJvbSAnLi4vdmFsdWUvdHlwZXMvY29sb3IvaHNsYS5tanMnO1xuXG4vLyBMaW5lYXIgY29sb3Igc3BhY2UgYmxlbmRpbmdcbi8vIEV4cGxhaW5lZCBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PUxLbnFFQ2NnNkd3XG4vLyBEZW1vbnN0cmF0ZWQgaHR0cDovL2NvZGVwZW4uaW8vb3N1Ymxha2UvcGVuL3hHVlZhTlxuY29uc3QgbWl4TGluZWFyQ29sb3IgPSAoZnJvbSwgdG8sIHYpID0+IHtcbiAgICBjb25zdCBmcm9tRXhwbyA9IGZyb20gKiBmcm9tO1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5tYXgoMCwgdiAqICh0byAqIHRvIC0gZnJvbUV4cG8pICsgZnJvbUV4cG8pKTtcbn07XG5jb25zdCBjb2xvclR5cGVzID0gW2hleCwgcmdiYSwgaHNsYV07XG5jb25zdCBnZXRDb2xvclR5cGUgPSAodikgPT4gY29sb3JUeXBlcy5maW5kKCh0eXBlKSA9PiB0eXBlLnRlc3QodikpO1xuZnVuY3Rpb24gYXNSR0JBKGNvbG9yKSB7XG4gICAgY29uc3QgdHlwZSA9IGdldENvbG9yVHlwZShjb2xvcik7XG4gICAgaW52YXJpYW50KEJvb2xlYW4odHlwZSksIGAnJHtjb2xvcn0nIGlzIG5vdCBhbiBhbmltYXRhYmxlIGNvbG9yLiBVc2UgdGhlIGVxdWl2YWxlbnQgY29sb3IgY29kZSBpbnN0ZWFkLmApO1xuICAgIGxldCBtb2RlbCA9IHR5cGUucGFyc2UoY29sb3IpO1xuICAgIGlmICh0eXBlID09PSBoc2xhKSB7XG4gICAgICAgIC8vIFRPRE8gUmVtb3ZlIHRoaXMgY2FzdCAtIG5lZWRlZCBzaW5jZSBGcmFtZXIgTW90aW9uJ3Mgc3RyaWN0ZXIgdHlwaW5nXG4gICAgICAgIG1vZGVsID0gaHNsYVRvUmdiYShtb2RlbCk7XG4gICAgfVxuICAgIHJldHVybiBtb2RlbDtcbn1cbmNvbnN0IG1peENvbG9yID0gKGZyb20sIHRvKSA9PiB7XG4gICAgY29uc3QgZnJvbVJHQkEgPSBhc1JHQkEoZnJvbSk7XG4gICAgY29uc3QgdG9SR0JBID0gYXNSR0JBKHRvKTtcbiAgICBjb25zdCBibGVuZGVkID0geyAuLi5mcm9tUkdCQSB9O1xuICAgIHJldHVybiAodikgPT4ge1xuICAgICAgICBibGVuZGVkLnJlZCA9IG1peExpbmVhckNvbG9yKGZyb21SR0JBLnJlZCwgdG9SR0JBLnJlZCwgdik7XG4gICAgICAgIGJsZW5kZWQuZ3JlZW4gPSBtaXhMaW5lYXJDb2xvcihmcm9tUkdCQS5ncmVlbiwgdG9SR0JBLmdyZWVuLCB2KTtcbiAgICAgICAgYmxlbmRlZC5ibHVlID0gbWl4TGluZWFyQ29sb3IoZnJvbVJHQkEuYmx1ZSwgdG9SR0JBLmJsdWUsIHYpO1xuICAgICAgICBibGVuZGVkLmFscGhhID0gbWl4KGZyb21SR0JBLmFscGhhLCB0b1JHQkEuYWxwaGEsIHYpO1xuICAgICAgICByZXR1cm4gcmdiYS50cmFuc2Zvcm0oYmxlbmRlZCk7XG4gICAgfTtcbn07XG5cbmV4cG9ydCB7IG1peENvbG9yLCBtaXhMaW5lYXJDb2xvciB9O1xuIiwiaW1wb3J0IHsgY3NzVmFyaWFibGVSZWdleCB9IGZyb20gJy4uLy4uLy4uL3JlbmRlci9kb20vdXRpbHMvaXMtY3NzLXZhcmlhYmxlLm1qcyc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbm9vcC5tanMnO1xuaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi9jb2xvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgbnVtYmVyIH0gZnJvbSAnLi4vbnVtYmVycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgY29sb3JSZWdleCwgZmxvYXRSZWdleCwgaXNTdHJpbmcsIHNhbml0aXplIH0gZnJvbSAnLi4vdXRpbHMubWpzJztcblxuZnVuY3Rpb24gdGVzdCh2KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKGlzTmFOKHYpICYmXG4gICAgICAgIGlzU3RyaW5nKHYpICYmXG4gICAgICAgICgoKF9hID0gdi5tYXRjaChmbG9hdFJlZ2V4KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgfHwgMCkgK1xuICAgICAgICAgICAgKCgoX2IgPSB2Lm1hdGNoKGNvbG9yUmVnZXgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubGVuZ3RoKSB8fCAwKSA+XG4gICAgICAgICAgICAwKTtcbn1cbmNvbnN0IGNzc1ZhclRva2VuaXNlciA9IHtcbiAgICByZWdleDogY3NzVmFyaWFibGVSZWdleCxcbiAgICBjb3VudEtleTogXCJWYXJzXCIsXG4gICAgdG9rZW46IFwiJHt2fVwiLFxuICAgIHBhcnNlOiBub29wLFxufTtcbmNvbnN0IGNvbG9yVG9rZW5pc2VyID0ge1xuICAgIHJlZ2V4OiBjb2xvclJlZ2V4LFxuICAgIGNvdW50S2V5OiBcIkNvbG9yc1wiLFxuICAgIHRva2VuOiBcIiR7Y31cIixcbiAgICBwYXJzZTogY29sb3IucGFyc2UsXG59O1xuY29uc3QgbnVtYmVyVG9rZW5pc2VyID0ge1xuICAgIHJlZ2V4OiBmbG9hdFJlZ2V4LFxuICAgIGNvdW50S2V5OiBcIk51bWJlcnNcIixcbiAgICB0b2tlbjogXCIke259XCIsXG4gICAgcGFyc2U6IG51bWJlci5wYXJzZSxcbn07XG5mdW5jdGlvbiB0b2tlbmlzZShpbmZvLCB7IHJlZ2V4LCBjb3VudEtleSwgdG9rZW4sIHBhcnNlIH0pIHtcbiAgICBjb25zdCBtYXRjaGVzID0gaW5mby50b2tlbmlzZWQubWF0Y2gocmVnZXgpO1xuICAgIGlmICghbWF0Y2hlcylcbiAgICAgICAgcmV0dXJuO1xuICAgIGluZm9bXCJudW1cIiArIGNvdW50S2V5XSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgIGluZm8udG9rZW5pc2VkID0gaW5mby50b2tlbmlzZWQucmVwbGFjZShyZWdleCwgdG9rZW4pO1xuICAgIGluZm8udmFsdWVzLnB1c2goLi4ubWF0Y2hlcy5tYXAocGFyc2UpKTtcbn1cbmZ1bmN0aW9uIGFuYWx5c2VDb21wbGV4VmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBvcmlnaW5hbFZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICB2YWx1ZTogb3JpZ2luYWxWYWx1ZSxcbiAgICAgICAgdG9rZW5pc2VkOiBvcmlnaW5hbFZhbHVlLFxuICAgICAgICB2YWx1ZXM6IFtdLFxuICAgICAgICBudW1WYXJzOiAwLFxuICAgICAgICBudW1Db2xvcnM6IDAsXG4gICAgICAgIG51bU51bWJlcnM6IDAsXG4gICAgfTtcbiAgICBpZiAoaW5mby52YWx1ZS5pbmNsdWRlcyhcInZhcigtLVwiKSlcbiAgICAgICAgdG9rZW5pc2UoaW5mbywgY3NzVmFyVG9rZW5pc2VyKTtcbiAgICB0b2tlbmlzZShpbmZvLCBjb2xvclRva2VuaXNlcik7XG4gICAgdG9rZW5pc2UoaW5mbywgbnVtYmVyVG9rZW5pc2VyKTtcbiAgICByZXR1cm4gaW5mbztcbn1cbmZ1bmN0aW9uIHBhcnNlQ29tcGxleFZhbHVlKHYpIHtcbiAgICByZXR1cm4gYW5hbHlzZUNvbXBsZXhWYWx1ZSh2KS52YWx1ZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1lcihzb3VyY2UpIHtcbiAgICBjb25zdCB7IHZhbHVlcywgbnVtQ29sb3JzLCBudW1WYXJzLCB0b2tlbmlzZWQgfSA9IGFuYWx5c2VDb21wbGV4VmFsdWUoc291cmNlKTtcbiAgICBjb25zdCBudW1WYWx1ZXMgPSB2YWx1ZXMubGVuZ3RoO1xuICAgIHJldHVybiAodikgPT4ge1xuICAgICAgICBsZXQgb3V0cHV0ID0gdG9rZW5pc2VkO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZhbHVlczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8IG51bVZhcnMpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZShjc3NWYXJUb2tlbmlzZXIudG9rZW4sIHZbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaSA8IG51bVZhcnMgKyBudW1Db2xvcnMpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZShjb2xvclRva2VuaXNlci50b2tlbiwgY29sb3IudHJhbnNmb3JtKHZbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKG51bWJlclRva2VuaXNlci50b2tlbiwgc2FuaXRpemUodltpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn1cbmNvbnN0IGNvbnZlcnROdW1iZXJzVG9aZXJvID0gKHYpID0+IHR5cGVvZiB2ID09PSBcIm51bWJlclwiID8gMCA6IHY7XG5mdW5jdGlvbiBnZXRBbmltYXRhYmxlTm9uZSh2KSB7XG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VDb21wbGV4VmFsdWUodik7XG4gICAgY29uc3QgdHJhbnNmb3JtZXIgPSBjcmVhdGVUcmFuc2Zvcm1lcih2KTtcbiAgICByZXR1cm4gdHJhbnNmb3JtZXIocGFyc2VkLm1hcChjb252ZXJ0TnVtYmVyc1RvWmVybykpO1xufVxuY29uc3QgY29tcGxleCA9IHtcbiAgICB0ZXN0LFxuICAgIHBhcnNlOiBwYXJzZUNvbXBsZXhWYWx1ZSxcbiAgICBjcmVhdGVUcmFuc2Zvcm1lcixcbiAgICBnZXRBbmltYXRhYmxlTm9uZSxcbn07XG5cbmV4cG9ydCB7IGFuYWx5c2VDb21wbGV4VmFsdWUsIGNvbXBsZXggfTtcbiIsImltcG9ydCB7IG1peCB9IGZyb20gJy4vbWl4Lm1qcyc7XG5pbXBvcnQgeyBtaXhDb2xvciB9IGZyb20gJy4vbWl4LWNvbG9yLm1qcyc7XG5pbXBvcnQgeyBwaXBlIH0gZnJvbSAnLi9waXBlLm1qcyc7XG5pbXBvcnQgeyB3YXJuaW5nIH0gZnJvbSAnLi9lcnJvcnMubWpzJztcbmltcG9ydCB7IGNvbG9yIH0gZnJvbSAnLi4vdmFsdWUvdHlwZXMvY29sb3IvaW5kZXgubWpzJztcbmltcG9ydCB7IGNvbXBsZXgsIGFuYWx5c2VDb21wbGV4VmFsdWUgfSBmcm9tICcuLi92YWx1ZS90eXBlcy9jb21wbGV4L2luZGV4Lm1qcyc7XG5cbmNvbnN0IG1peEltbWVkaWF0ZSA9IChvcmlnaW4sIHRhcmdldCkgPT4gKHApID0+IGAke3AgPiAwID8gdGFyZ2V0IDogb3JpZ2lufWA7XG5mdW5jdGlvbiBnZXRNaXhlcihvcmlnaW4sIHRhcmdldCkge1xuICAgIGlmICh0eXBlb2Ygb3JpZ2luID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiAodikgPT4gbWl4KG9yaWdpbiwgdGFyZ2V0LCB2KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29sb3IudGVzdChvcmlnaW4pKSB7XG4gICAgICAgIHJldHVybiBtaXhDb2xvcihvcmlnaW4sIHRhcmdldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gb3JpZ2luLnN0YXJ0c1dpdGgoXCJ2YXIoXCIpXG4gICAgICAgICAgICA/IG1peEltbWVkaWF0ZShvcmlnaW4sIHRhcmdldClcbiAgICAgICAgICAgIDogbWl4Q29tcGxleChvcmlnaW4sIHRhcmdldCk7XG4gICAgfVxufVxuY29uc3QgbWl4QXJyYXkgPSAoZnJvbSwgdG8pID0+IHtcbiAgICBjb25zdCBvdXRwdXQgPSBbLi4uZnJvbV07XG4gICAgY29uc3QgbnVtVmFsdWVzID0gb3V0cHV0Lmxlbmd0aDtcbiAgICBjb25zdCBibGVuZFZhbHVlID0gZnJvbS5tYXAoKGZyb21UaGlzLCBpKSA9PiBnZXRNaXhlcihmcm9tVGhpcywgdG9baV0pKTtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1WYWx1ZXM7IGkrKykge1xuICAgICAgICAgICAgb3V0cHV0W2ldID0gYmxlbmRWYWx1ZVtpXSh2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59O1xuY29uc3QgbWl4T2JqZWN0ID0gKG9yaWdpbiwgdGFyZ2V0KSA9PiB7XG4gICAgY29uc3Qgb3V0cHV0ID0geyAuLi5vcmlnaW4sIC4uLnRhcmdldCB9O1xuICAgIGNvbnN0IGJsZW5kVmFsdWUgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvdXRwdXQpIHtcbiAgICAgICAgaWYgKG9yaWdpbltrZXldICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYmxlbmRWYWx1ZVtrZXldID0gZ2V0TWl4ZXIob3JpZ2luW2tleV0sIHRhcmdldFtrZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYmxlbmRWYWx1ZSkge1xuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBibGVuZFZhbHVlW2tleV0odik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufTtcbmNvbnN0IG1peENvbXBsZXggPSAob3JpZ2luLCB0YXJnZXQpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGNvbXBsZXguY3JlYXRlVHJhbnNmb3JtZXIodGFyZ2V0KTtcbiAgICBjb25zdCBvcmlnaW5TdGF0cyA9IGFuYWx5c2VDb21wbGV4VmFsdWUob3JpZ2luKTtcbiAgICBjb25zdCB0YXJnZXRTdGF0cyA9IGFuYWx5c2VDb21wbGV4VmFsdWUodGFyZ2V0KTtcbiAgICBjb25zdCBjYW5JbnRlcnBvbGF0ZSA9IG9yaWdpblN0YXRzLm51bVZhcnMgPT09IHRhcmdldFN0YXRzLm51bVZhcnMgJiZcbiAgICAgICAgb3JpZ2luU3RhdHMubnVtQ29sb3JzID09PSB0YXJnZXRTdGF0cy5udW1Db2xvcnMgJiZcbiAgICAgICAgb3JpZ2luU3RhdHMubnVtTnVtYmVycyA+PSB0YXJnZXRTdGF0cy5udW1OdW1iZXJzO1xuICAgIGlmIChjYW5JbnRlcnBvbGF0ZSkge1xuICAgICAgICByZXR1cm4gcGlwZShtaXhBcnJheShvcmlnaW5TdGF0cy52YWx1ZXMsIHRhcmdldFN0YXRzLnZhbHVlcyksIHRlbXBsYXRlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdhcm5pbmcodHJ1ZSwgYENvbXBsZXggdmFsdWVzICcke29yaWdpbn0nIGFuZCAnJHt0YXJnZXR9JyB0b28gZGlmZmVyZW50IHRvIG1peC4gRW5zdXJlIGFsbCBjb2xvcnMgYXJlIG9mIHRoZSBzYW1lIHR5cGUsIGFuZCB0aGF0IGVhY2ggY29udGFpbnMgdGhlIHNhbWUgcXVhbnRpdHkgb2YgbnVtYmVyIGFuZCBjb2xvciB2YWx1ZXMuIEZhbGxpbmcgYmFjayB0byBpbnN0YW50IHRyYW5zaXRpb24uYCk7XG4gICAgICAgIHJldHVybiBtaXhJbW1lZGlhdGUob3JpZ2luLCB0YXJnZXQpO1xuICAgIH1cbn07XG5cbmV4cG9ydCB7IG1peEFycmF5LCBtaXhDb21wbGV4LCBtaXhPYmplY3QgfTtcbiIsIi8qXG4gIFByb2dyZXNzIHdpdGhpbiBnaXZlbiByYW5nZVxuXG4gIEdpdmVuIGEgbG93ZXIgbGltaXQgYW5kIGFuIHVwcGVyIGxpbWl0LCB3ZSByZXR1cm4gdGhlIHByb2dyZXNzXG4gIChleHByZXNzZWQgYXMgYSBudW1iZXIgMC0xKSByZXByZXNlbnRlZCBieSB0aGUgZ2l2ZW4gdmFsdWUsIGFuZFxuICBsaW1pdCB0aGF0IHByb2dyZXNzIHRvIHdpdGhpbiAwLTEuXG5cbiAgQHBhcmFtIFtudW1iZXJdOiBMb3dlciBsaW1pdFxuICBAcGFyYW0gW251bWJlcl06IFVwcGVyIGxpbWl0XG4gIEBwYXJhbSBbbnVtYmVyXTogVmFsdWUgdG8gZmluZCBwcm9ncmVzcyB3aXRoaW4gZ2l2ZW4gcmFuZ2VcbiAgQHJldHVybiBbbnVtYmVyXTogUHJvZ3Jlc3Mgb2YgdmFsdWUgd2l0aGluIHJhbmdlIGFzIGV4cHJlc3NlZCAwLTFcbiovXG5jb25zdCBwcm9ncmVzcyA9IChmcm9tLCB0bywgdmFsdWUpID0+IHtcbiAgICBjb25zdCB0b0Zyb21EaWZmZXJlbmNlID0gdG8gLSBmcm9tO1xuICAgIHJldHVybiB0b0Zyb21EaWZmZXJlbmNlID09PSAwID8gMSA6ICh2YWx1ZSAtIGZyb20pIC8gdG9Gcm9tRGlmZmVyZW5jZTtcbn07XG5cbmV4cG9ydCB7IHByb2dyZXNzIH07XG4iLCJpbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICcuL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi92YWx1ZS90eXBlcy9jb2xvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuL2NsYW1wLm1qcyc7XG5pbXBvcnQgeyBtaXggfSBmcm9tICcuL21peC5tanMnO1xuaW1wb3J0IHsgbWl4Q29sb3IgfSBmcm9tICcuL21peC1jb2xvci5tanMnO1xuaW1wb3J0IHsgbWl4Q29tcGxleCwgbWl4QXJyYXksIG1peE9iamVjdCB9IGZyb20gJy4vbWl4LWNvbXBsZXgubWpzJztcbmltcG9ydCB7IHBpcGUgfSBmcm9tICcuL3BpcGUubWpzJztcbmltcG9ydCB7IHByb2dyZXNzIH0gZnJvbSAnLi9wcm9ncmVzcy5tanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vbm9vcC5tanMnO1xuXG5jb25zdCBtaXhOdW1iZXIgPSAoZnJvbSwgdG8pID0+IChwKSA9PiBtaXgoZnJvbSwgdG8sIHApO1xuZnVuY3Rpb24gZGV0ZWN0TWl4ZXJGYWN0b3J5KHYpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIG1peE51bWJlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yLnRlc3QodikgPyBtaXhDb2xvciA6IG1peENvbXBsZXg7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgcmV0dXJuIG1peEFycmF5O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gbWl4T2JqZWN0O1xuICAgIH1cbiAgICByZXR1cm4gbWl4TnVtYmVyO1xufVxuZnVuY3Rpb24gY3JlYXRlTWl4ZXJzKG91dHB1dCwgZWFzZSwgY3VzdG9tTWl4ZXIpIHtcbiAgICBjb25zdCBtaXhlcnMgPSBbXTtcbiAgICBjb25zdCBtaXhlckZhY3RvcnkgPSBjdXN0b21NaXhlciB8fCBkZXRlY3RNaXhlckZhY3Rvcnkob3V0cHV0WzBdKTtcbiAgICBjb25zdCBudW1NaXhlcnMgPSBvdXRwdXQubGVuZ3RoIC0gMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bU1peGVyczsgaSsrKSB7XG4gICAgICAgIGxldCBtaXhlciA9IG1peGVyRmFjdG9yeShvdXRwdXRbaV0sIG91dHB1dFtpICsgMV0pO1xuICAgICAgICBpZiAoZWFzZSkge1xuICAgICAgICAgICAgY29uc3QgZWFzaW5nRnVuY3Rpb24gPSBBcnJheS5pc0FycmF5KGVhc2UpID8gZWFzZVtpXSB8fCBub29wIDogZWFzZTtcbiAgICAgICAgICAgIG1peGVyID0gcGlwZShlYXNpbmdGdW5jdGlvbiwgbWl4ZXIpO1xuICAgICAgICB9XG4gICAgICAgIG1peGVycy5wdXNoKG1peGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG1peGVycztcbn1cbi8qKlxuICogQ3JlYXRlIGEgZnVuY3Rpb24gdGhhdCBtYXBzIGZyb20gYSBudW1lcmljYWwgaW5wdXQgYXJyYXkgdG8gYSBnZW5lcmljIG91dHB1dCBhcnJheS5cbiAqXG4gKiBBY2NlcHRzOlxuICogICAtIE51bWJlcnNcbiAqICAgLSBDb2xvcnMgKGhleCwgaHNsLCBoc2xhLCByZ2IsIHJnYmEpXG4gKiAgIC0gQ29tcGxleCAoY29tYmluYXRpb25zIG9mIG9uZSBvciBtb3JlIG51bWJlcnMgb3Igc3RyaW5ncylcbiAqXG4gKiBgYGBqc3hcbiAqIGNvbnN0IG1peENvbG9yID0gaW50ZXJwb2xhdGUoWzAsIDFdLCBbJyNmZmYnLCAnIzAwMCddKVxuICpcbiAqIG1peENvbG9yKDAuNSkgLy8gJ3JnYmEoMTI4LCAxMjgsIDEyOCwgMSknXG4gKiBgYGBcbiAqXG4gKiBUT0RPIFJldmlzdCB0aGlzIGFwcHJvYWNoIG9uY2Ugd2UndmUgbW92ZWQgdG8gZGF0YSBtb2RlbHMgZm9yIHZhbHVlcyxcbiAqIHByb2JhYmx5IG5vdCBuZWVkZWQgdG8gcHJlZ2VuZXJhdGUgbWl4ZXIgZnVuY3Rpb25zLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gaW50ZXJwb2xhdGUoaW5wdXQsIG91dHB1dCwgeyBjbGFtcDogaXNDbGFtcCA9IHRydWUsIGVhc2UsIG1peGVyIH0gPSB7fSkge1xuICAgIGNvbnN0IGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgIGludmFyaWFudChpbnB1dExlbmd0aCA9PT0gb3V0cHV0Lmxlbmd0aCwgXCJCb3RoIGlucHV0IGFuZCBvdXRwdXQgcmFuZ2VzIG11c3QgYmUgdGhlIHNhbWUgbGVuZ3RoXCIpO1xuICAgIC8qKlxuICAgICAqIElmIHdlJ3JlIG9ubHkgcHJvdmlkZWQgYSBzaW5nbGUgaW5wdXQsIHdlIGNhbiBqdXN0IG1ha2UgYSBmdW5jdGlvblxuICAgICAqIHRoYXQgcmV0dXJucyB0aGUgb3V0cHV0LlxuICAgICAqL1xuICAgIGlmIChpbnB1dExlbmd0aCA9PT0gMSlcbiAgICAgICAgcmV0dXJuICgpID0+IG91dHB1dFswXTtcbiAgICAvLyBJZiBpbnB1dCBydW5zIGhpZ2hlc3QgLT4gbG93ZXN0LCByZXZlcnNlIGJvdGggYXJyYXlzXG4gICAgaWYgKGlucHV0WzBdID4gaW5wdXRbaW5wdXRMZW5ndGggLSAxXSkge1xuICAgICAgICBpbnB1dCA9IFsuLi5pbnB1dF0ucmV2ZXJzZSgpO1xuICAgICAgICBvdXRwdXQgPSBbLi4ub3V0cHV0XS5yZXZlcnNlKCk7XG4gICAgfVxuICAgIGNvbnN0IG1peGVycyA9IGNyZWF0ZU1peGVycyhvdXRwdXQsIGVhc2UsIG1peGVyKTtcbiAgICBjb25zdCBudW1NaXhlcnMgPSBtaXhlcnMubGVuZ3RoO1xuICAgIGNvbnN0IGludGVycG9sYXRvciA9ICh2KSA9PiB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgaWYgKG51bU1peGVycyA+IDEpIHtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgaW5wdXQubGVuZ3RoIC0gMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHYgPCBpbnB1dFtpICsgMV0pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb2dyZXNzSW5SYW5nZSA9IHByb2dyZXNzKGlucHV0W2ldLCBpbnB1dFtpICsgMV0sIHYpO1xuICAgICAgICByZXR1cm4gbWl4ZXJzW2ldKHByb2dyZXNzSW5SYW5nZSk7XG4gICAgfTtcbiAgICByZXR1cm4gaXNDbGFtcFxuICAgICAgICA/ICh2KSA9PiBpbnRlcnBvbGF0b3IoY2xhbXAoaW5wdXRbMF0sIGlucHV0W2lucHV0TGVuZ3RoIC0gMV0sIHYpKVxuICAgICAgICA6IGludGVycG9sYXRvcjtcbn1cblxuZXhwb3J0IHsgaW50ZXJwb2xhdGUgfTtcbiIsImltcG9ydCB7IG1peCB9IGZyb20gJy4uL21peC5tanMnO1xuaW1wb3J0IHsgcHJvZ3Jlc3MgfSBmcm9tICcuLi9wcm9ncmVzcy5tanMnO1xuXG5mdW5jdGlvbiBmaWxsT2Zmc2V0KG9mZnNldCwgcmVtYWluaW5nKSB7XG4gICAgY29uc3QgbWluID0gb2Zmc2V0W29mZnNldC5sZW5ndGggLSAxXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSByZW1haW5pbmc7IGkrKykge1xuICAgICAgICBjb25zdCBvZmZzZXRQcm9ncmVzcyA9IHByb2dyZXNzKDAsIHJlbWFpbmluZywgaSk7XG4gICAgICAgIG9mZnNldC5wdXNoKG1peChtaW4sIDEsIG9mZnNldFByb2dyZXNzKSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBmaWxsT2Zmc2V0IH07XG4iLCJpbXBvcnQgeyBmaWxsT2Zmc2V0IH0gZnJvbSAnLi9maWxsLm1qcyc7XG5cbmZ1bmN0aW9uIGRlZmF1bHRPZmZzZXQoYXJyKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gWzBdO1xuICAgIGZpbGxPZmZzZXQob2Zmc2V0LCBhcnIubGVuZ3RoIC0gMSk7XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cblxuZXhwb3J0IHsgZGVmYXVsdE9mZnNldCB9O1xuIiwiZnVuY3Rpb24gY29udmVydE9mZnNldFRvVGltZXMob2Zmc2V0LCBkdXJhdGlvbikge1xuICAgIHJldHVybiBvZmZzZXQubWFwKChvKSA9PiBvICogZHVyYXRpb24pO1xufVxuXG5leHBvcnQgeyBjb252ZXJ0T2Zmc2V0VG9UaW1lcyB9O1xuIiwiaW1wb3J0IHsgZWFzZUluT3V0IH0gZnJvbSAnLi4vLi4vZWFzaW5nL2Vhc2UubWpzJztcbmltcG9ydCB7IGlzRWFzaW5nQXJyYXkgfSBmcm9tICcuLi8uLi9lYXNpbmcvdXRpbHMvaXMtZWFzaW5nLWFycmF5Lm1qcyc7XG5pbXBvcnQgeyBlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbiB9IGZyb20gJy4uLy4uL2Vhc2luZy91dGlscy9tYXAubWpzJztcbmltcG9ydCB7IGludGVycG9sYXRlIH0gZnJvbSAnLi4vLi4vdXRpbHMvaW50ZXJwb2xhdGUubWpzJztcbmltcG9ydCB7IGRlZmF1bHRPZmZzZXQgfSBmcm9tICcuLi8uLi91dGlscy9vZmZzZXRzL2RlZmF1bHQubWpzJztcbmltcG9ydCB7IGNvbnZlcnRPZmZzZXRUb1RpbWVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvb2Zmc2V0cy90aW1lLm1qcyc7XG5cbmZ1bmN0aW9uIGRlZmF1bHRFYXNpbmcodmFsdWVzLCBlYXNpbmcpIHtcbiAgICByZXR1cm4gdmFsdWVzLm1hcCgoKSA9PiBlYXNpbmcgfHwgZWFzZUluT3V0KS5zcGxpY2UoMCwgdmFsdWVzLmxlbmd0aCAtIDEpO1xufVxuZnVuY3Rpb24ga2V5ZnJhbWVzKHsgZHVyYXRpb24gPSAzMDAsIGtleWZyYW1lczoga2V5ZnJhbWVWYWx1ZXMsIHRpbWVzLCBlYXNlID0gXCJlYXNlSW5PdXRcIiwgfSkge1xuICAgIC8qKlxuICAgICAqIEVhc2luZyBmdW5jdGlvbnMgY2FuIGJlIGV4dGVybmFsbHkgZGVmaW5lZCBhcyBzdHJpbmdzLiBIZXJlIHdlIGNvbnZlcnQgdGhlbVxuICAgICAqIGludG8gYWN0dWFsIGZ1bmN0aW9ucy5cbiAgICAgKi9cbiAgICBjb25zdCBlYXNpbmdGdW5jdGlvbnMgPSBpc0Vhc2luZ0FycmF5KGVhc2UpXG4gICAgICAgID8gZWFzZS5tYXAoZWFzaW5nRGVmaW5pdGlvblRvRnVuY3Rpb24pXG4gICAgICAgIDogZWFzaW5nRGVmaW5pdGlvblRvRnVuY3Rpb24oZWFzZSk7XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgSXRlcmF0b3Itc3BlYyByZXR1cm4gdmFsdWUuIFdlIGVuc3VyZSBpdCdzIG11dGFibGUgcmF0aGVyIHRoYW4gdXNpbmcgYSBnZW5lcmF0b3JcbiAgICAgKiB0byByZWR1Y2UgR0MgZHVyaW5nIGFuaW1hdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBrZXlmcmFtZVZhbHVlc1swXSxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRpbWVzIGFycmF5IGJhc2VkIG9uIHRoZSBwcm92aWRlZCAwLTEgb2Zmc2V0c1xuICAgICAqL1xuICAgIGNvbnN0IGFic29sdXRlVGltZXMgPSBjb252ZXJ0T2Zmc2V0VG9UaW1lcyhcbiAgICAvLyBPbmx5IHVzZSB0aGUgcHJvdmlkZWQgb2Zmc2V0cyBpZiB0aGV5J3JlIHRoZSBjb3JyZWN0IGxlbmd0aFxuICAgIC8vIFRPRE8gTWF5YmUgd2Ugc2hvdWxkIHdhcm4gaGVyZSBpZiB0aGVyZSdzIGEgbGVuZ3RoIG1pc21hdGNoXG4gICAgdGltZXMgJiYgdGltZXMubGVuZ3RoID09PSBrZXlmcmFtZVZhbHVlcy5sZW5ndGhcbiAgICAgICAgPyB0aW1lc1xuICAgICAgICA6IGRlZmF1bHRPZmZzZXQoa2V5ZnJhbWVWYWx1ZXMpLCBkdXJhdGlvbik7XG4gICAgY29uc3QgbWFwVGltZVRvS2V5ZnJhbWUgPSBpbnRlcnBvbGF0ZShhYnNvbHV0ZVRpbWVzLCBrZXlmcmFtZVZhbHVlcywge1xuICAgICAgICBlYXNlOiBBcnJheS5pc0FycmF5KGVhc2luZ0Z1bmN0aW9ucylcbiAgICAgICAgICAgID8gZWFzaW5nRnVuY3Rpb25zXG4gICAgICAgICAgICA6IGRlZmF1bHRFYXNpbmcoa2V5ZnJhbWVWYWx1ZXMsIGVhc2luZ0Z1bmN0aW9ucyksXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FsY3VsYXRlZER1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgbmV4dDogKHQpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gbWFwVGltZVRvS2V5ZnJhbWUodCk7XG4gICAgICAgICAgICBzdGF0ZS5kb25lID0gdCA+PSBkdXJhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBkZWZhdWx0RWFzaW5nLCBrZXlmcmFtZXMgfTtcbiIsIi8qXG4gIENvbnZlcnQgdmVsb2NpdHkgaW50byB2ZWxvY2l0eSBwZXIgc2Vjb25kXG5cbiAgQHBhcmFtIFtudW1iZXJdOiBVbml0IHBlciBmcmFtZVxuICBAcGFyYW0gW251bWJlcl06IEZyYW1lIGR1cmF0aW9uIGluIG1zXG4qL1xuZnVuY3Rpb24gdmVsb2NpdHlQZXJTZWNvbmQodmVsb2NpdHksIGZyYW1lRHVyYXRpb24pIHtcbiAgICByZXR1cm4gZnJhbWVEdXJhdGlvbiA/IHZlbG9jaXR5ICogKDEwMDAgLyBmcmFtZUR1cmF0aW9uKSA6IDA7XG59XG5cbmV4cG9ydCB7IHZlbG9jaXR5UGVyU2Vjb25kIH07XG4iLCJpbXBvcnQgeyB2ZWxvY2l0eVBlclNlY29uZCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3ZlbG9jaXR5LXBlci1zZWNvbmQubWpzJztcblxuY29uc3QgdmVsb2NpdHlTYW1wbGVEdXJhdGlvbiA9IDU7IC8vIG1zXG5mdW5jdGlvbiBjYWxjR2VuZXJhdG9yVmVsb2NpdHkocmVzb2x2ZVZhbHVlLCB0LCBjdXJyZW50KSB7XG4gICAgY29uc3QgcHJldlQgPSBNYXRoLm1heCh0IC0gdmVsb2NpdHlTYW1wbGVEdXJhdGlvbiwgMCk7XG4gICAgcmV0dXJuIHZlbG9jaXR5UGVyU2Vjb25kKGN1cnJlbnQgLSByZXNvbHZlVmFsdWUocHJldlQpLCB0IC0gcHJldlQpO1xufVxuXG5leHBvcnQgeyBjYWxjR2VuZXJhdG9yVmVsb2NpdHkgfTtcbiIsImltcG9ydCB7IHdhcm5pbmcgfSBmcm9tICcuLi8uLi8uLi91dGlscy9lcnJvcnMubWpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2xhbXAubWpzJztcbmltcG9ydCB7IHNlY29uZHNUb01pbGxpc2Vjb25kcywgbWlsbGlzZWNvbmRzVG9TZWNvbmRzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGltZS1jb252ZXJzaW9uLm1qcyc7XG5cbmNvbnN0IHNhZmVNaW4gPSAwLjAwMTtcbmNvbnN0IG1pbkR1cmF0aW9uID0gMC4wMTtcbmNvbnN0IG1heER1cmF0aW9uID0gMTAuMDtcbmNvbnN0IG1pbkRhbXBpbmcgPSAwLjA1O1xuY29uc3QgbWF4RGFtcGluZyA9IDE7XG5mdW5jdGlvbiBmaW5kU3ByaW5nKHsgZHVyYXRpb24gPSA4MDAsIGJvdW5jZSA9IDAuMjUsIHZlbG9jaXR5ID0gMCwgbWFzcyA9IDEsIH0pIHtcbiAgICBsZXQgZW52ZWxvcGU7XG4gICAgbGV0IGRlcml2YXRpdmU7XG4gICAgd2FybmluZyhkdXJhdGlvbiA8PSBzZWNvbmRzVG9NaWxsaXNlY29uZHMobWF4RHVyYXRpb24pLCBcIlNwcmluZyBkdXJhdGlvbiBtdXN0IGJlIDEwIHNlY29uZHMgb3IgbGVzc1wiKTtcbiAgICBsZXQgZGFtcGluZ1JhdGlvID0gMSAtIGJvdW5jZTtcbiAgICAvKipcbiAgICAgKiBSZXN0cmljdCBkYW1waW5nUmF0aW8gYW5kIGR1cmF0aW9uIHRvIHdpdGhpbiBhY2NlcHRhYmxlIHJhbmdlcy5cbiAgICAgKi9cbiAgICBkYW1waW5nUmF0aW8gPSBjbGFtcChtaW5EYW1waW5nLCBtYXhEYW1waW5nLCBkYW1waW5nUmF0aW8pO1xuICAgIGR1cmF0aW9uID0gY2xhbXAobWluRHVyYXRpb24sIG1heER1cmF0aW9uLCBtaWxsaXNlY29uZHNUb1NlY29uZHMoZHVyYXRpb24pKTtcbiAgICBpZiAoZGFtcGluZ1JhdGlvIDwgMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5kZXJkYW1wZWQgc3ByaW5nXG4gICAgICAgICAqL1xuICAgICAgICBlbnZlbG9wZSA9ICh1bmRhbXBlZEZyZXEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9uZW50aWFsRGVjYXkgPSB1bmRhbXBlZEZyZXEgKiBkYW1waW5nUmF0aW87XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGV4cG9uZW50aWFsRGVjYXkgKiBkdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBleHBvbmVudGlhbERlY2F5IC0gdmVsb2NpdHk7XG4gICAgICAgICAgICBjb25zdCBiID0gY2FsY0FuZ3VsYXJGcmVxKHVuZGFtcGVkRnJlcSwgZGFtcGluZ1JhdGlvKTtcbiAgICAgICAgICAgIGNvbnN0IGMgPSBNYXRoLmV4cCgtZGVsdGEpO1xuICAgICAgICAgICAgcmV0dXJuIHNhZmVNaW4gLSAoYSAvIGIpICogYztcbiAgICAgICAgfTtcbiAgICAgICAgZGVyaXZhdGl2ZSA9ICh1bmRhbXBlZEZyZXEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9uZW50aWFsRGVjYXkgPSB1bmRhbXBlZEZyZXEgKiBkYW1waW5nUmF0aW87XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGV4cG9uZW50aWFsRGVjYXkgKiBkdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGQgPSBkZWx0YSAqIHZlbG9jaXR5ICsgdmVsb2NpdHk7XG4gICAgICAgICAgICBjb25zdCBlID0gTWF0aC5wb3coZGFtcGluZ1JhdGlvLCAyKSAqIE1hdGgucG93KHVuZGFtcGVkRnJlcSwgMikgKiBkdXJhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGYgPSBNYXRoLmV4cCgtZGVsdGEpO1xuICAgICAgICAgICAgY29uc3QgZyA9IGNhbGNBbmd1bGFyRnJlcShNYXRoLnBvdyh1bmRhbXBlZEZyZXEsIDIpLCBkYW1waW5nUmF0aW8pO1xuICAgICAgICAgICAgY29uc3QgZmFjdG9yID0gLWVudmVsb3BlKHVuZGFtcGVkRnJlcSkgKyBzYWZlTWluID4gMCA/IC0xIDogMTtcbiAgICAgICAgICAgIHJldHVybiAoZmFjdG9yICogKChkIC0gZSkgKiBmKSkgLyBnO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyaXRpY2FsbHktZGFtcGVkIHNwcmluZ1xuICAgICAgICAgKi9cbiAgICAgICAgZW52ZWxvcGUgPSAodW5kYW1wZWRGcmVxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhID0gTWF0aC5leHAoLXVuZGFtcGVkRnJlcSAqIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSAodW5kYW1wZWRGcmVxIC0gdmVsb2NpdHkpICogZHVyYXRpb24gKyAxO1xuICAgICAgICAgICAgcmV0dXJuIC1zYWZlTWluICsgYSAqIGI7XG4gICAgICAgIH07XG4gICAgICAgIGRlcml2YXRpdmUgPSAodW5kYW1wZWRGcmVxKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhID0gTWF0aC5leHAoLXVuZGFtcGVkRnJlcSAqIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGIgPSAodmVsb2NpdHkgLSB1bmRhbXBlZEZyZXEpICogKGR1cmF0aW9uICogZHVyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIGEgKiBiO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBpbml0aWFsR3Vlc3MgPSA1IC8gZHVyYXRpb247XG4gICAgY29uc3QgdW5kYW1wZWRGcmVxID0gYXBwcm94aW1hdGVSb290KGVudmVsb3BlLCBkZXJpdmF0aXZlLCBpbml0aWFsR3Vlc3MpO1xuICAgIGR1cmF0aW9uID0gc2Vjb25kc1RvTWlsbGlzZWNvbmRzKGR1cmF0aW9uKTtcbiAgICBpZiAoaXNOYU4odW5kYW1wZWRGcmVxKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RpZmZuZXNzOiAxMDAsXG4gICAgICAgICAgICBkYW1waW5nOiAxMCxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3RpZmZuZXNzID0gTWF0aC5wb3codW5kYW1wZWRGcmVxLCAyKSAqIG1hc3M7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGlmZm5lc3MsXG4gICAgICAgICAgICBkYW1waW5nOiBkYW1waW5nUmF0aW8gKiAyICogTWF0aC5zcXJ0KG1hc3MgKiBzdGlmZm5lc3MpLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIH07XG4gICAgfVxufVxuY29uc3Qgcm9vdEl0ZXJhdGlvbnMgPSAxMjtcbmZ1bmN0aW9uIGFwcHJveGltYXRlUm9vdChlbnZlbG9wZSwgZGVyaXZhdGl2ZSwgaW5pdGlhbEd1ZXNzKSB7XG4gICAgbGV0IHJlc3VsdCA9IGluaXRpYWxHdWVzcztcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHJvb3RJdGVyYXRpb25zOyBpKyspIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0IC0gZW52ZWxvcGUocmVzdWx0KSAvIGRlcml2YXRpdmUocmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNhbGNBbmd1bGFyRnJlcSh1bmRhbXBlZEZyZXEsIGRhbXBpbmdSYXRpbykge1xuICAgIHJldHVybiB1bmRhbXBlZEZyZXEgKiBNYXRoLnNxcnQoMSAtIGRhbXBpbmdSYXRpbyAqIGRhbXBpbmdSYXRpbyk7XG59XG5cbmV4cG9ydCB7IGNhbGNBbmd1bGFyRnJlcSwgZmluZFNwcmluZywgbWF4RGFtcGluZywgbWF4RHVyYXRpb24sIG1pbkRhbXBpbmcsIG1pbkR1cmF0aW9uIH07XG4iLCJpbXBvcnQgeyBtaWxsaXNlY29uZHNUb1NlY29uZHMgfSBmcm9tICcuLi8uLi8uLi91dGlscy90aW1lLWNvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IGNhbGNHZW5lcmF0b3JWZWxvY2l0eSB9IGZyb20gJy4uL3V0aWxzL3ZlbG9jaXR5Lm1qcyc7XG5pbXBvcnQgeyBmaW5kU3ByaW5nLCBjYWxjQW5ndWxhckZyZXEgfSBmcm9tICcuL2ZpbmQubWpzJztcblxuY29uc3QgZHVyYXRpb25LZXlzID0gW1wiZHVyYXRpb25cIiwgXCJib3VuY2VcIl07XG5jb25zdCBwaHlzaWNzS2V5cyA9IFtcInN0aWZmbmVzc1wiLCBcImRhbXBpbmdcIiwgXCJtYXNzXCJdO1xuZnVuY3Rpb24gaXNTcHJpbmdUeXBlKG9wdGlvbnMsIGtleXMpIHtcbiAgICByZXR1cm4ga2V5cy5zb21lKChrZXkpID0+IG9wdGlvbnNba2V5XSAhPT0gdW5kZWZpbmVkKTtcbn1cbmZ1bmN0aW9uIGdldFNwcmluZ09wdGlvbnMob3B0aW9ucykge1xuICAgIGxldCBzcHJpbmdPcHRpb25zID0ge1xuICAgICAgICB2ZWxvY2l0eTogMC4wLFxuICAgICAgICBzdGlmZm5lc3M6IDEwMCxcbiAgICAgICAgZGFtcGluZzogMTAsXG4gICAgICAgIG1hc3M6IDEuMCxcbiAgICAgICAgaXNSZXNvbHZlZEZyb21EdXJhdGlvbjogZmFsc2UsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgfTtcbiAgICAvLyBzdGlmZm5lc3MvZGFtcGluZy9tYXNzIG92ZXJyaWRlcyBkdXJhdGlvbi9ib3VuY2VcbiAgICBpZiAoIWlzU3ByaW5nVHlwZShvcHRpb25zLCBwaHlzaWNzS2V5cykgJiZcbiAgICAgICAgaXNTcHJpbmdUeXBlKG9wdGlvbnMsIGR1cmF0aW9uS2V5cykpIHtcbiAgICAgICAgY29uc3QgZGVyaXZlZCA9IGZpbmRTcHJpbmcob3B0aW9ucyk7XG4gICAgICAgIHNwcmluZ09wdGlvbnMgPSB7XG4gICAgICAgICAgICAuLi5zcHJpbmdPcHRpb25zLFxuICAgICAgICAgICAgLi4uZGVyaXZlZCxcbiAgICAgICAgICAgIHZlbG9jaXR5OiAwLjAsXG4gICAgICAgICAgICBtYXNzOiAxLjAsXG4gICAgICAgIH07XG4gICAgICAgIHNwcmluZ09wdGlvbnMuaXNSZXNvbHZlZEZyb21EdXJhdGlvbiA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBzcHJpbmdPcHRpb25zO1xufVxuZnVuY3Rpb24gc3ByaW5nKHsga2V5ZnJhbWVzLCByZXN0RGVsdGEsIHJlc3RTcGVlZCwgLi4ub3B0aW9ucyB9KSB7XG4gICAgY29uc3Qgb3JpZ2luID0ga2V5ZnJhbWVzWzBdO1xuICAgIGNvbnN0IHRhcmdldCA9IGtleWZyYW1lc1trZXlmcmFtZXMubGVuZ3RoIC0gMV07XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgSXRlcmF0b3Itc3BlYyByZXR1cm4gdmFsdWUuIFdlIGVuc3VyZSBpdCdzIG11dGFibGUgcmF0aGVyIHRoYW4gdXNpbmcgYSBnZW5lcmF0b3JcbiAgICAgKiB0byByZWR1Y2UgR0MgZHVyaW5nIGFuaW1hdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdCBzdGF0ZSA9IHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvcmlnaW4gfTtcbiAgICBjb25zdCB7IHN0aWZmbmVzcywgZGFtcGluZywgbWFzcywgdmVsb2NpdHksIGR1cmF0aW9uLCBpc1Jlc29sdmVkRnJvbUR1cmF0aW9uLCB9ID0gZ2V0U3ByaW5nT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCBpbml0aWFsVmVsb2NpdHkgPSB2ZWxvY2l0eSA/IC1taWxsaXNlY29uZHNUb1NlY29uZHModmVsb2NpdHkpIDogMC4wO1xuICAgIGNvbnN0IGRhbXBpbmdSYXRpbyA9IGRhbXBpbmcgLyAoMiAqIE1hdGguc3FydChzdGlmZm5lc3MgKiBtYXNzKSk7XG4gICAgY29uc3QgaW5pdGlhbERlbHRhID0gdGFyZ2V0IC0gb3JpZ2luO1xuICAgIGNvbnN0IHVuZGFtcGVkQW5ndWxhckZyZXEgPSBtaWxsaXNlY29uZHNUb1NlY29uZHMoTWF0aC5zcXJ0KHN0aWZmbmVzcyAvIG1hc3MpKTtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSdyZSB3b3JraW5nIG9uIGEgZ3JhbnVsYXIgc2NhbGUsIHVzZSBzbWFsbGVyIGRlZmF1bHRzIGZvciBkZXRlcm1pbmluZ1xuICAgICAqIHdoZW4gdGhlIHNwcmluZyBpcyBmaW5pc2hlZC5cbiAgICAgKlxuICAgICAqIFRoZXNlIGRlZmF1bHRzIGhhdmUgYmVlbiBzZWxlY3RlZCBlbXByaWNhbGx5IGJhc2VkIG9uIHdoYXQgc3RyaWtlcyBhIGdvb2RcbiAgICAgKiByYXRpbyBiZXR3ZWVuIGZlZWxpbmcgZ29vZCBhbmQgZmluaXNoaW5nIGFzIHNvb24gYXMgY2hhbmdlcyBhcmUgaW1wZXJjZXB0aWJsZS5cbiAgICAgKi9cbiAgICBjb25zdCBpc0dyYW51bGFyU2NhbGUgPSBNYXRoLmFicyhpbml0aWFsRGVsdGEpIDwgNTtcbiAgICByZXN0U3BlZWQgfHwgKHJlc3RTcGVlZCA9IGlzR3JhbnVsYXJTY2FsZSA/IDAuMDEgOiAyKTtcbiAgICByZXN0RGVsdGEgfHwgKHJlc3REZWx0YSA9IGlzR3JhbnVsYXJTY2FsZSA/IDAuMDA1IDogMC41KTtcbiAgICBsZXQgcmVzb2x2ZVNwcmluZztcbiAgICBpZiAoZGFtcGluZ1JhdGlvIDwgMSkge1xuICAgICAgICBjb25zdCBhbmd1bGFyRnJlcSA9IGNhbGNBbmd1bGFyRnJlcSh1bmRhbXBlZEFuZ3VsYXJGcmVxLCBkYW1waW5nUmF0aW8pO1xuICAgICAgICAvLyBVbmRlcmRhbXBlZCBzcHJpbmdcbiAgICAgICAgcmVzb2x2ZVNwcmluZyA9ICh0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnZlbG9wZSA9IE1hdGguZXhwKC1kYW1waW5nUmF0aW8gKiB1bmRhbXBlZEFuZ3VsYXJGcmVxICogdCk7XG4gICAgICAgICAgICByZXR1cm4gKHRhcmdldCAtXG4gICAgICAgICAgICAgICAgZW52ZWxvcGUgKlxuICAgICAgICAgICAgICAgICAgICAoKChpbml0aWFsVmVsb2NpdHkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGluZ1JhdGlvICogdW5kYW1wZWRBbmd1bGFyRnJlcSAqIGluaXRpYWxEZWx0YSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhckZyZXEpICpcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguc2luKGFuZ3VsYXJGcmVxICogdCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbERlbHRhICogTWF0aC5jb3MoYW5ndWxhckZyZXEgKiB0KSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChkYW1waW5nUmF0aW8gPT09IDEpIHtcbiAgICAgICAgLy8gQ3JpdGljYWxseSBkYW1wZWQgc3ByaW5nXG4gICAgICAgIHJlc29sdmVTcHJpbmcgPSAodCkgPT4gdGFyZ2V0IC1cbiAgICAgICAgICAgIE1hdGguZXhwKC11bmRhbXBlZEFuZ3VsYXJGcmVxICogdCkgKlxuICAgICAgICAgICAgICAgIChpbml0aWFsRGVsdGEgK1xuICAgICAgICAgICAgICAgICAgICAoaW5pdGlhbFZlbG9jaXR5ICsgdW5kYW1wZWRBbmd1bGFyRnJlcSAqIGluaXRpYWxEZWx0YSkgKiB0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIE92ZXJkYW1wZWQgc3ByaW5nXG4gICAgICAgIGNvbnN0IGRhbXBlZEFuZ3VsYXJGcmVxID0gdW5kYW1wZWRBbmd1bGFyRnJlcSAqIE1hdGguc3FydChkYW1waW5nUmF0aW8gKiBkYW1waW5nUmF0aW8gLSAxKTtcbiAgICAgICAgcmVzb2x2ZVNwcmluZyA9ICh0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnZlbG9wZSA9IE1hdGguZXhwKC1kYW1waW5nUmF0aW8gKiB1bmRhbXBlZEFuZ3VsYXJGcmVxICogdCk7XG4gICAgICAgICAgICAvLyBXaGVuIHBlcmZvcm1pbmcgc2luaCBvciBjb3NoIHZhbHVlcyBjYW4gaGl0IEluZmluaXR5IHNvIHdlIGNhcCB0aGVtIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IGZyZXFGb3JUID0gTWF0aC5taW4oZGFtcGVkQW5ndWxhckZyZXEgKiB0LCAzMDApO1xuICAgICAgICAgICAgcmV0dXJuICh0YXJnZXQgLVxuICAgICAgICAgICAgICAgIChlbnZlbG9wZSAqXG4gICAgICAgICAgICAgICAgICAgICgoaW5pdGlhbFZlbG9jaXR5ICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbXBpbmdSYXRpbyAqIHVuZGFtcGVkQW5ndWxhckZyZXEgKiBpbml0aWFsRGVsdGEpICpcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguc2luaChmcmVxRm9yVCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZGFtcGVkQW5ndWxhckZyZXEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxEZWx0YSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3NoKGZyZXFGb3JUKSkpIC9cbiAgICAgICAgICAgICAgICAgICAgZGFtcGVkQW5ndWxhckZyZXEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjYWxjdWxhdGVkRHVyYXRpb246IGlzUmVzb2x2ZWRGcm9tRHVyYXRpb24gPyBkdXJhdGlvbiB8fCBudWxsIDogbnVsbCxcbiAgICAgICAgbmV4dDogKHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSByZXNvbHZlU3ByaW5nKHQpO1xuICAgICAgICAgICAgaWYgKCFpc1Jlc29sdmVkRnJvbUR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRWZWxvY2l0eSA9IGluaXRpYWxWZWxvY2l0eTtcbiAgICAgICAgICAgICAgICBpZiAodCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogV2Ugb25seSBuZWVkIHRvIGNhbGN1bGF0ZSB2ZWxvY2l0eSBmb3IgdW5kZXItZGFtcGVkIHNwcmluZ3NcbiAgICAgICAgICAgICAgICAgICAgICogYXMgb3Zlci0gYW5kIGNyaXRpY2FsbHktZGFtcGVkIHNwcmluZ3MgY2FuJ3Qgb3ZlcnNob290LCBzb1xuICAgICAgICAgICAgICAgICAgICAgKiBjaGVja2luZyBvbmx5IGZvciBkaXNwbGFjZW1lbnQgaXMgZW5vdWdoLlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhbXBpbmdSYXRpbyA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWxvY2l0eSA9IGNhbGNHZW5lcmF0b3JWZWxvY2l0eShyZXNvbHZlU3ByaW5nLCB0LCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWxvY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaXNCZWxvd1ZlbG9jaXR5VGhyZXNob2xkID0gTWF0aC5hYnMoY3VycmVudFZlbG9jaXR5KSA8PSByZXN0U3BlZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNCZWxvd0Rpc3BsYWNlbWVudFRocmVzaG9sZCA9IE1hdGguYWJzKHRhcmdldCAtIGN1cnJlbnQpIDw9IHJlc3REZWx0YTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kb25lID1cbiAgICAgICAgICAgICAgICAgICAgaXNCZWxvd1ZlbG9jaXR5VGhyZXNob2xkICYmIGlzQmVsb3dEaXNwbGFjZW1lbnRUaHJlc2hvbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5kb25lID0gdCA+PSBkdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlLnZhbHVlID0gc3RhdGUuZG9uZSA/IHRhcmdldCA6IGN1cnJlbnQ7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgc3ByaW5nIH07XG4iLCJpbXBvcnQgeyBzcHJpbmcgfSBmcm9tICcuL3NwcmluZy9pbmRleC5tanMnO1xuaW1wb3J0IHsgY2FsY0dlbmVyYXRvclZlbG9jaXR5IH0gZnJvbSAnLi91dGlscy92ZWxvY2l0eS5tanMnO1xuXG5mdW5jdGlvbiBpbmVydGlhKHsga2V5ZnJhbWVzLCB2ZWxvY2l0eSA9IDAuMCwgcG93ZXIgPSAwLjgsIHRpbWVDb25zdGFudCA9IDMyNSwgYm91bmNlRGFtcGluZyA9IDEwLCBib3VuY2VTdGlmZm5lc3MgPSA1MDAsIG1vZGlmeVRhcmdldCwgbWluLCBtYXgsIHJlc3REZWx0YSA9IDAuNSwgcmVzdFNwZWVkLCB9KSB7XG4gICAgY29uc3Qgb3JpZ2luID0ga2V5ZnJhbWVzWzBdO1xuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IG9yaWdpbixcbiAgICB9O1xuICAgIGNvbnN0IGlzT3V0T2ZCb3VuZHMgPSAodikgPT4gKG1pbiAhPT0gdW5kZWZpbmVkICYmIHYgPCBtaW4pIHx8IChtYXggIT09IHVuZGVmaW5lZCAmJiB2ID4gbWF4KTtcbiAgICBjb25zdCBuZWFyZXN0Qm91bmRhcnkgPSAodikgPT4ge1xuICAgICAgICBpZiAobWluID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gbWF4O1xuICAgICAgICBpZiAobWF4ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gbWluO1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMobWluIC0gdikgPCBNYXRoLmFicyhtYXggLSB2KSA/IG1pbiA6IG1heDtcbiAgICB9O1xuICAgIGxldCBhbXBsaXR1ZGUgPSBwb3dlciAqIHZlbG9jaXR5O1xuICAgIGNvbnN0IGlkZWFsID0gb3JpZ2luICsgYW1wbGl0dWRlO1xuICAgIGNvbnN0IHRhcmdldCA9IG1vZGlmeVRhcmdldCA9PT0gdW5kZWZpbmVkID8gaWRlYWwgOiBtb2RpZnlUYXJnZXQoaWRlYWwpO1xuICAgIC8qKlxuICAgICAqIElmIHRoZSB0YXJnZXQgaGFzIGNoYW5nZWQgd2UgbmVlZCB0byByZS1jYWxjdWxhdGUgdGhlIGFtcGxpdHVkZSwgb3RoZXJ3aXNlXG4gICAgICogdGhlIGFuaW1hdGlvbiB3aWxsIHN0YXJ0IGZyb20gdGhlIHdyb25nIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGlmICh0YXJnZXQgIT09IGlkZWFsKVxuICAgICAgICBhbXBsaXR1ZGUgPSB0YXJnZXQgLSBvcmlnaW47XG4gICAgY29uc3QgY2FsY0RlbHRhID0gKHQpID0+IC1hbXBsaXR1ZGUgKiBNYXRoLmV4cCgtdCAvIHRpbWVDb25zdGFudCk7XG4gICAgY29uc3QgY2FsY0xhdGVzdCA9ICh0KSA9PiB0YXJnZXQgKyBjYWxjRGVsdGEodCk7XG4gICAgY29uc3QgYXBwbHlGcmljdGlvbiA9ICh0KSA9PiB7XG4gICAgICAgIGNvbnN0IGRlbHRhID0gY2FsY0RlbHRhKHQpO1xuICAgICAgICBjb25zdCBsYXRlc3QgPSBjYWxjTGF0ZXN0KHQpO1xuICAgICAgICBzdGF0ZS5kb25lID0gTWF0aC5hYnMoZGVsdGEpIDw9IHJlc3REZWx0YTtcbiAgICAgICAgc3RhdGUudmFsdWUgPSBzdGF0ZS5kb25lID8gdGFyZ2V0IDogbGF0ZXN0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWRlYWxseSB0aGlzIHdvdWxkIHJlc29sdmUgZm9yIHQgaW4gYSBzdGF0ZWxlc3Mgd2F5LCB3ZSBjb3VsZFxuICAgICAqIGRvIHRoYXQgYnkgYWx3YXlzIHByZWNhbGN1bGF0aW5nIHRoZSBhbmltYXRpb24gYnV0IGFzIHdlIGtub3dcbiAgICAgKiB0aGlzIHdpbGwgYmUgZG9uZSBhbnl3YXkgd2UgY2FuIGFzc3VtZSB0aGF0IHNwcmluZyB3aWxsXG4gICAgICogYmUgZGlzY292ZXJlZCBkdXJpbmcgdGhhdC5cbiAgICAgKi9cbiAgICBsZXQgdGltZVJlYWNoZWRCb3VuZGFyeTtcbiAgICBsZXQgc3ByaW5nJDE7XG4gICAgY29uc3QgY2hlY2tDYXRjaEJvdW5kYXJ5ID0gKHQpID0+IHtcbiAgICAgICAgaWYgKCFpc091dE9mQm91bmRzKHN0YXRlLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGltZVJlYWNoZWRCb3VuZGFyeSA9IHQ7XG4gICAgICAgIHNwcmluZyQxID0gc3ByaW5nKHtcbiAgICAgICAgICAgIGtleWZyYW1lczogW3N0YXRlLnZhbHVlLCBuZWFyZXN0Qm91bmRhcnkoc3RhdGUudmFsdWUpXSxcbiAgICAgICAgICAgIHZlbG9jaXR5OiBjYWxjR2VuZXJhdG9yVmVsb2NpdHkoY2FsY0xhdGVzdCwgdCwgc3RhdGUudmFsdWUpLFxuICAgICAgICAgICAgZGFtcGluZzogYm91bmNlRGFtcGluZyxcbiAgICAgICAgICAgIHN0aWZmbmVzczogYm91bmNlU3RpZmZuZXNzLFxuICAgICAgICAgICAgcmVzdERlbHRhLFxuICAgICAgICAgICAgcmVzdFNwZWVkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNoZWNrQ2F0Y2hCb3VuZGFyeSgwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjYWxjdWxhdGVkRHVyYXRpb246IG51bGwsXG4gICAgICAgIG5leHQ6ICh0KSA9PiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdlIG5lZWQgdG8gcmVzb2x2ZSB0aGUgZnJpY3Rpb24gdG8gZmlndXJlIG91dCBpZiB3ZSBuZWVkIGFcbiAgICAgICAgICAgICAqIHNwcmluZyBidXQgd2UgZG9uJ3Qgd2FudCB0byBkbyB0aGlzIHR3aWNlIHBlciBmcmFtZS4gU28gaGVyZVxuICAgICAgICAgICAgICogd2UgZmxhZyBpZiB3ZSB1cGRhdGVkIGZvciB0aGlzIGZyYW1lIGFuZCBsYXRlciBpZiB3ZSBkaWRcbiAgICAgICAgICAgICAqIHdlIGNhbiBza2lwIGRvaW5nIGl0IGFnYWluLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgaGFzVXBkYXRlZEZyYW1lID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXNwcmluZyQxICYmIHRpbWVSZWFjaGVkQm91bmRhcnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGhhc1VwZGF0ZWRGcmFtZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBwbHlGcmljdGlvbih0KTtcbiAgICAgICAgICAgICAgICBjaGVja0NhdGNoQm91bmRhcnkodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGhhdmUgYSBzcHJpbmcgYW5kIHRoZSBwcm92aWRlZCB0IGlzIGJleW9uZCB0aGUgbW9tZW50IHRoZSBmcmljdGlvblxuICAgICAgICAgICAgICogYW5pbWF0aW9uIGNyb3NzZWQgdGhlIG1pbi9tYXggYm91bmRhcnksIHVzZSB0aGUgc3ByaW5nLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodGltZVJlYWNoZWRCb3VuZGFyeSAhPT0gdW5kZWZpbmVkICYmIHQgPiB0aW1lUmVhY2hlZEJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwcmluZyQxLm5leHQodCAtIHRpbWVSZWFjaGVkQm91bmRhcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgIWhhc1VwZGF0ZWRGcmFtZSAmJiBhcHBseUZyaWN0aW9uKHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBpbmVydGlhIH07XG4iLCJpbXBvcnQgeyBmcmFtZSwgY2FuY2VsRnJhbWUsIGZyYW1lRGF0YSB9IGZyb20gJy4uLy4uLy4uL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG5jb25zdCBmcmFtZWxvb3BEcml2ZXIgPSAodXBkYXRlKSA9PiB7XG4gICAgY29uc3QgcGFzc1RpbWVzdGFtcCA9ICh7IHRpbWVzdGFtcCB9KSA9PiB1cGRhdGUodGltZXN0YW1wKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogKCkgPT4gZnJhbWUudXBkYXRlKHBhc3NUaW1lc3RhbXAsIHRydWUpLFxuICAgICAgICBzdG9wOiAoKSA9PiBjYW5jZWxGcmFtZShwYXNzVGltZXN0YW1wKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlJ3JlIHByb2Nlc3NpbmcgdGhpcyBmcmFtZSB3ZSBjYW4gdXNlIHRoZVxuICAgICAgICAgKiBmcmFtZWxvY2tlZCB0aW1lc3RhbXAgdG8ga2VlcCB0aGluZ3MgaW4gc3luYy5cbiAgICAgICAgICovXG4gICAgICAgIG5vdzogKCkgPT4gZnJhbWVEYXRhLmlzUHJvY2Vzc2luZyA/IGZyYW1lRGF0YS50aW1lc3RhbXAgOiBwZXJmb3JtYW5jZS5ub3coKSxcbiAgICB9O1xufTtcblxuZXhwb3J0IHsgZnJhbWVsb29wRHJpdmVyIH07XG4iLCIvKipcbiAqIEltcGxlbWVudCBhIHByYWN0aWNhbCBtYXggZHVyYXRpb24gZm9yIGtleWZyYW1lIGdlbmVyYXRpb25cbiAqIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHNcbiAqL1xuY29uc3QgbWF4R2VuZXJhdG9yRHVyYXRpb24gPSAyMDAwMDtcbmZ1bmN0aW9uIGNhbGNHZW5lcmF0b3JEdXJhdGlvbihnZW5lcmF0b3IpIHtcbiAgICBsZXQgZHVyYXRpb24gPSAwO1xuICAgIGNvbnN0IHRpbWVTdGVwID0gNTA7XG4gICAgbGV0IHN0YXRlID0gZ2VuZXJhdG9yLm5leHQoZHVyYXRpb24pO1xuICAgIHdoaWxlICghc3RhdGUuZG9uZSAmJiBkdXJhdGlvbiA8IG1heEdlbmVyYXRvckR1cmF0aW9uKSB7XG4gICAgICAgIGR1cmF0aW9uICs9IHRpbWVTdGVwO1xuICAgICAgICBzdGF0ZSA9IGdlbmVyYXRvci5uZXh0KGR1cmF0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIGR1cmF0aW9uID49IG1heEdlbmVyYXRvckR1cmF0aW9uID8gSW5maW5pdHkgOiBkdXJhdGlvbjtcbn1cblxuZXhwb3J0IHsgY2FsY0dlbmVyYXRvckR1cmF0aW9uLCBtYXhHZW5lcmF0b3JEdXJhdGlvbiB9O1xuIiwiaW1wb3J0IHsga2V5ZnJhbWVzIH0gZnJvbSAnLi4vLi4vZ2VuZXJhdG9ycy9rZXlmcmFtZXMubWpzJztcbmltcG9ydCB7IHNwcmluZyB9IGZyb20gJy4uLy4uL2dlbmVyYXRvcnMvc3ByaW5nL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBpbmVydGlhIH0gZnJvbSAnLi4vLi4vZ2VuZXJhdG9ycy9pbmVydGlhLm1qcyc7XG5pbXBvcnQgeyBmcmFtZWxvb3BEcml2ZXIgfSBmcm9tICcuL2RyaXZlci1mcmFtZWxvb3AubWpzJztcbmltcG9ydCB7IGludGVycG9sYXRlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW50ZXJwb2xhdGUubWpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2xhbXAubWpzJztcbmltcG9ydCB7IG1pbGxpc2Vjb25kc1RvU2Vjb25kcywgc2Vjb25kc1RvTWlsbGlzZWNvbmRzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGltZS1jb252ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBjYWxjR2VuZXJhdG9yRHVyYXRpb24gfSBmcm9tICcuLi8uLi9nZW5lcmF0b3JzL3V0aWxzL2NhbGMtZHVyYXRpb24ubWpzJztcblxuY29uc3QgdHlwZXMgPSB7XG4gICAgZGVjYXk6IGluZXJ0aWEsXG4gICAgaW5lcnRpYSxcbiAgICB0d2Vlbjoga2V5ZnJhbWVzLFxuICAgIGtleWZyYW1lczoga2V5ZnJhbWVzLFxuICAgIHNwcmluZyxcbn07XG4vKipcbiAqIEFuaW1hdGUgYSBzaW5nbGUgdmFsdWUgb24gdGhlIG1haW4gdGhyZWFkLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgd3JpdHRlbiwgd2hlcmUgZnVuY3Rpb25hbGl0eSBvdmVybGFwcyxcbiAqIHRvIGJlIGxhcmdlbHkgc3BlYy1jb21wbGlhbnQgd2l0aCBXQUFQSSB0byBhbGxvdyBmdW5naWJpbGl0eVxuICogYmV0d2VlbiB0aGUgdHdvLlxuICovXG5mdW5jdGlvbiBhbmltYXRlVmFsdWUoeyBhdXRvcGxheSA9IHRydWUsIGRlbGF5ID0gMCwgZHJpdmVyID0gZnJhbWVsb29wRHJpdmVyLCBrZXlmcmFtZXM6IGtleWZyYW1lcyQxLCB0eXBlID0gXCJrZXlmcmFtZXNcIiwgcmVwZWF0ID0gMCwgcmVwZWF0RGVsYXkgPSAwLCByZXBlYXRUeXBlID0gXCJsb29wXCIsIG9uUGxheSwgb25TdG9wLCBvbkNvbXBsZXRlLCBvblVwZGF0ZSwgLi4ub3B0aW9ucyB9KSB7XG4gICAgbGV0IHNwZWVkID0gMTtcbiAgICBsZXQgaGFzU3RvcHBlZCA9IGZhbHNlO1xuICAgIGxldCByZXNvbHZlRmluaXNoZWRQcm9taXNlO1xuICAgIGxldCBjdXJyZW50RmluaXNoZWRQcm9taXNlO1xuICAgIC8qKlxuICAgICAqIFJlc29sdmUgdGhlIGN1cnJlbnQgUHJvbWlzZSBldmVyeSB0aW1lIHdlIGVudGVyIHRoZVxuICAgICAqIGZpbmlzaGVkIHN0YXRlLiBUaGlzIGlzIFdBQVBJLWNvbXBhdGlibGUgYmVoYXZpb3VyLlxuICAgICAqL1xuICAgIGNvbnN0IHVwZGF0ZUZpbmlzaGVkUHJvbWlzZSA9ICgpID0+IHtcbiAgICAgICAgY3VycmVudEZpbmlzaGVkUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlRmluaXNoZWRQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBDcmVhdGUgdGhlIGZpcnN0IGZpbmlzaGVkIHByb21pc2VcbiAgICB1cGRhdGVGaW5pc2hlZFByb21pc2UoKTtcbiAgICBsZXQgYW5pbWF0aW9uRHJpdmVyO1xuICAgIGNvbnN0IGdlbmVyYXRvckZhY3RvcnkgPSB0eXBlc1t0eXBlXSB8fCBrZXlmcmFtZXM7XG4gICAgLyoqXG4gICAgICogSWYgdGhpcyBpc24ndCB0aGUga2V5ZnJhbWVzIGdlbmVyYXRvciBhbmQgd2UndmUgYmVlbiBwcm92aWRlZFxuICAgICAqIHN0cmluZ3MgYXMga2V5ZnJhbWVzLCB3ZSBuZWVkIHRvIGludGVycG9sYXRlIHRoZXNlLlxuICAgICAqIFRPRE86IFN1cHBvcnQgdmVsb2NpdHkgZm9yIHVuaXRzIGFuZCBjb21wbGV4IHZhbHVlIHR5cGVzL1xuICAgICAqL1xuICAgIGxldCBtYXBOdW1iZXJzVG9LZXlmcmFtZXM7XG4gICAgaWYgKGdlbmVyYXRvckZhY3RvcnkgIT09IGtleWZyYW1lcyAmJlxuICAgICAgICB0eXBlb2Yga2V5ZnJhbWVzJDFbMF0gIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgbWFwTnVtYmVyc1RvS2V5ZnJhbWVzID0gaW50ZXJwb2xhdGUoWzAsIDEwMF0sIGtleWZyYW1lcyQxLCB7XG4gICAgICAgICAgICBjbGFtcDogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgICBrZXlmcmFtZXMkMSA9IFswLCAxMDBdO1xuICAgIH1cbiAgICBjb25zdCBnZW5lcmF0b3IgPSBnZW5lcmF0b3JGYWN0b3J5KHsgLi4ub3B0aW9ucywga2V5ZnJhbWVzOiBrZXlmcmFtZXMkMSB9KTtcbiAgICBsZXQgbWlycm9yZWRHZW5lcmF0b3I7XG4gICAgaWYgKHJlcGVhdFR5cGUgPT09IFwibWlycm9yXCIpIHtcbiAgICAgICAgbWlycm9yZWRHZW5lcmF0b3IgPSBnZW5lcmF0b3JGYWN0b3J5KHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBrZXlmcmFtZXM6IFsuLi5rZXlmcmFtZXMkMV0ucmV2ZXJzZSgpLFxuICAgICAgICAgICAgdmVsb2NpdHk6IC0ob3B0aW9ucy52ZWxvY2l0eSB8fCAwKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBwbGF5U3RhdGUgPSBcImlkbGVcIjtcbiAgICBsZXQgaG9sZFRpbWUgPSBudWxsO1xuICAgIGxldCBzdGFydFRpbWUgPSBudWxsO1xuICAgIGxldCBjYW5jZWxUaW1lID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJZiBkdXJhdGlvbiBpcyB1bmRlZmluZWQgYW5kIHdlIGhhdmUgcmVwZWF0IG9wdGlvbnMsXG4gICAgICogd2UgbmVlZCB0byBjYWxjdWxhdGUgYSBkdXJhdGlvbiBmcm9tIHRoZSBnZW5lcmF0b3IuXG4gICAgICpcbiAgICAgKiBXZSBzZXQgaXQgdG8gdGhlIGdlbmVyYXRvciBpdHNlbGYgdG8gY2FjaGUgdGhlIGR1cmF0aW9uLlxuICAgICAqIEFueSB0aW1lbGluZSByZXNvbHZlciB3aWxsIG5lZWQgdG8gaGF2ZSBhbHJlYWR5IHByZWNhbGN1bGF0ZWRcbiAgICAgKiB0aGUgZHVyYXRpb24gYnkgdGhpcyBzdGVwLlxuICAgICAqL1xuICAgIGlmIChnZW5lcmF0b3IuY2FsY3VsYXRlZER1cmF0aW9uID09PSBudWxsICYmIHJlcGVhdCkge1xuICAgICAgICBnZW5lcmF0b3IuY2FsY3VsYXRlZER1cmF0aW9uID0gY2FsY0dlbmVyYXRvckR1cmF0aW9uKGdlbmVyYXRvcik7XG4gICAgfVxuICAgIGNvbnN0IHsgY2FsY3VsYXRlZER1cmF0aW9uIH0gPSBnZW5lcmF0b3I7XG4gICAgbGV0IHJlc29sdmVkRHVyYXRpb24gPSBJbmZpbml0eTtcbiAgICBsZXQgdG90YWxEdXJhdGlvbiA9IEluZmluaXR5O1xuICAgIGlmIChjYWxjdWxhdGVkRHVyYXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgcmVzb2x2ZWREdXJhdGlvbiA9IGNhbGN1bGF0ZWREdXJhdGlvbiArIHJlcGVhdERlbGF5O1xuICAgICAgICB0b3RhbER1cmF0aW9uID0gcmVzb2x2ZWREdXJhdGlvbiAqIChyZXBlYXQgKyAxKSAtIHJlcGVhdERlbGF5O1xuICAgIH1cbiAgICBsZXQgY3VycmVudFRpbWUgPSAwO1xuICAgIGNvbnN0IHRpY2sgPSAodGltZXN0YW1wKSA9PiB7XG4gICAgICAgIGlmIChzdGFydFRpbWUgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdGltZXN0YW1wcyBjYW4gY29tZSB0aHJvdWdoIGFzIGxvd2VyIHRoYW5cbiAgICAgICAgICogdGhlIHN0YXJ0VGltZSBhcyBzZXQgYnkgcGVyZm9ybWFuY2Uubm93KCkuIEhlcmUgd2UgcHJldmVudCB0aGlzLFxuICAgICAgICAgKiB0aG91Z2ggaW4gdGhlIGZ1dHVyZSBpdCBjb3VsZCBiZSBwb3NzaWJsZSB0byBtYWtlIHNldHRpbmcgc3RhcnRUaW1lXG4gICAgICAgICAqIGEgcGVuZGluZyBvcGVyYXRpb24gdGhhdCBnZXRzIHJlc29sdmVkIGhlcmUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoc3BlZWQgPiAwKVxuICAgICAgICAgICAgc3RhcnRUaW1lID0gTWF0aC5taW4oc3RhcnRUaW1lLCB0aW1lc3RhbXApO1xuICAgICAgICBpZiAoc3BlZWQgPCAwKVxuICAgICAgICAgICAgc3RhcnRUaW1lID0gTWF0aC5taW4odGltZXN0YW1wIC0gdG90YWxEdXJhdGlvbiAvIHNwZWVkLCBzdGFydFRpbWUpO1xuICAgICAgICBpZiAoaG9sZFRpbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gaG9sZFRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSb3VuZGluZyB0aGUgdGltZSBiZWNhdXNlIGZsb2F0aW5nIHBvaW50IGFyaXRobWV0aWMgaXMgbm90IGFsd2F5cyBhY2N1cmF0ZSwgZS5nLiAzMDAwLjM2NyAtIDEwMDAuMzY3ID1cbiAgICAgICAgICAgIC8vIDIwMDAuMDAwMDAwMDAwMDAwMi4gVGhpcyBpcyBhIHByb2JsZW0gd2hlbiB3ZSBhcmUgY29tcGFyaW5nIHRoZSBjdXJyZW50VGltZSB3aXRoIHRoZSBkdXJhdGlvbiwgZm9yXG4gICAgICAgICAgICAvLyBleGFtcGxlLlxuICAgICAgICAgICAgY3VycmVudFRpbWUgPSBNYXRoLnJvdW5kKHRpbWVzdGFtcCAtIHN0YXJ0VGltZSkgKiBzcGVlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWJhc2Ugb24gZGVsYXlcbiAgICAgICAgY29uc3QgdGltZVdpdGhvdXREZWxheSA9IGN1cnJlbnRUaW1lIC0gZGVsYXkgKiAoc3BlZWQgPj0gMCA/IDEgOiAtMSk7XG4gICAgICAgIGNvbnN0IGlzSW5EZWxheVBoYXNlID0gc3BlZWQgPj0gMCA/IHRpbWVXaXRob3V0RGVsYXkgPCAwIDogdGltZVdpdGhvdXREZWxheSA+IHRvdGFsRHVyYXRpb247XG4gICAgICAgIGN1cnJlbnRUaW1lID0gTWF0aC5tYXgodGltZVdpdGhvdXREZWxheSwgMCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGFuaW1hdGlvbiBoYXMgZmluaXNoZWQsIHNldCB0aGUgY3VycmVudCB0aW1lXG4gICAgICAgICAqIHRvIHRoZSB0b3RhbCBkdXJhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChwbGF5U3RhdGUgPT09IFwiZmluaXNoZWRcIiAmJiBob2xkVGltZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudFRpbWUgPSB0b3RhbER1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbGFwc2VkID0gY3VycmVudFRpbWU7XG4gICAgICAgIGxldCBmcmFtZUdlbmVyYXRvciA9IGdlbmVyYXRvcjtcbiAgICAgICAgaWYgKHJlcGVhdCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZXQgdGhlIGN1cnJlbnQgcHJvZ3Jlc3MgKDAtMSkgb2YgdGhlIGFuaW1hdGlvbi4gSWYgdCBpcyA+XG4gICAgICAgICAgICAgKiB0aGFuIGR1cmF0aW9uIHdlJ2xsIGdldCB2YWx1ZXMgbGlrZSAyLjUgKG1pZHdheSB0aHJvdWdoIHRoZVxuICAgICAgICAgICAgICogdGhpcmQgaXRlcmF0aW9uKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGN1cnJlbnRUaW1lIC8gcmVzb2x2ZWREdXJhdGlvbjtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IGl0ZXJhdGlvbiAoMCBpbmRleGVkKS4gRm9yIGluc3RhbmNlIHRoZSBmbG9vciBvZlxuICAgICAgICAgICAgICogMi41IGlzIDIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCBjdXJyZW50SXRlcmF0aW9uID0gTWF0aC5mbG9vcihwcm9ncmVzcyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdldCB0aGUgY3VycmVudCBwcm9ncmVzcyBvZiB0aGUgaXRlcmF0aW9uIGJ5IHRha2luZyB0aGUgcmVtYWluZGVyXG4gICAgICAgICAgICAgKiBzbyAyLjUgaXMgMC41IHRocm91Z2ggaXRlcmF0aW9uIDJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbGV0IGl0ZXJhdGlvblByb2dyZXNzID0gcHJvZ3Jlc3MgJSAxLjA7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIGl0ZXJhdGlvbiBwcm9ncmVzcyBpcyAxIHdlIGNvdW50IHRoYXQgYXMgdGhlIGVuZFxuICAgICAgICAgICAgICogb2YgdGhlIHByZXZpb3VzIGl0ZXJhdGlvbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFpdGVyYXRpb25Qcm9ncmVzcyAmJiBwcm9ncmVzcyA+PSAxKSB7XG4gICAgICAgICAgICAgICAgaXRlcmF0aW9uUHJvZ3Jlc3MgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlcmF0aW9uUHJvZ3Jlc3MgPT09IDEgJiYgY3VycmVudEl0ZXJhdGlvbi0tO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IE1hdGgubWluKGN1cnJlbnRJdGVyYXRpb24sIHJlcGVhdCArIDEpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXZlcnNlIHByb2dyZXNzIGlmIHdlJ3JlIG5vdCBydW5uaW5nIGluIFwibm9ybWFsXCIgZGlyZWN0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGl0ZXJhdGlvbklzT2RkID0gQm9vbGVhbihjdXJyZW50SXRlcmF0aW9uICUgMik7XG4gICAgICAgICAgICBpZiAoaXRlcmF0aW9uSXNPZGQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVwZWF0VHlwZSA9PT0gXCJyZXZlcnNlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uUHJvZ3Jlc3MgPSAxIC0gaXRlcmF0aW9uUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXREZWxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uUHJvZ3Jlc3MgLT0gcmVwZWF0RGVsYXkgLyByZXNvbHZlZER1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlcGVhdFR5cGUgPT09IFwibWlycm9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVHZW5lcmF0b3IgPSBtaXJyb3JlZEdlbmVyYXRvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcCA9IGNsYW1wKDAsIDEsIGl0ZXJhdGlvblByb2dyZXNzKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRvdGFsRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBwID0gcmVwZWF0VHlwZSA9PT0gXCJyZXZlcnNlXCIgJiYgaXRlcmF0aW9uSXNPZGQgPyAxIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsYXBzZWQgPSBwICogcmVzb2x2ZWREdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UncmUgaW4gbmVnYXRpdmUgdGltZSwgc2V0IHN0YXRlIGFzIHRoZSBpbml0aWFsIGtleWZyYW1lLlxuICAgICAgICAgKiBUaGlzIHByZXZlbnRzIGRlbGF5OiB4LCBkdXJhdGlvbjogMCBhbmltYXRpb25zIGZyb20gZmluaXNoaW5nXG4gICAgICAgICAqIGluc3RhbnRseS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHN0YXRlID0gaXNJbkRlbGF5UGhhc2VcbiAgICAgICAgICAgID8geyBkb25lOiBmYWxzZSwgdmFsdWU6IGtleWZyYW1lcyQxWzBdIH1cbiAgICAgICAgICAgIDogZnJhbWVHZW5lcmF0b3IubmV4dChlbGFwc2VkKTtcbiAgICAgICAgaWYgKG1hcE51bWJlcnNUb0tleWZyYW1lcykge1xuICAgICAgICAgICAgc3RhdGUudmFsdWUgPSBtYXBOdW1iZXJzVG9LZXlmcmFtZXMoc3RhdGUudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IGRvbmUgfSA9IHN0YXRlO1xuICAgICAgICBpZiAoIWlzSW5EZWxheVBoYXNlICYmIGNhbGN1bGF0ZWREdXJhdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZG9uZSA9IHNwZWVkID49IDAgPyBjdXJyZW50VGltZSA+PSB0b3RhbER1cmF0aW9uIDogY3VycmVudFRpbWUgPD0gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc0FuaW1hdGlvbkZpbmlzaGVkID0gaG9sZFRpbWUgPT09IG51bGwgJiZcbiAgICAgICAgICAgIChwbGF5U3RhdGUgPT09IFwiZmluaXNoZWRcIiB8fCAocGxheVN0YXRlID09PSBcInJ1bm5pbmdcIiAmJiBkb25lKSk7XG4gICAgICAgIGlmIChvblVwZGF0ZSkge1xuICAgICAgICAgICAgb25VcGRhdGUoc3RhdGUudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FuaW1hdGlvbkZpbmlzaGVkKSB7XG4gICAgICAgICAgICBmaW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcbiAgICBjb25zdCBzdG9wQW5pbWF0aW9uRHJpdmVyID0gKCkgPT4ge1xuICAgICAgICBhbmltYXRpb25Ecml2ZXIgJiYgYW5pbWF0aW9uRHJpdmVyLnN0b3AoKTtcbiAgICAgICAgYW5pbWF0aW9uRHJpdmVyID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgY29uc3QgY2FuY2VsID0gKCkgPT4ge1xuICAgICAgICBwbGF5U3RhdGUgPSBcImlkbGVcIjtcbiAgICAgICAgc3RvcEFuaW1hdGlvbkRyaXZlcigpO1xuICAgICAgICByZXNvbHZlRmluaXNoZWRQcm9taXNlKCk7XG4gICAgICAgIHVwZGF0ZUZpbmlzaGVkUHJvbWlzZSgpO1xuICAgICAgICBzdGFydFRpbWUgPSBjYW5jZWxUaW1lID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgcGxheVN0YXRlID0gXCJmaW5pc2hlZFwiO1xuICAgICAgICBvbkNvbXBsZXRlICYmIG9uQ29tcGxldGUoKTtcbiAgICAgICAgc3RvcEFuaW1hdGlvbkRyaXZlcigpO1xuICAgICAgICByZXNvbHZlRmluaXNoZWRQcm9taXNlKCk7XG4gICAgfTtcbiAgICBjb25zdCBwbGF5ID0gKCkgPT4ge1xuICAgICAgICBpZiAoaGFzU3RvcHBlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFhbmltYXRpb25Ecml2ZXIpXG4gICAgICAgICAgICBhbmltYXRpb25Ecml2ZXIgPSBkcml2ZXIodGljayk7XG4gICAgICAgIGNvbnN0IG5vdyA9IGFuaW1hdGlvbkRyaXZlci5ub3coKTtcbiAgICAgICAgb25QbGF5ICYmIG9uUGxheSgpO1xuICAgICAgICBpZiAoaG9sZFRpbWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IG5vdyAtIGhvbGRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFzdGFydFRpbWUgfHwgcGxheVN0YXRlID09PSBcImZpbmlzaGVkXCIpIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IG5vdztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGxheVN0YXRlID09PSBcImZpbmlzaGVkXCIpIHtcbiAgICAgICAgICAgIHVwZGF0ZUZpbmlzaGVkUHJvbWlzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhbmNlbFRpbWUgPSBzdGFydFRpbWU7XG4gICAgICAgIGhvbGRUaW1lID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBwbGF5U3RhdGUgdG8gcnVubmluZyBvbmx5IGFmdGVyIHdlJ3ZlIHVzZWQgaXQgaW5cbiAgICAgICAgICogdGhlIHByZXZpb3VzIGxvZ2ljLlxuICAgICAgICAgKi9cbiAgICAgICAgcGxheVN0YXRlID0gXCJydW5uaW5nXCI7XG4gICAgICAgIGFuaW1hdGlvbkRyaXZlci5zdGFydCgpO1xuICAgIH07XG4gICAgaWYgKGF1dG9wbGF5KSB7XG4gICAgICAgIHBsYXkoKTtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbHMgPSB7XG4gICAgICAgIHRoZW4ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEZpbmlzaGVkUHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCB0aW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIG1pbGxpc2Vjb25kc1RvU2Vjb25kcyhjdXJyZW50VGltZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCB0aW1lKG5ld1RpbWUpIHtcbiAgICAgICAgICAgIG5ld1RpbWUgPSBzZWNvbmRzVG9NaWxsaXNlY29uZHMobmV3VGltZSk7XG4gICAgICAgICAgICBjdXJyZW50VGltZSA9IG5ld1RpbWU7XG4gICAgICAgICAgICBpZiAoaG9sZFRpbWUgIT09IG51bGwgfHwgIWFuaW1hdGlvbkRyaXZlciB8fCBzcGVlZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGhvbGRUaW1lID0gbmV3VGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IGFuaW1hdGlvbkRyaXZlci5ub3coKSAtIG5ld1RpbWUgLyBzcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBnZW5lcmF0b3IuY2FsY3VsYXRlZER1cmF0aW9uID09PSBudWxsXG4gICAgICAgICAgICAgICAgPyBjYWxjR2VuZXJhdG9yRHVyYXRpb24oZ2VuZXJhdG9yKVxuICAgICAgICAgICAgICAgIDogZ2VuZXJhdG9yLmNhbGN1bGF0ZWREdXJhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiBtaWxsaXNlY29uZHNUb1NlY29uZHMoZHVyYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgc3BlZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3BlZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBzcGVlZChuZXdTcGVlZCkge1xuICAgICAgICAgICAgaWYgKG5ld1NwZWVkID09PSBzcGVlZCB8fCAhYW5pbWF0aW9uRHJpdmVyKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNwZWVkID0gbmV3U3BlZWQ7XG4gICAgICAgICAgICBjb250cm9scy50aW1lID0gbWlsbGlzZWNvbmRzVG9TZWNvbmRzKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBsYXlTdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcGxheSxcbiAgICAgICAgcGF1c2U6ICgpID0+IHtcbiAgICAgICAgICAgIHBsYXlTdGF0ZSA9IFwicGF1c2VkXCI7XG4gICAgICAgICAgICBob2xkVGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wOiAoKSA9PiB7XG4gICAgICAgICAgICBoYXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChwbGF5U3RhdGUgPT09IFwiaWRsZVwiKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHBsYXlTdGF0ZSA9IFwiaWRsZVwiO1xuICAgICAgICAgICAgb25TdG9wICYmIG9uU3RvcCgpO1xuICAgICAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNhbmNlbFRpbWUgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgdGljayhjYW5jZWxUaW1lKTtcbiAgICAgICAgICAgIGNhbmNlbCgpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgcGxheVN0YXRlID0gXCJmaW5pc2hlZFwiO1xuICAgICAgICB9LFxuICAgICAgICBzYW1wbGU6IChlbGFwc2VkKSA9PiB7XG4gICAgICAgICAgICBzdGFydFRpbWUgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHRpY2soZWxhcHNlZCk7XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gY29udHJvbHM7XG59XG5cbmV4cG9ydCB7IGFuaW1hdGVWYWx1ZSB9O1xuIiwiZnVuY3Rpb24gbWVtbyhjYWxsYmFjaykge1xuICAgIGxldCByZXN1bHQ7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuXG5leHBvcnQgeyBtZW1vIH07XG4iLCJpbXBvcnQgeyBhbmltYXRlU3R5bGUgfSBmcm9tICcuL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBpc1dhYXBpU3VwcG9ydGVkRWFzaW5nIH0gZnJvbSAnLi9lYXNpbmcubWpzJztcbmltcG9ydCB7IGdldEZpbmFsS2V5ZnJhbWUgfSBmcm9tICcuL3V0aWxzL2dldC1maW5hbC1rZXlmcmFtZS5tanMnO1xuaW1wb3J0IHsgYW5pbWF0ZVZhbHVlIH0gZnJvbSAnLi4vanMvaW5kZXgubWpzJztcbmltcG9ydCB7IG1pbGxpc2Vjb25kc1RvU2Vjb25kcywgc2Vjb25kc1RvTWlsbGlzZWNvbmRzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGltZS1jb252ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBtZW1vIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbWVtby5tanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL25vb3AubWpzJztcbmltcG9ydCB7IGZyYW1lLCBjYW5jZWxGcmFtZSB9IGZyb20gJy4uLy4uLy4uL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG5jb25zdCBzdXBwb3J0c1dhYXBpID0gbWVtbygoKSA9PiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChFbGVtZW50LnByb3RvdHlwZSwgXCJhbmltYXRlXCIpKTtcbi8qKlxuICogQSBsaXN0IG9mIHZhbHVlcyB0aGF0IGNhbiBiZSBoYXJkd2FyZS1hY2NlbGVyYXRlZC5cbiAqL1xuY29uc3QgYWNjZWxlcmF0ZWRWYWx1ZXMgPSBuZXcgU2V0KFtcbiAgICBcIm9wYWNpdHlcIixcbiAgICBcImNsaXBQYXRoXCIsXG4gICAgXCJmaWx0ZXJcIixcbiAgICBcInRyYW5zZm9ybVwiLFxuICAgIFwiYmFja2dyb3VuZENvbG9yXCIsXG5dKTtcbi8qKlxuICogMTBtcyBpcyBjaG9zZW4gaGVyZSBhcyBpdCBzdHJpa2VzIGEgYmFsYW5jZSBiZXR3ZWVuIHNtb290aFxuICogcmVzdWx0cyAobW9yZSB0aGFuIG9uZSBrZXlmcmFtZSBwZXIgZnJhbWUgYXQgNjBmcHMpIGFuZFxuICoga2V5ZnJhbWUgcXVhbnRpdHkuXG4gKi9cbmNvbnN0IHNhbXBsZURlbHRhID0gMTA7IC8vbXNcbi8qKlxuICogSW1wbGVtZW50IGEgcHJhY3RpY2FsIG1heCBkdXJhdGlvbiBmb3Iga2V5ZnJhbWUgZ2VuZXJhdGlvblxuICogdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuICovXG5jb25zdCBtYXhEdXJhdGlvbiA9IDIwMDAwO1xuY29uc3QgcmVxdWlyZXNQcmVnZW5lcmF0ZWRLZXlmcmFtZXMgPSAodmFsdWVOYW1lLCBvcHRpb25zKSA9PiBvcHRpb25zLnR5cGUgPT09IFwic3ByaW5nXCIgfHxcbiAgICB2YWx1ZU5hbWUgPT09IFwiYmFja2dyb3VuZENvbG9yXCIgfHxcbiAgICAhaXNXYWFwaVN1cHBvcnRlZEVhc2luZyhvcHRpb25zLmVhc2UpO1xuZnVuY3Rpb24gY3JlYXRlQWNjZWxlcmF0ZWRBbmltYXRpb24odmFsdWUsIHZhbHVlTmFtZSwgeyBvblVwZGF0ZSwgb25Db21wbGV0ZSwgLi4ub3B0aW9ucyB9KSB7XG4gICAgY29uc3QgY2FuQWNjZWxlcmF0ZUFuaW1hdGlvbiA9IHN1cHBvcnRzV2FhcGkoKSAmJlxuICAgICAgICBhY2NlbGVyYXRlZFZhbHVlcy5oYXModmFsdWVOYW1lKSAmJlxuICAgICAgICAhb3B0aW9ucy5yZXBlYXREZWxheSAmJlxuICAgICAgICBvcHRpb25zLnJlcGVhdFR5cGUgIT09IFwibWlycm9yXCIgJiZcbiAgICAgICAgb3B0aW9ucy5kYW1waW5nICE9PSAwICYmXG4gICAgICAgIG9wdGlvbnMudHlwZSAhPT0gXCJpbmVydGlhXCI7XG4gICAgaWYgKCFjYW5BY2NlbGVyYXRlQW5pbWF0aW9uKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVE9ETzogVW5pZnkgd2l0aCBqcy9pbmRleFxuICAgICAqL1xuICAgIGxldCBoYXNTdG9wcGVkID0gZmFsc2U7XG4gICAgbGV0IHJlc29sdmVGaW5pc2hlZFByb21pc2U7XG4gICAgbGV0IGN1cnJlbnRGaW5pc2hlZFByb21pc2U7XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZSB0aGUgY3VycmVudCBQcm9taXNlIGV2ZXJ5IHRpbWUgd2UgZW50ZXIgdGhlXG4gICAgICogZmluaXNoZWQgc3RhdGUuIFRoaXMgaXMgV0FBUEktY29tcGF0aWJsZSBiZWhhdmlvdXIuXG4gICAgICovXG4gICAgY29uc3QgdXBkYXRlRmluaXNoZWRQcm9taXNlID0gKCkgPT4ge1xuICAgICAgICBjdXJyZW50RmluaXNoZWRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmVGaW5pc2hlZFByb21pc2UgPSByZXNvbHZlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIENyZWF0ZSB0aGUgZmlyc3QgZmluaXNoZWQgcHJvbWlzZVxuICAgIHVwZGF0ZUZpbmlzaGVkUHJvbWlzZSgpO1xuICAgIGxldCB7IGtleWZyYW1lcywgZHVyYXRpb24gPSAzMDAsIGVhc2UsIHRpbWVzIH0gPSBvcHRpb25zO1xuICAgIC8qKlxuICAgICAqIElmIHRoaXMgYW5pbWF0aW9uIG5lZWRzIHByZS1nZW5lcmF0ZWQga2V5ZnJhbWVzIHRoZW4gZ2VuZXJhdGUuXG4gICAgICovXG4gICAgaWYgKHJlcXVpcmVzUHJlZ2VuZXJhdGVkS2V5ZnJhbWVzKHZhbHVlTmFtZSwgb3B0aW9ucykpIHtcbiAgICAgICAgY29uc3Qgc2FtcGxlQW5pbWF0aW9uID0gYW5pbWF0ZVZhbHVlKHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICByZXBlYXQ6IDAsXG4gICAgICAgICAgICBkZWxheTogMCxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBzdGF0ZSA9IHsgZG9uZTogZmFsc2UsIHZhbHVlOiBrZXlmcmFtZXNbMF0gfTtcbiAgICAgICAgY29uc3QgcHJlZ2VuZXJhdGVkS2V5ZnJhbWVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYWlsIGFmdGVyIDIwIHNlY29uZHMgb2YgcHJlLWdlbmVyYXRlZCBrZXlmcmFtZXMgYXMgaXQncyBsaWtlbHlcbiAgICAgICAgICogd2UncmUgaGVhZGluZyBmb3IgYW4gaW5maW5pdGUgbG9vcC5cbiAgICAgICAgICovXG4gICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgd2hpbGUgKCFzdGF0ZS5kb25lICYmIHQgPCBtYXhEdXJhdGlvbikge1xuICAgICAgICAgICAgc3RhdGUgPSBzYW1wbGVBbmltYXRpb24uc2FtcGxlKHQpO1xuICAgICAgICAgICAgcHJlZ2VuZXJhdGVkS2V5ZnJhbWVzLnB1c2goc3RhdGUudmFsdWUpO1xuICAgICAgICAgICAgdCArPSBzYW1wbGVEZWx0YTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lcyA9IHVuZGVmaW5lZDtcbiAgICAgICAga2V5ZnJhbWVzID0gcHJlZ2VuZXJhdGVkS2V5ZnJhbWVzO1xuICAgICAgICBkdXJhdGlvbiA9IHQgLSBzYW1wbGVEZWx0YTtcbiAgICAgICAgZWFzZSA9IFwibGluZWFyXCI7XG4gICAgfVxuICAgIGNvbnN0IGFuaW1hdGlvbiA9IGFuaW1hdGVTdHlsZSh2YWx1ZS5vd25lci5jdXJyZW50LCB2YWx1ZU5hbWUsIGtleWZyYW1lcywge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgY3VycmVudGx5IG5vdCBjYWxsZWQgaWYgZWFzZSBpcyBwcm92aWRlZFxuICAgICAgICAgKiBhcyBhIGZ1bmN0aW9uIHNvIHRoZSBjYXN0IGlzIHNhZmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEhvd2V2ZXIgaXQgd291bGQgYmUgcG9zc2libGUgZm9yIGEgZnV0dXJlIHJlZmluZW1lbnQgdG8gcG9ydFxuICAgICAgICAgKiBpbiBlYXNpbmcgcHJlZ2VuZXJhdGlvbiBmcm9tIE1vdGlvbiBPbmUgZm9yIGJyb3dzZXJzIHRoYXRcbiAgICAgICAgICogc3VwcG9ydCB0aGUgdXBjb21pbmcgYGxpbmVhcigpYCBlYXNpbmcgZnVuY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBlYXNlOiBlYXNlLFxuICAgICAgICB0aW1lcyxcbiAgICB9KTtcbiAgICBjb25zdCBjYW5jZWxBbmltYXRpb24gPSAoKSA9PiBhbmltYXRpb24uY2FuY2VsKCk7XG4gICAgY29uc3Qgc2FmZUNhbmNlbCA9ICgpID0+IHtcbiAgICAgICAgZnJhbWUudXBkYXRlKGNhbmNlbEFuaW1hdGlvbik7XG4gICAgICAgIHJlc29sdmVGaW5pc2hlZFByb21pc2UoKTtcbiAgICAgICAgdXBkYXRlRmluaXNoZWRQcm9taXNlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmVmZXIgdGhlIGBvbmZpbmlzaGAgcHJvcCBhcyBpdCdzIG1vcmUgd2lkZWx5IHN1cHBvcnRlZCB0aGFuXG4gICAgICogdGhlIGBmaW5pc2hlZGAgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEhlcmUsIHdlIHN5bmNocm9ub3VzbHkgc2V0IHRoZSBwcm92aWRlZCBNb3Rpb25WYWx1ZSB0byB0aGUgZW5kXG4gICAgICoga2V5ZnJhbWUuIElmIHdlIGRpZG4ndCwgd2hlbiB0aGUgV0FBUEkgYW5pbWF0aW9uIGlzIGZpbmlzaGVkIGl0IHdvdWxkXG4gICAgICogYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50IHdoaWNoIHdvdWxkIHRoZW4gcmV2ZXJ0IHRvIGl0cyBvbGQgc3R5bGVzLlxuICAgICAqL1xuICAgIGFuaW1hdGlvbi5vbmZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgdmFsdWUuc2V0KGdldEZpbmFsS2V5ZnJhbWUoa2V5ZnJhbWVzLCBvcHRpb25zKSk7XG4gICAgICAgIG9uQ29tcGxldGUgJiYgb25Db21wbGV0ZSgpO1xuICAgICAgICBzYWZlQ2FuY2VsKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbmltYXRpb24gaW50ZXJydXB0IGNhbGxiYWNrLlxuICAgICAqL1xuICAgIGNvbnN0IGNvbnRyb2xzID0ge1xuICAgICAgICB0aGVuKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRGaW5pc2hlZFByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9LFxuICAgICAgICBhdHRhY2hUaW1lbGluZSh0aW1lbGluZSkge1xuICAgICAgICAgICAgYW5pbWF0aW9uLnRpbWVsaW5lID0gdGltZWxpbmU7XG4gICAgICAgICAgICBhbmltYXRpb24ub25maW5pc2ggPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCB0aW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIG1pbGxpc2Vjb25kc1RvU2Vjb25kcyhhbmltYXRpb24uY3VycmVudFRpbWUgfHwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCB0aW1lKG5ld1RpbWUpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50VGltZSA9IHNlY29uZHNUb01pbGxpc2Vjb25kcyhuZXdUaW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHNwZWVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbi5wbGF5YmFja1JhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCBzcGVlZChuZXdTcGVlZCkge1xuICAgICAgICAgICAgYW5pbWF0aW9uLnBsYXliYWNrUmF0ZSA9IG5ld1NwZWVkO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgZHVyYXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbWlsbGlzZWNvbmRzVG9TZWNvbmRzKGR1cmF0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGxheTogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGhhc1N0b3BwZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgYW5pbWF0aW9uLnBsYXkoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FuY2VsIGFueSBwZW5kaW5nIGNhbmNlbCB0YXNrc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjYW5jZWxGcmFtZShjYW5jZWxBbmltYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBwYXVzZTogKCkgPT4gYW5pbWF0aW9uLnBhdXNlKCksXG4gICAgICAgIHN0b3A6ICgpID0+IHtcbiAgICAgICAgICAgIGhhc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5wbGF5U3RhdGUgPT09IFwiaWRsZVwiKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV0FBUEkgZG9lc24ndCBuYXRpdmVseSBoYXZlIGFueSBpbnRlcnJ1cHRpb24gY2FwYWJpbGl0aWVzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFJhdGhlciB0aGFuIHJlYWQgY29tbWl0ZWQgc3R5bGVzIGJhY2sgb3V0IG9mIHRoZSBET00sIHdlIGNhblxuICAgICAgICAgICAgICogY3JlYXRlIGEgcmVuZGVybGVzcyBKUyBhbmltYXRpb24gYW5kIHNhbXBsZSBpdCB0d2ljZSB0byBjYWxjdWxhdGVcbiAgICAgICAgICAgICAqIGl0cyBjdXJyZW50IHZhbHVlLCBcInByZXZpb3VzXCIgdmFsdWUsIGFuZCB0aGVyZWZvcmUgYWxsb3dcbiAgICAgICAgICAgICAqIE1vdGlvbiB0byBjYWxjdWxhdGUgdmVsb2NpdHkgZm9yIGFueSBzdWJzZXF1ZW50IGFuaW1hdGlvbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgeyBjdXJyZW50VGltZSB9ID0gYW5pbWF0aW9uO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2FtcGxlQW5pbWF0aW9uID0gYW5pbWF0ZVZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhbHVlLnNldFdpdGhWZWxvY2l0eShzYW1wbGVBbmltYXRpb24uc2FtcGxlKGN1cnJlbnRUaW1lIC0gc2FtcGxlRGVsdGEpLnZhbHVlLCBzYW1wbGVBbmltYXRpb24uc2FtcGxlKGN1cnJlbnRUaW1lKS52YWx1ZSwgc2FtcGxlRGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2FmZUNhbmNlbCgpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogKCkgPT4gYW5pbWF0aW9uLmZpbmlzaCgpLFxuICAgICAgICBjYW5jZWw6IHNhZmVDYW5jZWwsXG4gICAgfTtcbiAgICByZXR1cm4gY29udHJvbHM7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUFjY2VsZXJhdGVkQW5pbWF0aW9uIH07XG4iLCJpbXBvcnQgeyBhbmltYXRlVmFsdWUgfSBmcm9tICcuL2pzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vdXRpbHMvbm9vcC5tanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW50QW5pbWF0aW9uKHsga2V5ZnJhbWVzLCBkZWxheSwgb25VcGRhdGUsIG9uQ29tcGxldGUsIH0pIHtcbiAgICBjb25zdCBzZXRWYWx1ZSA9ICgpID0+IHtcbiAgICAgICAgb25VcGRhdGUgJiYgb25VcGRhdGUoa2V5ZnJhbWVzW2tleWZyYW1lcy5sZW5ndGggLSAxXSk7XG4gICAgICAgIG9uQ29tcGxldGUgJiYgb25Db21wbGV0ZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVE9ETzogQXMgdGhpcyBBUEkgZ3Jvd3MgaXQgY291bGQgbWFrZSBzZW5zZSB0byBhbHdheXMgcmV0dXJuXG4gICAgICAgICAqIGFuaW1hdGVWYWx1ZS4gVGhpcyB3aWxsIGJlIGEgYmlnZ2VyIHByb2plY3QgYXMgYW5pbWF0ZVZhbHVlXG4gICAgICAgICAqIGlzIGZyYW1lLWxvY2tlZCB3aGVyZWFzIHRoaXMgZnVuY3Rpb24gcmVzb2x2ZXMgaW5zdGFudGx5LlxuICAgICAgICAgKiBUaGlzIGlzIGEgYmVoYXZpb3VyYWwgY2hhbmdlIGFuZCBhbHNvIGhhcyByYW1pZmljYXRpb25zIHJlZ2FyZGluZ1xuICAgICAgICAgKiBhc3N1bXB0aW9ucyB3aXRoaW4gdGVzdHMuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGltZTogMCxcbiAgICAgICAgICAgIHNwZWVkOiAxLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgICBwbGF5OiAobm9vcCksXG4gICAgICAgICAgICBwYXVzZTogKG5vb3ApLFxuICAgICAgICAgICAgc3RvcDogKG5vb3ApLFxuICAgICAgICAgICAgdGhlbjogKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogKG5vb3ApLFxuICAgICAgICAgICAgY29tcGxldGU6IChub29wKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBkZWxheVxuICAgICAgICA/IGFuaW1hdGVWYWx1ZSh7XG4gICAgICAgICAgICBrZXlmcmFtZXM6IFswLCAxXSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgICAgICAgZGVsYXksXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBzZXRWYWx1ZSxcbiAgICAgICAgfSlcbiAgICAgICAgOiBzZXRWYWx1ZSgpO1xufVxuXG5leHBvcnQgeyBjcmVhdGVJbnN0YW50QW5pbWF0aW9uIH07XG4iLCJpbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wcyB9IGZyb20gJy4uLy4uL3JlbmRlci9odG1sL3V0aWxzL3RyYW5zZm9ybS5tanMnO1xuXG5jb25zdCB1bmRlckRhbXBlZFNwcmluZyA9IHtcbiAgICB0eXBlOiBcInNwcmluZ1wiLFxuICAgIHN0aWZmbmVzczogNTAwLFxuICAgIGRhbXBpbmc6IDI1LFxuICAgIHJlc3RTcGVlZDogMTAsXG59O1xuY29uc3QgY3JpdGljYWxseURhbXBlZFNwcmluZyA9ICh0YXJnZXQpID0+ICh7XG4gICAgdHlwZTogXCJzcHJpbmdcIixcbiAgICBzdGlmZm5lc3M6IDU1MCxcbiAgICBkYW1waW5nOiB0YXJnZXQgPT09IDAgPyAyICogTWF0aC5zcXJ0KDU1MCkgOiAzMCxcbiAgICByZXN0U3BlZWQ6IDEwLFxufSk7XG5jb25zdCBrZXlmcmFtZXNUcmFuc2l0aW9uID0ge1xuICAgIHR5cGU6IFwia2V5ZnJhbWVzXCIsXG4gICAgZHVyYXRpb246IDAuOCxcbn07XG4vKipcbiAqIERlZmF1bHQgZWFzaW5nIGN1cnZlIGlzIGEgc2xpZ2h0bHkgc2hhbGxvd2VyIHZlcnNpb24gb2ZcbiAqIHRoZSBkZWZhdWx0IGJyb3dzZXIgZWFzaW5nIGN1cnZlLlxuICovXG5jb25zdCBlYXNlID0ge1xuICAgIHR5cGU6IFwia2V5ZnJhbWVzXCIsXG4gICAgZWFzZTogWzAuMjUsIDAuMSwgMC4zNSwgMV0sXG4gICAgZHVyYXRpb246IDAuMyxcbn07XG5jb25zdCBnZXREZWZhdWx0VHJhbnNpdGlvbiA9ICh2YWx1ZUtleSwgeyBrZXlmcmFtZXMgfSkgPT4ge1xuICAgIGlmIChrZXlmcmFtZXMubGVuZ3RoID4gMikge1xuICAgICAgICByZXR1cm4ga2V5ZnJhbWVzVHJhbnNpdGlvbjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHJhbnNmb3JtUHJvcHMuaGFzKHZhbHVlS2V5KSkge1xuICAgICAgICByZXR1cm4gdmFsdWVLZXkuc3RhcnRzV2l0aChcInNjYWxlXCIpXG4gICAgICAgICAgICA/IGNyaXRpY2FsbHlEYW1wZWRTcHJpbmcoa2V5ZnJhbWVzWzFdKVxuICAgICAgICAgICAgOiB1bmRlckRhbXBlZFNwcmluZztcbiAgICB9XG4gICAgcmV0dXJuIGVhc2U7XG59O1xuXG5leHBvcnQgeyBnZXREZWZhdWx0VHJhbnNpdGlvbiB9O1xuIiwiaW1wb3J0IHsgY29tcGxleCB9IGZyb20gJy4uLy4uL3ZhbHVlL3R5cGVzL2NvbXBsZXgvaW5kZXgubWpzJztcblxuLyoqXG4gKiBDaGVjayBpZiBhIHZhbHVlIGlzIGFuaW1hdGFibGUuIEV4YW1wbGVzOlxuICpcbiAqIOKchTogMTAwLCBcIjEwMHB4XCIsIFwiI2ZmZlwiXG4gKiDinYw6IFwiYmxvY2tcIiwgXCJ1cmwoMi5qcGcpXCJcbiAqIEBwYXJhbSB2YWx1ZVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBpc0FuaW1hdGFibGUgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIC8vIElmIHRoZSBsaXN0IG9mIGtleXMgdGF0IG1pZ2h0IGJlIG5vbi1hbmltYXRhYmxlIGdyb3dzLCByZXBsYWNlIHdpdGggU2V0XG4gICAgaWYgKGtleSA9PT0gXCJ6SW5kZXhcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIElmIGl0J3MgYSBudW1iZXIgb3IgYSBrZXlmcmFtZXMgYXJyYXksIHdlIGNhbiBhbmltYXRlIGl0LiBXZSBtaWdodCBhdCBzb21lIHBvaW50XG4gICAgLy8gbmVlZCB0byBkbyBhIGRlZXAgaXNBbmltYXRhYmxlIGNoZWNrIG9mIGtleWZyYW1lcywgb3IgbGV0IFBvcG1vdGlvbiBoYW5kbGUgdGhpcyxcbiAgICAvLyBidXQgZm9yIG5vdyBsZXRzIGxlYXZlIGl0IGxpa2UgdGhpcyBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgLy8gSXQncyBhbmltYXRhYmxlIGlmIHdlIGhhdmUgYSBzdHJpbmdcbiAgICAgICAgKGNvbXBsZXgudGVzdCh2YWx1ZSkgfHwgdmFsdWUgPT09IFwiMFwiKSAmJiAvLyBBbmQgaXQgY29udGFpbnMgbnVtYmVycyBhbmQvb3IgY29sb3JzXG4gICAgICAgICF2YWx1ZS5zdGFydHNXaXRoKFwidXJsKFwiKSAvLyBVbmxlc3MgaXQgc3RhcnRzIHdpdGggXCJ1cmwoXCJcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCB7IGlzQW5pbWF0YWJsZSB9O1xuIiwiaW1wb3J0IHsgY29tcGxleCB9IGZyb20gJy4vaW5kZXgubWpzJztcbmltcG9ydCB7IGZsb2F0UmVnZXggfSBmcm9tICcuLi91dGlscy5tanMnO1xuXG4vKipcbiAqIFByb3BlcnRpZXMgdGhhdCBzaG91bGQgZGVmYXVsdCB0byAxIG9yIDEwMCVcbiAqL1xuY29uc3QgbWF4RGVmYXVsdHMgPSBuZXcgU2V0KFtcImJyaWdodG5lc3NcIiwgXCJjb250cmFzdFwiLCBcInNhdHVyYXRlXCIsIFwib3BhY2l0eVwiXSk7XG5mdW5jdGlvbiBhcHBseURlZmF1bHRGaWx0ZXIodikge1xuICAgIGNvbnN0IFtuYW1lLCB2YWx1ZV0gPSB2LnNsaWNlKDAsIC0xKS5zcGxpdChcIihcIik7XG4gICAgaWYgKG5hbWUgPT09IFwiZHJvcC1zaGFkb3dcIilcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgY29uc3QgW251bWJlcl0gPSB2YWx1ZS5tYXRjaChmbG9hdFJlZ2V4KSB8fCBbXTtcbiAgICBpZiAoIW51bWJlcilcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgY29uc3QgdW5pdCA9IHZhbHVlLnJlcGxhY2UobnVtYmVyLCBcIlwiKTtcbiAgICBsZXQgZGVmYXVsdFZhbHVlID0gbWF4RGVmYXVsdHMuaGFzKG5hbWUpID8gMSA6IDA7XG4gICAgaWYgKG51bWJlciAhPT0gdmFsdWUpXG4gICAgICAgIGRlZmF1bHRWYWx1ZSAqPSAxMDA7XG4gICAgcmV0dXJuIG5hbWUgKyBcIihcIiArIGRlZmF1bHRWYWx1ZSArIHVuaXQgKyBcIilcIjtcbn1cbmNvbnN0IGZ1bmN0aW9uUmVnZXggPSAvKFthLXotXSopXFwoLio/XFwpL2c7XG5jb25zdCBmaWx0ZXIgPSB7XG4gICAgLi4uY29tcGxleCxcbiAgICBnZXRBbmltYXRhYmxlTm9uZTogKHYpID0+IHtcbiAgICAgICAgY29uc3QgZnVuY3Rpb25zID0gdi5tYXRjaChmdW5jdGlvblJlZ2V4KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9ucyA/IGZ1bmN0aW9ucy5tYXAoYXBwbHlEZWZhdWx0RmlsdGVyKS5qb2luKFwiIFwiKSA6IHY7XG4gICAgfSxcbn07XG5cbmV4cG9ydCB7IGZpbHRlciB9O1xuIiwiaW1wb3J0IHsgY29sb3IgfSBmcm9tICcuLi8uLi8uLi92YWx1ZS90eXBlcy9jb2xvci9pbmRleC5tanMnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdHlwZXMvY29tcGxleC9maWx0ZXIubWpzJztcbmltcG9ydCB7IG51bWJlclZhbHVlVHlwZXMgfSBmcm9tICcuL251bWJlci5tanMnO1xuXG4vKipcbiAqIEEgbWFwIG9mIGRlZmF1bHQgdmFsdWUgdHlwZXMgZm9yIGNvbW1vbiB2YWx1ZXNcbiAqL1xuY29uc3QgZGVmYXVsdFZhbHVlVHlwZXMgPSB7XG4gICAgLi4ubnVtYmVyVmFsdWVUeXBlcyxcbiAgICAvLyBDb2xvciBwcm9wc1xuICAgIGNvbG9yLFxuICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IsXG4gICAgb3V0bGluZUNvbG9yOiBjb2xvcixcbiAgICBmaWxsOiBjb2xvcixcbiAgICBzdHJva2U6IGNvbG9yLFxuICAgIC8vIEJvcmRlciBwcm9wc1xuICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICBib3JkZXJUb3BDb2xvcjogY29sb3IsXG4gICAgYm9yZGVyUmlnaHRDb2xvcjogY29sb3IsXG4gICAgYm9yZGVyQm90dG9tQ29sb3I6IGNvbG9yLFxuICAgIGJvcmRlckxlZnRDb2xvcjogY29sb3IsXG4gICAgZmlsdGVyLFxuICAgIFdlYmtpdEZpbHRlcjogZmlsdGVyLFxufTtcbi8qKlxuICogR2V0cyB0aGUgZGVmYXVsdCBWYWx1ZVR5cGUgZm9yIHRoZSBwcm92aWRlZCB2YWx1ZSBrZXlcbiAqL1xuY29uc3QgZ2V0RGVmYXVsdFZhbHVlVHlwZSA9IChrZXkpID0+IGRlZmF1bHRWYWx1ZVR5cGVzW2tleV07XG5cbmV4cG9ydCB7IGRlZmF1bHRWYWx1ZVR5cGVzLCBnZXREZWZhdWx0VmFsdWVUeXBlIH07XG4iLCJpbXBvcnQgeyBjb21wbGV4IH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdHlwZXMvY29tcGxleC9pbmRleC5tanMnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdHlwZXMvY29tcGxleC9maWx0ZXIubWpzJztcbmltcG9ydCB7IGdldERlZmF1bHRWYWx1ZVR5cGUgfSBmcm9tICcuL2RlZmF1bHRzLm1qcyc7XG5cbmZ1bmN0aW9uIGdldEFuaW1hdGFibGVOb25lKGtleSwgdmFsdWUpIHtcbiAgICBsZXQgZGVmYXVsdFZhbHVlVHlwZSA9IGdldERlZmF1bHRWYWx1ZVR5cGUoa2V5KTtcbiAgICBpZiAoZGVmYXVsdFZhbHVlVHlwZSAhPT0gZmlsdGVyKVxuICAgICAgICBkZWZhdWx0VmFsdWVUeXBlID0gY29tcGxleDtcbiAgICAvLyBJZiB2YWx1ZSBpcyBub3QgcmVjb2duaXNlZCBhcyBhbmltYXRhYmxlLCBpZSBcIm5vbmVcIiwgY3JlYXRlIGFuIGFuaW1hdGFibGUgdmVyc2lvbiBvcmlnaW4gYmFzZWQgb24gdGhlIHRhcmdldFxuICAgIHJldHVybiBkZWZhdWx0VmFsdWVUeXBlLmdldEFuaW1hdGFibGVOb25lXG4gICAgICAgID8gZGVmYXVsdFZhbHVlVHlwZS5nZXRBbmltYXRhYmxlTm9uZSh2YWx1ZSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCB7IGdldEFuaW1hdGFibGVOb25lIH07XG4iLCIvKipcbiAqIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBhIHplcm8gdmFsdWUgc3RyaW5nIGxpa2UgXCIwcHhcIiBvciBcIjAlXCJcbiAqL1xuY29uc3QgaXNaZXJvVmFsdWVTdHJpbmcgPSAodikgPT4gL14wW14uXFxzXSskLy50ZXN0KHYpO1xuXG5leHBvcnQgeyBpc1plcm9WYWx1ZVN0cmluZyB9O1xuIiwiaW1wb3J0IHsgaXNaZXJvVmFsdWVTdHJpbmcgfSBmcm9tICcuLi8uLi91dGlscy9pcy16ZXJvLXZhbHVlLXN0cmluZy5tanMnO1xuXG5mdW5jdGlvbiBpc05vbmUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBcIm5vbmVcIiB8fCB2YWx1ZSA9PT0gXCIwXCIgfHwgaXNaZXJvVmFsdWVTdHJpbmcodmFsdWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgaXNOb25lIH07XG4iLCJpbXBvcnQgeyBnZXRBbmltYXRhYmxlTm9uZSB9IGZyb20gJy4uLy4uL3JlbmRlci9kb20vdmFsdWUtdHlwZXMvYW5pbWF0YWJsZS1ub25lLm1qcyc7XG5pbXBvcnQgeyBpc0FuaW1hdGFibGUgfSBmcm9tICcuL2lzLWFuaW1hdGFibGUubWpzJztcbmltcG9ydCB7IGlzTm9uZSB9IGZyb20gJy4vaXMtbm9uZS5tanMnO1xuXG5mdW5jdGlvbiBnZXRLZXlmcmFtZXModmFsdWUsIHZhbHVlTmFtZSwgdGFyZ2V0LCB0cmFuc2l0aW9uKSB7XG4gICAgY29uc3QgaXNUYXJnZXRBbmltYXRhYmxlID0gaXNBbmltYXRhYmxlKHZhbHVlTmFtZSwgdGFyZ2V0KTtcbiAgICBsZXQga2V5ZnJhbWVzO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAga2V5ZnJhbWVzID0gWy4uLnRhcmdldF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBrZXlmcmFtZXMgPSBbbnVsbCwgdGFyZ2V0XTtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdE9yaWdpbiA9IHRyYW5zaXRpb24uZnJvbSAhPT0gdW5kZWZpbmVkID8gdHJhbnNpdGlvbi5mcm9tIDogdmFsdWUuZ2V0KCk7XG4gICAgbGV0IGFuaW1hdGFibGVUZW1wbGF0ZVZhbHVlID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG5vbmVLZXlmcmFtZUluZGV4ZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlsbCBudWxsL3dpbGRjYXJkIGtleWZyYW1lc1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGtleWZyYW1lc1tpXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAga2V5ZnJhbWVzW2ldID0gaSA9PT0gMCA/IGRlZmF1bHRPcmlnaW4gOiBrZXlmcmFtZXNbaSAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05vbmUoa2V5ZnJhbWVzW2ldKSkge1xuICAgICAgICAgICAgbm9uZUtleWZyYW1lSW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgY29uZGl0aW9uYWwsIGl0IHdvcmtzIGZvciBub3dcbiAgICAgICAgaWYgKHR5cGVvZiBrZXlmcmFtZXNbaV0gPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgIGtleWZyYW1lc1tpXSAhPT0gXCJub25lXCIgJiZcbiAgICAgICAgICAgIGtleWZyYW1lc1tpXSAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIGFuaW1hdGFibGVUZW1wbGF0ZVZhbHVlID0ga2V5ZnJhbWVzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc1RhcmdldEFuaW1hdGFibGUgJiZcbiAgICAgICAgbm9uZUtleWZyYW1lSW5kZXhlcy5sZW5ndGggJiZcbiAgICAgICAgYW5pbWF0YWJsZVRlbXBsYXRlVmFsdWUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub25lS2V5ZnJhbWVJbmRleGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IG5vbmVLZXlmcmFtZUluZGV4ZXNbaV07XG4gICAgICAgICAgICBrZXlmcmFtZXNbaW5kZXhdID0gZ2V0QW5pbWF0YWJsZU5vbmUodmFsdWVOYW1lLCBhbmltYXRhYmxlVGVtcGxhdGVWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleWZyYW1lcztcbn1cblxuZXhwb3J0IHsgZ2V0S2V5ZnJhbWVzIH07XG4iLCIvKipcbiAqIERlY2lkZSB3aGV0aGVyIGEgdHJhbnNpdGlvbiBpcyBkZWZpbmVkIG9uIGEgZ2l2ZW4gVHJhbnNpdGlvbi5cbiAqIFRoaXMgZmlsdGVycyBvdXQgb3JjaGVzdHJhdGlvbiBvcHRpb25zIGFuZCByZXR1cm5zIHRydWVcbiAqIGlmIGFueSBvcHRpb25zIGFyZSBsZWZ0LlxuICovXG5mdW5jdGlvbiBpc1RyYW5zaXRpb25EZWZpbmVkKHsgd2hlbiwgZGVsYXk6IF9kZWxheSwgZGVsYXlDaGlsZHJlbiwgc3RhZ2dlckNoaWxkcmVuLCBzdGFnZ2VyRGlyZWN0aW9uLCByZXBlYXQsIHJlcGVhdFR5cGUsIHJlcGVhdERlbGF5LCBmcm9tLCBlbGFwc2VkLCAuLi50cmFuc2l0aW9uIH0pIHtcbiAgICByZXR1cm4gISFPYmplY3Qua2V5cyh0cmFuc2l0aW9uKS5sZW5ndGg7XG59XG5mdW5jdGlvbiBnZXRWYWx1ZVRyYW5zaXRpb24odHJhbnNpdGlvbiwga2V5KSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25ba2V5XSB8fCB0cmFuc2l0aW9uW1wiZGVmYXVsdFwiXSB8fCB0cmFuc2l0aW9uO1xufVxuXG5leHBvcnQgeyBnZXRWYWx1ZVRyYW5zaXRpb24sIGlzVHJhbnNpdGlvbkRlZmluZWQgfTtcbiIsImltcG9ydCB7IHdhcm5pbmcgfSBmcm9tICcuLi8uLi91dGlscy9lcnJvcnMubWpzJztcbmltcG9ydCB7IHNlY29uZHNUb01pbGxpc2Vjb25kcyB9IGZyb20gJy4uLy4uL3V0aWxzL3RpbWUtY29udmVyc2lvbi5tanMnO1xuaW1wb3J0IHsgaW5zdGFudEFuaW1hdGlvblN0YXRlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWluc3RhbnQtdHJhbnNpdGlvbi1zdGF0ZS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQWNjZWxlcmF0ZWRBbmltYXRpb24gfSBmcm9tICcuLi9hbmltYXRvcnMvd2FhcGkvY3JlYXRlLWFjY2VsZXJhdGVkLWFuaW1hdGlvbi5tanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5zdGFudEFuaW1hdGlvbiB9IGZyb20gJy4uL2FuaW1hdG9ycy9pbnN0YW50Lm1qcyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0VHJhbnNpdGlvbiB9IGZyb20gJy4uL3V0aWxzL2RlZmF1bHQtdHJhbnNpdGlvbnMubWpzJztcbmltcG9ydCB7IGlzQW5pbWF0YWJsZSB9IGZyb20gJy4uL3V0aWxzL2lzLWFuaW1hdGFibGUubWpzJztcbmltcG9ydCB7IGdldEtleWZyYW1lcyB9IGZyb20gJy4uL3V0aWxzL2tleWZyYW1lcy5tanMnO1xuaW1wb3J0IHsgZ2V0VmFsdWVUcmFuc2l0aW9uLCBpc1RyYW5zaXRpb25EZWZpbmVkIH0gZnJvbSAnLi4vdXRpbHMvdHJhbnNpdGlvbnMubWpzJztcbmltcG9ydCB7IGFuaW1hdGVWYWx1ZSB9IGZyb20gJy4uL2FuaW1hdG9ycy9qcy9pbmRleC5tanMnO1xuXG5jb25zdCBhbmltYXRlTW90aW9uVmFsdWUgPSAodmFsdWVOYW1lLCB2YWx1ZSwgdGFyZ2V0LCB0cmFuc2l0aW9uID0ge30pID0+IHtcbiAgICByZXR1cm4gKG9uQ29tcGxldGUpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWVUcmFuc2l0aW9uID0gZ2V0VmFsdWVUcmFuc2l0aW9uKHRyYW5zaXRpb24sIHZhbHVlTmFtZSkgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3N0IHRyYW5zaXRpb24gdmFsdWVzIGFyZSBjdXJyZW50bHkgY29tcGxldGVseSBvdmVyd3JpdHRlbiBieSB2YWx1ZS1zcGVjaWZpY1xuICAgICAgICAgKiB0cmFuc2l0aW9ucy4gSW4gdGhlIGZ1dHVyZSBpdCdkIGJlIG5pY2VyIHRvIGJsZW5kIHRoZXNlIHRyYW5zaXRpb25zLiBCdXQgZm9yIG5vd1xuICAgICAgICAgKiBkZWxheSBhY3R1YWxseSBkb2VzIGluaGVyaXQgZnJvbSB0aGUgcm9vdCB0cmFuc2l0aW9uIGlmIG5vdCB2YWx1ZS1zcGVjaWZpYy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gdmFsdWVUcmFuc2l0aW9uLmRlbGF5IHx8IHRyYW5zaXRpb24uZGVsYXkgfHwgMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVsYXBzZWQgaXNuJ3QgYSBwdWJsaWMgdHJhbnNpdGlvbiBvcHRpb24gYnV0IGNhbiBiZSBwYXNzZWQgdGhyb3VnaCBmcm9tXG4gICAgICAgICAqIG9wdGltaXplZCBhcHBlYXIgZWZmZWN0cyBpbiBtaWxsaXNlY29uZHMuXG4gICAgICAgICAqL1xuICAgICAgICBsZXQgeyBlbGFwc2VkID0gMCB9ID0gdHJhbnNpdGlvbjtcbiAgICAgICAgZWxhcHNlZCA9IGVsYXBzZWQgLSBzZWNvbmRzVG9NaWxsaXNlY29uZHMoZGVsYXkpO1xuICAgICAgICBjb25zdCBrZXlmcmFtZXMgPSBnZXRLZXlmcmFtZXModmFsdWUsIHZhbHVlTmFtZSwgdGFyZ2V0LCB2YWx1ZVRyYW5zaXRpb24pO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgaWYgd2UncmUgYWJsZSB0byBhbmltYXRlIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQga2V5ZnJhbWVzLFxuICAgICAgICAgKiBhbmQgdGhyb3cgYSB3YXJuaW5nIGlmIHdlJ3JlIGF0dGVtcHRpbmcgdG8gYW5pbWF0ZSBiZXR3ZWVuIG9uZSB0aGF0J3NcbiAgICAgICAgICogYW5pbWF0YWJsZSBhbmQgYW5vdGhlciB0aGF0IGlzbid0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgb3JpZ2luS2V5ZnJhbWUgPSBrZXlmcmFtZXNbMF07XG4gICAgICAgIGNvbnN0IHRhcmdldEtleWZyYW1lID0ga2V5ZnJhbWVzW2tleWZyYW1lcy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgaXNPcmlnaW5BbmltYXRhYmxlID0gaXNBbmltYXRhYmxlKHZhbHVlTmFtZSwgb3JpZ2luS2V5ZnJhbWUpO1xuICAgICAgICBjb25zdCBpc1RhcmdldEFuaW1hdGFibGUgPSBpc0FuaW1hdGFibGUodmFsdWVOYW1lLCB0YXJnZXRLZXlmcmFtZSk7XG4gICAgICAgIHdhcm5pbmcoaXNPcmlnaW5BbmltYXRhYmxlID09PSBpc1RhcmdldEFuaW1hdGFibGUsIGBZb3UgYXJlIHRyeWluZyB0byBhbmltYXRlICR7dmFsdWVOYW1lfSBmcm9tIFwiJHtvcmlnaW5LZXlmcmFtZX1cIiB0byBcIiR7dGFyZ2V0S2V5ZnJhbWV9XCIuICR7b3JpZ2luS2V5ZnJhbWV9IGlzIG5vdCBhbiBhbmltYXRhYmxlIHZhbHVlIC0gdG8gZW5hYmxlIHRoaXMgYW5pbWF0aW9uIHNldCAke29yaWdpbktleWZyYW1lfSB0byBhIHZhbHVlIGFuaW1hdGFibGUgdG8gJHt0YXJnZXRLZXlmcmFtZX0gdmlhIHRoZSBcXGBzdHlsZVxcYCBwcm9wZXJ0eS5gKTtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBrZXlmcmFtZXMsXG4gICAgICAgICAgICB2ZWxvY2l0eTogdmFsdWUuZ2V0VmVsb2NpdHkoKSxcbiAgICAgICAgICAgIGVhc2U6IFwiZWFzZU91dFwiLFxuICAgICAgICAgICAgLi4udmFsdWVUcmFuc2l0aW9uLFxuICAgICAgICAgICAgZGVsYXk6IC1lbGFwc2VkLFxuICAgICAgICAgICAgb25VcGRhdGU6ICh2KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFsdWUuc2V0KHYpO1xuICAgICAgICAgICAgICAgIHZhbHVlVHJhbnNpdGlvbi5vblVwZGF0ZSAmJiB2YWx1ZVRyYW5zaXRpb24ub25VcGRhdGUodik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB2YWx1ZVRyYW5zaXRpb24ub25Db21wbGV0ZSAmJiB2YWx1ZVRyYW5zaXRpb24ub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZXJlJ3Mgbm8gdHJhbnNpdGlvbiBkZWZpbmVkIGZvciB0aGlzIHZhbHVlLCB3ZSBjYW4gZ2VuZXJhdGVcbiAgICAgICAgICogdW5xaXVlIHRyYW5zaXRpb24gc2V0dGluZ3MgZm9yIHRoaXMgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoIWlzVHJhbnNpdGlvbkRlZmluZWQodmFsdWVUcmFuc2l0aW9uKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIC4uLmdldERlZmF1bHRUcmFuc2l0aW9uKHZhbHVlTmFtZSwgb3B0aW9ucyksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3RoIFdBQVBJIGFuZCBvdXIgaW50ZXJuYWwgYW5pbWF0aW9uIGZ1bmN0aW9ucyB1c2UgZHVyYXRpb25zXG4gICAgICAgICAqIGFzIGRlZmluZWQgYnkgbWlsbGlzZWNvbmRzLCB3aGlsZSBvdXIgZXh0ZXJuYWwgQVBJIGRlZmluZXMgdGhlbVxuICAgICAgICAgKiBhcyBzZWNvbmRzLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9wdGlvbnMuZHVyYXRpb24pIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZHVyYXRpb24gPSBzZWNvbmRzVG9NaWxsaXNlY29uZHMob3B0aW9ucy5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucmVwZWF0RGVsYXkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucmVwZWF0RGVsYXkgPSBzZWNvbmRzVG9NaWxsaXNlY29uZHMob3B0aW9ucy5yZXBlYXREZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc09yaWdpbkFuaW1hdGFibGUgfHxcbiAgICAgICAgICAgICFpc1RhcmdldEFuaW1hdGFibGUgfHxcbiAgICAgICAgICAgIGluc3RhbnRBbmltYXRpb25TdGF0ZS5jdXJyZW50IHx8XG4gICAgICAgICAgICB2YWx1ZVRyYW5zaXRpb24udHlwZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UgY2FuJ3QgYW5pbWF0ZSB0aGlzIHZhbHVlLCBvciB0aGUgZ2xvYmFsIGluc3RhbnQgYW5pbWF0aW9uIGZsYWcgaXMgc2V0LFxuICAgICAgICAgICAgICogb3IgdGhpcyBpcyBzaW1wbHkgZGVmaW5lZCBhcyBhbiBpbnN0YW50IHRyYW5zaXRpb24sIHJldHVybiBhbiBpbnN0YW50IHRyYW5zaXRpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnN0YW50QW5pbWF0aW9uKGluc3RhbnRBbmltYXRpb25TdGF0ZS5jdXJyZW50XG4gICAgICAgICAgICAgICAgPyB7IC4uLm9wdGlvbnMsIGRlbGF5OiAwIH1cbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmltYXRlIHZpYSBXQUFQSSBpZiBwb3NzaWJsZS5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgaXMgYSBoYW5kb2ZmIGFuaW1hdGlvbiwgdGhlIG9wdGltaXNlZCBhbmltYXRpb24gd2lsbCBiZSBydW5uaW5nIHZpYVxuICAgICAgICAgKiBXQUFQSS4gVGhlcmVmb3JlLCB0aGlzIGFuaW1hdGlvbiBtdXN0IGJlIEpTIHRvIGVuc3VyZSBpdCBydW5zIFwidW5kZXJcIiB0aGVcbiAgICAgICAgICogb3B0aW1pc2VkIGFuaW1hdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgICF0cmFuc2l0aW9uLmlzSGFuZG9mZiAmJlxuICAgICAgICAgICAgdmFsdWUub3duZXIgJiZcbiAgICAgICAgICAgIHZhbHVlLm93bmVyLmN1cnJlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJlxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSBvdXRwdXR0aW5nIHZhbHVlcyB0byBvblVwZGF0ZSB0aGVuIHdlIGNhbid0IHVzZSBXQUFQSSBhcyB0aGVyZSdzXG4gICAgICAgICAgICAgKiBubyB3YXkgdG8gcmVhZCB0aGUgdmFsdWUgZnJvbSBXQUFQSSBldmVyeSBmcmFtZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgIXZhbHVlLm93bmVyLmdldFByb3BzKCkub25VcGRhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY2VsZXJhdGVkQW5pbWF0aW9uID0gY3JlYXRlQWNjZWxlcmF0ZWRBbmltYXRpb24odmFsdWUsIHZhbHVlTmFtZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoYWNjZWxlcmF0ZWRBbmltYXRpb24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2VsZXJhdGVkQW5pbWF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB3ZSBkaWRuJ3QgY3JlYXRlIGFuIGFjY2VsZXJhdGVkIGFuaW1hdGlvbiwgY3JlYXRlIGEgSlMgYW5pbWF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gYW5pbWF0ZVZhbHVlKG9wdGlvbnMpO1xuICAgIH07XG59O1xuXG5leHBvcnQgeyBhbmltYXRlTW90aW9uVmFsdWUgfTtcbiIsImltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcblxuZnVuY3Rpb24gaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gQm9vbGVhbihpc01vdGlvblZhbHVlKHZhbHVlKSAmJiB2YWx1ZS5hZGQpO1xufVxuXG5leHBvcnQgeyBpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSB9O1xuIiwiLyoqXG4gKiBDaGVjayBpZiB2YWx1ZSBpcyBhIG51bWVyaWNhbCBzdHJpbmcsIGllIGEgc3RyaW5nIHRoYXQgaXMgcHVyZWx5IGEgbnVtYmVyIGVnIFwiMTAwXCIgb3IgXCItMTAwLjFcIlxuICovXG5jb25zdCBpc051bWVyaWNhbFN0cmluZyA9ICh2KSA9PiAvXlxcLT9cXGQqXFwuP1xcZCskLy50ZXN0KHYpO1xuXG5leHBvcnQgeyBpc051bWVyaWNhbFN0cmluZyB9O1xuIiwiZnVuY3Rpb24gYWRkVW5pcXVlSXRlbShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyLmluZGV4T2YoaXRlbSkgPT09IC0xKVxuICAgICAgICBhcnIucHVzaChpdGVtKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUl0ZW0oYXJyLCBpdGVtKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7XG59XG4vLyBBZGFwdGVkIGZyb20gYXJyYXktbW92ZVxuZnVuY3Rpb24gbW92ZUl0ZW0oWy4uLmFycl0sIGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBmcm9tSW5kZXggPCAwID8gYXJyLmxlbmd0aCArIGZyb21JbmRleCA6IGZyb21JbmRleDtcbiAgICBpZiAoc3RhcnRJbmRleCA+PSAwICYmIHN0YXJ0SW5kZXggPCBhcnIubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGVuZEluZGV4ID0gdG9JbmRleCA8IDAgPyBhcnIubGVuZ3RoICsgdG9JbmRleCA6IHRvSW5kZXg7XG4gICAgICAgIGNvbnN0IFtpdGVtXSA9IGFyci5zcGxpY2UoZnJvbUluZGV4LCAxKTtcbiAgICAgICAgYXJyLnNwbGljZShlbmRJbmRleCwgMCwgaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCB7IGFkZFVuaXF1ZUl0ZW0sIG1vdmVJdGVtLCByZW1vdmVJdGVtIH07XG4iLCJpbXBvcnQgeyBhZGRVbmlxdWVJdGVtLCByZW1vdmVJdGVtIH0gZnJvbSAnLi9hcnJheS5tanMnO1xuXG5jbGFzcyBTdWJzY3JpcHRpb25NYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG4gICAgfVxuICAgIGFkZChoYW5kbGVyKSB7XG4gICAgICAgIGFkZFVuaXF1ZUl0ZW0odGhpcy5zdWJzY3JpcHRpb25zLCBoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHJlbW92ZUl0ZW0odGhpcy5zdWJzY3JpcHRpb25zLCBoYW5kbGVyKTtcbiAgICB9XG4gICAgbm90aWZ5KGEsIGIsIGMpIHtcbiAgICAgICAgY29uc3QgbnVtU3Vic2NyaXB0aW9ucyA9IHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGg7XG4gICAgICAgIGlmICghbnVtU3Vic2NyaXB0aW9ucylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG51bVN1YnNjcmlwdGlvbnMgPT09IDEpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlcmUncyBvbmx5IGEgc2luZ2xlIGhhbmRsZXIgd2UgY2FuIGp1c3QgY2FsbCBpdCB3aXRob3V0IGludm9raW5nIGEgbG9vcC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zWzBdKGEsIGIsIGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1TdWJzY3JpcHRpb25zOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDaGVjayB3aGV0aGVyIHRoZSBoYW5kbGVyIGV4aXN0cyBiZWZvcmUgZmlyaW5nIGFzIGl0J3MgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgKiB0aGUgc3Vic2NyaXB0aW9ucyB3ZXJlIG1vZGlmaWVkIGR1cmluZyB0aGlzIGxvb3AgcnVubmluZy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5zdWJzY3JpcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIgJiYgaGFuZGxlcihhLCBiLCBjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGggPSAwO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgU3Vic2NyaXB0aW9uTWFuYWdlciB9O1xuIiwiaW1wb3J0IHsgU3Vic2NyaXB0aW9uTWFuYWdlciB9IGZyb20gJy4uL3V0aWxzL3N1YnNjcmlwdGlvbi1tYW5hZ2VyLm1qcyc7XG5pbXBvcnQgeyB2ZWxvY2l0eVBlclNlY29uZCB9IGZyb20gJy4uL3V0aWxzL3ZlbG9jaXR5LXBlci1zZWNvbmQubWpzJztcbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnLi4vdXRpbHMvd2Fybi1vbmNlLm1qcyc7XG5pbXBvcnQgeyBmcmFtZSwgZnJhbWVEYXRhIH0gZnJvbSAnLi4vZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5cbmNvbnN0IGlzRmxvYXQgPSAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKTtcbn07XG5jb25zdCBjb2xsZWN0TW90aW9uVmFsdWVzID0ge1xuICAgIGN1cnJlbnQ6IHVuZGVmaW5lZCxcbn07XG4vKipcbiAqIGBNb3Rpb25WYWx1ZWAgaXMgdXNlZCB0byB0cmFjayB0aGUgc3RhdGUgYW5kIHZlbG9jaXR5IG9mIG1vdGlvbiB2YWx1ZXMuXG4gKlxuICogQHB1YmxpY1xuICovXG5jbGFzcyBNb3Rpb25WYWx1ZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGluaXQgLSBUaGUgaW5pdGlhdGluZyB2YWx1ZVxuICAgICAqIEBwYXJhbSBjb25maWcgLSBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICAgKlxuICAgICAqIC0gIGB0cmFuc2Zvcm1lcmA6IEEgZnVuY3Rpb24gdG8gdHJhbnNmb3JtIGluY29taW5nIHZhbHVlcyB3aXRoLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW5pdCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGJ1aWxkIHN0ZXAgd2l0aCB0aGUgbGF0ZXN0IHZlcnNpb24gbnVtYmVyLlxuICAgICAgICAgKiBXaGVuIE1vdGlvblZhbHVlcyBhcmUgcHJvdmlkZWQgdG8gbW90aW9uIGNvbXBvbmVudHMsIHdhcm4gaWYgdmVyc2lvbnMgYXJlIG1peGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJzaW9uID0gXCIxMC4xNi4xNlwiO1xuICAgICAgICAvKipcbiAgICAgICAgICogRHVyYXRpb24sIGluIG1pbGxpc2Vjb25kcywgc2luY2UgbGFzdCB1cGRhdGluZyBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbWVEZWx0YSA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lc3RhbXAgb2YgdGhlIGxhc3QgdGltZSB0aGlzIGBNb3Rpb25WYWx1ZWAgd2FzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXN0VXBkYXRlZCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3Mgd2hldGhlciB0aGlzIHZhbHVlIGNhbiBvdXRwdXQgYSB2ZWxvY2l0eS4gQ3VycmVudGx5IHRoaXMgaXMgb25seSB0cnVlXG4gICAgICAgICAqIGlmIHRoZSB2YWx1ZSBpcyBudW1lcmljYWwsIGJ1dCB3ZSBtaWdodCBiZSBhYmxlIHRvIHdpZGVuIHRoZSBzY29wZSBoZXJlIGFuZCBzdXBwb3J0XG4gICAgICAgICAqIG90aGVyIHZhbHVlIHR5cGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuVHJhY2tWZWxvY2l0eSA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgYSBTdWJzY3JpcHRpb25NYW5hZ2VyIGZvciBlYWNoIGFjdGl2ZSBldmVudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgICAgIHRoaXMudXBkYXRlQW5kTm90aWZ5ID0gKHYsIHJlbmRlciA9IHRydWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJldiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHY7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGltZXN0YW1wXG4gICAgICAgICAgICBjb25zdCB7IGRlbHRhLCB0aW1lc3RhbXAgfSA9IGZyYW1lRGF0YTtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RVcGRhdGVkICE9PSB0aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVEZWx0YSA9IGRlbHRhO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFVwZGF0ZWQgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgZnJhbWUucG9zdFJlbmRlcih0aGlzLnNjaGVkdWxlVmVsb2NpdHlDaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVcGRhdGUgdXBkYXRlIHN1YnNjcmliZXJzXG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2ICE9PSB0aGlzLmN1cnJlbnQgJiYgdGhpcy5ldmVudHMuY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuY2hhbmdlLm5vdGlmeSh0aGlzLmN1cnJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIHZlbG9jaXR5IHN1YnNjcmliZXJzXG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudHMudmVsb2NpdHlDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy52ZWxvY2l0eUNoYW5nZS5ub3RpZnkodGhpcy5nZXRWZWxvY2l0eSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSByZW5kZXIgc3Vic2NyaWJlcnNcbiAgICAgICAgICAgIGlmIChyZW5kZXIgJiYgdGhpcy5ldmVudHMucmVuZGVyUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnJlbmRlclJlcXVlc3Qubm90aWZ5KHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2hlZHVsZSBhIHZlbG9jaXR5IGNoZWNrIGZvciB0aGUgbmV4dCBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyBhbiBpbnN0YW5jZWQgYW5kIGJvdW5kIGZ1bmN0aW9uIHRvIHByZXZlbnQgZ2VuZXJhdGluZyBhIG5ld1xuICAgICAgICAgKiBmdW5jdGlvbiBvbmNlIHBlciBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjaGVkdWxlVmVsb2NpdHlDaGVjayA9ICgpID0+IGZyYW1lLnBvc3RSZW5kZXIodGhpcy52ZWxvY2l0eUNoZWNrKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZXMgYHByZXZgIHdpdGggYGN1cnJlbnRgIGlmIHRoZSB2YWx1ZSBoYXNuJ3QgYmVlbiB1cGRhdGVkIHRoaXMgZnJhbWUuXG4gICAgICAgICAqIFRoaXMgZW5zdXJlcyB2ZWxvY2l0eSBjYWxjdWxhdGlvbnMgcmV0dXJuIGAwYC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyBhbiBpbnN0YW5jZWQgYW5kIGJvdW5kIGZ1bmN0aW9uIHRvIHByZXZlbnQgZ2VuZXJhdGluZyBhIG5ld1xuICAgICAgICAgKiBmdW5jdGlvbiBvbmNlIHBlciBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlbG9jaXR5Q2hlY2sgPSAoeyB0aW1lc3RhbXAgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCAhPT0gdGhpcy5sYXN0VXBkYXRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJldiA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ldmVudHMudmVsb2NpdHlDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudHMudmVsb2NpdHlDaGFuZ2Uubm90aWZ5KHRoaXMuZ2V0VmVsb2NpdHkoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhc0FuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJldiA9IHRoaXMuY3VycmVudCA9IGluaXQ7XG4gICAgICAgIHRoaXMuY2FuVHJhY2tWZWxvY2l0eSA9IGlzRmxvYXQodGhpcy5jdXJyZW50KTtcbiAgICAgICAgdGhpcy5vd25lciA9IG9wdGlvbnMub3duZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgbm90aWZpZWQgd2hlbiB0aGUgYE1vdGlvblZhbHVlYCBpcyB1cGRhdGVkLlxuICAgICAqXG4gICAgICogSXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLCB3aWxsIGNhbmNlbCB0aGUgc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICogV2hlbiBjYWxsaW5nIGBvbkNoYW5nZWAgaW5zaWRlIGEgUmVhY3QgY29tcG9uZW50LCBpdCBzaG91bGQgYmUgd3JhcHBlZCB3aXRoIHRoZVxuICAgICAqIGB1c2VFZmZlY3RgIGhvb2suIEFzIGl0IHJldHVybnMgYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24sIHRoaXMgc2hvdWxkIGJlIHJldHVybmVkXG4gICAgICogZnJvbSB0aGUgYHVzZUVmZmVjdGAgZnVuY3Rpb24gdG8gZW5zdXJlIHlvdSBkb24ndCBhZGQgZHVwbGljYXRlIHN1YnNjcmliZXJzLi5cbiAgICAgKlxuICAgICAqIGBgYGpzeFxuICAgICAqIGV4cG9ydCBjb25zdCBNeUNvbXBvbmVudCA9ICgpID0+IHtcbiAgICAgKiAgIGNvbnN0IHggPSB1c2VNb3Rpb25WYWx1ZSgwKVxuICAgICAqICAgY29uc3QgeSA9IHVzZU1vdGlvblZhbHVlKDApXG4gICAgICogICBjb25zdCBvcGFjaXR5ID0gdXNlTW90aW9uVmFsdWUoMSlcbiAgICAgKlxuICAgICAqICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgKiAgICAgZnVuY3Rpb24gdXBkYXRlT3BhY2l0eSgpIHtcbiAgICAgKiAgICAgICBjb25zdCBtYXhYWSA9IE1hdGgubWF4KHguZ2V0KCksIHkuZ2V0KCkpXG4gICAgICogICAgICAgY29uc3QgbmV3T3BhY2l0eSA9IHRyYW5zZm9ybShtYXhYWSwgWzAsIDEwMF0sIFsxLCAwXSlcbiAgICAgKiAgICAgICBvcGFjaXR5LnNldChuZXdPcGFjaXR5KVxuICAgICAqICAgICB9XG4gICAgICpcbiAgICAgKiAgICAgY29uc3QgdW5zdWJzY3JpYmVYID0geC5vbihcImNoYW5nZVwiLCB1cGRhdGVPcGFjaXR5KVxuICAgICAqICAgICBjb25zdCB1bnN1YnNjcmliZVkgPSB5Lm9uKFwiY2hhbmdlXCIsIHVwZGF0ZU9wYWNpdHkpXG4gICAgICpcbiAgICAgKiAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgKiAgICAgICB1bnN1YnNjcmliZVgoKVxuICAgICAqICAgICAgIHVuc3Vic2NyaWJlWSgpXG4gICAgICogICAgIH1cbiAgICAgKiAgIH0sIFtdKVxuICAgICAqXG4gICAgICogICByZXR1cm4gPG1vdGlvbi5kaXYgc3R5bGU9e3sgeCB9fSAvPlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdWJzY3JpYmVyIC0gQSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIHRoZSBsYXRlc3QgdmFsdWUuXG4gICAgICogQHJldHVybnMgQSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgd2lsbCBjYW5jZWwgdGhpcyBzdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIG9uQ2hhbmdlKHN1YnNjcmlwdGlvbikge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgICAgICB3YXJuT25jZShmYWxzZSwgYHZhbHVlLm9uQ2hhbmdlKGNhbGxiYWNrKSBpcyBkZXByZWNhdGVkLiBTd2l0Y2ggdG8gdmFsdWUub24oXCJjaGFuZ2VcIiwgY2FsbGJhY2spLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm9uKFwiY2hhbmdlXCIsIHN1YnNjcmlwdGlvbik7XG4gICAgfVxuICAgIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50c1tldmVudE5hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gbmV3IFN1YnNjcmlwdGlvbk1hbmFnZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gXCJjaGFuZ2VcIikge1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHdlIGhhdmUgbm8gbW9yZSBjaGFuZ2UgbGlzdGVuZXJzIGJ5IHRoZSBzdGFydFxuICAgICAgICAgICAgICAgICAqIG9mIHRoZSBuZXh0IGZyYW1lLCBzdG9wIGFjdGl2ZSBhbmltYXRpb25zLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZyYW1lLnJlYWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZXZlbnRzLmNoYW5nZS5nZXRTaXplKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgICB9XG4gICAgY2xlYXJMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZXZlbnRNYW5hZ2VycyBpbiB0aGlzLmV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRNYW5hZ2Vyc10uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHBhc3NpdmUgZWZmZWN0IHRvIHRoZSBgTW90aW9uVmFsdWVgLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgYXR0YWNoKHBhc3NpdmVFZmZlY3QsIHN0b3BQYXNzaXZlRWZmZWN0KSB7XG4gICAgICAgIHRoaXMucGFzc2l2ZUVmZmVjdCA9IHBhc3NpdmVFZmZlY3Q7XG4gICAgICAgIHRoaXMuc3RvcFBhc3NpdmVFZmZlY3QgPSBzdG9wUGFzc2l2ZUVmZmVjdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUgb2YgdGhlIGBNb3Rpb25WYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqXG4gICAgICogYGBganN4XG4gICAgICogY29uc3QgeCA9IHVzZU1vdGlvblZhbHVlKDApXG4gICAgICogeC5zZXQoMTApXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGF0ZXN0IC0gTGF0ZXN0IHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0gcmVuZGVyIC0gV2hldGhlciB0byBub3RpZnkgcmVuZGVyIHN1YnNjcmliZXJzLiBEZWZhdWx0cyB0byBgdHJ1ZWBcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzZXQodiwgcmVuZGVyID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIXJlbmRlciB8fCAhdGhpcy5wYXNzaXZlRWZmZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFuZE5vdGlmeSh2LCByZW5kZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYXNzaXZlRWZmZWN0KHYsIHRoaXMudXBkYXRlQW5kTm90aWZ5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRXaXRoVmVsb2NpdHkocHJldiwgY3VycmVudCwgZGVsdGEpIHtcbiAgICAgICAgdGhpcy5zZXQoY3VycmVudCk7XG4gICAgICAgIHRoaXMucHJldiA9IHByZXY7XG4gICAgICAgIHRoaXMudGltZURlbHRhID0gZGVsdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3RhdGUgb2YgdGhlIGBNb3Rpb25WYWx1ZWAsIHN0b3BwaW5nIGFueSBhY3RpdmUgYW5pbWF0aW9ucyxcbiAgICAgKiBlZmZlY3RzLCBhbmQgcmVzZXRzIHZlbG9jaXR5IHRvIGAwYC5cbiAgICAgKi9cbiAgICBqdW1wKHYpIHtcbiAgICAgICAgdGhpcy51cGRhdGVBbmROb3RpZnkodik7XG4gICAgICAgIHRoaXMucHJldiA9IHY7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBpZiAodGhpcy5zdG9wUGFzc2l2ZUVmZmVjdClcbiAgICAgICAgICAgIHRoaXMuc3RvcFBhc3NpdmVFZmZlY3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGF0ZXN0IHN0YXRlIG9mIGBNb3Rpb25WYWx1ZWBcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gVGhlIGxhdGVzdCBzdGF0ZSBvZiBgTW90aW9uVmFsdWVgXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0KCkge1xuICAgICAgICBpZiAoY29sbGVjdE1vdGlvblZhbHVlcy5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb2xsZWN0TW90aW9uVmFsdWVzLmN1cnJlbnQucHVzaCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0UHJldmlvdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxhdGVzdCB2ZWxvY2l0eSBvZiBgTW90aW9uVmFsdWVgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBsYXRlc3QgdmVsb2NpdHkgb2YgYE1vdGlvblZhbHVlYC4gUmV0dXJucyBgMGAgaWYgdGhlIHN0YXRlIGlzIG5vbi1udW1lcmljYWwuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0VmVsb2NpdHkoKSB7XG4gICAgICAgIC8vIFRoaXMgY291bGQgYmUgaXNGbG9hdCh0aGlzLnByZXYpICYmIGlzRmxvYXQodGhpcy5jdXJyZW50KSwgYnV0IHRoYXQgd291bGQgYmUgd2FzdGVmdWxcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FuVHJhY2tWZWxvY2l0eVxuICAgICAgICAgICAgPyAvLyBUaGVzZSBjYXN0cyBjb3VsZCBiZSBhdm9pZGVkIGlmIHBhcnNlRmxvYXQgd291bGQgYmUgdHlwZWQgYmV0dGVyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlQZXJTZWNvbmQocGFyc2VGbG9hdCh0aGlzLmN1cnJlbnQpIC1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdCh0aGlzLnByZXYpLCB0aGlzLnRpbWVEZWx0YSlcbiAgICAgICAgICAgIDogMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgbmV3IGFuaW1hdGlvbiB0byBjb250cm9sIHRoaXMgYE1vdGlvblZhbHVlYC4gT25seSBvbmVcbiAgICAgKiBhbmltYXRpb24gY2FuIGRyaXZlIGEgYE1vdGlvblZhbHVlYCBhdCBvbmUgdGltZS5cbiAgICAgKlxuICAgICAqIGBgYGpzeFxuICAgICAqIHZhbHVlLnN0YXJ0KClcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbmltYXRpb24gLSBBIGZ1bmN0aW9uIHRoYXQgc3RhcnRzIHRoZSBwcm92aWRlZCBhbmltYXRpb25cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHN0YXJ0KHN0YXJ0QW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFzQW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb24gPSBzdGFydEFuaW1hdGlvbihyZXNvbHZlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5hbmltYXRpb25TdGFydCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmFuaW1hdGlvblN0YXJ0Lm5vdGlmeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV2ZW50cy5hbmltYXRpb25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLmFuaW1hdGlvbkNvbXBsZXRlLm5vdGlmeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jbGVhckFuaW1hdGlvbigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgY3VycmVudGx5IGFjdGl2ZSBhbmltYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc3RvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5ldmVudHMuYW5pbWF0aW9uQ2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMuYW5pbWF0aW9uQ2FuY2VsLm5vdGlmeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXJBbmltYXRpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhpcyB2YWx1ZSBpcyBjdXJyZW50bHkgYW5pbWF0aW5nLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGlzQW5pbWF0aW5nKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmFuaW1hdGlvbjtcbiAgICB9XG4gICAgY2xlYXJBbmltYXRpb24oKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmFuaW1hdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgY2xlYW4gdXAgc3Vic2NyaWJlcnMgdG8gdGhpcyBgTW90aW9uVmFsdWVgLlxuICAgICAqXG4gICAgICogVGhlIGBNb3Rpb25WYWx1ZWAgaG9va3MgbGlrZSBgdXNlTW90aW9uVmFsdWVgIGFuZCBgdXNlVHJhbnNmb3JtYCBhdXRvbWF0aWNhbGx5XG4gICAgICogaGFuZGxlIHRoZSBsaWZlY3ljbGUgb2YgdGhlIHJldHVybmVkIGBNb3Rpb25WYWx1ZWAsIHNvIHRoaXMgbWV0aG9kIGlzIG9ubHkgbmVjZXNzYXJ5IGlmIHlvdSd2ZSBtYW51YWxseVxuICAgICAqIGNyZWF0ZWQgYSBgTW90aW9uVmFsdWVgIHZpYSB0aGUgYG1vdGlvblZhbHVlYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmNsZWFyTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBpZiAodGhpcy5zdG9wUGFzc2l2ZUVmZmVjdCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wUGFzc2l2ZUVmZmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gbW90aW9uVmFsdWUoaW5pdCwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgTW90aW9uVmFsdWUoaW5pdCwgb3B0aW9ucyk7XG59XG5cbmV4cG9ydCB7IE1vdGlvblZhbHVlLCBjb2xsZWN0TW90aW9uVmFsdWVzLCBtb3Rpb25WYWx1ZSB9O1xuIiwiLyoqXG4gKiBUZXN0cyBhIHByb3ZpZGVkIHZhbHVlIGFnYWluc3QgYSBWYWx1ZVR5cGVcbiAqL1xuY29uc3QgdGVzdFZhbHVlVHlwZSA9ICh2KSA9PiAodHlwZSkgPT4gdHlwZS50ZXN0KHYpO1xuXG5leHBvcnQgeyB0ZXN0VmFsdWVUeXBlIH07XG4iLCIvKipcbiAqIFZhbHVlVHlwZSBmb3IgXCJhdXRvXCJcbiAqL1xuY29uc3QgYXV0byA9IHtcbiAgICB0ZXN0OiAodikgPT4gdiA9PT0gXCJhdXRvXCIsXG4gICAgcGFyc2U6ICh2KSA9PiB2LFxufTtcblxuZXhwb3J0IHsgYXV0byB9O1xuIiwiaW1wb3J0IHsgbnVtYmVyIH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdHlwZXMvbnVtYmVycy9pbmRleC5tanMnO1xuaW1wb3J0IHsgcHgsIHBlcmNlbnQsIGRlZ3JlZXMsIHZ3LCB2aCB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcbmltcG9ydCB7IHRlc3RWYWx1ZVR5cGUgfSBmcm9tICcuL3Rlc3QubWpzJztcbmltcG9ydCB7IGF1dG8gfSBmcm9tICcuL3R5cGUtYXV0by5tanMnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiB2YWx1ZSB0eXBlcyBjb21tb25seSB1c2VkIGZvciBkaW1lbnNpb25zXG4gKi9cbmNvbnN0IGRpbWVuc2lvblZhbHVlVHlwZXMgPSBbbnVtYmVyLCBweCwgcGVyY2VudCwgZGVncmVlcywgdncsIHZoLCBhdXRvXTtcbi8qKlxuICogVGVzdHMgYSBkaW1lbnNpb25hbCB2YWx1ZSBhZ2FpbnN0IHRoZSBsaXN0IG9mIGRpbWVuc2lvbiBWYWx1ZVR5cGVzXG4gKi9cbmNvbnN0IGZpbmREaW1lbnNpb25WYWx1ZVR5cGUgPSAodikgPT4gZGltZW5zaW9uVmFsdWVUeXBlcy5maW5kKHRlc3RWYWx1ZVR5cGUodikpO1xuXG5leHBvcnQgeyBkaW1lbnNpb25WYWx1ZVR5cGVzLCBmaW5kRGltZW5zaW9uVmFsdWVUeXBlIH07XG4iLCJpbXBvcnQgeyBjb2xvciB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3R5cGVzL2NvbG9yL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBjb21wbGV4IH0gZnJvbSAnLi4vLi4vLi4vdmFsdWUvdHlwZXMvY29tcGxleC9pbmRleC5tanMnO1xuaW1wb3J0IHsgZGltZW5zaW9uVmFsdWVUeXBlcyB9IGZyb20gJy4vZGltZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgdGVzdFZhbHVlVHlwZSB9IGZyb20gJy4vdGVzdC5tanMnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBhbGwgVmFsdWVUeXBlc1xuICovXG5jb25zdCB2YWx1ZVR5cGVzID0gWy4uLmRpbWVuc2lvblZhbHVlVHlwZXMsIGNvbG9yLCBjb21wbGV4XTtcbi8qKlxuICogVGVzdHMgYSB2YWx1ZSBhZ2FpbnN0IHRoZSBsaXN0IG9mIFZhbHVlVHlwZXNcbiAqL1xuY29uc3QgZmluZFZhbHVlVHlwZSA9ICh2KSA9PiB2YWx1ZVR5cGVzLmZpbmQodGVzdFZhbHVlVHlwZSh2KSk7XG5cbmV4cG9ydCB7IGZpbmRWYWx1ZVR5cGUgfTtcbiIsImltcG9ydCB7IGlzTnVtZXJpY2FsU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMtbnVtZXJpY2FsLXN0cmluZy5tanMnO1xuaW1wb3J0IHsgaXNaZXJvVmFsdWVTdHJpbmcgfSBmcm9tICcuLi8uLi91dGlscy9pcy16ZXJvLXZhbHVlLXN0cmluZy5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZUZpbmFsVmFsdWVJbktleWZyYW1lcyB9IGZyb20gJy4uLy4uL3V0aWxzL3Jlc29sdmUtdmFsdWUubWpzJztcbmltcG9ydCB7IG1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvaW5kZXgubWpzJztcbmltcG9ydCB7IGNvbXBsZXggfSBmcm9tICcuLi8uLi92YWx1ZS90eXBlcy9jb21wbGV4L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBnZXRBbmltYXRhYmxlTm9uZSB9IGZyb20gJy4uL2RvbS92YWx1ZS10eXBlcy9hbmltYXRhYmxlLW5vbmUubWpzJztcbmltcG9ydCB7IGZpbmRWYWx1ZVR5cGUgfSBmcm9tICcuLi9kb20vdmFsdWUtdHlwZXMvZmluZC5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnQgfSBmcm9tICcuL3Jlc29sdmUtZHluYW1pYy12YXJpYW50cy5tanMnO1xuXG4vKipcbiAqIFNldCBWaXN1YWxFbGVtZW50J3MgTW90aW9uVmFsdWUsIGNyZWF0aW5nIGEgbmV3IE1vdGlvblZhbHVlIGZvciBpdCBpZlxuICogaXQgZG9lc24ndCBleGlzdC5cbiAqL1xuZnVuY3Rpb24gc2V0TW90aW9uVmFsdWUodmlzdWFsRWxlbWVudCwga2V5LCB2YWx1ZSkge1xuICAgIGlmICh2aXN1YWxFbGVtZW50Lmhhc1ZhbHVlKGtleSkpIHtcbiAgICAgICAgdmlzdWFsRWxlbWVudC5nZXRWYWx1ZShrZXkpLnNldCh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2aXN1YWxFbGVtZW50LmFkZFZhbHVlKGtleSwgbW90aW9uVmFsdWUodmFsdWUpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRUYXJnZXQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbikge1xuICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbik7XG4gICAgbGV0IHsgdHJhbnNpdGlvbkVuZCA9IHt9LCB0cmFuc2l0aW9uID0ge30sIC4uLnRhcmdldCB9ID0gcmVzb2x2ZWQgPyB2aXN1YWxFbGVtZW50Lm1ha2VUYXJnZXRBbmltYXRhYmxlKHJlc29sdmVkLCBmYWxzZSkgOiB7fTtcbiAgICB0YXJnZXQgPSB7IC4uLnRhcmdldCwgLi4udHJhbnNpdGlvbkVuZCB9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc29sdmVGaW5hbFZhbHVlSW5LZXlmcmFtZXModGFyZ2V0W2tleV0pO1xuICAgICAgICBzZXRNb3Rpb25WYWx1ZSh2aXN1YWxFbGVtZW50LCBrZXksIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRWYXJpYW50cyh2aXN1YWxFbGVtZW50LCB2YXJpYW50TGFiZWxzKSB7XG4gICAgY29uc3QgcmV2ZXJzZWRMYWJlbHMgPSBbLi4udmFyaWFudExhYmVsc10ucmV2ZXJzZSgpO1xuICAgIHJldmVyc2VkTGFiZWxzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBjb25zdCB2YXJpYW50ID0gdmlzdWFsRWxlbWVudC5nZXRWYXJpYW50KGtleSk7XG4gICAgICAgIHZhcmlhbnQgJiYgc2V0VGFyZ2V0KHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQpO1xuICAgICAgICBpZiAodmlzdWFsRWxlbWVudC52YXJpYW50Q2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQudmFyaWFudENoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VmFyaWFudHMoY2hpbGQsIHZhcmlhbnRMYWJlbHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldFZhbHVlcyh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGVmaW5pdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIHNldFZhcmlhbnRzKHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gc2V0VmFyaWFudHModmlzdWFsRWxlbWVudCwgW2RlZmluaXRpb25dKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFRhcmdldCh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja1RhcmdldEZvck5ld1ZhbHVlcyh2aXN1YWxFbGVtZW50LCB0YXJnZXQsIG9yaWdpbikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgbmV3VmFsdWVLZXlzID0gT2JqZWN0LmtleXModGFyZ2V0KS5maWx0ZXIoKGtleSkgPT4gIXZpc3VhbEVsZW1lbnQuaGFzVmFsdWUoa2V5KSk7XG4gICAgY29uc3QgbnVtTmV3VmFsdWVzID0gbmV3VmFsdWVLZXlzLmxlbmd0aDtcbiAgICBpZiAoIW51bU5ld1ZhbHVlcylcbiAgICAgICAgcmV0dXJuO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtTmV3VmFsdWVzOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbmV3VmFsdWVLZXlzW2ldO1xuICAgICAgICBjb25zdCB0YXJnZXRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgICAgICBsZXQgdmFsdWUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHRhcmdldCBpcyBhIHNlcmllcyBvZiBrZXlmcmFtZXMsIHdlIGNhbiB1c2UgdGhlIGZpcnN0IHZhbHVlXG4gICAgICAgICAqIGluIHRoZSBhcnJheS4gSWYgdGhpcyBmaXJzdCB2YWx1ZSBpcyBudWxsLCB3ZSdsbCBzdGlsbCBuZWVkIHRvIHJlYWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0VmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRhcmdldFZhbHVlWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgdGFyZ2V0IGlzbid0IGtleWZyYW1lcywgb3IgdGhlIGZpcnN0IGtleWZyYW1lIHdhcyBudWxsLCB3ZSBuZWVkIHRvXG4gICAgICAgICAqIGZpcnN0IGNoZWNrIGlmIGFuIG9yaWdpbiB2YWx1ZSB3YXMgZXhwbGljaXRseSBkZWZpbmVkIGluIHRoZSB0cmFuc2l0aW9uIGFzIFwiZnJvbVwiLFxuICAgICAgICAgKiBpZiBub3QgcmVhZCB0aGUgdmFsdWUgZnJvbSB0aGUgRE9NLiBBcyBhbiBhYnNvbHV0ZSBmYWxsYmFjaywgdGFrZSB0aGUgZGVmaW5lZCB0YXJnZXQgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhbHVlID0gKF9iID0gKF9hID0gb3JpZ2luW2tleV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHZpc3VhbEVsZW1lbnQucmVhZFZhbHVlKGtleSkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRhcmdldFtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB2YWx1ZSBpcyBzdGlsbCB1bmRlZmluZWQgb3IgbnVsbCwgaWdub3JlIGl0LiBQcmVmZXJhYmx5IHRoaXMgd291bGQgdGhyb3csXG4gICAgICAgICAqIGJ1dCB0aGlzIHdhcyBjYXVzaW5nIGlzc3VlcyBpbiBGcmFtZXIuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAoaXNOdW1lcmljYWxTdHJpbmcodmFsdWUpIHx8IGlzWmVyb1ZhbHVlU3RyaW5nKHZhbHVlKSkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBudW1iZXIgcmVhZCBhcyBhIHN0cmluZywgaWUgXCIwXCIgb3IgXCIyMDBcIiwgY29udmVydCBpdCB0byBhIG51bWJlclxuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZmluZFZhbHVlVHlwZSh2YWx1ZSkgJiYgY29tcGxleC50ZXN0KHRhcmdldFZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBnZXRBbmltYXRhYmxlTm9uZShrZXksIHRhcmdldFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2aXN1YWxFbGVtZW50LmFkZFZhbHVlKGtleSwgbW90aW9uVmFsdWUodmFsdWUsIHsgb3duZXI6IHZpc3VhbEVsZW1lbnQgfSkpO1xuICAgICAgICBpZiAob3JpZ2luW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3JpZ2luW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpXG4gICAgICAgICAgICB2aXN1YWxFbGVtZW50LnNldEJhc2VUYXJnZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0T3JpZ2luRnJvbVRyYW5zaXRpb24oa2V5LCB0cmFuc2l0aW9uKSB7XG4gICAgaWYgKCF0cmFuc2l0aW9uKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgdmFsdWVUcmFuc2l0aW9uID0gdHJhbnNpdGlvbltrZXldIHx8IHRyYW5zaXRpb25bXCJkZWZhdWx0XCJdIHx8IHRyYW5zaXRpb247XG4gICAgcmV0dXJuIHZhbHVlVHJhbnNpdGlvbi5mcm9tO1xufVxuZnVuY3Rpb24gZ2V0T3JpZ2luKHRhcmdldCwgdHJhbnNpdGlvbiwgdmlzdWFsRWxlbWVudCkge1xuICAgIGNvbnN0IG9yaWdpbiA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgICAgICBjb25zdCB0cmFuc2l0aW9uT3JpZ2luID0gZ2V0T3JpZ2luRnJvbVRyYW5zaXRpb24oa2V5LCB0cmFuc2l0aW9uKTtcbiAgICAgICAgaWYgKHRyYW5zaXRpb25PcmlnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3JpZ2luW2tleV0gPSB0cmFuc2l0aW9uT3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSk7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5ba2V5XSA9IHZhbHVlLmdldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcmlnaW47XG59XG5cbmV4cG9ydCB7IGNoZWNrVGFyZ2V0Rm9yTmV3VmFsdWVzLCBnZXRPcmlnaW4sIGdldE9yaWdpbkZyb21UcmFuc2l0aW9uLCBzZXRUYXJnZXQsIHNldFZhbHVlcyB9O1xuIiwiaW1wb3J0IHsgdHJhbnNmb3JtUHJvcHMgfSBmcm9tICcuLi8uLi9yZW5kZXIvaHRtbC91dGlscy90cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IG9wdGltaXplZEFwcGVhckRhdGFBdHRyaWJ1dGUgfSBmcm9tICcuLi9vcHRpbWl6ZWQtYXBwZWFyL2RhdGEtaWQubWpzJztcbmltcG9ydCB7IGFuaW1hdGVNb3Rpb25WYWx1ZSB9IGZyb20gJy4vbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3VzZS13aWxsLWNoYW5nZS9pcy5tanMnO1xuaW1wb3J0IHsgc2V0VGFyZ2V0IH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL3NldHRlcnMubWpzJztcbmltcG9ydCB7IGdldFZhbHVlVHJhbnNpdGlvbiB9IGZyb20gJy4uL3V0aWxzL3RyYW5zaXRpb25zLm1qcyc7XG5pbXBvcnQgeyBmcmFtZSB9IGZyb20gJy4uLy4uL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG4vKipcbiAqIERlY2lkZSB3aGV0aGVyIHdlIHNob3VsZCBibG9jayB0aGlzIGFuaW1hdGlvbi4gUHJldmlvdXNseSwgd2UgYWNoaWV2ZWQgdGhpc1xuICoganVzdCBieSBjaGVja2luZyB3aGV0aGVyIHRoZSBrZXkgd2FzIGxpc3RlZCBpbiBwcm90ZWN0ZWRLZXlzLCBidXQgdGhpc1xuICogcG9zZWQgcHJvYmxlbXMgaWYgYW4gYW5pbWF0aW9uIHdhcyB0cmlnZ2VyZWQgYnkgYWZ0ZXJDaGlsZHJlbiBhbmQgcHJvdGVjdGVkS2V5c1xuICogaGFkIGJlZW4gc2V0IHRvIHRydWUgaW4gdGhlIG1lYW50aW1lLlxuICovXG5mdW5jdGlvbiBzaG91bGRCbG9ja0FuaW1hdGlvbih7IHByb3RlY3RlZEtleXMsIG5lZWRzQW5pbWF0aW5nIH0sIGtleSkge1xuICAgIGNvbnN0IHNob3VsZEJsb2NrID0gcHJvdGVjdGVkS2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIG5lZWRzQW5pbWF0aW5nW2tleV0gIT09IHRydWU7XG4gICAgbmVlZHNBbmltYXRpbmdba2V5XSA9IGZhbHNlO1xuICAgIHJldHVybiBzaG91bGRCbG9jaztcbn1cbmZ1bmN0aW9uIGhhc0tleWZyYW1lc0NoYW5nZWQodmFsdWUsIHRhcmdldCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSB2YWx1ZS5nZXQoKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0W2ldICE9PSBjdXJyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY3VycmVudCAhPT0gdGFyZ2V0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFuaW1hdGVUYXJnZXQodmlzdWFsRWxlbWVudCwgZGVmaW5pdGlvbiwgeyBkZWxheSA9IDAsIHRyYW5zaXRpb25PdmVycmlkZSwgdHlwZSB9ID0ge30pIHtcbiAgICBsZXQgeyB0cmFuc2l0aW9uID0gdmlzdWFsRWxlbWVudC5nZXREZWZhdWx0VHJhbnNpdGlvbigpLCB0cmFuc2l0aW9uRW5kLCAuLi50YXJnZXQgfSA9IHZpc3VhbEVsZW1lbnQubWFrZVRhcmdldEFuaW1hdGFibGUoZGVmaW5pdGlvbik7XG4gICAgY29uc3Qgd2lsbENoYW5nZSA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoXCJ3aWxsQ2hhbmdlXCIpO1xuICAgIGlmICh0cmFuc2l0aW9uT3ZlcnJpZGUpXG4gICAgICAgIHRyYW5zaXRpb24gPSB0cmFuc2l0aW9uT3ZlcnJpZGU7XG4gICAgY29uc3QgYW5pbWF0aW9ucyA9IFtdO1xuICAgIGNvbnN0IGFuaW1hdGlvblR5cGVTdGF0ZSA9IHR5cGUgJiZcbiAgICAgICAgdmlzdWFsRWxlbWVudC5hbmltYXRpb25TdGF0ZSAmJlxuICAgICAgICB2aXN1YWxFbGVtZW50LmFuaW1hdGlvblN0YXRlLmdldFN0YXRlKClbdHlwZV07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmlzdWFsRWxlbWVudC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICBjb25zdCB2YWx1ZVRhcmdldCA9IHRhcmdldFtrZXldO1xuICAgICAgICBpZiAoIXZhbHVlIHx8XG4gICAgICAgICAgICB2YWx1ZVRhcmdldCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAoYW5pbWF0aW9uVHlwZVN0YXRlICYmXG4gICAgICAgICAgICAgICAgc2hvdWxkQmxvY2tBbmltYXRpb24oYW5pbWF0aW9uVHlwZVN0YXRlLCBrZXkpKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVUcmFuc2l0aW9uID0ge1xuICAgICAgICAgICAgZGVsYXksXG4gICAgICAgICAgICBlbGFwc2VkOiAwLFxuICAgICAgICAgICAgLi4uZ2V0VmFsdWVUcmFuc2l0aW9uKHRyYW5zaXRpb24gfHwge30sIGtleSksXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIGEgdmFsdWUgaXMgYmVpbmcgYW5pbWF0ZWQsIGNoZWNrXG4gICAgICAgICAqIHRvIHNlZSBpZiB3ZSdyZSBoYW5kbGluZyBvZmYgZnJvbSBhbiBleGlzdGluZyBhbmltYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAod2luZG93LkhhbmRvZmZBcHBlYXJBbmltYXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBhcHBlYXJJZCA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKVtvcHRpbWl6ZWRBcHBlYXJEYXRhQXR0cmlidXRlXTtcbiAgICAgICAgICAgIGlmIChhcHBlYXJJZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsYXBzZWQgPSB3aW5kb3cuSGFuZG9mZkFwcGVhckFuaW1hdGlvbnMoYXBwZWFySWQsIGtleSwgdmFsdWUsIGZyYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoZWxhcHNlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZVRyYW5zaXRpb24uZWxhcHNlZCA9IGVsYXBzZWQ7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHJhbnNpdGlvbi5pc0hhbmRvZmYgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgY2FuU2tpcCA9ICF2YWx1ZVRyYW5zaXRpb24uaXNIYW5kb2ZmICYmXG4gICAgICAgICAgICAhaGFzS2V5ZnJhbWVzQ2hhbmdlZCh2YWx1ZSwgdmFsdWVUYXJnZXQpO1xuICAgICAgICBpZiAodmFsdWVUcmFuc2l0aW9uLnR5cGUgPT09IFwic3ByaW5nXCIgJiZcbiAgICAgICAgICAgICh2YWx1ZS5nZXRWZWxvY2l0eSgpIHx8IHZhbHVlVHJhbnNpdGlvbi52ZWxvY2l0eSkpIHtcbiAgICAgICAgICAgIGNhblNraXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGVtcG9yYXJpbHkgZGlzYWJsZSBza2lwcGluZyBhbmltYXRpb25zIGlmIHRoZXJlJ3MgYW4gYW5pbWF0aW9uIGluXG4gICAgICAgICAqIHByb2dyZXNzLiBCZXR0ZXIgd291bGQgYmUgdG8gdHJhY2sgdGhlIGN1cnJlbnQgdGFyZ2V0IG9mIGEgdmFsdWVcbiAgICAgICAgICogYW5kIGNvbXBhcmUgdGhhdCBhZ2FpbnN0IHZhbHVlVGFyZ2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHZhbHVlLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgY2FuU2tpcCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5Ta2lwKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHZhbHVlLnN0YXJ0KGFuaW1hdGVNb3Rpb25WYWx1ZShrZXksIHZhbHVlLCB2YWx1ZVRhcmdldCwgdmlzdWFsRWxlbWVudC5zaG91bGRSZWR1Y2VNb3Rpb24gJiYgdHJhbnNmb3JtUHJvcHMuaGFzKGtleSlcbiAgICAgICAgICAgID8geyB0eXBlOiBmYWxzZSB9XG4gICAgICAgICAgICA6IHZhbHVlVHJhbnNpdGlvbikpO1xuICAgICAgICBjb25zdCBhbmltYXRpb24gPSB2YWx1ZS5hbmltYXRpb247XG4gICAgICAgIGlmIChpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSh3aWxsQ2hhbmdlKSkge1xuICAgICAgICAgICAgd2lsbENoYW5nZS5hZGQoa2V5KTtcbiAgICAgICAgICAgIGFuaW1hdGlvbi50aGVuKCgpID0+IHdpbGxDaGFuZ2UucmVtb3ZlKGtleSkpO1xuICAgICAgICB9XG4gICAgICAgIGFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgIH1cbiAgICBpZiAodHJhbnNpdGlvbkVuZCkge1xuICAgICAgICBQcm9taXNlLmFsbChhbmltYXRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbmQgJiYgc2V0VGFyZ2V0KHZpc3VhbEVsZW1lbnQsIHRyYW5zaXRpb25FbmQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFuaW1hdGlvbnM7XG59XG5cbmV4cG9ydCB7IGFuaW1hdGVUYXJnZXQgfTtcbiIsImltcG9ydCB7IHJlc29sdmVWYXJpYW50IH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL3Jlc29sdmUtZHluYW1pYy12YXJpYW50cy5tanMnO1xuaW1wb3J0IHsgYW5pbWF0ZVRhcmdldCB9IGZyb20gJy4vdmlzdWFsLWVsZW1lbnQtdGFyZ2V0Lm1qcyc7XG5cbmZ1bmN0aW9uIGFuaW1hdGVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZVZhcmlhbnQodmlzdWFsRWxlbWVudCwgdmFyaWFudCwgb3B0aW9ucy5jdXN0b20pO1xuICAgIGxldCB7IHRyYW5zaXRpb24gPSB2aXN1YWxFbGVtZW50LmdldERlZmF1bHRUcmFuc2l0aW9uKCkgfHwge30gfSA9IHJlc29sdmVkIHx8IHt9O1xuICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb25PdmVycmlkZSkge1xuICAgICAgICB0cmFuc2l0aW9uID0gb3B0aW9ucy50cmFuc2l0aW9uT3ZlcnJpZGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHdlIGhhdmUgYSB2YXJpYW50LCBjcmVhdGUgYSBjYWxsYmFjayB0aGF0IHJ1bnMgaXQgYXMgYW4gYW5pbWF0aW9uLlxuICAgICAqIE90aGVyd2lzZSwgd2UgcmVzb2x2ZSBhIFByb21pc2UgaW1tZWRpYXRlbHkgZm9yIGEgY29tcG9zYWJsZSBuby1vcC5cbiAgICAgKi9cbiAgICBjb25zdCBnZXRBbmltYXRpb24gPSByZXNvbHZlZFxuICAgICAgICA/ICgpID0+IFByb21pc2UuYWxsKGFuaW1hdGVUYXJnZXQodmlzdWFsRWxlbWVudCwgcmVzb2x2ZWQsIG9wdGlvbnMpKVxuICAgICAgICA6ICgpID0+IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGhhdmUgY2hpbGRyZW4sIGNyZWF0ZSBhIGNhbGxiYWNrIHRoYXQgcnVucyBhbGwgdGhlaXIgYW5pbWF0aW9ucy5cbiAgICAgKiBPdGhlcndpc2UsIHdlIHJlc29sdmUgYSBQcm9taXNlIGltbWVkaWF0ZWx5IGZvciBhIGNvbXBvc2FibGUgbm8tb3AuXG4gICAgICovXG4gICAgY29uc3QgZ2V0Q2hpbGRBbmltYXRpb25zID0gdmlzdWFsRWxlbWVudC52YXJpYW50Q2hpbGRyZW4gJiYgdmlzdWFsRWxlbWVudC52YXJpYW50Q2hpbGRyZW4uc2l6ZVxuICAgICAgICA/IChmb3J3YXJkRGVsYXkgPSAwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGRlbGF5Q2hpbGRyZW4gPSAwLCBzdGFnZ2VyQ2hpbGRyZW4sIHN0YWdnZXJEaXJlY3Rpb24sIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGVDaGlsZHJlbih2aXN1YWxFbGVtZW50LCB2YXJpYW50LCBkZWxheUNoaWxkcmVuICsgZm9yd2FyZERlbGF5LCBzdGFnZ2VyQ2hpbGRyZW4sIHN0YWdnZXJEaXJlY3Rpb24sIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHRyYW5zaXRpb24gZXhwbGljaXRseSBkZWZpbmVzIGEgXCJ3aGVuXCIgb3B0aW9uLCB3ZSBuZWVkIHRvIHJlc29sdmUgZWl0aGVyXG4gICAgICogdGhpcyBhbmltYXRpb24gb3IgYWxsIGNoaWxkcmVuIGFuaW1hdGlvbnMgYmVmb3JlIHBsYXlpbmcgdGhlIG90aGVyLlxuICAgICAqL1xuICAgIGNvbnN0IHsgd2hlbiB9ID0gdHJhbnNpdGlvbjtcbiAgICBpZiAod2hlbikge1xuICAgICAgICBjb25zdCBbZmlyc3QsIGxhc3RdID0gd2hlbiA9PT0gXCJiZWZvcmVDaGlsZHJlblwiXG4gICAgICAgICAgICA/IFtnZXRBbmltYXRpb24sIGdldENoaWxkQW5pbWF0aW9uc11cbiAgICAgICAgICAgIDogW2dldENoaWxkQW5pbWF0aW9ucywgZ2V0QW5pbWF0aW9uXTtcbiAgICAgICAgcmV0dXJuIGZpcnN0KCkudGhlbigoKSA9PiBsYXN0KCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtnZXRBbmltYXRpb24oKSwgZ2V0Q2hpbGRBbmltYXRpb25zKG9wdGlvbnMuZGVsYXkpXSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYW5pbWF0ZUNoaWxkcmVuKHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQsIGRlbGF5Q2hpbGRyZW4gPSAwLCBzdGFnZ2VyQ2hpbGRyZW4gPSAwLCBzdGFnZ2VyRGlyZWN0aW9uID0gMSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBbXTtcbiAgICBjb25zdCBtYXhTdGFnZ2VyRHVyYXRpb24gPSAodmlzdWFsRWxlbWVudC52YXJpYW50Q2hpbGRyZW4uc2l6ZSAtIDEpICogc3RhZ2dlckNoaWxkcmVuO1xuICAgIGNvbnN0IGdlbmVyYXRlU3RhZ2dlckR1cmF0aW9uID0gc3RhZ2dlckRpcmVjdGlvbiA9PT0gMVxuICAgICAgICA/IChpID0gMCkgPT4gaSAqIHN0YWdnZXJDaGlsZHJlblxuICAgICAgICA6IChpID0gMCkgPT4gbWF4U3RhZ2dlckR1cmF0aW9uIC0gaSAqIHN0YWdnZXJDaGlsZHJlbjtcbiAgICBBcnJheS5mcm9tKHZpc3VhbEVsZW1lbnQudmFyaWFudENoaWxkcmVuKVxuICAgICAgICAuc29ydChzb3J0QnlUcmVlT3JkZXIpXG4gICAgICAgIC5mb3JFYWNoKChjaGlsZCwgaSkgPT4ge1xuICAgICAgICBjaGlsZC5ub3RpZnkoXCJBbmltYXRpb25TdGFydFwiLCB2YXJpYW50KTtcbiAgICAgICAgYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGVWYXJpYW50KGNoaWxkLCB2YXJpYW50LCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgZGVsYXk6IGRlbGF5Q2hpbGRyZW4gKyBnZW5lcmF0ZVN0YWdnZXJEdXJhdGlvbihpKSxcbiAgICAgICAgfSkudGhlbigoKSA9PiBjaGlsZC5ub3RpZnkoXCJBbmltYXRpb25Db21wbGV0ZVwiLCB2YXJpYW50KSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChhbmltYXRpb25zKTtcbn1cbmZ1bmN0aW9uIHNvcnRCeVRyZWVPcmRlcihhLCBiKSB7XG4gICAgcmV0dXJuIGEuc29ydE5vZGVQb3NpdGlvbihiKTtcbn1cblxuZXhwb3J0IHsgYW5pbWF0ZVZhcmlhbnQsIHNvcnRCeVRyZWVPcmRlciB9O1xuIiwiaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnQgfSBmcm9tICcuLi8uLi9yZW5kZXIvdXRpbHMvcmVzb2x2ZS1keW5hbWljLXZhcmlhbnRzLm1qcyc7XG5pbXBvcnQgeyBhbmltYXRlVGFyZ2V0IH0gZnJvbSAnLi92aXN1YWwtZWxlbWVudC10YXJnZXQubWpzJztcbmltcG9ydCB7IGFuaW1hdGVWYXJpYW50IH0gZnJvbSAnLi92aXN1YWwtZWxlbWVudC12YXJpYW50Lm1qcyc7XG5cbmZ1bmN0aW9uIGFuaW1hdGVWaXN1YWxFbGVtZW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIG9wdGlvbnMgPSB7fSkge1xuICAgIHZpc3VhbEVsZW1lbnQubm90aWZ5KFwiQW5pbWF0aW9uU3RhcnRcIiwgZGVmaW5pdGlvbik7XG4gICAgbGV0IGFuaW1hdGlvbjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZWZpbml0aW9uKSkge1xuICAgICAgICBjb25zdCBhbmltYXRpb25zID0gZGVmaW5pdGlvbi5tYXAoKHZhcmlhbnQpID0+IGFuaW1hdGVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIHZhcmlhbnQsIG9wdGlvbnMpKTtcbiAgICAgICAgYW5pbWF0aW9uID0gUHJvbWlzZS5hbGwoYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbml0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGFuaW1hdGlvbiA9IGFuaW1hdGVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24sIG9wdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWREZWZpbml0aW9uID0gdHlwZW9mIGRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyByZXNvbHZlVmFyaWFudCh2aXN1YWxFbGVtZW50LCBkZWZpbml0aW9uLCBvcHRpb25zLmN1c3RvbSlcbiAgICAgICAgICAgIDogZGVmaW5pdGlvbjtcbiAgICAgICAgYW5pbWF0aW9uID0gUHJvbWlzZS5hbGwoYW5pbWF0ZVRhcmdldCh2aXN1YWxFbGVtZW50LCByZXNvbHZlZERlZmluaXRpb24sIG9wdGlvbnMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFuaW1hdGlvbi50aGVuKCgpID0+IHZpc3VhbEVsZW1lbnQubm90aWZ5KFwiQW5pbWF0aW9uQ29tcGxldGVcIiwgZGVmaW5pdGlvbikpO1xufVxuXG5leHBvcnQgeyBhbmltYXRlVmlzdWFsRWxlbWVudCB9O1xuIiwiaW1wb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRpb24tY29udHJvbHMubWpzJztcbmltcG9ydCB7IGlzS2V5ZnJhbWVzVGFyZ2V0IH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWtleWZyYW1lcy10YXJnZXQubWpzJztcbmltcG9ydCB7IHNoYWxsb3dDb21wYXJlIH0gZnJvbSAnLi4vLi4vdXRpbHMvc2hhbGxvdy1jb21wYXJlLm1qcyc7XG5pbXBvcnQgeyBpc1ZhcmlhbnRMYWJlbCB9IGZyb20gJy4vaXMtdmFyaWFudC1sYWJlbC5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnQgfSBmcm9tICcuL3Jlc29sdmUtZHluYW1pYy12YXJpYW50cy5tanMnO1xuaW1wb3J0IHsgdmFyaWFudFByaW9yaXR5T3JkZXIgfSBmcm9tICcuL3ZhcmlhbnQtcHJvcHMubWpzJztcbmltcG9ydCB7IGFuaW1hdGVWaXN1YWxFbGVtZW50IH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uL2ludGVyZmFjZXMvdmlzdWFsLWVsZW1lbnQubWpzJztcblxuY29uc3QgcmV2ZXJzZVByaW9yaXR5T3JkZXIgPSBbLi4udmFyaWFudFByaW9yaXR5T3JkZXJdLnJldmVyc2UoKTtcbmNvbnN0IG51bUFuaW1hdGlvblR5cGVzID0gdmFyaWFudFByaW9yaXR5T3JkZXIubGVuZ3RoO1xuZnVuY3Rpb24gYW5pbWF0ZUxpc3QodmlzdWFsRWxlbWVudCkge1xuICAgIHJldHVybiAoYW5pbWF0aW9ucykgPT4gUHJvbWlzZS5hbGwoYW5pbWF0aW9ucy5tYXAoKHsgYW5pbWF0aW9uLCBvcHRpb25zIH0pID0+IGFuaW1hdGVWaXN1YWxFbGVtZW50KHZpc3VhbEVsZW1lbnQsIGFuaW1hdGlvbiwgb3B0aW9ucykpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGlvblN0YXRlKHZpc3VhbEVsZW1lbnQpIHtcbiAgICBsZXQgYW5pbWF0ZSA9IGFuaW1hdGVMaXN0KHZpc3VhbEVsZW1lbnQpO1xuICAgIGNvbnN0IHN0YXRlID0gY3JlYXRlU3RhdGUoKTtcbiAgICBsZXQgaXNJbml0aWFsUmVuZGVyID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgdXNlZCB0byByZWR1Y2UgdGhlIGFuaW1hdGlvbiBkZWZpbml0aW9ucyBmb3JcbiAgICAgKiBlYWNoIGFjdGl2ZSBhbmltYXRpb24gdHlwZSBpbnRvIGFuIG9iamVjdCBvZiByZXNvbHZlZCB2YWx1ZXMgZm9yIGl0LlxuICAgICAqL1xuICAgIGNvbnN0IGJ1aWxkUmVzb2x2ZWRUeXBlVmFsdWVzID0gKGFjYywgZGVmaW5pdGlvbikgPT4ge1xuICAgICAgICBjb25zdCByZXNvbHZlZCA9IHJlc29sdmVWYXJpYW50KHZpc3VhbEVsZW1lbnQsIGRlZmluaXRpb24pO1xuICAgICAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHJhbnNpdGlvbiwgdHJhbnNpdGlvbkVuZCwgLi4udGFyZ2V0IH0gPSByZXNvbHZlZDtcbiAgICAgICAgICAgIGFjYyA9IHsgLi4uYWNjLCAuLi50YXJnZXQsIC4uLnRyYW5zaXRpb25FbmQgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBqdXN0IGFsbG93cyB1cyB0byBpbmplY3QgbW9ja2VkIGFuaW1hdGlvbiBmdW5jdGlvbnNcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRBbmltYXRlRnVuY3Rpb24obWFrZUFuaW1hdG9yKSB7XG4gICAgICAgIGFuaW1hdGUgPSBtYWtlQW5pbWF0b3IodmlzdWFsRWxlbWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gd2UgcmVjZWl2ZSBuZXcgcHJvcHMsIHdlIG5lZWQgdG86XG4gICAgICogMS4gQ3JlYXRlIGEgbGlzdCBvZiBwcm90ZWN0ZWQga2V5cyBmb3IgZWFjaCB0eXBlLiBUaGlzIGlzIGEgZGlyZWN0b3J5IG9mXG4gICAgICogICAgdmFsdWUga2V5cyB0aGF0IGFyZSBjdXJyZW50bHkgYmVpbmcgXCJoYW5kbGVkXCIgYnkgdHlwZXMgb2YgYSBoaWdoZXIgcHJpb3JpdHlcbiAgICAgKiAgICBzbyB0aGF0IHdoZW5ldmVyIGFuIGFuaW1hdGlvbiBpcyBwbGF5ZWQgb2YgYSBnaXZlbiB0eXBlLCB0aGVzZSB2YWx1ZXMgYXJlXG4gICAgICogICAgcHJvdGVjdGVkIGZyb20gYmVpbmcgYW5pbWF0ZWQuXG4gICAgICogMi4gRGV0ZXJtaW5lIGlmIGFuIGFuaW1hdGlvbiB0eXBlIG5lZWRzIGFuaW1hdGluZy5cbiAgICAgKiAzLiBEZXRlcm1pbmUgaWYgYW55IHZhbHVlcyBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIGEgdHlwZSBhbmQgZmlndXJlIG91dFxuICAgICAqICAgIHdoYXQgdG8gYW5pbWF0ZSB0aG9zZSB0by5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbmltYXRlQ2hhbmdlcyhvcHRpb25zLCBjaGFuZ2VkQWN0aXZlVHlwZSkge1xuICAgICAgICBjb25zdCBwcm9wcyA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHZpc3VhbEVsZW1lbnQuZ2V0VmFyaWFudENvbnRleHQodHJ1ZSkgfHwge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgYW5pbWF0aW9ucyB0aGF0IHdlJ2xsIGJ1aWxkIGludG8gYXMgd2UgaXRlcmF0ZSB0aHJvdWdoIHRoZSBhbmltYXRpb25cbiAgICAgICAgICogdHlwZXMuIFRoaXMgd2lsbCBnZXQgZXhlY3V0ZWQgYXQgdGhlIGVuZCBvZiB0aGUgZnVuY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBhbmltYXRpb25zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwIHRyYWNrIG9mIHdoaWNoIHZhbHVlcyBoYXZlIGJlZW4gcmVtb3ZlZC4gVGhlbiwgYXMgd2UgaGl0IGxvd2VyIHByaW9yaXR5XG4gICAgICAgICAqIGFuaW1hdGlvbiB0eXBlcywgd2UgY2FuIGNoZWNrIGlmIHRoZXkgY29udGFpbiByZW1vdmVkIHZhbHVlcyBhbmQgYW5pbWF0ZSB0byB0aGF0LlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcmVtb3ZlZEtleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGRpY3Rpb25hcnkgb2YgYWxsIGVuY291bnRlcmVkIGtleXMuIFRoaXMgaXMgYW4gb2JqZWN0IHRvIGxldCB1cyBidWlsZCBpbnRvIGFuZFxuICAgICAgICAgKiBjb3B5IGl0IHdpdGhvdXQgaXRlcmF0aW9uLiBFYWNoIHRpbWUgd2UgaGl0IGFuIGFuaW1hdGlvbiB0eXBlIHdlIHNldCBpdHMgcHJvdGVjdGVkXG4gICAgICAgICAqIGtleXMgLSB0aGUga2V5cyBpdHMgbm90IGFsbG93ZWQgdG8gYW5pbWF0ZSAtIHRvIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGxldCBlbmNvdW50ZXJlZEtleXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGEgdmFyaWFudCBoYXMgYmVlbiByZW1vdmVkIGF0IGEgZ2l2ZW4gaW5kZXgsIGFuZCB0aGlzIGNvbXBvbmVudCBpcyBjb250cm9sbGluZ1xuICAgICAgICAgKiB2YXJpYW50IGFuaW1hdGlvbnMsIHdlIHdhbnQgdG8gZW5zdXJlIGxvd2VyLXByaW9yaXR5IHZhcmlhbnRzIGFyZSBmb3JjZWQgdG8gYW5pbWF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGxldCByZW1vdmVkVmFyaWFudEluZGV4ID0gSW5maW5pdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIGFuaW1hdGlvbiB0eXBlcyBpbiByZXZlcnNlIHByaW9yaXR5IG9yZGVyLiBGb3IgZWFjaCwgd2Ugd2FudCB0b1xuICAgICAgICAgKiBkZXRlY3Qgd2hpY2ggdmFsdWVzIGl0J3MgaGFuZGxpbmcgYW5kIHdoZXRoZXIgb3Igbm90IHRoZXkndmUgY2hhbmdlZCAoYW5kIHRoZXJlZm9yZVxuICAgICAgICAgKiBuZWVkIHRvIGJlIGFuaW1hdGVkKS4gSWYgYW55IHZhbHVlcyBoYXZlIGJlZW4gcmVtb3ZlZCwgd2Ugd2FudCB0byBkZXRlY3QgdGhvc2UgaW5cbiAgICAgICAgICogbG93ZXIgcHJpb3JpdHkgcHJvcHMgYW5kIGZsYWcgZm9yIGFuaW1hdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQW5pbWF0aW9uVHlwZXM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHJldmVyc2VQcmlvcml0eU9yZGVyW2ldO1xuICAgICAgICAgICAgY29uc3QgdHlwZVN0YXRlID0gc3RhdGVbdHlwZV07XG4gICAgICAgICAgICBjb25zdCBwcm9wID0gcHJvcHNbdHlwZV0gIT09IHVuZGVmaW5lZCA/IHByb3BzW3R5cGVdIDogY29udGV4dFt0eXBlXTtcbiAgICAgICAgICAgIGNvbnN0IHByb3BJc1ZhcmlhbnQgPSBpc1ZhcmlhbnRMYWJlbChwcm9wKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyB0eXBlIGhhcyAqanVzdCogY2hhbmdlZCBpc0FjdGl2ZSBzdGF0dXMsIHNldCBhY3RpdmVEZWx0YVxuICAgICAgICAgICAgICogdG8gdGhhdCBzdGF0dXMuIE90aGVyd2lzZSBzZXQgdG8gbnVsbC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlRGVsdGEgPSB0eXBlID09PSBjaGFuZ2VkQWN0aXZlVHlwZSA/IHR5cGVTdGF0ZS5pc0FjdGl2ZSA6IG51bGw7XG4gICAgICAgICAgICBpZiAoYWN0aXZlRGVsdGEgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJlbW92ZWRWYXJpYW50SW5kZXggPSBpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIHByb3AgaXMgYW4gaW5oZXJpdGVkIHZhcmlhbnQsIHJhdGhlciB0aGFuIGJlZW4gc2V0IGRpcmVjdGx5IG9uIHRoZVxuICAgICAgICAgICAgICogY29tcG9uZW50IGl0c2VsZiwgd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgYWxsb3cgdGhlIHBhcmVudCB0byB0cmlnZ2VyIGFuaW1hdGlvbnMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVE9ETzogQ2FuIHByb2JhYmx5IGNoYW5nZSB0aGlzIHRvIGEgIWlzQ29udHJvbGxpbmdWYXJpYW50cyBjaGVja1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgaXNJbmhlcml0ZWQgPSBwcm9wID09PSBjb250ZXh0W3R5cGVdICYmIHByb3AgIT09IHByb3BzW3R5cGVdICYmIHByb3BJc1ZhcmlhbnQ7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpc0luaGVyaXRlZCAmJlxuICAgICAgICAgICAgICAgIGlzSW5pdGlhbFJlbmRlciAmJlxuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQubWFudWFsbHlBbmltYXRlT25Nb3VudCkge1xuICAgICAgICAgICAgICAgIGlzSW5oZXJpdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCBhbGwgZW5jb3VudGVyZWQga2V5cyBzbyBmYXIgYXMgdGhlIHByb3RlY3RlZCBrZXlzIGZvciB0aGlzIHR5cGUuIFRoaXMgd2lsbFxuICAgICAgICAgICAgICogYmUgYW55IGtleSB0aGF0IGhhcyBiZWVuIGFuaW1hdGVkIG9yIG90aGVyd2lzZSBoYW5kbGVkIGJ5IGFjdGl2ZSwgaGlnaGVyLXByaW9ydGl5IHR5cGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0eXBlU3RhdGUucHJvdGVjdGVkS2V5cyA9IHsgLi4uZW5jb3VudGVyZWRLZXlzIH07XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBjYW4gc2tpcCBhbmFseXNpbmcgdGhpcyBwcm9wIGVhcmx5XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAvLyBJZiBpdCBpc24ndCBhY3RpdmUgYW5kIGhhc24ndCAqanVzdCogYmVlbiBzZXQgYXMgaW5hY3RpdmVcbiAgICAgICAgICAgICghdHlwZVN0YXRlLmlzQWN0aXZlICYmIGFjdGl2ZURlbHRhID09PSBudWxsKSB8fFxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRpZG4ndCBhbmQgZG9uJ3QgaGF2ZSBhbnkgZGVmaW5lZCBwcm9wIGZvciB0aGlzIGFuaW1hdGlvbiB0eXBlXG4gICAgICAgICAgICAgICAgKCFwcm9wICYmICF0eXBlU3RhdGUucHJldlByb3ApIHx8XG4gICAgICAgICAgICAgICAgLy8gT3IgaWYgdGhlIHByb3AgZG9lc24ndCBkZWZpbmUgYW4gYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgaXNBbmltYXRpb25Db250cm9scyhwcm9wKSB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiBwcm9wID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBcyB3ZSBnbyBsb29rIHRocm91Z2ggdGhlIHZhbHVlcyBkZWZpbmVkIG9uIHRoaXMgdHlwZSwgaWYgd2UgZGV0ZWN0XG4gICAgICAgICAgICAgKiBhIGNoYW5nZWQgdmFsdWUgb3IgYSB2YWx1ZSB0aGF0IHdhcyByZW1vdmVkIGluIGEgaGlnaGVyIHByaW9yaXR5LCB3ZSBzZXRcbiAgICAgICAgICAgICAqIHRoaXMgdG8gdHJ1ZSBhbmQgYWRkIHRoaXMgcHJvcCB0byB0aGUgYW5pbWF0aW9uIGxpc3QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHZhcmlhbnREaWRDaGFuZ2UgPSBjaGVja1ZhcmlhbnRzRGlkQ2hhbmdlKHR5cGVTdGF0ZS5wcmV2UHJvcCwgcHJvcCk7XG4gICAgICAgICAgICBsZXQgc2hvdWxkQW5pbWF0ZVR5cGUgPSB2YXJpYW50RGlkQ2hhbmdlIHx8XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgbWFraW5nIHRoaXMgdmFyaWFudCBhY3RpdmUsIHdlIHdhbnQgdG8gYWx3YXlzIG1ha2UgaXQgYWN0aXZlXG4gICAgICAgICAgICAgICAgKHR5cGUgPT09IGNoYW5nZWRBY3RpdmVUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVTdGF0ZS5pc0FjdGl2ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhaXNJbmhlcml0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgcHJvcElzVmFyaWFudCkgfHxcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSByZW1vdmVkIGEgaGlnaGVyLXByaW9yaXR5IHZhcmlhbnQgKGkgaXMgaW4gcmV2ZXJzZSBvcmRlcilcbiAgICAgICAgICAgICAgICAoaSA+IHJlbW92ZWRWYXJpYW50SW5kZXggJiYgcHJvcElzVmFyaWFudCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFzIGFuaW1hdGlvbnMgY2FuIGJlIHNldCBhcyB2YXJpYW50IGxpc3RzLCB2YXJpYW50cyBvciB0YXJnZXQgb2JqZWN0cywgd2VcbiAgICAgICAgICAgICAqIGNvZXJjZSBldmVyeXRoaW5nIHRvIGFuIGFycmF5IGlmIGl0IGlzbid0IG9uZSBhbHJlYWR5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb25MaXN0ID0gQXJyYXkuaXNBcnJheShwcm9wKSA/IHByb3AgOiBbcHJvcF07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJ1aWxkIGFuIG9iamVjdCBvZiBhbGwgdGhlIHJlc29sdmVkIHZhbHVlcy4gV2UnbGwgdXNlIHRoaXMgaW4gdGhlIHN1YnNlcXVlbnRcbiAgICAgICAgICAgICAqIGFuaW1hdGVDaGFuZ2VzIGNhbGxzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgdmFsdWUgaGFzIGNoYW5nZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCByZXNvbHZlZFZhbHVlcyA9IGRlZmluaXRpb25MaXN0LnJlZHVjZShidWlsZFJlc29sdmVkVHlwZVZhbHVlcywge30pO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZURlbHRhID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXNvbHZlZFZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBOb3cgd2UgbmVlZCB0byBsb29wIHRocm91Z2ggYWxsIHRoZSBrZXlzIGluIHRoZSBwcmV2IHByb3AgYW5kIHRoaXMgcHJvcCxcbiAgICAgICAgICAgICAqIGFuZCBkZWNpZGU6XG4gICAgICAgICAgICAgKiAxLiBJZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQsIGFuZCBuZWVkcyBhbmltYXRpbmdcbiAgICAgICAgICAgICAqIDIuIElmIGl0IGhhcyBiZWVuIHJlbW92ZWQsIGFuZCBuZWVkcyBhZGRpbmcgdG8gdGhlIHJlbW92ZWRLZXlzIHNldFxuICAgICAgICAgICAgICogMy4gSWYgaXQgaGFzIGJlZW4gcmVtb3ZlZCBpbiBhIGhpZ2hlciBwcmlvcml0eSB0eXBlIGFuZCBuZWVkcyBhbmltYXRpbmdcbiAgICAgICAgICAgICAqIDQuIElmIGl0IGhhc24ndCBiZWVuIHJlbW92ZWQgaW4gYSBoaWdoZXIgcHJpb3JpdHkgYnV0IGhhc24ndCBjaGFuZ2VkLCBhbmRcbiAgICAgICAgICAgICAqICAgIG5lZWRzIGFkZGluZyB0byB0aGUgdHlwZSdzIHByb3RlY3RlZEtleXMgbGlzdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgeyBwcmV2UmVzb2x2ZWRWYWx1ZXMgPSB7fSB9ID0gdHlwZVN0YXRlO1xuICAgICAgICAgICAgY29uc3QgYWxsS2V5cyA9IHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2UmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAgICAgICAgICAgLi4ucmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgbWFya1RvQW5pbWF0ZSA9IChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzaG91bGRBbmltYXRlVHlwZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZEtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAgdHlwZVN0YXRlLm5lZWRzQW5pbWF0aW5nW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gcmVzb2x2ZWRWYWx1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2ID0gcHJldlJlc29sdmVkVmFsdWVzW2tleV07XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoaXMgd2UgY2FuIGp1c3Qgc2tpcCBhaGVhZFxuICAgICAgICAgICAgICAgIGlmIChlbmNvdW50ZXJlZEtleXMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkLCB3ZSBwcm9iYWJseSB3YW50IHRvIGFuaW1hdGUgaXQuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIGJvdGggdmFsdWVzIGFyZSBrZXlmcmFtZXMsIHdlIG5lZWQgdG8gc2hhbGxvdyBjb21wYXJlIHRoZW0gdG9cbiAgICAgICAgICAgICAgICAgICAgICogZGV0ZWN0IHdoZXRoZXIgYW55IHZhbHVlIGhhcyBjaGFuZ2VkLiBJZiBpdCBoYXMsIHdlIGFuaW1hdGUgaXQuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNLZXlmcmFtZXNUYXJnZXQobmV4dCkgJiYgaXNLZXlmcmFtZXNUYXJnZXQocHJldikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hhbGxvd0NvbXBhcmUobmV4dCwgcHJldikgfHwgdmFyaWFudERpZENoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtUb0FuaW1hdGUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIElmIGl0IGhhc24ndCBjaGFuZ2VkLCB3ZSB3YW50IHRvIGVuc3VyZSBpdCBkb2Vzbid0IGFuaW1hdGUgYnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBhZGRpbmcgaXQgdG8gdGhlIGxpc3Qgb2YgcHJvdGVjdGVkIGtleXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZVN0YXRlLnByb3RlY3RlZEtleXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBuZXh0IGlzIGRlZmluZWQgYW5kIGRvZXNuJ3QgZXF1YWwgcHJldiwgaXQgbmVlZHMgYW5pbWF0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrVG9BbmltYXRlKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIHVuZGVmaW5lZCwgaXQncyBiZWVuIHJlbW92ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ICE9PSB1bmRlZmluZWQgJiYgcmVtb3ZlZEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIG5leHQgaGFzbid0IGNoYW5nZWQgYW5kIGl0IGlzbid0IHVuZGVmaW5lZCwgd2Ugd2FudCB0byBjaGVjayBpZiBpdCdzXG4gICAgICAgICAgICAgICAgICAgICAqIGJlZW4gcmVtb3ZlZCBieSBhIGhpZ2hlciBwcmlvcml0eVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgbWFya1RvQW5pbWF0ZShrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIGl0IGhhc24ndCBjaGFuZ2VkLCB3ZSBhZGQgaXQgdG8gdGhlIGxpc3Qgb2YgcHJvdGVjdGVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgKiB0byBlbnN1cmUgaXQgZG9lc24ndCBnZXQgYW5pbWF0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB0eXBlU3RhdGUucHJvdGVjdGVkS2V5c1trZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSB0aGUgdHlwZVN0YXRlIHNvIG5leHQgdGltZSBhbmltYXRlQ2hhbmdlcyBpcyBjYWxsZWQgd2UgY2FuIGNvbXBhcmUgdGhlXG4gICAgICAgICAgICAgKiBsYXRlc3QgcHJvcCBhbmQgcmVzb2x2ZWRWYWx1ZXMgdG8gdGhlc2UuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHR5cGVTdGF0ZS5wcmV2UHJvcCA9IHByb3A7XG4gICAgICAgICAgICB0eXBlU3RhdGUucHJldlJlc29sdmVkVmFsdWVzID0gcmVzb2x2ZWRWYWx1ZXM7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0eXBlU3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBlbmNvdW50ZXJlZEtleXMgPSB7IC4uLmVuY291bnRlcmVkS2V5cywgLi4ucmVzb2x2ZWRWYWx1ZXMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0luaXRpYWxSZW5kZXIgJiYgdmlzdWFsRWxlbWVudC5ibG9ja0luaXRpYWxBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICBzaG91bGRBbmltYXRlVHlwZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIGlzIGFuIGluaGVyaXRlZCBwcm9wIHdlIHdhbnQgdG8gaGFyZC1ibG9jayBhbmltYXRpb25zXG4gICAgICAgICAgICAgKiBUT0RPOiBUZXN0IGFzIHRoaXMgc2hvdWxkIHByb2JhYmx5IHN0aWxsIGhhbmRsZSBhbmltYXRpb25zIHRyaWdnZXJlZFxuICAgICAgICAgICAgICogYnkgcmVtb3ZlZCB2YWx1ZXM/XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChzaG91bGRBbmltYXRlVHlwZSAmJiAhaXNJbmhlcml0ZWQpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goLi4uZGVmaW5pdGlvbkxpc3QubWFwKChhbmltYXRpb24pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogYW5pbWF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7IHR5cGUsIC4uLm9wdGlvbnMgfSxcbiAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGVyZSBhcmUgc29tZSByZW1vdmVkIHZhbHVlIHRoYXQgaGF2ZW4ndCBiZWVuIGRlYWx0IHdpdGgsXG4gICAgICAgICAqIHdlIG5lZWQgdG8gY3JlYXRlIGEgbmV3IGFuaW1hdGlvbiB0aGF0IGZhbGxzIGJhY2sgZWl0aGVyIHRvIHRoZSB2YWx1ZVxuICAgICAgICAgKiBkZWZpbmVkIGluIHRoZSBzdHlsZSBwcm9wLCBvciB0aGUgbGFzdCByZWFkIHZhbHVlLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHJlbW92ZWRLZXlzLnNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrQW5pbWF0aW9uID0ge307XG4gICAgICAgICAgICByZW1vdmVkS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja1RhcmdldCA9IHZpc3VhbEVsZW1lbnQuZ2V0QmFzZVRhcmdldChrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChmYWxsYmFja1RhcmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrQW5pbWF0aW9uW2tleV0gPSBmYWxsYmFja1RhcmdldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFuaW1hdGlvbnMucHVzaCh7IGFuaW1hdGlvbjogZmFsbGJhY2tBbmltYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNob3VsZEFuaW1hdGUgPSBCb29sZWFuKGFuaW1hdGlvbnMubGVuZ3RoKTtcbiAgICAgICAgaWYgKGlzSW5pdGlhbFJlbmRlciAmJlxuICAgICAgICAgICAgKHByb3BzLmluaXRpYWwgPT09IGZhbHNlIHx8IHByb3BzLmluaXRpYWwgPT09IHByb3BzLmFuaW1hdGUpICYmXG4gICAgICAgICAgICAhdmlzdWFsRWxlbWVudC5tYW51YWxseUFuaW1hdGVPbk1vdW50KSB7XG4gICAgICAgICAgICBzaG91bGRBbmltYXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaXNJbml0aWFsUmVuZGVyID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzaG91bGRBbmltYXRlID8gYW5pbWF0ZShhbmltYXRpb25zKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2Ugd2hldGhlciBhIGNlcnRhaW4gYW5pbWF0aW9uIHR5cGUgaXMgYWN0aXZlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldEFjdGl2ZSh0eXBlLCBpc0FjdGl2ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIElmIHRoZSBhY3RpdmUgc3RhdGUgaGFzbid0IGNoYW5nZWQsIHdlIGNhbiBzYWZlbHkgZG8gbm90aGluZyBoZXJlXG4gICAgICAgIGlmIChzdGF0ZVt0eXBlXS5pc0FjdGl2ZSA9PT0gaXNBY3RpdmUpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIC8vIFByb3BhZ2F0ZSBhY3RpdmUgY2hhbmdlIHRvIGNoaWxkcmVuXG4gICAgICAgIChfYSA9IHZpc3VhbEVsZW1lbnQudmFyaWFudENoaWxkcmVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoY2hpbGQpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gY2hpbGQuYW5pbWF0aW9uU3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRBY3RpdmUodHlwZSwgaXNBY3RpdmUpOyB9KTtcbiAgICAgICAgc3RhdGVbdHlwZV0uaXNBY3RpdmUgPSBpc0FjdGl2ZTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IGFuaW1hdGVDaGFuZ2VzKG9wdGlvbnMsIHR5cGUpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGF0ZSkge1xuICAgICAgICAgICAgc3RhdGVba2V5XS5wcm90ZWN0ZWRLZXlzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFuaW1hdGVDaGFuZ2VzLFxuICAgICAgICBzZXRBY3RpdmUsXG4gICAgICAgIHNldEFuaW1hdGVGdW5jdGlvbixcbiAgICAgICAgZ2V0U3RhdGU6ICgpID0+IHN0YXRlLFxuICAgIH07XG59XG5mdW5jdGlvbiBjaGVja1ZhcmlhbnRzRGlkQ2hhbmdlKHByZXYsIG5leHQpIHtcbiAgICBpZiAodHlwZW9mIG5leHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIG5leHQgIT09IHByZXY7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobmV4dCkpIHtcbiAgICAgICAgcmV0dXJuICFzaGFsbG93Q29tcGFyZShuZXh0LCBwcmV2KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gY3JlYXRlVHlwZVN0YXRlKGlzQWN0aXZlID0gZmFsc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpc0FjdGl2ZSxcbiAgICAgICAgcHJvdGVjdGVkS2V5czoge30sXG4gICAgICAgIG5lZWRzQW5pbWF0aW5nOiB7fSxcbiAgICAgICAgcHJldlJlc29sdmVkVmFsdWVzOiB7fSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYW5pbWF0ZTogY3JlYXRlVHlwZVN0YXRlKHRydWUpLFxuICAgICAgICB3aGlsZUluVmlldzogY3JlYXRlVHlwZVN0YXRlKCksXG4gICAgICAgIHdoaWxlSG92ZXI6IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICB3aGlsZVRhcDogY3JlYXRlVHlwZVN0YXRlKCksXG4gICAgICAgIHdoaWxlRHJhZzogY3JlYXRlVHlwZVN0YXRlKCksXG4gICAgICAgIHdoaWxlRm9jdXM6IGNyZWF0ZVR5cGVTdGF0ZSgpLFxuICAgICAgICBleGl0OiBjcmVhdGVUeXBlU3RhdGUoKSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjaGVja1ZhcmlhbnRzRGlkQ2hhbmdlLCBjcmVhdGVBbmltYXRpb25TdGF0ZSB9O1xuIiwiaW1wb3J0IHsgaXNBbmltYXRpb25Db250cm9scyB9IGZyb20gJy4uLy4uLy4uL2FuaW1hdGlvbi91dGlscy9pcy1hbmltYXRpb24tY29udHJvbHMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUFuaW1hdGlvblN0YXRlIH0gZnJvbSAnLi4vLi4vLi4vcmVuZGVyL3V0aWxzL2FuaW1hdGlvbi1zdGF0ZS5tanMnO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gJy4uL0ZlYXR1cmUubWpzJztcblxuY2xhc3MgQW5pbWF0aW9uRmVhdHVyZSBleHRlbmRzIEZlYXR1cmUge1xuICAgIC8qKlxuICAgICAqIFdlIGR5bmFtaWNhbGx5IGdlbmVyYXRlIHRoZSBBbmltYXRpb25TdGF0ZSBtYW5hZ2VyIGFzIGl0IGNvbnRhaW5zIGEgcmVmZXJlbmNlXG4gICAgICogdG8gdGhlIHVuZGVybHlpbmcgYW5pbWF0aW9uIGxpYnJhcnkuIFdlIG9ubHkgd2FudCB0byBsb2FkIHRoYXQgaWYgd2UgbG9hZCB0aGlzLFxuICAgICAqIHNvIHBlb3BsZSBjYW4gb3B0aW9uYWxseSBjb2RlIHNwbGl0IGl0IG91dCB1c2luZyB0aGUgYG1gIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihub2RlKSB7XG4gICAgICAgIHN1cGVyKG5vZGUpO1xuICAgICAgICBub2RlLmFuaW1hdGlvblN0YXRlIHx8IChub2RlLmFuaW1hdGlvblN0YXRlID0gY3JlYXRlQW5pbWF0aW9uU3RhdGUobm9kZSkpO1xuICAgIH1cbiAgICB1cGRhdGVBbmltYXRpb25Db250cm9sc1N1YnNjcmlwdGlvbigpIHtcbiAgICAgICAgY29uc3QgeyBhbmltYXRlIH0gPSB0aGlzLm5vZGUuZ2V0UHJvcHMoKTtcbiAgICAgICAgdGhpcy51bm1vdW50KCk7XG4gICAgICAgIGlmIChpc0FuaW1hdGlvbkNvbnRyb2xzKGFuaW1hdGUpKSB7XG4gICAgICAgICAgICB0aGlzLnVubW91bnQgPSBhbmltYXRlLnN1YnNjcmliZSh0aGlzLm5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSBhbnkgcHJvdmlkZWQgQW5pbWF0aW9uQ29udHJvbHMgdG8gdGhlIGNvbXBvbmVudCdzIFZpc3VhbEVsZW1lbnRcbiAgICAgKi9cbiAgICBtb3VudCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25Db250cm9sc1N1YnNjcmlwdGlvbigpO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgYW5pbWF0ZSB9ID0gdGhpcy5ub2RlLmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IHsgYW5pbWF0ZTogcHJldkFuaW1hdGUgfSA9IHRoaXMubm9kZS5wcmV2UHJvcHMgfHwge307XG4gICAgICAgIGlmIChhbmltYXRlICE9PSBwcmV2QW5pbWF0ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBbmltYXRpb25Db250cm9sc1N1YnNjcmlwdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVubW91bnQoKSB7IH1cbn1cblxuZXhwb3J0IHsgQW5pbWF0aW9uRmVhdHVyZSB9O1xuIiwiaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gJy4uL0ZlYXR1cmUubWpzJztcblxubGV0IGlkID0gMDtcbmNsYXNzIEV4aXRBbmltYXRpb25GZWF0dXJlIGV4dGVuZHMgRmVhdHVyZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuaWQgPSBpZCsrO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5ub2RlLnByZXNlbmNlQ29udGV4dClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBpc1ByZXNlbnQsIG9uRXhpdENvbXBsZXRlLCBjdXN0b20gfSA9IHRoaXMubm9kZS5wcmVzZW5jZUNvbnRleHQ7XG4gICAgICAgIGNvbnN0IHsgaXNQcmVzZW50OiBwcmV2SXNQcmVzZW50IH0gPSB0aGlzLm5vZGUucHJldlByZXNlbmNlQ29udGV4dCB8fCB7fTtcbiAgICAgICAgaWYgKCF0aGlzLm5vZGUuYW5pbWF0aW9uU3RhdGUgfHwgaXNQcmVzZW50ID09PSBwcmV2SXNQcmVzZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhpdEFuaW1hdGlvbiA9IHRoaXMubm9kZS5hbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJleGl0XCIsICFpc1ByZXNlbnQsIHsgY3VzdG9tOiBjdXN0b20gIT09IG51bGwgJiYgY3VzdG9tICE9PSB2b2lkIDAgPyBjdXN0b20gOiB0aGlzLm5vZGUuZ2V0UHJvcHMoKS5jdXN0b20gfSk7XG4gICAgICAgIGlmIChvbkV4aXRDb21wbGV0ZSAmJiAhaXNQcmVzZW50KSB7XG4gICAgICAgICAgICBleGl0QW5pbWF0aW9uLnRoZW4oKCkgPT4gb25FeGl0Q29tcGxldGUodGhpcy5pZCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vdW50KCkge1xuICAgICAgICBjb25zdCB7IHJlZ2lzdGVyIH0gPSB0aGlzLm5vZGUucHJlc2VuY2VDb250ZXh0IHx8IHt9O1xuICAgICAgICBpZiAocmVnaXN0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMudW5tb3VudCA9IHJlZ2lzdGVyKHRoaXMuaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVubW91bnQoKSB7IH1cbn1cblxuZXhwb3J0IHsgRXhpdEFuaW1hdGlvbkZlYXR1cmUgfTtcbiIsImltcG9ydCB7IEFuaW1hdGlvbkZlYXR1cmUgfSBmcm9tICcuL2FuaW1hdGlvbi9pbmRleC5tanMnO1xuaW1wb3J0IHsgRXhpdEFuaW1hdGlvbkZlYXR1cmUgfSBmcm9tICcuL2FuaW1hdGlvbi9leGl0Lm1qcyc7XG5cbmNvbnN0IGFuaW1hdGlvbnMgPSB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICAgIEZlYXR1cmU6IEFuaW1hdGlvbkZlYXR1cmUsXG4gICAgfSxcbiAgICBleGl0OiB7XG4gICAgICAgIEZlYXR1cmU6IEV4aXRBbmltYXRpb25GZWF0dXJlLFxuICAgIH0sXG59O1xuXG5leHBvcnQgeyBhbmltYXRpb25zIH07XG4iLCJjb25zdCBkaXN0YW5jZSA9IChhLCBiKSA9PiBNYXRoLmFicyhhIC0gYik7XG5mdW5jdGlvbiBkaXN0YW5jZTJEKGEsIGIpIHtcbiAgICAvLyBNdWx0aS1kaW1lbnNpb25hbFxuICAgIGNvbnN0IHhEZWx0YSA9IGRpc3RhbmNlKGEueCwgYi54KTtcbiAgICBjb25zdCB5RGVsdGEgPSBkaXN0YW5jZShhLnksIGIueSk7XG4gICAgcmV0dXJuIE1hdGguc3FydCh4RGVsdGEgKiogMiArIHlEZWx0YSAqKiAyKTtcbn1cblxuZXhwb3J0IHsgZGlzdGFuY2UsIGRpc3RhbmNlMkQgfTtcbiIsImltcG9ydCB7IGV4dHJhY3RFdmVudEluZm8gfSBmcm9tICcuLi8uLi9ldmVudHMvZXZlbnQtaW5mby5tanMnO1xuaW1wb3J0IHsgc2Vjb25kc1RvTWlsbGlzZWNvbmRzLCBtaWxsaXNlY29uZHNUb1NlY29uZHMgfSBmcm9tICcuLi8uLi91dGlscy90aW1lLWNvbnZlcnNpb24ubWpzJztcbmltcG9ydCB7IGFkZFBvaW50ZXJFdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cy9hZGQtcG9pbnRlci1ldmVudC5tanMnO1xuaW1wb3J0IHsgcGlwZSB9IGZyb20gJy4uLy4uL3V0aWxzL3BpcGUubWpzJztcbmltcG9ydCB7IGRpc3RhbmNlMkQgfSBmcm9tICcuLi8uLi91dGlscy9kaXN0YW5jZS5tanMnO1xuaW1wb3J0IHsgaXNQcmltYXJ5UG9pbnRlciB9IGZyb20gJy4uLy4uL2V2ZW50cy91dGlscy9pcy1wcmltYXJ5LXBvaW50ZXIubWpzJztcbmltcG9ydCB7IGZyYW1lLCBjYW5jZWxGcmFtZSwgZnJhbWVEYXRhIH0gZnJvbSAnLi4vLi4vZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIFBhblNlc3Npb24ge1xuICAgIGNvbnN0cnVjdG9yKGV2ZW50LCBoYW5kbGVycywgeyB0cmFuc2Zvcm1QYWdlUG9pbnQsIGNvbnRleHRXaW5kb3cgfSA9IHt9KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRFdmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdE1vdmVFdmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdE1vdmVFdmVudEluZm8gPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGludGVybmFsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGV4dFdpbmRvdyA9IHdpbmRvdztcbiAgICAgICAgdGhpcy51cGRhdGVQb2ludCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghKHRoaXMubGFzdE1vdmVFdmVudCAmJiB0aGlzLmxhc3RNb3ZlRXZlbnRJbmZvKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gZ2V0UGFuSW5mbyh0aGlzLmxhc3RNb3ZlRXZlbnRJbmZvLCB0aGlzLmhpc3RvcnkpO1xuICAgICAgICAgICAgY29uc3QgaXNQYW5TdGFydGVkID0gdGhpcy5zdGFydEV2ZW50ICE9PSBudWxsO1xuICAgICAgICAgICAgLy8gT25seSBzdGFydCBwYW5uaW5nIGlmIHRoZSBvZmZzZXQgaXMgbGFyZ2VyIHRoYW4gMyBwaXhlbHMuIElmIHdlIG1ha2UgaXRcbiAgICAgICAgICAgIC8vIGFueSBsYXJnZXIgdGhhbiB0aGlzIHdlJ2xsIHdhbnQgdG8gcmVzZXQgdGhlIHBvaW50ZXIgaGlzdG9yeVxuICAgICAgICAgICAgLy8gb24gdGhlIGZpcnN0IHVwZGF0ZSB0byBhdm9pZCB2aXN1YWwgc25hcHBpbmcgdG8gdGhlIGN1cnNvZS5cbiAgICAgICAgICAgIGNvbnN0IGlzRGlzdGFuY2VQYXN0VGhyZXNob2xkID0gZGlzdGFuY2UyRChpbmZvLm9mZnNldCwgeyB4OiAwLCB5OiAwIH0pID49IDM7XG4gICAgICAgICAgICBpZiAoIWlzUGFuU3RhcnRlZCAmJiAhaXNEaXN0YW5jZVBhc3RUaHJlc2hvbGQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBwb2ludCB9ID0gaW5mbztcbiAgICAgICAgICAgIGNvbnN0IHsgdGltZXN0YW1wIH0gPSBmcmFtZURhdGE7XG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaCh7IC4uLnBvaW50LCB0aW1lc3RhbXAgfSk7XG4gICAgICAgICAgICBjb25zdCB7IG9uU3RhcnQsIG9uTW92ZSB9ID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgICAgIGlmICghaXNQYW5TdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgb25TdGFydCAmJiBvblN0YXJ0KHRoaXMubGFzdE1vdmVFdmVudCwgaW5mbyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEV2ZW50ID0gdGhpcy5sYXN0TW92ZUV2ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25Nb3ZlICYmIG9uTW92ZSh0aGlzLmxhc3RNb3ZlRXZlbnQsIGluZm8pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVBvaW50ZXJNb3ZlID0gKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxhc3RNb3ZlRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgIHRoaXMubGFzdE1vdmVFdmVudEluZm8gPSB0cmFuc2Zvcm1Qb2ludChpbmZvLCB0aGlzLnRyYW5zZm9ybVBhZ2VQb2ludCk7XG4gICAgICAgICAgICAvLyBUaHJvdHRsZSBtb3VzZSBtb3ZlIGV2ZW50IHRvIG9uY2UgcGVyIGZyYW1lXG4gICAgICAgICAgICBmcmFtZS51cGRhdGUodGhpcy51cGRhdGVQb2ludCwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlUG9pbnRlclVwID0gKGV2ZW50LCBpbmZvKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgICAgICAgaWYgKCEodGhpcy5sYXN0TW92ZUV2ZW50ICYmIHRoaXMubGFzdE1vdmVFdmVudEluZm8pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgb25FbmQsIG9uU2Vzc2lvbkVuZCB9ID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgICAgIGNvbnN0IHBhbkluZm8gPSBnZXRQYW5JbmZvKGV2ZW50LnR5cGUgPT09IFwicG9pbnRlcmNhbmNlbFwiXG4gICAgICAgICAgICAgICAgPyB0aGlzLmxhc3RNb3ZlRXZlbnRJbmZvXG4gICAgICAgICAgICAgICAgOiB0cmFuc2Zvcm1Qb2ludChpbmZvLCB0aGlzLnRyYW5zZm9ybVBhZ2VQb2ludCksIHRoaXMuaGlzdG9yeSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydEV2ZW50ICYmIG9uRW5kKSB7XG4gICAgICAgICAgICAgICAgb25FbmQoZXZlbnQsIHBhbkluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25TZXNzaW9uRW5kICYmIG9uU2Vzc2lvbkVuZChldmVudCwgcGFuSW5mbyk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIElmIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSB0b3VjaCwgZG9uJ3Qgc3RhcnQgZGV0ZWN0aW5nIHRoaXMgZ2VzdHVyZVxuICAgICAgICBpZiAoIWlzUHJpbWFyeVBvaW50ZXIoZXZlbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmhhbmRsZXJzID0gaGFuZGxlcnM7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtUGFnZVBvaW50ID0gdHJhbnNmb3JtUGFnZVBvaW50O1xuICAgICAgICB0aGlzLmNvbnRleHRXaW5kb3cgPSBjb250ZXh0V2luZG93IHx8IHdpbmRvdztcbiAgICAgICAgY29uc3QgaW5mbyA9IGV4dHJhY3RFdmVudEluZm8oZXZlbnQpO1xuICAgICAgICBjb25zdCBpbml0aWFsSW5mbyA9IHRyYW5zZm9ybVBvaW50KGluZm8sIHRoaXMudHJhbnNmb3JtUGFnZVBvaW50KTtcbiAgICAgICAgY29uc3QgeyBwb2ludCB9ID0gaW5pdGlhbEluZm87XG4gICAgICAgIGNvbnN0IHsgdGltZXN0YW1wIH0gPSBmcmFtZURhdGE7XG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IFt7IC4uLnBvaW50LCB0aW1lc3RhbXAgfV07XG4gICAgICAgIGNvbnN0IHsgb25TZXNzaW9uU3RhcnQgfSA9IGhhbmRsZXJzO1xuICAgICAgICBvblNlc3Npb25TdGFydCAmJlxuICAgICAgICAgICAgb25TZXNzaW9uU3RhcnQoZXZlbnQsIGdldFBhbkluZm8oaW5pdGlhbEluZm8sIHRoaXMuaGlzdG9yeSkpO1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycyA9IHBpcGUoYWRkUG9pbnRlckV2ZW50KHRoaXMuY29udGV4dFdpbmRvdywgXCJwb2ludGVybW92ZVwiLCB0aGlzLmhhbmRsZVBvaW50ZXJNb3ZlKSwgYWRkUG9pbnRlckV2ZW50KHRoaXMuY29udGV4dFdpbmRvdywgXCJwb2ludGVydXBcIiwgdGhpcy5oYW5kbGVQb2ludGVyVXApLCBhZGRQb2ludGVyRXZlbnQodGhpcy5jb250ZXh0V2luZG93LCBcInBvaW50ZXJjYW5jZWxcIiwgdGhpcy5oYW5kbGVQb2ludGVyVXApKTtcbiAgICB9XG4gICAgdXBkYXRlSGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IGhhbmRsZXJzO1xuICAgIH1cbiAgICBlbmQoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzICYmIHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICAgIGNhbmNlbEZyYW1lKHRoaXMudXBkYXRlUG9pbnQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYW5zZm9ybVBvaW50KGluZm8sIHRyYW5zZm9ybVBhZ2VQb2ludCkge1xuICAgIHJldHVybiB0cmFuc2Zvcm1QYWdlUG9pbnQgPyB7IHBvaW50OiB0cmFuc2Zvcm1QYWdlUG9pbnQoaW5mby5wb2ludCkgfSA6IGluZm87XG59XG5mdW5jdGlvbiBzdWJ0cmFjdFBvaW50KGEsIGIpIHtcbiAgICByZXR1cm4geyB4OiBhLnggLSBiLngsIHk6IGEueSAtIGIueSB9O1xufVxuZnVuY3Rpb24gZ2V0UGFuSW5mbyh7IHBvaW50IH0sIGhpc3RvcnkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwb2ludCxcbiAgICAgICAgZGVsdGE6IHN1YnRyYWN0UG9pbnQocG9pbnQsIGxhc3REZXZpY2VQb2ludChoaXN0b3J5KSksXG4gICAgICAgIG9mZnNldDogc3VidHJhY3RQb2ludChwb2ludCwgc3RhcnREZXZpY2VQb2ludChoaXN0b3J5KSksXG4gICAgICAgIHZlbG9jaXR5OiBnZXRWZWxvY2l0eShoaXN0b3J5LCAwLjEpLFxuICAgIH07XG59XG5mdW5jdGlvbiBzdGFydERldmljZVBvaW50KGhpc3RvcnkpIHtcbiAgICByZXR1cm4gaGlzdG9yeVswXTtcbn1cbmZ1bmN0aW9uIGxhc3REZXZpY2VQb2ludChoaXN0b3J5KSB7XG4gICAgcmV0dXJuIGhpc3RvcnlbaGlzdG9yeS5sZW5ndGggLSAxXTtcbn1cbmZ1bmN0aW9uIGdldFZlbG9jaXR5KGhpc3RvcnksIHRpbWVEZWx0YSkge1xuICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCB9O1xuICAgIH1cbiAgICBsZXQgaSA9IGhpc3RvcnkubGVuZ3RoIC0gMTtcbiAgICBsZXQgdGltZXN0YW1wZWRQb2ludCA9IG51bGw7XG4gICAgY29uc3QgbGFzdFBvaW50ID0gbGFzdERldmljZVBvaW50KGhpc3RvcnkpO1xuICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgICAgdGltZXN0YW1wZWRQb2ludCA9IGhpc3RvcnlbaV07XG4gICAgICAgIGlmIChsYXN0UG9pbnQudGltZXN0YW1wIC0gdGltZXN0YW1wZWRQb2ludC50aW1lc3RhbXAgPlxuICAgICAgICAgICAgc2Vjb25kc1RvTWlsbGlzZWNvbmRzKHRpbWVEZWx0YSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGktLTtcbiAgICB9XG4gICAgaWYgKCF0aW1lc3RhbXBlZFBvaW50KSB7XG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbiAgICB9XG4gICAgY29uc3QgdGltZSA9IG1pbGxpc2Vjb25kc1RvU2Vjb25kcyhsYXN0UG9pbnQudGltZXN0YW1wIC0gdGltZXN0YW1wZWRQb2ludC50aW1lc3RhbXApO1xuICAgIGlmICh0aW1lID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudFZlbG9jaXR5ID0ge1xuICAgICAgICB4OiAobGFzdFBvaW50LnggLSB0aW1lc3RhbXBlZFBvaW50LngpIC8gdGltZSxcbiAgICAgICAgeTogKGxhc3RQb2ludC55IC0gdGltZXN0YW1wZWRQb2ludC55KSAvIHRpbWUsXG4gICAgfTtcbiAgICBpZiAoY3VycmVudFZlbG9jaXR5LnggPT09IEluZmluaXR5KSB7XG4gICAgICAgIGN1cnJlbnRWZWxvY2l0eS54ID0gMDtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRWZWxvY2l0eS55ID09PSBJbmZpbml0eSkge1xuICAgICAgICBjdXJyZW50VmVsb2NpdHkueSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50VmVsb2NpdHk7XG59XG5cbmV4cG9ydCB7IFBhblNlc3Npb24gfTtcbiIsImltcG9ydCB7IG1peCB9IGZyb20gJy4uLy4uL3V0aWxzL21peC5tanMnO1xuXG5mdW5jdGlvbiBjYWxjTGVuZ3RoKGF4aXMpIHtcbiAgICByZXR1cm4gYXhpcy5tYXggLSBheGlzLm1pbjtcbn1cbmZ1bmN0aW9uIGlzTmVhcih2YWx1ZSwgdGFyZ2V0ID0gMCwgbWF4RGlzdGFuY2UgPSAwLjAxKSB7XG4gICAgcmV0dXJuIE1hdGguYWJzKHZhbHVlIC0gdGFyZ2V0KSA8PSBtYXhEaXN0YW5jZTtcbn1cbmZ1bmN0aW9uIGNhbGNBeGlzRGVsdGEoZGVsdGEsIHNvdXJjZSwgdGFyZ2V0LCBvcmlnaW4gPSAwLjUpIHtcbiAgICBkZWx0YS5vcmlnaW4gPSBvcmlnaW47XG4gICAgZGVsdGEub3JpZ2luUG9pbnQgPSBtaXgoc291cmNlLm1pbiwgc291cmNlLm1heCwgZGVsdGEub3JpZ2luKTtcbiAgICBkZWx0YS5zY2FsZSA9IGNhbGNMZW5ndGgodGFyZ2V0KSAvIGNhbGNMZW5ndGgoc291cmNlKTtcbiAgICBpZiAoaXNOZWFyKGRlbHRhLnNjYWxlLCAxLCAwLjAwMDEpIHx8IGlzTmFOKGRlbHRhLnNjYWxlKSlcbiAgICAgICAgZGVsdGEuc2NhbGUgPSAxO1xuICAgIGRlbHRhLnRyYW5zbGF0ZSA9XG4gICAgICAgIG1peCh0YXJnZXQubWluLCB0YXJnZXQubWF4LCBkZWx0YS5vcmlnaW4pIC0gZGVsdGEub3JpZ2luUG9pbnQ7XG4gICAgaWYgKGlzTmVhcihkZWx0YS50cmFuc2xhdGUpIHx8IGlzTmFOKGRlbHRhLnRyYW5zbGF0ZSkpXG4gICAgICAgIGRlbHRhLnRyYW5zbGF0ZSA9IDA7XG59XG5mdW5jdGlvbiBjYWxjQm94RGVsdGEoZGVsdGEsIHNvdXJjZSwgdGFyZ2V0LCBvcmlnaW4pIHtcbiAgICBjYWxjQXhpc0RlbHRhKGRlbHRhLngsIHNvdXJjZS54LCB0YXJnZXQueCwgb3JpZ2luID8gb3JpZ2luLm9yaWdpblggOiB1bmRlZmluZWQpO1xuICAgIGNhbGNBeGlzRGVsdGEoZGVsdGEueSwgc291cmNlLnksIHRhcmdldC55LCBvcmlnaW4gPyBvcmlnaW4ub3JpZ2luWSA6IHVuZGVmaW5lZCk7XG59XG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVBeGlzKHRhcmdldCwgcmVsYXRpdmUsIHBhcmVudCkge1xuICAgIHRhcmdldC5taW4gPSBwYXJlbnQubWluICsgcmVsYXRpdmUubWluO1xuICAgIHRhcmdldC5tYXggPSB0YXJnZXQubWluICsgY2FsY0xlbmd0aChyZWxhdGl2ZSk7XG59XG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVCb3godGFyZ2V0LCByZWxhdGl2ZSwgcGFyZW50KSB7XG4gICAgY2FsY1JlbGF0aXZlQXhpcyh0YXJnZXQueCwgcmVsYXRpdmUueCwgcGFyZW50LngpO1xuICAgIGNhbGNSZWxhdGl2ZUF4aXModGFyZ2V0LnksIHJlbGF0aXZlLnksIHBhcmVudC55KTtcbn1cbmZ1bmN0aW9uIGNhbGNSZWxhdGl2ZUF4aXNQb3NpdGlvbih0YXJnZXQsIGxheW91dCwgcGFyZW50KSB7XG4gICAgdGFyZ2V0Lm1pbiA9IGxheW91dC5taW4gLSBwYXJlbnQubWluO1xuICAgIHRhcmdldC5tYXggPSB0YXJnZXQubWluICsgY2FsY0xlbmd0aChsYXlvdXQpO1xufVxuZnVuY3Rpb24gY2FsY1JlbGF0aXZlUG9zaXRpb24odGFyZ2V0LCBsYXlvdXQsIHBhcmVudCkge1xuICAgIGNhbGNSZWxhdGl2ZUF4aXNQb3NpdGlvbih0YXJnZXQueCwgbGF5b3V0LngsIHBhcmVudC54KTtcbiAgICBjYWxjUmVsYXRpdmVBeGlzUG9zaXRpb24odGFyZ2V0LnksIGxheW91dC55LCBwYXJlbnQueSk7XG59XG5cbmV4cG9ydCB7IGNhbGNBeGlzRGVsdGEsIGNhbGNCb3hEZWx0YSwgY2FsY0xlbmd0aCwgY2FsY1JlbGF0aXZlQXhpcywgY2FsY1JlbGF0aXZlQXhpc1Bvc2l0aW9uLCBjYWxjUmVsYXRpdmVCb3gsIGNhbGNSZWxhdGl2ZVBvc2l0aW9uLCBpc05lYXIgfTtcbiIsImltcG9ydCB7IHByb2dyZXNzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcHJvZ3Jlc3MubWpzJztcbmltcG9ydCB7IGNhbGNMZW5ndGggfSBmcm9tICcuLi8uLi8uLi9wcm9qZWN0aW9uL2dlb21ldHJ5L2RlbHRhLWNhbGMubWpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvY2xhbXAubWpzJztcbmltcG9ydCB7IG1peCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL21peC5tanMnO1xuXG4vKipcbiAqIEFwcGx5IGNvbnN0cmFpbnRzIHRvIGEgcG9pbnQuIFRoZXNlIGNvbnN0cmFpbnRzIGFyZSBib3RoIHBoeXNpY2FsIGFsb25nIGFuXG4gKiBheGlzLCBhbmQgYW4gZWxhc3RpYyBmYWN0b3IgdGhhdCBkZXRlcm1pbmVzIGhvdyBtdWNoIHRvIGNvbnN0cmFpbiB0aGUgcG9pbnRcbiAqIGJ5IGlmIGl0IGRvZXMgbGllIG91dHNpZGUgdGhlIGRlZmluZWQgcGFyYW1ldGVycy5cbiAqL1xuZnVuY3Rpb24gYXBwbHlDb25zdHJhaW50cyhwb2ludCwgeyBtaW4sIG1heCB9LCBlbGFzdGljKSB7XG4gICAgaWYgKG1pbiAhPT0gdW5kZWZpbmVkICYmIHBvaW50IDwgbWluKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBtaW4gcG9pbnQgZGVmaW5lZCwgYW5kIHRoaXMgaXMgb3V0c2lkZSBvZiB0aGF0LCBjb25zdHJhaW5cbiAgICAgICAgcG9pbnQgPSBlbGFzdGljID8gbWl4KG1pbiwgcG9pbnQsIGVsYXN0aWMubWluKSA6IE1hdGgubWF4KHBvaW50LCBtaW4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChtYXggIT09IHVuZGVmaW5lZCAmJiBwb2ludCA+IG1heCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbWF4IHBvaW50IGRlZmluZWQsIGFuZCB0aGlzIGlzIG91dHNpZGUgb2YgdGhhdCwgY29uc3RyYWluXG4gICAgICAgIHBvaW50ID0gZWxhc3RpYyA/IG1peChtYXgsIHBvaW50LCBlbGFzdGljLm1heCkgOiBNYXRoLm1pbihwb2ludCwgbWF4KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgY29uc3RyYWludHMgaW4gdGVybXMgb2YgdGhlIHZpZXdwb3J0IHdoZW4gZGVmaW5lZCByZWxhdGl2ZWx5IHRvIHRoZVxuICogbWVhc3VyZWQgYXhpcy4gVGhpcyBpcyBtZWFzdXJlZCBmcm9tIHRoZSBuZWFyZXN0IGVkZ2UsIHNvIGEgbWF4IGNvbnN0cmFpbnQgb2YgMjAwXG4gKiBvbiBhbiBheGlzIHdpdGggYSBtYXggdmFsdWUgb2YgMzAwIHdvdWxkIHJldHVybiBhIGNvbnN0cmFpbnQgb2YgNTAwIC0gYXhpcyBsZW5ndGhcbiAqL1xuZnVuY3Rpb24gY2FsY1JlbGF0aXZlQXhpc0NvbnN0cmFpbnRzKGF4aXMsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWluOiBtaW4gIT09IHVuZGVmaW5lZCA/IGF4aXMubWluICsgbWluIDogdW5kZWZpbmVkLFxuICAgICAgICBtYXg6IG1heCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGF4aXMubWF4ICsgbWF4IC0gKGF4aXMubWF4IC0gYXhpcy5taW4pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgY29uc3RyYWludHMgaW4gdGVybXMgb2YgdGhlIHZpZXdwb3J0IHdoZW5cbiAqIGRlZmluZWQgcmVsYXRpdmVseSB0byB0aGUgbWVhc3VyZWQgYm91bmRpbmcgYm94LlxuICovXG5mdW5jdGlvbiBjYWxjUmVsYXRpdmVDb25zdHJhaW50cyhsYXlvdXRCb3gsIHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBjYWxjUmVsYXRpdmVBeGlzQ29uc3RyYWludHMobGF5b3V0Qm94LngsIGxlZnQsIHJpZ2h0KSxcbiAgICAgICAgeTogY2FsY1JlbGF0aXZlQXhpc0NvbnN0cmFpbnRzKGxheW91dEJveC55LCB0b3AsIGJvdHRvbSksXG4gICAgfTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIHZpZXdwb3J0IGNvbnN0cmFpbnRzIHdoZW4gZGVmaW5lZCBhcyBhbm90aGVyIHZpZXdwb3J0LXJlbGF0aXZlIGF4aXNcbiAqL1xuZnVuY3Rpb24gY2FsY1ZpZXdwb3J0QXhpc0NvbnN0cmFpbnRzKGxheW91dEF4aXMsIGNvbnN0cmFpbnRzQXhpcykge1xuICAgIGxldCBtaW4gPSBjb25zdHJhaW50c0F4aXMubWluIC0gbGF5b3V0QXhpcy5taW47XG4gICAgbGV0IG1heCA9IGNvbnN0cmFpbnRzQXhpcy5tYXggLSBsYXlvdXRBeGlzLm1heDtcbiAgICAvLyBJZiB0aGUgY29uc3RyYWludHMgYXhpcyBpcyBhY3R1YWxseSBzbWFsbGVyIHRoYW4gdGhlIGxheW91dCBheGlzIHRoZW4gd2UgY2FuXG4gICAgLy8gZmxpcCB0aGUgY29uc3RyYWludHNcbiAgICBpZiAoY29uc3RyYWludHNBeGlzLm1heCAtIGNvbnN0cmFpbnRzQXhpcy5taW4gPFxuICAgICAgICBsYXlvdXRBeGlzLm1heCAtIGxheW91dEF4aXMubWluKSB7XG4gICAgICAgIFttaW4sIG1heF0gPSBbbWF4LCBtaW5dO1xuICAgIH1cbiAgICByZXR1cm4geyBtaW4sIG1heCB9O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgdmlld3BvcnQgY29uc3RyYWludHMgd2hlbiBkZWZpbmVkIGFzIGFub3RoZXIgdmlld3BvcnQtcmVsYXRpdmUgYm94XG4gKi9cbmZ1bmN0aW9uIGNhbGNWaWV3cG9ydENvbnN0cmFpbnRzKGxheW91dEJveCwgY29uc3RyYWludHNCb3gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBjYWxjVmlld3BvcnRBeGlzQ29uc3RyYWludHMobGF5b3V0Qm94LngsIGNvbnN0cmFpbnRzQm94LngpLFxuICAgICAgICB5OiBjYWxjVmlld3BvcnRBeGlzQ29uc3RyYWludHMobGF5b3V0Qm94LnksIGNvbnN0cmFpbnRzQm94LnkpLFxuICAgIH07XG59XG4vKipcbiAqIENhbGN1bGF0ZSBhIHRyYW5zZm9ybSBvcmlnaW4gcmVsYXRpdmUgdG8gdGhlIHNvdXJjZSBheGlzLCBiZXR3ZWVuIDAtMSwgdGhhdCByZXN1bHRzXG4gKiBpbiBhbiBhc3RoZXRpY2FsbHkgcGxlYXNpbmcgc2NhbGUvdHJhbnNmb3JtIG5lZWRlZCB0byBwcm9qZWN0IGZyb20gc291cmNlIHRvIHRhcmdldC5cbiAqL1xuZnVuY3Rpb24gY2FsY09yaWdpbihzb3VyY2UsIHRhcmdldCkge1xuICAgIGxldCBvcmlnaW4gPSAwLjU7XG4gICAgY29uc3Qgc291cmNlTGVuZ3RoID0gY2FsY0xlbmd0aChzb3VyY2UpO1xuICAgIGNvbnN0IHRhcmdldExlbmd0aCA9IGNhbGNMZW5ndGgodGFyZ2V0KTtcbiAgICBpZiAodGFyZ2V0TGVuZ3RoID4gc291cmNlTGVuZ3RoKSB7XG4gICAgICAgIG9yaWdpbiA9IHByb2dyZXNzKHRhcmdldC5taW4sIHRhcmdldC5tYXggLSBzb3VyY2VMZW5ndGgsIHNvdXJjZS5taW4pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzb3VyY2VMZW5ndGggPiB0YXJnZXRMZW5ndGgpIHtcbiAgICAgICAgb3JpZ2luID0gcHJvZ3Jlc3Moc291cmNlLm1pbiwgc291cmNlLm1heCAtIHRhcmdldExlbmd0aCwgdGFyZ2V0Lm1pbik7XG4gICAgfVxuICAgIHJldHVybiBjbGFtcCgwLCAxLCBvcmlnaW4pO1xufVxuLyoqXG4gKiBSZWJhc2UgdGhlIGNhbGN1bGF0ZWQgdmlld3BvcnQgY29uc3RyYWludHMgcmVsYXRpdmUgdG8gdGhlIGxheW91dC5taW4gcG9pbnQuXG4gKi9cbmZ1bmN0aW9uIHJlYmFzZUF4aXNDb25zdHJhaW50cyhsYXlvdXQsIGNvbnN0cmFpbnRzKSB7XG4gICAgY29uc3QgcmVsYXRpdmVDb25zdHJhaW50cyA9IHt9O1xuICAgIGlmIChjb25zdHJhaW50cy5taW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZWxhdGl2ZUNvbnN0cmFpbnRzLm1pbiA9IGNvbnN0cmFpbnRzLm1pbiAtIGxheW91dC5taW47XG4gICAgfVxuICAgIGlmIChjb25zdHJhaW50cy5tYXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZWxhdGl2ZUNvbnN0cmFpbnRzLm1heCA9IGNvbnN0cmFpbnRzLm1heCAtIGxheW91dC5taW47XG4gICAgfVxuICAgIHJldHVybiByZWxhdGl2ZUNvbnN0cmFpbnRzO1xufVxuY29uc3QgZGVmYXVsdEVsYXN0aWMgPSAwLjM1O1xuLyoqXG4gKiBBY2NlcHRzIGEgZHJhZ0VsYXN0aWMgcHJvcCBhbmQgcmV0dXJucyByZXNvbHZlZCBlbGFzdGljIHZhbHVlcyBmb3IgZWFjaCBheGlzLlxuICovXG5mdW5jdGlvbiByZXNvbHZlRHJhZ0VsYXN0aWMoZHJhZ0VsYXN0aWMgPSBkZWZhdWx0RWxhc3RpYykge1xuICAgIGlmIChkcmFnRWxhc3RpYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgZHJhZ0VsYXN0aWMgPSAwO1xuICAgIH1cbiAgICBlbHNlIGlmIChkcmFnRWxhc3RpYyA9PT0gdHJ1ZSkge1xuICAgICAgICBkcmFnRWxhc3RpYyA9IGRlZmF1bHRFbGFzdGljO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByZXNvbHZlQXhpc0VsYXN0aWMoZHJhZ0VsYXN0aWMsIFwibGVmdFwiLCBcInJpZ2h0XCIpLFxuICAgICAgICB5OiByZXNvbHZlQXhpc0VsYXN0aWMoZHJhZ0VsYXN0aWMsIFwidG9wXCIsIFwiYm90dG9tXCIpLFxuICAgIH07XG59XG5mdW5jdGlvbiByZXNvbHZlQXhpc0VsYXN0aWMoZHJhZ0VsYXN0aWMsIG1pbkxhYmVsLCBtYXhMYWJlbCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogcmVzb2x2ZVBvaW50RWxhc3RpYyhkcmFnRWxhc3RpYywgbWluTGFiZWwpLFxuICAgICAgICBtYXg6IHJlc29sdmVQb2ludEVsYXN0aWMoZHJhZ0VsYXN0aWMsIG1heExhYmVsKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVBvaW50RWxhc3RpYyhkcmFnRWxhc3RpYywgbGFiZWwpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRyYWdFbGFzdGljID09PSBcIm51bWJlclwiXG4gICAgICAgID8gZHJhZ0VsYXN0aWNcbiAgICAgICAgOiBkcmFnRWxhc3RpY1tsYWJlbF0gfHwgMDtcbn1cblxuZXhwb3J0IHsgYXBwbHlDb25zdHJhaW50cywgY2FsY09yaWdpbiwgY2FsY1JlbGF0aXZlQXhpc0NvbnN0cmFpbnRzLCBjYWxjUmVsYXRpdmVDb25zdHJhaW50cywgY2FsY1ZpZXdwb3J0QXhpc0NvbnN0cmFpbnRzLCBjYWxjVmlld3BvcnRDb25zdHJhaW50cywgZGVmYXVsdEVsYXN0aWMsIHJlYmFzZUF4aXNDb25zdHJhaW50cywgcmVzb2x2ZUF4aXNFbGFzdGljLCByZXNvbHZlRHJhZ0VsYXN0aWMsIHJlc29sdmVQb2ludEVsYXN0aWMgfTtcbiIsImNvbnN0IGNyZWF0ZUF4aXNEZWx0YSA9ICgpID0+ICh7XG4gICAgdHJhbnNsYXRlOiAwLFxuICAgIHNjYWxlOiAxLFxuICAgIG9yaWdpbjogMCxcbiAgICBvcmlnaW5Qb2ludDogMCxcbn0pO1xuY29uc3QgY3JlYXRlRGVsdGEgPSAoKSA9PiAoe1xuICAgIHg6IGNyZWF0ZUF4aXNEZWx0YSgpLFxuICAgIHk6IGNyZWF0ZUF4aXNEZWx0YSgpLFxufSk7XG5jb25zdCBjcmVhdGVBeGlzID0gKCkgPT4gKHsgbWluOiAwLCBtYXg6IDAgfSk7XG5jb25zdCBjcmVhdGVCb3ggPSAoKSA9PiAoe1xuICAgIHg6IGNyZWF0ZUF4aXMoKSxcbiAgICB5OiBjcmVhdGVBeGlzKCksXG59KTtcblxuZXhwb3J0IHsgY3JlYXRlQXhpcywgY3JlYXRlQXhpc0RlbHRhLCBjcmVhdGVCb3gsIGNyZWF0ZURlbHRhIH07XG4iLCJmdW5jdGlvbiBlYWNoQXhpcyhjYWxsYmFjaykge1xuICAgIHJldHVybiBbY2FsbGJhY2soXCJ4XCIpLCBjYWxsYmFjayhcInlcIildO1xufVxuXG5leHBvcnQgeyBlYWNoQXhpcyB9O1xuIiwiLyoqXG4gKiBCb3VuZGluZyBib3hlcyB0ZW5kIHRvIGJlIGRlZmluZWQgYXMgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLiBGb3IgdmFyaW91cyBvcGVyYXRpb25zXG4gKiBpdCdzIGVhc2llciB0byBjb25zaWRlciBlYWNoIGF4aXMgaW5kaXZpZHVhbGx5LiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSBib3VuZGluZyBib3hcbiAqIGFzIGEgbWFwIG9mIHNpbmdsZS1heGlzIG1pbi9tYXggdmFsdWVzLlxuICovXG5mdW5jdGlvbiBjb252ZXJ0Qm91bmRpbmdCb3hUb0JveCh7IHRvcCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgfSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHsgbWluOiBsZWZ0LCBtYXg6IHJpZ2h0IH0sXG4gICAgICAgIHk6IHsgbWluOiB0b3AsIG1heDogYm90dG9tIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRCb3hUb0JvdW5kaW5nQm94KHsgeCwgeSB9KSB7XG4gICAgcmV0dXJuIHsgdG9wOiB5Lm1pbiwgcmlnaHQ6IHgubWF4LCBib3R0b206IHkubWF4LCBsZWZ0OiB4Lm1pbiB9O1xufVxuLyoqXG4gKiBBcHBsaWVzIGEgVHJhbnNmb3JtUG9pbnQgZnVuY3Rpb24gdG8gYSBib3VuZGluZyBib3guIFRyYW5zZm9ybVBvaW50IGlzIHVzdWFsbHkgYSBmdW5jdGlvblxuICogcHJvdmlkZWQgYnkgRnJhbWVyIHRvIGFsbG93IG1lYXN1cmVkIHBvaW50cyB0byBiZSBjb3JyZWN0ZWQgZm9yIGRldmljZSBzY2FsaW5nLiBUaGlzIGlzIHVzZWRcbiAqIHdoZW4gbWVhc3VyaW5nIERPTSBlbGVtZW50cyBhbmQgRE9NIGV2ZW50IHBvaW50cy5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtQm94UG9pbnRzKHBvaW50LCB0cmFuc2Zvcm1Qb2ludCkge1xuICAgIGlmICghdHJhbnNmb3JtUG9pbnQpXG4gICAgICAgIHJldHVybiBwb2ludDtcbiAgICBjb25zdCB0b3BMZWZ0ID0gdHJhbnNmb3JtUG9pbnQoeyB4OiBwb2ludC5sZWZ0LCB5OiBwb2ludC50b3AgfSk7XG4gICAgY29uc3QgYm90dG9tUmlnaHQgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IHBvaW50LnJpZ2h0LCB5OiBwb2ludC5ib3R0b20gfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0b3BMZWZ0LnksXG4gICAgICAgIGxlZnQ6IHRvcExlZnQueCxcbiAgICAgICAgYm90dG9tOiBib3R0b21SaWdodC55LFxuICAgICAgICByaWdodDogYm90dG9tUmlnaHQueCxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjb252ZXJ0Qm91bmRpbmdCb3hUb0JveCwgY29udmVydEJveFRvQm91bmRpbmdCb3gsIHRyYW5zZm9ybUJveFBvaW50cyB9O1xuIiwiZnVuY3Rpb24gaXNJZGVudGl0eVNjYWxlKHNjYWxlKSB7XG4gICAgcmV0dXJuIHNjYWxlID09PSB1bmRlZmluZWQgfHwgc2NhbGUgPT09IDE7XG59XG5mdW5jdGlvbiBoYXNTY2FsZSh7IHNjYWxlLCBzY2FsZVgsIHNjYWxlWSB9KSB7XG4gICAgcmV0dXJuICghaXNJZGVudGl0eVNjYWxlKHNjYWxlKSB8fFxuICAgICAgICAhaXNJZGVudGl0eVNjYWxlKHNjYWxlWCkgfHxcbiAgICAgICAgIWlzSWRlbnRpdHlTY2FsZShzY2FsZVkpKTtcbn1cbmZ1bmN0aW9uIGhhc1RyYW5zZm9ybSh2YWx1ZXMpIHtcbiAgICByZXR1cm4gKGhhc1NjYWxlKHZhbHVlcykgfHxcbiAgICAgICAgaGFzMkRUcmFuc2xhdGUodmFsdWVzKSB8fFxuICAgICAgICB2YWx1ZXMueiB8fFxuICAgICAgICB2YWx1ZXMucm90YXRlIHx8XG4gICAgICAgIHZhbHVlcy5yb3RhdGVYIHx8XG4gICAgICAgIHZhbHVlcy5yb3RhdGVZKTtcbn1cbmZ1bmN0aW9uIGhhczJEVHJhbnNsYXRlKHZhbHVlcykge1xuICAgIHJldHVybiBpczJEVHJhbnNsYXRlKHZhbHVlcy54KSB8fCBpczJEVHJhbnNsYXRlKHZhbHVlcy55KTtcbn1cbmZ1bmN0aW9uIGlzMkRUcmFuc2xhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUgIT09IFwiMCVcIjtcbn1cblxuZXhwb3J0IHsgaGFzMkRUcmFuc2xhdGUsIGhhc1NjYWxlLCBoYXNUcmFuc2Zvcm0gfTtcbiIsImltcG9ydCB7IG1peCB9IGZyb20gJy4uLy4uL3V0aWxzL21peC5tanMnO1xuaW1wb3J0IHsgaGFzVHJhbnNmb3JtIH0gZnJvbSAnLi4vdXRpbHMvaGFzLXRyYW5zZm9ybS5tanMnO1xuXG4vKipcbiAqIFNjYWxlcyBhIHBvaW50IGJhc2VkIG9uIGEgZmFjdG9yIGFuZCBhbiBvcmlnaW5Qb2ludFxuICovXG5mdW5jdGlvbiBzY2FsZVBvaW50KHBvaW50LCBzY2FsZSwgb3JpZ2luUG9pbnQpIHtcbiAgICBjb25zdCBkaXN0YW5jZUZyb21PcmlnaW4gPSBwb2ludCAtIG9yaWdpblBvaW50O1xuICAgIGNvbnN0IHNjYWxlZCA9IHNjYWxlICogZGlzdGFuY2VGcm9tT3JpZ2luO1xuICAgIHJldHVybiBvcmlnaW5Qb2ludCArIHNjYWxlZDtcbn1cbi8qKlxuICogQXBwbGllcyBhIHRyYW5zbGF0ZS9zY2FsZSBkZWx0YSB0byBhIHBvaW50XG4gKi9cbmZ1bmN0aW9uIGFwcGx5UG9pbnREZWx0YShwb2ludCwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKSB7XG4gICAgaWYgKGJveFNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcG9pbnQgPSBzY2FsZVBvaW50KHBvaW50LCBib3hTY2FsZSwgb3JpZ2luUG9pbnQpO1xuICAgIH1cbiAgICByZXR1cm4gc2NhbGVQb2ludChwb2ludCwgc2NhbGUsIG9yaWdpblBvaW50KSArIHRyYW5zbGF0ZTtcbn1cbi8qKlxuICogQXBwbGllcyBhIHRyYW5zbGF0ZS9zY2FsZSBkZWx0YSB0byBhbiBheGlzXG4gKi9cbmZ1bmN0aW9uIGFwcGx5QXhpc0RlbHRhKGF4aXMsIHRyYW5zbGF0ZSA9IDAsIHNjYWxlID0gMSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKSB7XG4gICAgYXhpcy5taW4gPSBhcHBseVBvaW50RGVsdGEoYXhpcy5taW4sIHRyYW5zbGF0ZSwgc2NhbGUsIG9yaWdpblBvaW50LCBib3hTY2FsZSk7XG4gICAgYXhpcy5tYXggPSBhcHBseVBvaW50RGVsdGEoYXhpcy5tYXgsIHRyYW5zbGF0ZSwgc2NhbGUsIG9yaWdpblBvaW50LCBib3hTY2FsZSk7XG59XG4vKipcbiAqIEFwcGxpZXMgYSB0cmFuc2xhdGUvc2NhbGUgZGVsdGEgdG8gYSBib3hcbiAqL1xuZnVuY3Rpb24gYXBwbHlCb3hEZWx0YShib3gsIHsgeCwgeSB9KSB7XG4gICAgYXBwbHlBeGlzRGVsdGEoYm94LngsIHgudHJhbnNsYXRlLCB4LnNjYWxlLCB4Lm9yaWdpblBvaW50KTtcbiAgICBhcHBseUF4aXNEZWx0YShib3gueSwgeS50cmFuc2xhdGUsIHkuc2NhbGUsIHkub3JpZ2luUG9pbnQpO1xufVxuLyoqXG4gKiBBcHBseSBhIHRyZWUgb2YgZGVsdGFzIHRvIGEgYm94LiBXZSBkbyB0aGlzIHRvIGNhbGN1bGF0ZSB0aGUgZWZmZWN0IG9mIGFsbCB0aGUgdHJhbnNmb3Jtc1xuICogaW4gYSB0cmVlIHVwb24gb3VyIGJveCBiZWZvcmUgdGhlbiBjYWxjdWxhdGluZyBob3cgdG8gcHJvamVjdCBpdCBpbnRvIG91ciBkZXNpcmVkIHZpZXdwb3J0LXJlbGF0aXZlIGJveFxuICpcbiAqIFRoaXMgaXMgdGhlIGZpbmFsIG5lc3RlZCBsb29wIHdpdGhpbiB1cGRhdGVMYXlvdXREZWx0YSBmb3IgZnV0dXJlIHJlZmFjdG9yaW5nXG4gKi9cbmZ1bmN0aW9uIGFwcGx5VHJlZURlbHRhcyhib3gsIHRyZWVTY2FsZSwgdHJlZVBhdGgsIGlzU2hhcmVkVHJhbnNpdGlvbiA9IGZhbHNlKSB7XG4gICAgY29uc3QgdHJlZUxlbmd0aCA9IHRyZWVQYXRoLmxlbmd0aDtcbiAgICBpZiAoIXRyZWVMZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBSZXNldCB0aGUgdHJlZVNjYWxlXG4gICAgdHJlZVNjYWxlLnggPSB0cmVlU2NhbGUueSA9IDE7XG4gICAgbGV0IG5vZGU7XG4gICAgbGV0IGRlbHRhO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5vZGUgPSB0cmVlUGF0aFtpXTtcbiAgICAgICAgZGVsdGEgPSBub2RlLnByb2plY3Rpb25EZWx0YTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRPRE86IFByZWZlciB0byByZW1vdmUgdGhpcywgYnV0IGN1cnJlbnRseSB3ZSBoYXZlIG1vdGlvbiBjb21wb25lbnRzIHdpdGhcbiAgICAgICAgICogZGlzcGxheTogY29udGVudHMgaW4gRnJhbWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBub2RlLmluc3RhbmNlO1xuICAgICAgICBpZiAoaW5zdGFuY2UgJiZcbiAgICAgICAgICAgIGluc3RhbmNlLnN0eWxlICYmXG4gICAgICAgICAgICBpbnN0YW5jZS5zdHlsZS5kaXNwbGF5ID09PSBcImNvbnRlbnRzXCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1NoYXJlZFRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgIG5vZGUub3B0aW9ucy5sYXlvdXRTY3JvbGwgJiZcbiAgICAgICAgICAgIG5vZGUuc2Nyb2xsICYmXG4gICAgICAgICAgICBub2RlICE9PSBub2RlLnJvb3QpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybUJveChib3gsIHtcbiAgICAgICAgICAgICAgICB4OiAtbm9kZS5zY3JvbGwub2Zmc2V0LngsXG4gICAgICAgICAgICAgICAgeTogLW5vZGUuc2Nyb2xsLm9mZnNldC55LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbHRhKSB7XG4gICAgICAgICAgICAvLyBJbmNvcG9yYXRlIGVhY2ggYW5jZXN0b3IncyBzY2FsZSBpbnRvIGEgY3VsbXVsYXRpdmUgdHJlZVNjYWxlIGZvciB0aGlzIGNvbXBvbmVudFxuICAgICAgICAgICAgdHJlZVNjYWxlLnggKj0gZGVsdGEueC5zY2FsZTtcbiAgICAgICAgICAgIHRyZWVTY2FsZS55ICo9IGRlbHRhLnkuc2NhbGU7XG4gICAgICAgICAgICAvLyBBcHBseSBlYWNoIGFuY2VzdG9yJ3MgY2FsY3VsYXRlZCBkZWx0YSBpbnRvIHRoaXMgY29tcG9uZW50J3MgcmVjb3JkZWQgbGF5b3V0IGJveFxuICAgICAgICAgICAgYXBwbHlCb3hEZWx0YShib3gsIGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTaGFyZWRUcmFuc2l0aW9uICYmIGhhc1RyYW5zZm9ybShub2RlLmxhdGVzdFZhbHVlcykpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybUJveChib3gsIG5vZGUubGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTbmFwIHRyZWUgc2NhbGUgYmFjayB0byAxIGlmIGl0J3Mgd2l0aGluIGEgbm9uLXBlcmNlaXZhYmxlIHRocmVzaG9sZC5cbiAgICAgKiBUaGlzIHdpbGwgaGVscCByZWR1Y2UgdXNlbGVzcyBzY2FsZXMgZ2V0dGluZyByZW5kZXJlZC5cbiAgICAgKi9cbiAgICB0cmVlU2NhbGUueCA9IHNuYXBUb0RlZmF1bHQodHJlZVNjYWxlLngpO1xuICAgIHRyZWVTY2FsZS55ID0gc25hcFRvRGVmYXVsdCh0cmVlU2NhbGUueSk7XG59XG5mdW5jdGlvbiBzbmFwVG9EZWZhdWx0KHNjYWxlKSB7XG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoc2NhbGUpKVxuICAgICAgICByZXR1cm4gc2NhbGU7XG4gICAgcmV0dXJuIHNjYWxlID4gMS4wMDAwMDAwMDAwMDAxIHx8IHNjYWxlIDwgMC45OTk5OTk5OTk5OTkgPyBzY2FsZSA6IDE7XG59XG5mdW5jdGlvbiB0cmFuc2xhdGVBeGlzKGF4aXMsIGRpc3RhbmNlKSB7XG4gICAgYXhpcy5taW4gPSBheGlzLm1pbiArIGRpc3RhbmNlO1xuICAgIGF4aXMubWF4ID0gYXhpcy5tYXggKyBkaXN0YW5jZTtcbn1cbi8qKlxuICogQXBwbHkgYSB0cmFuc2Zvcm0gdG8gYW4gYXhpcyBmcm9tIHRoZSBsYXRlc3QgcmVzb2x2ZWQgbW90aW9uIHZhbHVlcy5cbiAqIFRoaXMgZnVuY3Rpb24gYmFzaWNhbGx5IGFjdHMgYXMgYSBicmlkZ2UgYmV0d2VlbiBhIGZsYXQgbW90aW9uIHZhbHVlIG1hcFxuICogYW5kIGFwcGx5QXhpc0RlbHRhXG4gKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybUF4aXMoYXhpcywgdHJhbnNmb3JtcywgW2tleSwgc2NhbGVLZXksIG9yaWdpbktleV0pIHtcbiAgICBjb25zdCBheGlzT3JpZ2luID0gdHJhbnNmb3Jtc1tvcmlnaW5LZXldICE9PSB1bmRlZmluZWQgPyB0cmFuc2Zvcm1zW29yaWdpbktleV0gOiAwLjU7XG4gICAgY29uc3Qgb3JpZ2luUG9pbnQgPSBtaXgoYXhpcy5taW4sIGF4aXMubWF4LCBheGlzT3JpZ2luKTtcbiAgICAvLyBBcHBseSB0aGUgYXhpcyBkZWx0YSB0byB0aGUgZmluYWwgYXhpc1xuICAgIGFwcGx5QXhpc0RlbHRhKGF4aXMsIHRyYW5zZm9ybXNba2V5XSwgdHJhbnNmb3Jtc1tzY2FsZUtleV0sIG9yaWdpblBvaW50LCB0cmFuc2Zvcm1zLnNjYWxlKTtcbn1cbi8qKlxuICogVGhlIG5hbWVzIG9mIHRoZSBtb3Rpb24gdmFsdWVzIHdlIHdhbnQgdG8gYXBwbHkgYXMgdHJhbnNsYXRpb24sIHNjYWxlIGFuZCBvcmlnaW4uXG4gKi9cbmNvbnN0IHhLZXlzID0gW1wieFwiLCBcInNjYWxlWFwiLCBcIm9yaWdpblhcIl07XG5jb25zdCB5S2V5cyA9IFtcInlcIiwgXCJzY2FsZVlcIiwgXCJvcmlnaW5ZXCJdO1xuLyoqXG4gKiBBcHBseSBhIHRyYW5zZm9ybSB0byBhIGJveCBmcm9tIHRoZSBsYXRlc3QgcmVzb2x2ZWQgbW90aW9uIHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtQm94KGJveCwgdHJhbnNmb3JtKSB7XG4gICAgdHJhbnNmb3JtQXhpcyhib3gueCwgdHJhbnNmb3JtLCB4S2V5cyk7XG4gICAgdHJhbnNmb3JtQXhpcyhib3gueSwgdHJhbnNmb3JtLCB5S2V5cyk7XG59XG5cbmV4cG9ydCB7IGFwcGx5QXhpc0RlbHRhLCBhcHBseUJveERlbHRhLCBhcHBseVBvaW50RGVsdGEsIGFwcGx5VHJlZURlbHRhcywgc2NhbGVQb2ludCwgdHJhbnNmb3JtQXhpcywgdHJhbnNmb3JtQm94LCB0cmFuc2xhdGVBeGlzIH07XG4iLCJpbXBvcnQgeyBjb252ZXJ0Qm91bmRpbmdCb3hUb0JveCwgdHJhbnNmb3JtQm94UG9pbnRzIH0gZnJvbSAnLi4vZ2VvbWV0cnkvY29udmVyc2lvbi5tanMnO1xuaW1wb3J0IHsgdHJhbnNsYXRlQXhpcyB9IGZyb20gJy4uL2dlb21ldHJ5L2RlbHRhLWFwcGx5Lm1qcyc7XG5cbmZ1bmN0aW9uIG1lYXN1cmVWaWV3cG9ydEJveChpbnN0YW5jZSwgdHJhbnNmb3JtUG9pbnQpIHtcbiAgICByZXR1cm4gY29udmVydEJvdW5kaW5nQm94VG9Cb3godHJhbnNmb3JtQm94UG9pbnRzKGluc3RhbmNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0cmFuc2Zvcm1Qb2ludCkpO1xufVxuZnVuY3Rpb24gbWVhc3VyZVBhZ2VCb3goZWxlbWVudCwgcm9vdFByb2plY3Rpb25Ob2RlLCB0cmFuc2Zvcm1QYWdlUG9pbnQpIHtcbiAgICBjb25zdCB2aWV3cG9ydEJveCA9IG1lYXN1cmVWaWV3cG9ydEJveChlbGVtZW50LCB0cmFuc2Zvcm1QYWdlUG9pbnQpO1xuICAgIGNvbnN0IHsgc2Nyb2xsIH0gPSByb290UHJvamVjdGlvbk5vZGU7XG4gICAgaWYgKHNjcm9sbCkge1xuICAgICAgICB0cmFuc2xhdGVBeGlzKHZpZXdwb3J0Qm94LngsIHNjcm9sbC5vZmZzZXQueCk7XG4gICAgICAgIHRyYW5zbGF0ZUF4aXModmlld3BvcnRCb3gueSwgc2Nyb2xsLm9mZnNldC55KTtcbiAgICB9XG4gICAgcmV0dXJuIHZpZXdwb3J0Qm94O1xufVxuXG5leHBvcnQgeyBtZWFzdXJlUGFnZUJveCwgbWVhc3VyZVZpZXdwb3J0Qm94IH07XG4iLCIvLyBGaXhlcyBodHRwczovL2dpdGh1Yi5jb20vZnJhbWVyL21vdGlvbi9pc3N1ZXMvMjI3MFxuY29uc3QgZ2V0Q29udGV4dFdpbmRvdyA9ICh7IGN1cnJlbnQgfSkgPT4ge1xuICAgIHJldHVybiBjdXJyZW50ID8gY3VycmVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogbnVsbDtcbn07XG5cbmV4cG9ydCB7IGdldENvbnRleHRXaW5kb3cgfTtcbiIsImltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgUGFuU2Vzc2lvbiB9IGZyb20gJy4uL3Bhbi9QYW5TZXNzaW9uLm1qcyc7XG5pbXBvcnQgeyBnZXRHbG9iYWxMb2NrIH0gZnJvbSAnLi91dGlscy9sb2NrLm1qcyc7XG5pbXBvcnQgeyBpc1JlZk9iamVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLXJlZi1vYmplY3QubWpzJztcbmltcG9ydCB7IGFkZFBvaW50ZXJFdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cy9hZGQtcG9pbnRlci1ldmVudC5tanMnO1xuaW1wb3J0IHsgYXBwbHlDb25zdHJhaW50cywgY2FsY1JlbGF0aXZlQ29uc3RyYWludHMsIHJlc29sdmVEcmFnRWxhc3RpYywgY2FsY1ZpZXdwb3J0Q29uc3RyYWludHMsIGRlZmF1bHRFbGFzdGljLCByZWJhc2VBeGlzQ29uc3RyYWludHMsIGNhbGNPcmlnaW4gfSBmcm9tICcuL3V0aWxzL2NvbnN0cmFpbnRzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVCb3ggfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL2dlb21ldHJ5L21vZGVscy5tanMnO1xuaW1wb3J0IHsgZWFjaEF4aXMgfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL3V0aWxzL2VhY2gtYXhpcy5tanMnO1xuaW1wb3J0IHsgbWVhc3VyZVBhZ2VCb3ggfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL3V0aWxzL21lYXN1cmUubWpzJztcbmltcG9ydCB7IGV4dHJhY3RFdmVudEluZm8gfSBmcm9tICcuLi8uLi9ldmVudHMvZXZlbnQtaW5mby5tanMnO1xuaW1wb3J0IHsgY29udmVydEJveFRvQm91bmRpbmdCb3gsIGNvbnZlcnRCb3VuZGluZ0JveFRvQm94IH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi9nZW9tZXRyeS9jb252ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyBhZGREb21FdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cy9hZGQtZG9tLWV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBjYWxjTGVuZ3RoIH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi9nZW9tZXRyeS9kZWx0YS1jYWxjLm1qcyc7XG5pbXBvcnQgeyBtaXggfSBmcm9tICcuLi8uLi91dGlscy9taXgubWpzJztcbmltcG9ydCB7IHBlcmNlbnQgfSBmcm9tICcuLi8uLi92YWx1ZS90eXBlcy9udW1iZXJzL3VuaXRzLm1qcyc7XG5pbXBvcnQgeyBhbmltYXRlTW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vaW50ZXJmYWNlcy9tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IGdldENvbnRleHRXaW5kb3cgfSBmcm9tICcuLi8uLi91dGlscy9nZXQtY29udGV4dC13aW5kb3cubWpzJztcbmltcG9ydCB7IGZyYW1lIH0gZnJvbSAnLi4vLi4vZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5cbmNvbnN0IGVsZW1lbnREcmFnQ29udHJvbHMgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKlxuICovXG4vLyBsZXQgbGF0ZXN0UG9pbnRlckV2ZW50OiBQb2ludGVyRXZlbnRcbmNsYXNzIFZpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMge1xuICAgIGNvbnN0cnVjdG9yKHZpc3VhbEVsZW1lbnQpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIGRyYWcgZ2VzdHVyZSBsb2NrLCBlbnN1cmluZyBvbmx5IG9uZSBjb21wb25lbnRcbiAgICAgICAgLy8gY2FuIFwiY2FwdHVyZVwiIHRoZSBkcmFnIG9mIG9uZSBvciBib3RoIGF4ZXMuXG4gICAgICAgIC8vIFRPRE86IExvb2sgaW50byBtb3ZpbmcgdGhpcyBpbnRvIHBhbnNlc3Npb24/XG4gICAgICAgIHRoaXMub3Blbkdsb2JhbExvY2sgPSBudWxsO1xuICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50RGlyZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnaW5Qb2ludCA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBlcm1pdHRlZCBib3VuZGFyaWVzIG9mIHRyYXZlbCwgaW4gcGl4ZWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc011dGF0ZWRDb25zdHJhaW50cyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBlci1heGlzIHJlc29sdmVkIGVsYXN0aWMgdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbGFzdGljID0gY3JlYXRlQm94KCk7XG4gICAgICAgIHRoaXMudmlzdWFsRWxlbWVudCA9IHZpc3VhbEVsZW1lbnQ7XG4gICAgfVxuICAgIHN0YXJ0KG9yaWdpbkV2ZW50LCB7IHNuYXBUb0N1cnNvciA9IGZhbHNlIH0gPSB7fSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogRG9uJ3Qgc3RhcnQgZHJhZ2dpbmcgaWYgdGhpcyBjb21wb25lbnQgaXMgZXhpdGluZ1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgeyBwcmVzZW5jZUNvbnRleHQgfSA9IHRoaXMudmlzdWFsRWxlbWVudDtcbiAgICAgICAgaWYgKHByZXNlbmNlQ29udGV4dCAmJiBwcmVzZW5jZUNvbnRleHQuaXNQcmVzZW50ID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb25TZXNzaW9uU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIFN0b3AgYW55IGFuaW1hdGlvbnMgb24gYm90aCBheGlzIHZhbHVlcyBpbW1lZGlhdGVseS4gVGhpcyBhbGxvd3MgdGhlIHVzZXIgdG8gdGhyb3cgYW5kIGNhdGNoXG4gICAgICAgICAgICAvLyB0aGUgY29tcG9uZW50LlxuICAgICAgICAgICAgdGhpcy5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc25hcFRvQ3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zbmFwVG9DdXJzb3IoZXh0cmFjdEV2ZW50SW5mbyhldmVudCwgXCJwYWdlXCIpLnBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25TdGFydCA9IChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBncmFiIHRoZSBnbG9iYWwgZHJhZyBnZXN0dXJlIGxvY2sgLSBtYXliZSBtYWtlIHRoaXMgcGFydCBvZiBQYW5TZXNzaW9uXG4gICAgICAgICAgICBjb25zdCB7IGRyYWcsIGRyYWdQcm9wYWdhdGlvbiwgb25EcmFnU3RhcnQgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIGlmIChkcmFnICYmICFkcmFnUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcGVuR2xvYmFsTG9jaylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuR2xvYmFsTG9jaygpO1xuICAgICAgICAgICAgICAgIHRoaXMub3Blbkdsb2JhbExvY2sgPSBnZXRHbG9iYWxMb2NrKGRyYWcpO1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbiAndCBoYXZlIHRoZSBsb2NrLCBkb24ndCBzdGFydCBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcGVuR2xvYmFsTG9jaylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVDb25zdHJhaW50cygpO1xuICAgICAgICAgICAgaWYgKHRoaXMudmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LnByb2plY3Rpb24uaXNBbmltYXRpb25CbG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbi50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlY29yZCBnZXN0dXJlIG9yaWdpblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcykuZ2V0KCkgfHwgMDtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGUgTW90aW9uVmFsdWUgaXMgYSBwZXJjZW50YWdlIHZhbHVlIGNvbnZlcnQgdG8gcHhcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAocGVyY2VudC50ZXN0KGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy52aXN1YWxFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvamVjdGlvbiAmJiBwcm9qZWN0aW9uLmxheW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVhc3VyZWRBeGlzID0gcHJvamVjdGlvbi5sYXlvdXQubGF5b3V0Qm94W2F4aXNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lYXN1cmVkQXhpcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNhbGNMZW5ndGgobWVhc3VyZWRBeGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbGVuZ3RoICogKHBhcnNlRmxvYXQoY3VycmVudCkgLyAxMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luUG9pbnRbYXhpc10gPSBjdXJyZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBGaXJlIG9uRHJhZ1N0YXJ0IGV2ZW50XG4gICAgICAgICAgICBpZiAob25EcmFnU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBmcmFtZS51cGRhdGUoKCkgPT4gb25EcmFnU3RhcnQoZXZlbnQsIGluZm8pLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGFuaW1hdGlvblN0YXRlIH0gPSB0aGlzLnZpc3VhbEVsZW1lbnQ7XG4gICAgICAgICAgICBhbmltYXRpb25TdGF0ZSAmJiBhbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZURyYWdcIiwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9uTW92ZSA9IChldmVudCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgLy8gbGF0ZXN0UG9pbnRlckV2ZW50ID0gZXZlbnRcbiAgICAgICAgICAgIGNvbnN0IHsgZHJhZ1Byb3BhZ2F0aW9uLCBkcmFnRGlyZWN0aW9uTG9jaywgb25EaXJlY3Rpb25Mb2NrLCBvbkRyYWcsIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkaWRuJ3Qgc3VjY2Vzc2Z1bGx5IHJlY2VpdmUgdGhlIGdlc3R1cmUgbG9jaywgZWFybHkgcmV0dXJuLlxuICAgICAgICAgICAgaWYgKCFkcmFnUHJvcGFnYXRpb24gJiYgIXRoaXMub3Blbkdsb2JhbExvY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBvZmZzZXQgfSA9IGluZm87XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGRldGVjdCBkcmFnIGRpcmVjdGlvbiBpZiBkaXJlY3Rpb25Mb2NrIGlzIHRydWVcbiAgICAgICAgICAgIGlmIChkcmFnRGlyZWN0aW9uTG9jayAmJiB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSBnZXRDdXJyZW50RGlyZWN0aW9uKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UndmUgc3VjY2Vzc2Z1bGx5IHNldCBhIGRpcmVjdGlvbiwgbm90aWZ5IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudERpcmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBvbkRpcmVjdGlvbkxvY2sgJiYgb25EaXJlY3Rpb25Mb2NrKHRoaXMuY3VycmVudERpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBlYWNoIHBvaW50IHdpdGggdGhlIGxhdGVzdCBwb3NpdGlvblxuICAgICAgICAgICAgdGhpcy51cGRhdGVBeGlzKFwieFwiLCBpbmZvLnBvaW50LCBvZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBeGlzKFwieVwiLCBpbmZvLnBvaW50LCBvZmZzZXQpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZGVhbGx5IHdlIHdvdWxkIGxlYXZlIHRoZSByZW5kZXJlciB0byBmaXJlIG5hdHVyYWxseSBhdCB0aGUgZW5kIG9mXG4gICAgICAgICAgICAgKiB0aGlzIGZyYW1lIGJ1dCBpZiB0aGUgZWxlbWVudCBpcyBhYm91dCB0byBjaGFuZ2UgbGF5b3V0IGFzIHRoZSByZXN1bHRcbiAgICAgICAgICAgICAqIG9mIGEgcmUtcmVuZGVyIHdlIHdhbnQgdG8gZW5zdXJlIHRoZSBicm93c2VyIGNhbiByZWFkIHRoZSBsYXRlc3RcbiAgICAgICAgICAgICAqIGJvdW5kaW5nIGJveCB0byBlbnN1cmUgdGhlIHBvaW50ZXIgYW5kIGVsZW1lbnQgZG9uJ3QgZmFsbCBvdXQgb2Ygc3luYy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy52aXN1YWxFbGVtZW50LnJlbmRlcigpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGlzIG11c3QgZmlyZSBhZnRlciB0aGUgcmVuZGVyIGNhbGwgYXMgaXQgbWlnaHQgdHJpZ2dlciBhIHN0YXRlXG4gICAgICAgICAgICAgKiBjaGFuZ2Ugd2hpY2ggaXRzZWxmIG1pZ2h0IHRyaWdnZXIgYSBsYXlvdXQgdXBkYXRlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvbkRyYWcgJiYgb25EcmFnKGV2ZW50LCBpbmZvKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb25TZXNzaW9uRW5kID0gKGV2ZW50LCBpbmZvKSA9PiB0aGlzLnN0b3AoZXZlbnQsIGluZm8pO1xuICAgICAgICB0aGlzLnBhblNlc3Npb24gPSBuZXcgUGFuU2Vzc2lvbihvcmlnaW5FdmVudCwge1xuICAgICAgICAgICAgb25TZXNzaW9uU3RhcnQsXG4gICAgICAgICAgICBvblN0YXJ0LFxuICAgICAgICAgICAgb25Nb3ZlLFxuICAgICAgICAgICAgb25TZXNzaW9uRW5kLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1QYWdlUG9pbnQ6IHRoaXMudmlzdWFsRWxlbWVudC5nZXRUcmFuc2Zvcm1QYWdlUG9pbnQoKSxcbiAgICAgICAgICAgIGNvbnRleHRXaW5kb3c6IGdldENvbnRleHRXaW5kb3codGhpcy52aXN1YWxFbGVtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0b3AoZXZlbnQsIGluZm8pIHtcbiAgICAgICAgY29uc3QgaXNEcmFnZ2luZyA9IHRoaXMuaXNEcmFnZ2luZztcbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgaWYgKCFpc0RyYWdnaW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHZlbG9jaXR5IH0gPSBpbmZvO1xuICAgICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uKHZlbG9jaXR5KTtcbiAgICAgICAgY29uc3QgeyBvbkRyYWdFbmQgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgaWYgKG9uRHJhZ0VuZCkge1xuICAgICAgICAgICAgZnJhbWUudXBkYXRlKCgpID0+IG9uRHJhZ0VuZChldmVudCwgaW5mbykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiwgYW5pbWF0aW9uU3RhdGUgfSA9IHRoaXMudmlzdWFsRWxlbWVudDtcbiAgICAgICAgaWYgKHByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIHByb2plY3Rpb24uaXNBbmltYXRpb25CbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYW5TZXNzaW9uICYmIHRoaXMucGFuU2Vzc2lvbi5lbmQoKTtcbiAgICAgICAgdGhpcy5wYW5TZXNzaW9uID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCB7IGRyYWdQcm9wYWdhdGlvbiB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICBpZiAoIWRyYWdQcm9wYWdhdGlvbiAmJiB0aGlzLm9wZW5HbG9iYWxMb2NrKSB7XG4gICAgICAgICAgICB0aGlzLm9wZW5HbG9iYWxMb2NrKCk7XG4gICAgICAgICAgICB0aGlzLm9wZW5HbG9iYWxMb2NrID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBhbmltYXRpb25TdGF0ZSAmJiBhbmltYXRpb25TdGF0ZS5zZXRBY3RpdmUoXCJ3aGlsZURyYWdcIiwgZmFsc2UpO1xuICAgIH1cbiAgICB1cGRhdGVBeGlzKGF4aXMsIF9wb2ludCwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHsgZHJhZyB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAvLyBJZiB3ZSdyZSBub3QgZHJhZ2dpbmcgdGhpcyBheGlzLCBkbyBhbiBlYXJseSByZXR1cm4uXG4gICAgICAgIGlmICghb2Zmc2V0IHx8ICFzaG91bGREcmFnKGF4aXMsIGRyYWcsIHRoaXMuY3VycmVudERpcmVjdGlvbikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGF4aXNWYWx1ZSA9IHRoaXMuZ2V0QXhpc01vdGlvblZhbHVlKGF4aXMpO1xuICAgICAgICBsZXQgbmV4dCA9IHRoaXMub3JpZ2luUG9pbnRbYXhpc10gKyBvZmZzZXRbYXhpc107XG4gICAgICAgIC8vIEFwcGx5IGNvbnN0cmFpbnRzXG4gICAgICAgIGlmICh0aGlzLmNvbnN0cmFpbnRzICYmIHRoaXMuY29uc3RyYWludHNbYXhpc10pIHtcbiAgICAgICAgICAgIG5leHQgPSBhcHBseUNvbnN0cmFpbnRzKG5leHQsIHRoaXMuY29uc3RyYWludHNbYXhpc10sIHRoaXMuZWxhc3RpY1theGlzXSk7XG4gICAgICAgIH1cbiAgICAgICAgYXhpc1ZhbHVlLnNldChuZXh0KTtcbiAgICB9XG4gICAgcmVzb2x2ZUNvbnN0cmFpbnRzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHsgZHJhZ0NvbnN0cmFpbnRzLCBkcmFnRWxhc3RpYyB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbiAmJlxuICAgICAgICAgICAgIXRoaXMudmlzdWFsRWxlbWVudC5wcm9qZWN0aW9uLmxheW91dFxuICAgICAgICAgICAgPyB0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbi5tZWFzdXJlKGZhbHNlKVxuICAgICAgICAgICAgOiAoX2EgPSB0aGlzLnZpc3VhbEVsZW1lbnQucHJvamVjdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxheW91dDtcbiAgICAgICAgY29uc3QgcHJldkNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICAgICAgaWYgKGRyYWdDb25zdHJhaW50cyAmJiBpc1JlZk9iamVjdChkcmFnQ29uc3RyYWludHMpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29uc3RyYWludHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gdGhpcy5yZXNvbHZlUmVmQ29uc3RyYWludHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChkcmFnQ29uc3RyYWludHMgJiYgbGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IGNhbGNSZWxhdGl2ZUNvbnN0cmFpbnRzKGxheW91dC5sYXlvdXRCb3gsIGRyYWdDb25zdHJhaW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGFzdGljID0gcmVzb2x2ZURyYWdFbGFzdGljKGRyYWdFbGFzdGljKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlJ3JlIG91dHB1dHRpbmcgdG8gZXh0ZXJuYWwgTW90aW9uVmFsdWVzLCB3ZSB3YW50IHRvIHJlYmFzZSB0aGUgbWVhc3VyZWQgY29uc3RyYWludHNcbiAgICAgICAgICogZnJvbSB2aWV3cG9ydC1yZWxhdGl2ZSB0byBjb21wb25lbnQtcmVsYXRpdmUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocHJldkNvbnN0cmFpbnRzICE9PSB0aGlzLmNvbnN0cmFpbnRzICYmXG4gICAgICAgICAgICBsYXlvdXQgJiZcbiAgICAgICAgICAgIHRoaXMuY29uc3RyYWludHMgJiZcbiAgICAgICAgICAgICF0aGlzLmhhc011dGF0ZWRDb25zdHJhaW50cykge1xuICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdHJhaW50c1theGlzXSA9IHJlYmFzZUF4aXNDb25zdHJhaW50cyhsYXlvdXQubGF5b3V0Qm94W2F4aXNdLCB0aGlzLmNvbnN0cmFpbnRzW2F4aXNdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNvbHZlUmVmQ29uc3RyYWludHMoKSB7XG4gICAgICAgIGNvbnN0IHsgZHJhZ0NvbnN0cmFpbnRzOiBjb25zdHJhaW50cywgb25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgIGlmICghY29uc3RyYWludHMgfHwgIWlzUmVmT2JqZWN0KGNvbnN0cmFpbnRzKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgY29uc3RyYWludHNFbGVtZW50ID0gY29uc3RyYWludHMuY3VycmVudDtcbiAgICAgICAgaW52YXJpYW50KGNvbnN0cmFpbnRzRWxlbWVudCAhPT0gbnVsbCwgXCJJZiBgZHJhZ0NvbnN0cmFpbnRzYCBpcyBzZXQgYXMgYSBSZWFjdCByZWYsIHRoYXQgcmVmIG11c3QgYmUgcGFzc2VkIHRvIGFub3RoZXIgY29tcG9uZW50J3MgYHJlZmAgcHJvcC5cIik7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy52aXN1YWxFbGVtZW50O1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIGlmICghcHJvamVjdGlvbiB8fCAhcHJvamVjdGlvbi5sYXlvdXQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzQm94ID0gbWVhc3VyZVBhZ2VCb3goY29uc3RyYWludHNFbGVtZW50LCBwcm9qZWN0aW9uLnJvb3QsIHRoaXMudmlzdWFsRWxlbWVudC5nZXRUcmFuc2Zvcm1QYWdlUG9pbnQoKSk7XG4gICAgICAgIGxldCBtZWFzdXJlZENvbnN0cmFpbnRzID0gY2FsY1ZpZXdwb3J0Q29uc3RyYWludHMocHJvamVjdGlvbi5sYXlvdXQubGF5b3V0Qm94LCBjb25zdHJhaW50c0JveCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGVyZSdzIGFuIG9uTWVhc3VyZURyYWdDb25zdHJhaW50cyBsaXN0ZW5lciB3ZSBjYWxsIGl0IGFuZFxuICAgICAgICAgKiBpZiBkaWZmZXJlbnQgY29uc3RyYWludHMgYXJlIHJldHVybmVkLCBzZXQgY29uc3RyYWludHMgdG8gdGhhdFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKG9uTWVhc3VyZURyYWdDb25zdHJhaW50cykge1xuICAgICAgICAgICAgY29uc3QgdXNlckNvbnN0cmFpbnRzID0gb25NZWFzdXJlRHJhZ0NvbnN0cmFpbnRzKGNvbnZlcnRCb3hUb0JvdW5kaW5nQm94KG1lYXN1cmVkQ29uc3RyYWludHMpKTtcbiAgICAgICAgICAgIHRoaXMuaGFzTXV0YXRlZENvbnN0cmFpbnRzID0gISF1c2VyQ29uc3RyYWludHM7XG4gICAgICAgICAgICBpZiAodXNlckNvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICAgICAgbWVhc3VyZWRDb25zdHJhaW50cyA9IGNvbnZlcnRCb3VuZGluZ0JveFRvQm94KHVzZXJDb25zdHJhaW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lYXN1cmVkQ29uc3RyYWludHM7XG4gICAgfVxuICAgIHN0YXJ0QW5pbWF0aW9uKHZlbG9jaXR5KSB7XG4gICAgICAgIGNvbnN0IHsgZHJhZywgZHJhZ01vbWVudHVtLCBkcmFnRWxhc3RpYywgZHJhZ1RyYW5zaXRpb24sIGRyYWdTbmFwVG9PcmlnaW4sIG9uRHJhZ1RyYW5zaXRpb25FbmQsIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cyB8fCB7fTtcbiAgICAgICAgY29uc3QgbW9tZW50dW1BbmltYXRpb25zID0gZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgIGlmICghc2hvdWxkRHJhZyhheGlzLCBkcmFnLCB0aGlzLmN1cnJlbnREaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRyYW5zaXRpb24gPSAoY29uc3RyYWludHMgJiYgY29uc3RyYWludHNbYXhpc10pIHx8IHt9O1xuICAgICAgICAgICAgaWYgKGRyYWdTbmFwVG9PcmlnaW4pXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbiA9IHsgbWluOiAwLCBtYXg6IDAgfTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT3ZlcmRhbXAgdGhlIGJvdW5kYXJ5IHNwcmluZyBpZiBgZHJhZ0VsYXN0aWNgIGlzIGRpc2FibGVkLiBUaGVyZSdzIHN0aWxsIGEgZnJhbWVcbiAgICAgICAgICAgICAqIG9mIHNwcmluZyBhbmltYXRpb25zIHNvIHdlIHNob3VsZCBsb29rIGludG8gYWRkaW5nIGEgZGlzYWJsZSBzcHJpbmcgb3B0aW9uIHRvIGBpbmVydGlhYC5cbiAgICAgICAgICAgICAqIFdlIGNvdWxkIGRvIHNvbWV0aGluZyBoZXJlIHdoZXJlIHdlIGFmZmVjdCB0aGUgYGJvdW5jZVN0aWZmbmVzc2AgYW5kIGBib3VuY2VEYW1waW5nYFxuICAgICAgICAgICAgICogdXNpbmcgdGhlIHZhbHVlIG9mIGBkcmFnRWxhc3RpY2AuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGJvdW5jZVN0aWZmbmVzcyA9IGRyYWdFbGFzdGljID8gMjAwIDogMTAwMDAwMDtcbiAgICAgICAgICAgIGNvbnN0IGJvdW5jZURhbXBpbmcgPSBkcmFnRWxhc3RpYyA/IDQwIDogMTAwMDAwMDA7XG4gICAgICAgICAgICBjb25zdCBpbmVydGlhID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiaW5lcnRpYVwiLFxuICAgICAgICAgICAgICAgIHZlbG9jaXR5OiBkcmFnTW9tZW50dW0gPyB2ZWxvY2l0eVtheGlzXSA6IDAsXG4gICAgICAgICAgICAgICAgYm91bmNlU3RpZmZuZXNzLFxuICAgICAgICAgICAgICAgIGJvdW5jZURhbXBpbmcsXG4gICAgICAgICAgICAgICAgdGltZUNvbnN0YW50OiA3NTAsXG4gICAgICAgICAgICAgICAgcmVzdERlbHRhOiAxLFxuICAgICAgICAgICAgICAgIHJlc3RTcGVlZDogMTAsXG4gICAgICAgICAgICAgICAgLi4uZHJhZ1RyYW5zaXRpb24sXG4gICAgICAgICAgICAgICAgLi4udHJhbnNpdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBub3QgYW5pbWF0aW5nIG9uIGFuIGV4dGVybmFsbHktcHJvdmlkZWQgYE1vdGlvblZhbHVlYCB3ZSBjYW4gdXNlIHRoZVxuICAgICAgICAgICAgLy8gY29tcG9uZW50J3MgYW5pbWF0aW9uIGNvbnRyb2xzIHdoaWNoIHdpbGwgaGFuZGxlIGludGVyYWN0aW9ucyB3aXRoIHdoaWxlSG92ZXIgKGV0YyksXG4gICAgICAgICAgICAvLyBvdGhlcndpc2Ugd2UganVzdCBoYXZlIHRvIGFuaW1hdGUgdGhlIGBNb3Rpb25WYWx1ZWAgaXRzZWxmLlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRBeGlzVmFsdWVBbmltYXRpb24oYXhpcywgaW5lcnRpYSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBSdW4gYWxsIGFuaW1hdGlvbnMgYW5kIHRoZW4gcmVzb2x2ZSB0aGUgbmV3IGRyYWcgY29uc3RyYWludHMuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChtb21lbnR1bUFuaW1hdGlvbnMpLnRoZW4ob25EcmFnVHJhbnNpdGlvbkVuZCk7XG4gICAgfVxuICAgIHN0YXJ0QXhpc1ZhbHVlQW5pbWF0aW9uKGF4aXMsIHRyYW5zaXRpb24pIHtcbiAgICAgICAgY29uc3QgYXhpc1ZhbHVlID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcyk7XG4gICAgICAgIHJldHVybiBheGlzVmFsdWUuc3RhcnQoYW5pbWF0ZU1vdGlvblZhbHVlKGF4aXMsIGF4aXNWYWx1ZSwgMCwgdHJhbnNpdGlvbikpO1xuICAgIH1cbiAgICBzdG9wQW5pbWF0aW9uKCkge1xuICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcykuc3RvcCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRHJhZyB3b3JrcyBkaWZmZXJlbnRseSBkZXBlbmRpbmcgb24gd2hpY2ggcHJvcHMgYXJlIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogLSBJZiBfZHJhZ1ggYW5kIF9kcmFnWSBhcmUgcHJvdmlkZWQsIHdlIG91dHB1dCB0aGUgZ2VzdHVyZSBkZWx0YSBkaXJlY3RseSB0byB0aG9zZSBtb3Rpb24gdmFsdWVzLlxuICAgICAqIC0gT3RoZXJ3aXNlLCB3ZSBhcHBseSB0aGUgZGVsdGEgdG8gdGhlIHgveSBtb3Rpb24gdmFsdWVzLlxuICAgICAqL1xuICAgIGdldEF4aXNNb3Rpb25WYWx1ZShheGlzKSB7XG4gICAgICAgIGNvbnN0IGRyYWdLZXkgPSBcIl9kcmFnXCIgKyBheGlzLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy52aXN1YWxFbGVtZW50LmdldFByb3BzKCk7XG4gICAgICAgIGNvbnN0IGV4dGVybmFsTW90aW9uVmFsdWUgPSBwcm9wc1tkcmFnS2V5XTtcbiAgICAgICAgcmV0dXJuIGV4dGVybmFsTW90aW9uVmFsdWVcbiAgICAgICAgICAgID8gZXh0ZXJuYWxNb3Rpb25WYWx1ZVxuICAgICAgICAgICAgOiB0aGlzLnZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoYXhpcywgKHByb3BzLmluaXRpYWwgPyBwcm9wcy5pbml0aWFsW2F4aXNdIDogdW5kZWZpbmVkKSB8fCAwKTtcbiAgICB9XG4gICAgc25hcFRvQ3Vyc29yKHBvaW50KSB7XG4gICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGRyYWcgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCBkcmFnZ2luZyB0aGlzIGF4aXMsIGRvIGFuIGVhcmx5IHJldHVybi5cbiAgICAgICAgICAgIGlmICghc2hvdWxkRHJhZyhheGlzLCBkcmFnLCB0aGlzLmN1cnJlbnREaXJlY3Rpb24pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy52aXN1YWxFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgYXhpc1ZhbHVlID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcyk7XG4gICAgICAgICAgICBpZiAocHJvamVjdGlvbiAmJiBwcm9qZWN0aW9uLmxheW91dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHByb2plY3Rpb24ubGF5b3V0LmxheW91dEJveFtheGlzXTtcbiAgICAgICAgICAgICAgICBheGlzVmFsdWUuc2V0KHBvaW50W2F4aXNdIC0gbWl4KG1pbiwgbWF4LCAwLjUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHZpZXdwb3J0IHJlc2l6ZXMgd2Ugd2FudCB0byBjaGVjayBpZiB0aGUgbWVhc3VyZWQgY29uc3RyYWludHNcbiAgICAgKiBoYXZlIGNoYW5nZWQgYW5kLCBpZiBzbywgcmVwb3NpdGlvbiB0aGUgZWxlbWVudCB3aXRoaW4gdGhvc2UgbmV3IGNvbnN0cmFpbnRzXG4gICAgICogcmVsYXRpdmUgdG8gd2hlcmUgaXQgd2FzIGJlZm9yZSB0aGUgcmVzaXplLlxuICAgICAqL1xuICAgIHNjYWxlUG9zaXRpb25XaXRoaW5Db25zdHJhaW50cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc3VhbEVsZW1lbnQuY3VycmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgeyBkcmFnLCBkcmFnQ29uc3RyYWludHMgfSA9IHRoaXMuZ2V0UHJvcHMoKTtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB0aGlzLnZpc3VhbEVsZW1lbnQ7XG4gICAgICAgIGlmICghaXNSZWZPYmplY3QoZHJhZ0NvbnN0cmFpbnRzKSB8fCAhcHJvamVjdGlvbiB8fCAhdGhpcy5jb25zdHJhaW50cylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3AgY3VycmVudCBhbmltYXRpb25zIGFzIHRoZXJlIGNhbiBiZSB2aXN1YWwgZ2xpdGNoaW5nIGlmIHdlIHRyeSB0byBkb1xuICAgICAgICAgKiB0aGlzIG1pZC1hbmltYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVjb3JkIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZVxuICAgICAgICAgKiBjb25zdHJhaW50cyBib3ggYW5kIHNhdmUgYXMgYSBwcm9ncmVzcyB2YWx1ZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGJveFByb2dyZXNzID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBheGlzVmFsdWUgPSB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKTtcbiAgICAgICAgICAgIGlmIChheGlzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRlc3QgPSBheGlzVmFsdWUuZ2V0KCk7XG4gICAgICAgICAgICAgICAgYm94UHJvZ3Jlc3NbYXhpc10gPSBjYWxjT3JpZ2luKHsgbWluOiBsYXRlc3QsIG1heDogbGF0ZXN0IH0sIHRoaXMuY29uc3RyYWludHNbYXhpc10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSB0aGUgbGF5b3V0IG9mIHRoaXMgZWxlbWVudCBhbmQgcmVzb2x2ZSB0aGUgbGF0ZXN0IGRyYWcgY29uc3RyYWludHNcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHsgdHJhbnNmb3JtVGVtcGxhdGUgfSA9IHRoaXMudmlzdWFsRWxlbWVudC5nZXRQcm9wcygpO1xuICAgICAgICB0aGlzLnZpc3VhbEVsZW1lbnQuY3VycmVudC5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1UZW1wbGF0ZVxuICAgICAgICAgICAgPyB0cmFuc2Zvcm1UZW1wbGF0ZSh7fSwgXCJcIilcbiAgICAgICAgICAgIDogXCJub25lXCI7XG4gICAgICAgIHByb2plY3Rpb24ucm9vdCAmJiBwcm9qZWN0aW9uLnJvb3QudXBkYXRlU2Nyb2xsKCk7XG4gICAgICAgIHByb2plY3Rpb24udXBkYXRlTGF5b3V0KCk7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0cmFpbnRzKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBheGlzLCBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgcHJvZ3Jlc3Mgb2YgdGhlIGxheW91dCBheGlzXG4gICAgICAgICAqIHdpdGhpbiB0aGUgbmV3IGNvbnN0cmFpbnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgIGlmICghc2hvdWxkRHJhZyhheGlzLCBkcmFnLCBudWxsKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGN1bGF0ZSBhIG5ldyB0cmFuc2Zvcm0gYmFzZWQgb24gdGhlIHByZXZpb3VzIGJveCBwcm9ncmVzc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBheGlzVmFsdWUgPSB0aGlzLmdldEF4aXNNb3Rpb25WYWx1ZShheGlzKTtcbiAgICAgICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHRoaXMuY29uc3RyYWludHNbYXhpc107XG4gICAgICAgICAgICBheGlzVmFsdWUuc2V0KG1peChtaW4sIG1heCwgYm94UHJvZ3Jlc3NbYXhpc10pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFkZExpc3RlbmVycygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpc3VhbEVsZW1lbnQuY3VycmVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZWxlbWVudERyYWdDb250cm9scy5zZXQodGhpcy52aXN1YWxFbGVtZW50LCB0aGlzKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMudmlzdWFsRWxlbWVudC5jdXJyZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQXR0YWNoIGEgcG9pbnRlcmRvd24gZXZlbnQgbGlzdGVuZXIgb24gdGhpcyBET00gZWxlbWVudCB0byBpbml0aWF0ZSBkcmFnIHRyYWNraW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgc3RvcFBvaW50ZXJMaXN0ZW5lciA9IGFkZFBvaW50ZXJFdmVudChlbGVtZW50LCBcInBvaW50ZXJkb3duXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBkcmFnLCBkcmFnTGlzdGVuZXIgPSB0cnVlIH0gPSB0aGlzLmdldFByb3BzKCk7XG4gICAgICAgICAgICBkcmFnICYmIGRyYWdMaXN0ZW5lciAmJiB0aGlzLnN0YXJ0KGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVEcmFnQ29uc3RyYWludHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGRyYWdDb25zdHJhaW50cyB9ID0gdGhpcy5nZXRQcm9wcygpO1xuICAgICAgICAgICAgaWYgKGlzUmVmT2JqZWN0KGRyYWdDb25zdHJhaW50cykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cmFpbnRzID0gdGhpcy5yZXNvbHZlUmVmQ29uc3RyYWludHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB0aGlzLnZpc3VhbEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHN0b3BNZWFzdXJlTGF5b3V0TGlzdGVuZXIgPSBwcm9qZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtZWFzdXJlXCIsIG1lYXN1cmVEcmFnQ29uc3RyYWludHMpO1xuICAgICAgICBpZiAocHJvamVjdGlvbiAmJiAhcHJvamVjdGlvbi5sYXlvdXQpIHtcbiAgICAgICAgICAgIHByb2plY3Rpb24ucm9vdCAmJiBwcm9qZWN0aW9uLnJvb3QudXBkYXRlU2Nyb2xsKCk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uLnVwZGF0ZUxheW91dCgpO1xuICAgICAgICB9XG4gICAgICAgIG1lYXN1cmVEcmFnQ29uc3RyYWludHMoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0dGFjaCBhIHdpbmRvdyByZXNpemUgbGlzdGVuZXIgdG8gc2NhbGUgdGhlIGRyYWdnYWJsZSB0YXJnZXQgd2l0aGluIGl0cyBkZWZpbmVkXG4gICAgICAgICAqIGNvbnN0cmFpbnRzIGFzIHRoZSB3aW5kb3cgcmVzaXplcy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHN0b3BSZXNpemVMaXN0ZW5lciA9IGFkZERvbUV2ZW50KHdpbmRvdywgXCJyZXNpemVcIiwgKCkgPT4gdGhpcy5zY2FsZVBvc2l0aW9uV2l0aGluQ29uc3RyYWludHMoKSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgZWxlbWVudCdzIGxheW91dCBjaGFuZ2VzLCBjYWxjdWxhdGUgdGhlIGRlbHRhIGFuZCBhcHBseSB0aGF0IHRvXG4gICAgICAgICAqIHRoZSBkcmFnIGdlc3R1cmUncyBvcmlnaW4gcG9pbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBzdG9wTGF5b3V0VXBkYXRlTGlzdGVuZXIgPSBwcm9qZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJkaWRVcGRhdGVcIiwgKCh7IGRlbHRhLCBoYXNMYXlvdXRDaGFuZ2VkIH0pID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcgJiYgaGFzTGF5b3V0Q2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGVhY2hBeGlzKChheGlzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vdGlvblZhbHVlID0gdGhpcy5nZXRBeGlzTW90aW9uVmFsdWUoYXhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbW90aW9uVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luUG9pbnRbYXhpc10gKz0gZGVsdGFbYXhpc10udHJhbnNsYXRlO1xuICAgICAgICAgICAgICAgICAgICBtb3Rpb25WYWx1ZS5zZXQobW90aW9uVmFsdWUuZ2V0KCkgKyBkZWx0YVtheGlzXS50cmFuc2xhdGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudmlzdWFsRWxlbWVudC5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc3RvcFJlc2l6ZUxpc3RlbmVyKCk7XG4gICAgICAgICAgICBzdG9wUG9pbnRlckxpc3RlbmVyKCk7XG4gICAgICAgICAgICBzdG9wTWVhc3VyZUxheW91dExpc3RlbmVyKCk7XG4gICAgICAgICAgICBzdG9wTGF5b3V0VXBkYXRlTGlzdGVuZXIgJiYgc3RvcExheW91dFVwZGF0ZUxpc3RlbmVyKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFByb3BzKCkge1xuICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMudmlzdWFsRWxlbWVudC5nZXRQcm9wcygpO1xuICAgICAgICBjb25zdCB7IGRyYWcgPSBmYWxzZSwgZHJhZ0RpcmVjdGlvbkxvY2sgPSBmYWxzZSwgZHJhZ1Byb3BhZ2F0aW9uID0gZmFsc2UsIGRyYWdDb25zdHJhaW50cyA9IGZhbHNlLCBkcmFnRWxhc3RpYyA9IGRlZmF1bHRFbGFzdGljLCBkcmFnTW9tZW50dW0gPSB0cnVlLCB9ID0gcHJvcHM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICAgIGRyYWcsXG4gICAgICAgICAgICBkcmFnRGlyZWN0aW9uTG9jayxcbiAgICAgICAgICAgIGRyYWdQcm9wYWdhdGlvbixcbiAgICAgICAgICAgIGRyYWdDb25zdHJhaW50cyxcbiAgICAgICAgICAgIGRyYWdFbGFzdGljLFxuICAgICAgICAgICAgZHJhZ01vbWVudHVtLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNob3VsZERyYWcoZGlyZWN0aW9uLCBkcmFnLCBjdXJyZW50RGlyZWN0aW9uKSB7XG4gICAgcmV0dXJuICgoZHJhZyA9PT0gdHJ1ZSB8fCBkcmFnID09PSBkaXJlY3Rpb24pICYmXG4gICAgICAgIChjdXJyZW50RGlyZWN0aW9uID09PSBudWxsIHx8IGN1cnJlbnREaXJlY3Rpb24gPT09IGRpcmVjdGlvbikpO1xufVxuLyoqXG4gKiBCYXNlZCBvbiBhbiB4L3kgb2Zmc2V0IGRldGVybWluZSB0aGUgY3VycmVudCBkcmFnIGRpcmVjdGlvbi4gSWYgYm90aCBheGlzJyBvZmZzZXRzIGFyZSBsb3dlclxuICogdGhhbiB0aGUgcHJvdmlkZWQgdGhyZXNob2xkLCByZXR1cm4gYG51bGxgLlxuICpcbiAqIEBwYXJhbSBvZmZzZXQgLSBUaGUgeC95IG9mZnNldCBmcm9tIG9yaWdpbi5cbiAqIEBwYXJhbSBsb2NrVGhyZXNob2xkIC0gKE9wdGlvbmFsKSAtIHRoZSBtaW5pbXVtIGFic29sdXRlIG9mZnNldCBiZWZvcmUgd2UgY2FuIGRldGVybWluZSBhIGRyYWcgZGlyZWN0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRDdXJyZW50RGlyZWN0aW9uKG9mZnNldCwgbG9ja1RocmVzaG9sZCA9IDEwKSB7XG4gICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XG4gICAgaWYgKE1hdGguYWJzKG9mZnNldC55KSA+IGxvY2tUaHJlc2hvbGQpIHtcbiAgICAgICAgZGlyZWN0aW9uID0gXCJ5XCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKE1hdGguYWJzKG9mZnNldC54KSA+IGxvY2tUaHJlc2hvbGQpIHtcbiAgICAgICAgZGlyZWN0aW9uID0gXCJ4XCI7XG4gICAgfVxuICAgIHJldHVybiBkaXJlY3Rpb247XG59XG5cbmV4cG9ydCB7IFZpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMsIGVsZW1lbnREcmFnQ29udHJvbHMgfTtcbiIsImltcG9ydCB7IEZlYXR1cmUgfSBmcm9tICcuLi8uLi9tb3Rpb24vZmVhdHVyZXMvRmVhdHVyZS5tanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uL3V0aWxzL25vb3AubWpzJztcbmltcG9ydCB7IFZpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMgfSBmcm9tICcuL1Zpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMubWpzJztcblxuY2xhc3MgRHJhZ0dlc3R1cmUgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3Rvcihub2RlKSB7XG4gICAgICAgIHN1cGVyKG5vZGUpO1xuICAgICAgICB0aGlzLnJlbW92ZUdyb3VwQ29udHJvbHMgPSBub29wO1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycyA9IG5vb3A7XG4gICAgICAgIHRoaXMuY29udHJvbHMgPSBuZXcgVmlzdWFsRWxlbWVudERyYWdDb250cm9scyhub2RlKTtcbiAgICB9XG4gICAgbW91bnQoKSB7XG4gICAgICAgIC8vIElmIHdlJ3ZlIGJlZW4gcHJvdmlkZWQgYSBEcmFnQ29udHJvbHMgZm9yIG1hbnVhbCBjb250cm9sIG92ZXIgdGhlIGRyYWcgZ2VzdHVyZSxcbiAgICAgICAgLy8gc3Vic2NyaWJlIHRoaXMgY29tcG9uZW50IHRvIGl0IG9uIG1vdW50LlxuICAgICAgICBjb25zdCB7IGRyYWdDb250cm9scyB9ID0gdGhpcy5ub2RlLmdldFByb3BzKCk7XG4gICAgICAgIGlmIChkcmFnQ29udHJvbHMpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlR3JvdXBDb250cm9scyA9IGRyYWdDb250cm9scy5zdWJzY3JpYmUodGhpcy5jb250cm9scyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcnMgPSB0aGlzLmNvbnRyb2xzLmFkZExpc3RlbmVycygpIHx8IG5vb3A7XG4gICAgfVxuICAgIHVubW91bnQoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlR3JvdXBDb250cm9scygpO1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgRHJhZ0dlc3R1cmUgfTtcbiIsImltcG9ydCB7IFBhblNlc3Npb24gfSBmcm9tICcuL1BhblNlc3Npb24ubWpzJztcbmltcG9ydCB7IGFkZFBvaW50ZXJFdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cy9hZGQtcG9pbnRlci1ldmVudC5tanMnO1xuaW1wb3J0IHsgRmVhdHVyZSB9IGZyb20gJy4uLy4uL21vdGlvbi9mZWF0dXJlcy9GZWF0dXJlLm1qcyc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vLi4vdXRpbHMvbm9vcC5tanMnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dFdpbmRvdyB9IGZyb20gJy4uLy4uL3V0aWxzL2dldC1jb250ZXh0LXdpbmRvdy5tanMnO1xuaW1wb3J0IHsgZnJhbWUgfSBmcm9tICcuLi8uLi9mcmFtZWxvb3AvZnJhbWUubWpzJztcblxuY29uc3QgYXN5bmNIYW5kbGVyID0gKGhhbmRsZXIpID0+IChldmVudCwgaW5mbykgPT4ge1xuICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIGZyYW1lLnVwZGF0ZSgoKSA9PiBoYW5kbGVyKGV2ZW50LCBpbmZvKSk7XG4gICAgfVxufTtcbmNsYXNzIFBhbkdlc3R1cmUgZXh0ZW5kcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5yZW1vdmVQb2ludGVyRG93bkxpc3RlbmVyID0gbm9vcDtcbiAgICB9XG4gICAgb25Qb2ludGVyRG93bihwb2ludGVyRG93bkV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IG5ldyBQYW5TZXNzaW9uKHBvaW50ZXJEb3duRXZlbnQsIHRoaXMuY3JlYXRlUGFuSGFuZGxlcnMoKSwge1xuICAgICAgICAgICAgdHJhbnNmb3JtUGFnZVBvaW50OiB0aGlzLm5vZGUuZ2V0VHJhbnNmb3JtUGFnZVBvaW50KCksXG4gICAgICAgICAgICBjb250ZXh0V2luZG93OiBnZXRDb250ZXh0V2luZG93KHRoaXMubm9kZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjcmVhdGVQYW5IYW5kbGVycygpIHtcbiAgICAgICAgY29uc3QgeyBvblBhblNlc3Npb25TdGFydCwgb25QYW5TdGFydCwgb25QYW4sIG9uUGFuRW5kIH0gPSB0aGlzLm5vZGUuZ2V0UHJvcHMoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9uU2Vzc2lvblN0YXJ0OiBhc3luY0hhbmRsZXIob25QYW5TZXNzaW9uU3RhcnQpLFxuICAgICAgICAgICAgb25TdGFydDogYXN5bmNIYW5kbGVyKG9uUGFuU3RhcnQpLFxuICAgICAgICAgICAgb25Nb3ZlOiBvblBhbixcbiAgICAgICAgICAgIG9uRW5kOiAoZXZlbnQsIGluZm8pID0+IHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5zZXNzaW9uO1xuICAgICAgICAgICAgICAgIGlmIChvblBhbkVuZCkge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZS51cGRhdGUoKCkgPT4gb25QYW5FbmQoZXZlbnQsIGluZm8pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBtb3VudCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVQb2ludGVyRG93bkxpc3RlbmVyID0gYWRkUG9pbnRlckV2ZW50KHRoaXMubm9kZS5jdXJyZW50LCBcInBvaW50ZXJkb3duXCIsIChldmVudCkgPT4gdGhpcy5vblBvaW50ZXJEb3duKGV2ZW50KSk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uICYmIHRoaXMuc2Vzc2lvbi51cGRhdGVIYW5kbGVycyh0aGlzLmNyZWF0ZVBhbkhhbmRsZXJzKCkpO1xuICAgIH1cbiAgICB1bm1vdW50KCkge1xuICAgICAgICB0aGlzLnJlbW92ZVBvaW50ZXJEb3duTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uICYmIHRoaXMuc2Vzc2lvbi5lbmQoKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFBhbkdlc3R1cmUgfTtcbiIsImltcG9ydCB7IHVzZUNvbnRleHQsIHVzZUlkLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcmVzZW5jZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1ByZXNlbmNlQ29udGV4dC5tanMnO1xuXG4vKipcbiAqIFdoZW4gYSBjb21wb25lbnQgaXMgdGhlIGNoaWxkIG9mIGBBbmltYXRlUHJlc2VuY2VgLCBpdCBjYW4gdXNlIGB1c2VQcmVzZW5jZWBcbiAqIHRvIGFjY2VzcyBpbmZvcm1hdGlvbiBhYm91dCB3aGV0aGVyIGl0J3Mgc3RpbGwgcHJlc2VudCBpbiB0aGUgUmVhY3QgdHJlZS5cbiAqXG4gKiBgYGBqc3hcbiAqIGltcG9ydCB7IHVzZVByZXNlbmNlIH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIlxuICpcbiAqIGV4cG9ydCBjb25zdCBDb21wb25lbnQgPSAoKSA9PiB7XG4gKiAgIGNvbnN0IFtpc1ByZXNlbnQsIHNhZmVUb1JlbW92ZV0gPSB1c2VQcmVzZW5jZSgpXG4gKlxuICogICB1c2VFZmZlY3QoKCkgPT4ge1xuICogICAgICFpc1ByZXNlbnQgJiYgc2V0VGltZW91dChzYWZlVG9SZW1vdmUsIDEwMDApXG4gKiAgIH0sIFtpc1ByZXNlbnRdKVxuICpcbiAqICAgcmV0dXJuIDxkaXYgLz5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIElmIGBpc1ByZXNlbnRgIGlzIGBmYWxzZWAsIGl0IG1lYW5zIHRoYXQgYSBjb21wb25lbnQgaGFzIGJlZW4gcmVtb3ZlZCB0aGUgdHJlZSwgYnV0XG4gKiBgQW5pbWF0ZVByZXNlbmNlYCB3b24ndCByZWFsbHkgcmVtb3ZlIGl0IHVudGlsIGBzYWZlVG9SZW1vdmVgIGhhcyBiZWVuIGNhbGxlZC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHVzZVByZXNlbmNlKCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFByZXNlbmNlQ29udGV4dCk7XG4gICAgaWYgKGNvbnRleHQgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBbdHJ1ZSwgbnVsbF07XG4gICAgY29uc3QgeyBpc1ByZXNlbnQsIG9uRXhpdENvbXBsZXRlLCByZWdpc3RlciB9ID0gY29udGV4dDtcbiAgICAvLyBJdCdzIHNhZmUgdG8gY2FsbCB0aGUgZm9sbG93aW5nIGhvb2tzIGNvbmRpdGlvbmFsbHkgKGFmdGVyIGFuIGVhcmx5IHJldHVybikgYmVjYXVzZSB0aGUgY29udGV4dCB3aWxsIGFsd2F5c1xuICAgIC8vIGVpdGhlciBiZSBudWxsIG9yIG5vbi1udWxsIGZvciB0aGUgbGlmZXNwYW4gb2YgdGhlIGNvbXBvbmVudC5cbiAgICBjb25zdCBpZCA9IHVzZUlkKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHJlZ2lzdGVyKGlkKSwgW10pO1xuICAgIGNvbnN0IHNhZmVUb1JlbW92ZSA9ICgpID0+IG9uRXhpdENvbXBsZXRlICYmIG9uRXhpdENvbXBsZXRlKGlkKTtcbiAgICByZXR1cm4gIWlzUHJlc2VudCAmJiBvbkV4aXRDb21wbGV0ZSA/IFtmYWxzZSwgc2FmZVRvUmVtb3ZlXSA6IFt0cnVlXTtcbn1cbi8qKlxuICogU2ltaWxhciB0byBgdXNlUHJlc2VuY2VgLCBleGNlcHQgYHVzZUlzUHJlc2VudGAgc2ltcGx5IHJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBpcyBwcmVzZW50LlxuICogVGhlcmUgaXMgbm8gYHNhZmVUb1JlbW92ZWAgZnVuY3Rpb24uXG4gKlxuICogYGBganN4XG4gKiBpbXBvcnQgeyB1c2VJc1ByZXNlbnQgfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiXG4gKlxuICogZXhwb3J0IGNvbnN0IENvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgY29uc3QgaXNQcmVzZW50ID0gdXNlSXNQcmVzZW50KClcbiAqXG4gKiAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gKiAgICAgIWlzUHJlc2VudCAmJiBjb25zb2xlLmxvZyhcIkkndmUgYmVlbiByZW1vdmVkIVwiKVxuICogICB9LCBbaXNQcmVzZW50XSlcbiAqXG4gKiAgIHJldHVybiA8ZGl2IC8+XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHVzZUlzUHJlc2VudCgpIHtcbiAgICByZXR1cm4gaXNQcmVzZW50KHVzZUNvbnRleHQoUHJlc2VuY2VDb250ZXh0KSk7XG59XG5mdW5jdGlvbiBpc1ByZXNlbnQoY29udGV4dCkge1xuICAgIHJldHVybiBjb250ZXh0ID09PSBudWxsID8gdHJ1ZSA6IGNvbnRleHQuaXNQcmVzZW50O1xufVxuXG5leHBvcnQgeyBpc1ByZXNlbnQsIHVzZUlzUHJlc2VudCwgdXNlUHJlc2VuY2UgfTtcbiIsIi8qKlxuICogVGhpcyBzaG91bGQgb25seSBldmVyIGJlIG1vZGlmaWVkIG9uIHRoZSBjbGllbnQgb3RoZXJ3aXNlIGl0J2xsXG4gKiBwZXJzaXN0IHRocm91Z2ggc2VydmVyIHJlcXVlc3RzLiBJZiB3ZSBuZWVkIGluc3RhbmNlZCBzdGF0ZXMgd2VcbiAqIGNvdWxkIGxhenktaW5pdCB2aWEgcm9vdC5cbiAqL1xuY29uc3QgZ2xvYmFsUHJvamVjdGlvblN0YXRlID0ge1xuICAgIC8qKlxuICAgICAqIEdsb2JhbCBmbGFnIGFzIHRvIHdoZXRoZXIgdGhlIHRyZWUgaGFzIGFuaW1hdGVkIHNpbmNlIHRoZSBsYXN0IHRpbWVcbiAgICAgKiB3ZSByZXNpemVkIHRoZSB3aW5kb3dcbiAgICAgKi9cbiAgICBoYXNBbmltYXRlZFNpbmNlUmVzaXplOiB0cnVlLFxuICAgIC8qKlxuICAgICAqIFdlIHNldCB0aGlzIHRvIHRydWUgb25jZSwgb24gdGhlIGZpcnN0IHVwZGF0ZS4gQW55IG5vZGVzIGFkZGVkIHRvIHRoZSB0cmVlIGJleW9uZCB0aGF0XG4gICAgICogdXBkYXRlIHdpbGwgYmUgZ2l2ZW4gYSBgZGF0YS1wcm9qZWN0aW9uLWlkYCBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgaGFzRXZlclVwZGF0ZWQ6IGZhbHNlLFxufTtcblxuZXhwb3J0IHsgZ2xvYmFsUHJvamVjdGlvblN0YXRlIH07XG4iLCJpbXBvcnQgeyBweCB9IGZyb20gJy4uLy4uL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcblxuZnVuY3Rpb24gcGl4ZWxzVG9QZXJjZW50KHBpeGVscywgYXhpcykge1xuICAgIGlmIChheGlzLm1heCA9PT0gYXhpcy5taW4pXG4gICAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiAocGl4ZWxzIC8gKGF4aXMubWF4IC0gYXhpcy5taW4pKSAqIDEwMDtcbn1cbi8qKlxuICogV2UgYWx3YXlzIGNvcnJlY3QgYm9yZGVyUmFkaXVzIGFzIGEgcGVyY2VudGFnZSByYXRoZXIgdGhhbiBwaXhlbHMgdG8gcmVkdWNlIHBhaW50cy5cbiAqIEZvciBleGFtcGxlLCBpZiB5b3UgYXJlIHByb2plY3RpbmcgYSBib3ggdGhhdCBpcyAxMDBweCB3aWRlIHdpdGggYSAxMHB4IGJvcmRlclJhZGl1c1xuICogaW50byBhIGJveCB0aGF0IGlzIDIwMHB4IHdpZGUgd2l0aCBhIDIwcHggYm9yZGVyUmFkaXVzLCB0aGF0IGlzIGFjdHVhbGx5IGEgMTAlXG4gKiBib3JkZXJSYWRpdXMgaW4gYm90aCBzdGF0ZXMuIElmIHdlIGFuaW1hdGUgYmV0d2VlbiB0aGUgdHdvIGluIHBpeGVscyB0aGF0IHdpbGwgdHJpZ2dlclxuICogYSBwYWludCBlYWNoIHRpbWUuIElmIHdlIGFuaW1hdGUgYmV0d2VlbiB0aGUgdHdvIGluIHBlcmNlbnRhZ2Ugd2UnbGwgYXZvaWQgYSBwYWludC5cbiAqL1xuY29uc3QgY29ycmVjdEJvcmRlclJhZGl1cyA9IHtcbiAgICBjb3JyZWN0OiAobGF0ZXN0LCBub2RlKSA9PiB7XG4gICAgICAgIGlmICghbm9kZS50YXJnZXQpXG4gICAgICAgICAgICByZXR1cm4gbGF0ZXN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgbGF0ZXN0IGlzIGEgc3RyaW5nLCBpZiBpdCdzIGEgcGVyY2VudGFnZSB3ZSBjYW4gcmV0dXJuIGltbWVkaWF0ZWx5IGFzIGl0J3NcbiAgICAgICAgICogZ29pbmcgdG8gYmUgc3RyZXRjaGVkIGFwcHJvcHJpYXRlbHkuIE90aGVyd2lzZSwgaWYgaXQncyBhIHBpeGVsLCBjb252ZXJ0IGl0IHRvIGEgbnVtYmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHR5cGVvZiBsYXRlc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmIChweC50ZXN0KGxhdGVzdCkpIHtcbiAgICAgICAgICAgICAgICBsYXRlc3QgPSBwYXJzZUZsb2F0KGxhdGVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGF0ZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBsYXRlc3QgaXMgYSBudW1iZXIsIGl0J3MgYSBwaXhlbCB2YWx1ZS4gV2UgdXNlIHRoZSBjdXJyZW50IHZpZXdwb3J0Qm94IHRvIGNhbGN1bGF0ZSB0aGF0XG4gICAgICAgICAqIHBpeGVsIHZhbHVlIGFzIGEgcGVyY2VudGFnZSBvZiBlYWNoIGF4aXNcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHggPSBwaXhlbHNUb1BlcmNlbnQobGF0ZXN0LCBub2RlLnRhcmdldC54KTtcbiAgICAgICAgY29uc3QgeSA9IHBpeGVsc1RvUGVyY2VudChsYXRlc3QsIG5vZGUudGFyZ2V0LnkpO1xuICAgICAgICByZXR1cm4gYCR7eH0lICR7eX0lYDtcbiAgICB9LFxufTtcblxuZXhwb3J0IHsgY29ycmVjdEJvcmRlclJhZGl1cywgcGl4ZWxzVG9QZXJjZW50IH07XG4iLCJpbXBvcnQgeyBtaXggfSBmcm9tICcuLi8uLi91dGlscy9taXgubWpzJztcbmltcG9ydCB7IGNvbXBsZXggfSBmcm9tICcuLi8uLi92YWx1ZS90eXBlcy9jb21wbGV4L2luZGV4Lm1qcyc7XG5cbmNvbnN0IGNvcnJlY3RCb3hTaGFkb3cgPSB7XG4gICAgY29ycmVjdDogKGxhdGVzdCwgeyB0cmVlU2NhbGUsIHByb2plY3Rpb25EZWx0YSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gbGF0ZXN0O1xuICAgICAgICBjb25zdCBzaGFkb3cgPSBjb21wbGV4LnBhcnNlKGxhdGVzdCk7XG4gICAgICAgIC8vIFRPRE86IERvZXNuJ3Qgc3VwcG9ydCBtdWx0aXBsZSBzaGFkb3dzXG4gICAgICAgIGlmIChzaGFkb3cubGVuZ3RoID4gNSlcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbDtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBjb21wbGV4LmNyZWF0ZVRyYW5zZm9ybWVyKGxhdGVzdCk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHR5cGVvZiBzaGFkb3dbMF0gIT09IFwibnVtYmVyXCIgPyAxIDogMDtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBvdmVyYWxsIGNvbnRleHQgc2NhbGVcbiAgICAgICAgY29uc3QgeFNjYWxlID0gcHJvamVjdGlvbkRlbHRhLnguc2NhbGUgKiB0cmVlU2NhbGUueDtcbiAgICAgICAgY29uc3QgeVNjYWxlID0gcHJvamVjdGlvbkRlbHRhLnkuc2NhbGUgKiB0cmVlU2NhbGUueTtcbiAgICAgICAgc2hhZG93WzAgKyBvZmZzZXRdIC89IHhTY2FsZTtcbiAgICAgICAgc2hhZG93WzEgKyBvZmZzZXRdIC89IHlTY2FsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElkZWFsbHkgd2UnZCBjb3JyZWN0IHggYW5kIHkgc2NhbGVzIGluZGl2aWR1YWxseSwgYnV0IGJlY2F1c2UgYmx1ciBhbmRcbiAgICAgICAgICogc3ByZWFkIGFwcGx5IHRvIGJvdGggd2UgaGF2ZSB0byB0YWtlIGEgc2NhbGUgYXZlcmFnZSBhbmQgYXBwbHkgdGhhdCBpbnN0ZWFkLlxuICAgICAgICAgKiBXZSBjb3VsZCBwb3RlbnRpYWxseSBpbXByb3ZlIHRoZSBvdXRjb21lIG9mIHRoaXMgYnkgaW5jb3Jwb3JhdGluZyB0aGUgcmF0aW8gYmV0d2VlblxuICAgICAgICAgKiB0aGUgdHdvIHNjYWxlcy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VTY2FsZSA9IG1peCh4U2NhbGUsIHlTY2FsZSwgMC41KTtcbiAgICAgICAgLy8gQmx1clxuICAgICAgICBpZiAodHlwZW9mIHNoYWRvd1syICsgb2Zmc2V0XSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHNoYWRvd1syICsgb2Zmc2V0XSAvPSBhdmVyYWdlU2NhbGU7XG4gICAgICAgIC8vIFNwcmVhZFxuICAgICAgICBpZiAodHlwZW9mIHNoYWRvd1szICsgb2Zmc2V0XSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHNoYWRvd1szICsgb2Zmc2V0XSAvPSBhdmVyYWdlU2NhbGU7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZShzaGFkb3cpO1xuICAgIH0sXG59O1xuXG5leHBvcnQgeyBjb3JyZWN0Qm94U2hhZG93IH07XG4iLCJpbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVByZXNlbmNlIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9BbmltYXRlUHJlc2VuY2UvdXNlLXByZXNlbmNlLm1qcyc7XG5pbXBvcnQgeyBMYXlvdXRHcm91cENvbnRleHQgfSBmcm9tICcuLi8uLi8uLi9jb250ZXh0L0xheW91dEdyb3VwQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0IH0gZnJvbSAnLi4vLi4vLi4vY29udGV4dC9Td2l0Y2hMYXlvdXRHcm91cENvbnRleHQubWpzJztcbmltcG9ydCB7IGdsb2JhbFByb2plY3Rpb25TdGF0ZSB9IGZyb20gJy4uLy4uLy4uL3Byb2plY3Rpb24vbm9kZS9zdGF0ZS5tanMnO1xuaW1wb3J0IHsgY29ycmVjdEJvcmRlclJhZGl1cyB9IGZyb20gJy4uLy4uLy4uL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWJvcmRlci1yYWRpdXMubWpzJztcbmltcG9ydCB7IGNvcnJlY3RCb3hTaGFkb3cgfSBmcm9tICcuLi8uLi8uLi9wcm9qZWN0aW9uL3N0eWxlcy9zY2FsZS1ib3gtc2hhZG93Lm1qcyc7XG5pbXBvcnQgeyBhZGRTY2FsZUNvcnJlY3RvciB9IGZyb20gJy4uLy4uLy4uL3Byb2plY3Rpb24vc3R5bGVzL3NjYWxlLWNvcnJlY3Rpb24ubWpzJztcbmltcG9ydCB7IGZyYW1lIH0gZnJvbSAnLi4vLi4vLi4vZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5cbmNsYXNzIE1lYXN1cmVMYXlvdXRXaXRoQ29udGV4dCBleHRlbmRzIFJlYWN0X19kZWZhdWx0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogVGhpcyBvbmx5IG1vdW50cyBwcm9qZWN0aW9uIG5vZGVzIGZvciBjb21wb25lbnRzIHRoYXRcbiAgICAgKiBuZWVkIG1lYXN1cmluZywgd2UgbWlnaHQgd2FudCB0byBkbyBpdCBmb3IgYWxsIGNvbXBvbmVudHNcbiAgICAgKiBpbiBvcmRlciB0byBpbmNvcnBvcmF0ZSB0cmFuc2Zvcm1zXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHsgdmlzdWFsRWxlbWVudCwgbGF5b3V0R3JvdXAsIHN3aXRjaExheW91dEdyb3VwLCBsYXlvdXRJZCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB2aXN1YWxFbGVtZW50O1xuICAgICAgICBhZGRTY2FsZUNvcnJlY3RvcihkZWZhdWx0U2NhbGVDb3JyZWN0b3JzKTtcbiAgICAgICAgaWYgKHByb2plY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChsYXlvdXRHcm91cC5ncm91cClcbiAgICAgICAgICAgICAgICBsYXlvdXRHcm91cC5ncm91cC5hZGQocHJvamVjdGlvbik7XG4gICAgICAgICAgICBpZiAoc3dpdGNoTGF5b3V0R3JvdXAgJiYgc3dpdGNoTGF5b3V0R3JvdXAucmVnaXN0ZXIgJiYgbGF5b3V0SWQpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2hMYXlvdXRHcm91cC5yZWdpc3Rlcihwcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb2plY3Rpb24ucm9vdC5kaWRVcGRhdGUoKTtcbiAgICAgICAgICAgIHByb2plY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbkNvbXBsZXRlXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNhZmVUb1JlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIC4uLnByb2plY3Rpb24ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBvbkV4aXRDb21wbGV0ZTogKCkgPT4gdGhpcy5zYWZlVG9SZW1vdmUoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNFdmVyVXBkYXRlZCA9IHRydWU7XG4gICAgfVxuICAgIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBjb25zdCB7IGxheW91dERlcGVuZGVuY3ksIHZpc3VhbEVsZW1lbnQsIGRyYWcsIGlzUHJlc2VudCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHZpc3VhbEVsZW1lbnQucHJvamVjdGlvbjtcbiAgICAgICAgaWYgKCFwcm9qZWN0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUT0RPOiBXZSB1c2UgdGhpcyBkYXRhIGluIHJlbGVnYXRlIHRvIGRldGVybWluZSB3aGV0aGVyIHRvXG4gICAgICAgICAqIHByb21vdGUgYSBwcmV2aW91cyBlbGVtZW50LiBUaGVyZSdzIG5vIGd1YXJhbnRlZSBpdHMgcHJlc2VuY2UgZGF0YVxuICAgICAgICAgKiB3aWxsIGhhdmUgdXBkYXRlZCBieSB0aGlzIHBvaW50IC0gaWYgYSBidWcgbGlrZSB0aGlzIGFyaXNlcyBpdCB3aWxsXG4gICAgICAgICAqIGhhdmUgdG8gYmUgdGhhdCB3ZSBtYXJrRm9yUmVsZWdhdGlvbiBhbmQgdGhlbiBmaW5kIGEgbmV3IGxlYWQgc29tZSBvdGhlciB3YXksXG4gICAgICAgICAqIHBlcmhhcHMgaW4gZGlkVXBkYXRlXG4gICAgICAgICAqL1xuICAgICAgICBwcm9qZWN0aW9uLmlzUHJlc2VudCA9IGlzUHJlc2VudDtcbiAgICAgICAgaWYgKGRyYWcgfHxcbiAgICAgICAgICAgIHByZXZQcm9wcy5sYXlvdXREZXBlbmRlbmN5ICE9PSBsYXlvdXREZXBlbmRlbmN5IHx8XG4gICAgICAgICAgICBsYXlvdXREZXBlbmRlbmN5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb2plY3Rpb24ud2lsbFVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zYWZlVG9SZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldlByb3BzLmlzUHJlc2VudCAhPT0gaXNQcmVzZW50KSB7XG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KSB7XG4gICAgICAgICAgICAgICAgcHJvamVjdGlvbi5wcm9tb3RlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghcHJvamVjdGlvbi5yZWxlZ2F0ZSgpKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgdGhlcmUncyBhbm90aGVyIHN0YWNrIG1lbWJlciB0YWtpbmcgb3ZlciBmcm9tIHRoaXMgb25lLFxuICAgICAgICAgICAgICAgICAqIGl0J3MgaW4gY2hhcmdlIG9mIHRoZSBleGl0IGFuaW1hdGlvbiBhbmQgdGhlcmVmb3JlIHNob3VsZFxuICAgICAgICAgICAgICAgICAqIGJlIGluIGNoYXJnZSBvZiB0aGUgc2FmZSB0byByZW1vdmUuIE90aGVyd2lzZSB3ZSBjYWxsIGl0IGhlcmUuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnJhbWUucG9zdFJlbmRlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gcHJvamVjdGlvbi5nZXRTdGFjaygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YWNrIHx8ICFzdGFjay5tZW1iZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYWZlVG9SZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvamVjdGlvbiB9ID0gdGhpcy5wcm9wcy52aXN1YWxFbGVtZW50O1xuICAgICAgICBpZiAocHJvamVjdGlvbikge1xuICAgICAgICAgICAgcHJvamVjdGlvbi5yb290LmRpZFVwZGF0ZSgpO1xuICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcHJvamVjdGlvbi5jdXJyZW50QW5pbWF0aW9uICYmIHByb2plY3Rpb24uaXNMZWFkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYWZlVG9SZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgY29uc3QgeyB2aXN1YWxFbGVtZW50LCBsYXlvdXRHcm91cCwgc3dpdGNoTGF5b3V0R3JvdXA6IHByb21vdGVDb250ZXh0LCB9ID0gdGhpcy5wcm9wcztcbiAgICAgICAgY29uc3QgeyBwcm9qZWN0aW9uIH0gPSB2aXN1YWxFbGVtZW50O1xuICAgICAgICBpZiAocHJvamVjdGlvbikge1xuICAgICAgICAgICAgcHJvamVjdGlvbi5zY2hlZHVsZUNoZWNrQWZ0ZXJVbm1vdW50KCk7XG4gICAgICAgICAgICBpZiAobGF5b3V0R3JvdXAgJiYgbGF5b3V0R3JvdXAuZ3JvdXApXG4gICAgICAgICAgICAgICAgbGF5b3V0R3JvdXAuZ3JvdXAucmVtb3ZlKHByb2plY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHByb21vdGVDb250ZXh0ICYmIHByb21vdGVDb250ZXh0LmRlcmVnaXN0ZXIpXG4gICAgICAgICAgICAgICAgcHJvbW90ZUNvbnRleHQuZGVyZWdpc3Rlcihwcm9qZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzYWZlVG9SZW1vdmUoKSB7XG4gICAgICAgIGNvbnN0IHsgc2FmZVRvUmVtb3ZlIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBzYWZlVG9SZW1vdmUgJiYgc2FmZVRvUmVtb3ZlKCk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gTWVhc3VyZUxheW91dChwcm9wcykge1xuICAgIGNvbnN0IFtpc1ByZXNlbnQsIHNhZmVUb1JlbW92ZV0gPSB1c2VQcmVzZW5jZSgpO1xuICAgIGNvbnN0IGxheW91dEdyb3VwID0gdXNlQ29udGV4dChMYXlvdXRHcm91cENvbnRleHQpO1xuICAgIHJldHVybiAoUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChNZWFzdXJlTGF5b3V0V2l0aENvbnRleHQsIHsgLi4ucHJvcHMsIGxheW91dEdyb3VwOiBsYXlvdXRHcm91cCwgc3dpdGNoTGF5b3V0R3JvdXA6IHVzZUNvbnRleHQoU3dpdGNoTGF5b3V0R3JvdXBDb250ZXh0KSwgaXNQcmVzZW50OiBpc1ByZXNlbnQsIHNhZmVUb1JlbW92ZTogc2FmZVRvUmVtb3ZlIH0pKTtcbn1cbmNvbnN0IGRlZmF1bHRTY2FsZUNvcnJlY3RvcnMgPSB7XG4gICAgYm9yZGVyUmFkaXVzOiB7XG4gICAgICAgIC4uLmNvcnJlY3RCb3JkZXJSYWRpdXMsXG4gICAgICAgIGFwcGx5VG86IFtcbiAgICAgICAgICAgIFwiYm9yZGVyVG9wTGVmdFJhZGl1c1wiLFxuICAgICAgICAgICAgXCJib3JkZXJUb3BSaWdodFJhZGl1c1wiLFxuICAgICAgICAgICAgXCJib3JkZXJCb3R0b21MZWZ0UmFkaXVzXCIsXG4gICAgICAgICAgICBcImJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzXCIsXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICBib3JkZXJUb3BMZWZ0UmFkaXVzOiBjb3JyZWN0Qm9yZGVyUmFkaXVzLFxuICAgIGJvcmRlclRvcFJpZ2h0UmFkaXVzOiBjb3JyZWN0Qm9yZGVyUmFkaXVzLFxuICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IGNvcnJlY3RCb3JkZXJSYWRpdXMsXG4gICAgYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6IGNvcnJlY3RCb3JkZXJSYWRpdXMsXG4gICAgYm94U2hhZG93OiBjb3JyZWN0Qm94U2hhZG93LFxufTtcblxuZXhwb3J0IHsgTWVhc3VyZUxheW91dCB9O1xuIiwiaW1wb3J0IHsgY2lyY091dCB9IGZyb20gJy4uLy4uL2Vhc2luZy9jaXJjLm1qcyc7XG5pbXBvcnQgeyBwcm9ncmVzcyB9IGZyb20gJy4uLy4uL3V0aWxzL3Byb2dyZXNzLm1qcyc7XG5pbXBvcnQgeyBtaXggfSBmcm9tICcuLi8uLi91dGlscy9taXgubWpzJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuLi8uLi91dGlscy9ub29wLm1qcyc7XG5pbXBvcnQgeyBwZXJjZW50LCBweCB9IGZyb20gJy4uLy4uL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcblxuY29uc3QgYm9yZGVycyA9IFtcIlRvcExlZnRcIiwgXCJUb3BSaWdodFwiLCBcIkJvdHRvbUxlZnRcIiwgXCJCb3R0b21SaWdodFwiXTtcbmNvbnN0IG51bUJvcmRlcnMgPSBib3JkZXJzLmxlbmd0aDtcbmNvbnN0IGFzTnVtYmVyID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBwYXJzZUZsb2F0KHZhbHVlKSA6IHZhbHVlO1xuY29uc3QgaXNQeCA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiIHx8IHB4LnRlc3QodmFsdWUpO1xuZnVuY3Rpb24gbWl4VmFsdWVzKHRhcmdldCwgZm9sbG93LCBsZWFkLCBwcm9ncmVzcywgc2hvdWxkQ3Jvc3NmYWRlT3BhY2l0eSwgaXNPbmx5TWVtYmVyKSB7XG4gICAgaWYgKHNob3VsZENyb3NzZmFkZU9wYWNpdHkpIHtcbiAgICAgICAgdGFyZ2V0Lm9wYWNpdHkgPSBtaXgoMCwgXG4gICAgICAgIC8vIFRPRE8gUmVpbnN0YXRlIHRoaXMgaWYgb25seSBjaGlsZFxuICAgICAgICBsZWFkLm9wYWNpdHkgIT09IHVuZGVmaW5lZCA/IGxlYWQub3BhY2l0eSA6IDEsIGVhc2VDcm9zc2ZhZGVJbihwcm9ncmVzcykpO1xuICAgICAgICB0YXJnZXQub3BhY2l0eUV4aXQgPSBtaXgoZm9sbG93Lm9wYWNpdHkgIT09IHVuZGVmaW5lZCA/IGZvbGxvdy5vcGFjaXR5IDogMSwgMCwgZWFzZUNyb3NzZmFkZU91dChwcm9ncmVzcykpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09ubHlNZW1iZXIpIHtcbiAgICAgICAgdGFyZ2V0Lm9wYWNpdHkgPSBtaXgoZm9sbG93Lm9wYWNpdHkgIT09IHVuZGVmaW5lZCA/IGZvbGxvdy5vcGFjaXR5IDogMSwgbGVhZC5vcGFjaXR5ICE9PSB1bmRlZmluZWQgPyBsZWFkLm9wYWNpdHkgOiAxLCBwcm9ncmVzcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1peCBib3JkZXIgcmFkaXVzXG4gICAgICovXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Cb3JkZXJzOyBpKyspIHtcbiAgICAgICAgY29uc3QgYm9yZGVyTGFiZWwgPSBgYm9yZGVyJHtib3JkZXJzW2ldfVJhZGl1c2A7XG4gICAgICAgIGxldCBmb2xsb3dSYWRpdXMgPSBnZXRSYWRpdXMoZm9sbG93LCBib3JkZXJMYWJlbCk7XG4gICAgICAgIGxldCBsZWFkUmFkaXVzID0gZ2V0UmFkaXVzKGxlYWQsIGJvcmRlckxhYmVsKTtcbiAgICAgICAgaWYgKGZvbGxvd1JhZGl1cyA9PT0gdW5kZWZpbmVkICYmIGxlYWRSYWRpdXMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBmb2xsb3dSYWRpdXMgfHwgKGZvbGxvd1JhZGl1cyA9IDApO1xuICAgICAgICBsZWFkUmFkaXVzIHx8IChsZWFkUmFkaXVzID0gMCk7XG4gICAgICAgIGNvbnN0IGNhbk1peCA9IGZvbGxvd1JhZGl1cyA9PT0gMCB8fFxuICAgICAgICAgICAgbGVhZFJhZGl1cyA9PT0gMCB8fFxuICAgICAgICAgICAgaXNQeChmb2xsb3dSYWRpdXMpID09PSBpc1B4KGxlYWRSYWRpdXMpO1xuICAgICAgICBpZiAoY2FuTWl4KSB7XG4gICAgICAgICAgICB0YXJnZXRbYm9yZGVyTGFiZWxdID0gTWF0aC5tYXgobWl4KGFzTnVtYmVyKGZvbGxvd1JhZGl1cyksIGFzTnVtYmVyKGxlYWRSYWRpdXMpLCBwcm9ncmVzcyksIDApO1xuICAgICAgICAgICAgaWYgKHBlcmNlbnQudGVzdChsZWFkUmFkaXVzKSB8fCBwZXJjZW50LnRlc3QoZm9sbG93UmFkaXVzKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtib3JkZXJMYWJlbF0gKz0gXCIlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRbYm9yZGVyTGFiZWxdID0gbGVhZFJhZGl1cztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNaXggcm90YXRpb25cbiAgICAgKi9cbiAgICBpZiAoZm9sbG93LnJvdGF0ZSB8fCBsZWFkLnJvdGF0ZSkge1xuICAgICAgICB0YXJnZXQucm90YXRlID0gbWl4KGZvbGxvdy5yb3RhdGUgfHwgMCwgbGVhZC5yb3RhdGUgfHwgMCwgcHJvZ3Jlc3MpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFJhZGl1cyh2YWx1ZXMsIHJhZGl1c05hbWUpIHtcbiAgICByZXR1cm4gdmFsdWVzW3JhZGl1c05hbWVdICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB2YWx1ZXNbcmFkaXVzTmFtZV1cbiAgICAgICAgOiB2YWx1ZXMuYm9yZGVyUmFkaXVzO1xufVxuLy8gLyoqXG4vLyAgKiBXZSBvbmx5IHdhbnQgdG8gbWl4IHRoZSBiYWNrZ3JvdW5kIGNvbG9yIGlmIHRoZXJlJ3MgYSBmb2xsb3cgZWxlbWVudFxuLy8gICogdGhhdCB3ZSdyZSBub3QgY3Jvc3NmYWRpbmcgb3BhY2l0eSBiZXR3ZWVuLiBGb3IgaW5zdGFuY2Ugd2l0aCBzd2l0Y2hcbi8vICAqIEFuaW1hdGVTaGFyZWRMYXlvdXQgYW5pbWF0aW9ucywgdGhpcyBoZWxwcyB0aGUgaWxsdXNpb24gb2YgYSBjb250aW51b3VzXG4vLyAgKiBlbGVtZW50IGJlaW5nIGFuaW1hdGVkIGJ1dCBhbHNvIGN1dHMgZG93biBvbiB0aGUgbnVtYmVyIG9mIHBhaW50cyB0cmlnZ2VyZWRcbi8vICAqIGZvciBlbGVtZW50cyB3aGVyZSBvcGFjaXR5IGlzIGRvaW5nIHRoYXQgd29yayBmb3IgdXMuXG4vLyAgKi9cbi8vIGlmIChcbi8vICAgICAhaGFzRm9sbG93RWxlbWVudCAmJlxuLy8gICAgIGxhdGVzdExlYWRWYWx1ZXMuYmFja2dyb3VuZENvbG9yICYmXG4vLyAgICAgbGF0ZXN0Rm9sbG93VmFsdWVzLmJhY2tncm91bmRDb2xvclxuLy8gKSB7XG4vLyAgICAgLyoqXG4vLyAgICAgICogVGhpcyBpc24ndCBpZGVhbCBwZXJmb3JtYW5jZS13aXNlIGFzIG1peENvbG9yIGlzIGNyZWF0aW5nIGEgbmV3IGZ1bmN0aW9uIGV2ZXJ5IGZyYW1lLlxuLy8gICAgICAqIFdlIGNvdWxkIHByb2JhYmx5IGNyZWF0ZSBhIG1peGVyIHRoYXQgcnVucyBhdCB0aGUgc3RhcnQgb2YgdGhlIGFuaW1hdGlvbiBidXRcbi8vICAgICAgKiB0aGUgaWRlYSBiZWhpbmQgdGhlIGNyb3NzZmFkZXIgaXMgdGhhdCBpdCBydW5zIGR5bmFtaWNhbGx5IGJldHdlZW4gdHdvIHBvdGVudGlhbGx5XG4vLyAgICAgICogY2hhbmdpbmcgdGFyZ2V0cyAoaWUgb3BhY2l0eSBvciBib3JkZXJSYWRpdXMgbWF5IGJlIGFuaW1hdGluZyBpbmRlcGVuZGVudGx5IHZpYSB2YXJpYW50cylcbi8vICAgICAgKi9cbi8vICAgICBsZWFkU3RhdGUuYmFja2dyb3VuZENvbG9yID0gZm9sbG93U3RhdGUuYmFja2dyb3VuZENvbG9yID0gbWl4Q29sb3IoXG4vLyAgICAgICAgIGxhdGVzdEZvbGxvd1ZhbHVlcy5iYWNrZ3JvdW5kQ29sb3IgYXMgc3RyaW5nLFxuLy8gICAgICAgICBsYXRlc3RMZWFkVmFsdWVzLmJhY2tncm91bmRDb2xvciBhcyBzdHJpbmdcbi8vICAgICApKHApXG4vLyB9XG5jb25zdCBlYXNlQ3Jvc3NmYWRlSW4gPSBjb21wcmVzcygwLCAwLjUsIGNpcmNPdXQpO1xuY29uc3QgZWFzZUNyb3NzZmFkZU91dCA9IGNvbXByZXNzKDAuNSwgMC45NSwgbm9vcCk7XG5mdW5jdGlvbiBjb21wcmVzcyhtaW4sIG1heCwgZWFzaW5nKSB7XG4gICAgcmV0dXJuIChwKSA9PiB7XG4gICAgICAgIC8vIENvdWxkIHJlcGxhY2UgaWZzIHdpdGggY2xhbXBcbiAgICAgICAgaWYgKHAgPCBtaW4pXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgaWYgKHAgPiBtYXgpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgcmV0dXJuIGVhc2luZyhwcm9ncmVzcyhtaW4sIG1heCwgcCkpO1xuICAgIH07XG59XG5cbmV4cG9ydCB7IG1peFZhbHVlcyB9O1xuIiwiLyoqXG4gKiBSZXNldCBhbiBheGlzIHRvIHRoZSBwcm92aWRlZCBvcmlnaW4gYm94LlxuICpcbiAqIFRoaXMgaXMgYSBtdXRhdGl2ZSBvcGVyYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGNvcHlBeGlzSW50byhheGlzLCBvcmlnaW5BeGlzKSB7XG4gICAgYXhpcy5taW4gPSBvcmlnaW5BeGlzLm1pbjtcbiAgICBheGlzLm1heCA9IG9yaWdpbkF4aXMubWF4O1xufVxuLyoqXG4gKiBSZXNldCBhIGJveCB0byB0aGUgcHJvdmlkZWQgb3JpZ2luIGJveC5cbiAqXG4gKiBUaGlzIGlzIGEgbXV0YXRpdmUgb3BlcmF0aW9uLlxuICovXG5mdW5jdGlvbiBjb3B5Qm94SW50byhib3gsIG9yaWdpbkJveCkge1xuICAgIGNvcHlBeGlzSW50byhib3gueCwgb3JpZ2luQm94LngpO1xuICAgIGNvcHlBeGlzSW50byhib3gueSwgb3JpZ2luQm94LnkpO1xufVxuXG5leHBvcnQgeyBjb3B5QXhpc0ludG8sIGNvcHlCb3hJbnRvIH07XG4iLCJpbXBvcnQgeyBtaXggfSBmcm9tICcuLi8uLi91dGlscy9taXgubWpzJztcbmltcG9ydCB7IHBlcmNlbnQgfSBmcm9tICcuLi8uLi92YWx1ZS90eXBlcy9udW1iZXJzL3VuaXRzLm1qcyc7XG5pbXBvcnQgeyBzY2FsZVBvaW50IH0gZnJvbSAnLi9kZWx0YS1hcHBseS5tanMnO1xuXG4vKipcbiAqIFJlbW92ZSBhIGRlbHRhIGZyb20gYSBwb2ludC4gVGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgc3RlcHMgb2YgYXBwbHlQb2ludERlbHRhIGluIHJldmVyc2VcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlUG9pbnREZWx0YShwb2ludCwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKSB7XG4gICAgcG9pbnQgLT0gdHJhbnNsYXRlO1xuICAgIHBvaW50ID0gc2NhbGVQb2ludChwb2ludCwgMSAvIHNjYWxlLCBvcmlnaW5Qb2ludCk7XG4gICAgaWYgKGJveFNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcG9pbnQgPSBzY2FsZVBvaW50KHBvaW50LCAxIC8gYm94U2NhbGUsIG9yaWdpblBvaW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50O1xufVxuLyoqXG4gKiBSZW1vdmUgYSBkZWx0YSBmcm9tIGFuIGF4aXMuIFRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIHN0ZXBzIG9mIGFwcGx5QXhpc0RlbHRhIGluIHJldmVyc2VcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQXhpc0RlbHRhKGF4aXMsIHRyYW5zbGF0ZSA9IDAsIHNjYWxlID0gMSwgb3JpZ2luID0gMC41LCBib3hTY2FsZSwgb3JpZ2luQXhpcyA9IGF4aXMsIHNvdXJjZUF4aXMgPSBheGlzKSB7XG4gICAgaWYgKHBlcmNlbnQudGVzdCh0cmFuc2xhdGUpKSB7XG4gICAgICAgIHRyYW5zbGF0ZSA9IHBhcnNlRmxvYXQodHJhbnNsYXRlKTtcbiAgICAgICAgY29uc3QgcmVsYXRpdmVQcm9ncmVzcyA9IG1peChzb3VyY2VBeGlzLm1pbiwgc291cmNlQXhpcy5tYXgsIHRyYW5zbGF0ZSAvIDEwMCk7XG4gICAgICAgIHRyYW5zbGF0ZSA9IHJlbGF0aXZlUHJvZ3Jlc3MgLSBzb3VyY2VBeGlzLm1pbjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB0cmFuc2xhdGUgIT09IFwibnVtYmVyXCIpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgb3JpZ2luUG9pbnQgPSBtaXgob3JpZ2luQXhpcy5taW4sIG9yaWdpbkF4aXMubWF4LCBvcmlnaW4pO1xuICAgIGlmIChheGlzID09PSBvcmlnaW5BeGlzKVxuICAgICAgICBvcmlnaW5Qb2ludCAtPSB0cmFuc2xhdGU7XG4gICAgYXhpcy5taW4gPSByZW1vdmVQb2ludERlbHRhKGF4aXMubWluLCB0cmFuc2xhdGUsIHNjYWxlLCBvcmlnaW5Qb2ludCwgYm94U2NhbGUpO1xuICAgIGF4aXMubWF4ID0gcmVtb3ZlUG9pbnREZWx0YShheGlzLm1heCwgdHJhbnNsYXRlLCBzY2FsZSwgb3JpZ2luUG9pbnQsIGJveFNjYWxlKTtcbn1cbi8qKlxuICogUmVtb3ZlIGEgdHJhbnNmb3JtcyBmcm9tIGFuIGF4aXMuIFRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIHN0ZXBzIG9mIGFwcGx5QXhpc1RyYW5zZm9ybXMgaW4gcmV2ZXJzZVxuICogYW5kIGFjdHMgYXMgYSBicmlkZ2UgYmV0d2VlbiBtb3Rpb24gdmFsdWVzIGFuZCByZW1vdmVBeGlzRGVsdGFcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQXhpc1RyYW5zZm9ybXMoYXhpcywgdHJhbnNmb3JtcywgW2tleSwgc2NhbGVLZXksIG9yaWdpbktleV0sIG9yaWdpbiwgc291cmNlQXhpcykge1xuICAgIHJlbW92ZUF4aXNEZWx0YShheGlzLCB0cmFuc2Zvcm1zW2tleV0sIHRyYW5zZm9ybXNbc2NhbGVLZXldLCB0cmFuc2Zvcm1zW29yaWdpbktleV0sIHRyYW5zZm9ybXMuc2NhbGUsIG9yaWdpbiwgc291cmNlQXhpcyk7XG59XG4vKipcbiAqIFRoZSBuYW1lcyBvZiB0aGUgbW90aW9uIHZhbHVlcyB3ZSB3YW50IHRvIGFwcGx5IGFzIHRyYW5zbGF0aW9uLCBzY2FsZSBhbmQgb3JpZ2luLlxuICovXG5jb25zdCB4S2V5cyA9IFtcInhcIiwgXCJzY2FsZVhcIiwgXCJvcmlnaW5YXCJdO1xuY29uc3QgeUtleXMgPSBbXCJ5XCIsIFwic2NhbGVZXCIsIFwib3JpZ2luWVwiXTtcbi8qKlxuICogUmVtb3ZlIGEgdHJhbnNmb3JtcyBmcm9tIGFuIGJveC4gVGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgc3RlcHMgb2YgYXBwbHlBeGlzQm94IGluIHJldmVyc2VcbiAqIGFuZCBhY3RzIGFzIGEgYnJpZGdlIGJldHdlZW4gbW90aW9uIHZhbHVlcyBhbmQgcmVtb3ZlQXhpc0RlbHRhXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJveFRyYW5zZm9ybXMoYm94LCB0cmFuc2Zvcm1zLCBvcmlnaW5Cb3gsIHNvdXJjZUJveCkge1xuICAgIHJlbW92ZUF4aXNUcmFuc2Zvcm1zKGJveC54LCB0cmFuc2Zvcm1zLCB4S2V5cywgb3JpZ2luQm94ID8gb3JpZ2luQm94LnggOiB1bmRlZmluZWQsIHNvdXJjZUJveCA/IHNvdXJjZUJveC54IDogdW5kZWZpbmVkKTtcbiAgICByZW1vdmVBeGlzVHJhbnNmb3Jtcyhib3gueSwgdHJhbnNmb3JtcywgeUtleXMsIG9yaWdpbkJveCA/IG9yaWdpbkJveC55IDogdW5kZWZpbmVkLCBzb3VyY2VCb3ggPyBzb3VyY2VCb3gueSA6IHVuZGVmaW5lZCk7XG59XG5cbmV4cG9ydCB7IHJlbW92ZUF4aXNEZWx0YSwgcmVtb3ZlQXhpc1RyYW5zZm9ybXMsIHJlbW92ZUJveFRyYW5zZm9ybXMsIHJlbW92ZVBvaW50RGVsdGEgfTtcbiIsImltcG9ydCB7IGNhbGNMZW5ndGggfSBmcm9tICcuL2RlbHRhLWNhbGMubWpzJztcblxuZnVuY3Rpb24gaXNBeGlzRGVsdGFaZXJvKGRlbHRhKSB7XG4gICAgcmV0dXJuIGRlbHRhLnRyYW5zbGF0ZSA9PT0gMCAmJiBkZWx0YS5zY2FsZSA9PT0gMTtcbn1cbmZ1bmN0aW9uIGlzRGVsdGFaZXJvKGRlbHRhKSB7XG4gICAgcmV0dXJuIGlzQXhpc0RlbHRhWmVybyhkZWx0YS54KSAmJiBpc0F4aXNEZWx0YVplcm8oZGVsdGEueSk7XG59XG5mdW5jdGlvbiBib3hFcXVhbHMoYSwgYikge1xuICAgIHJldHVybiAoYS54Lm1pbiA9PT0gYi54Lm1pbiAmJlxuICAgICAgICBhLngubWF4ID09PSBiLngubWF4ICYmXG4gICAgICAgIGEueS5taW4gPT09IGIueS5taW4gJiZcbiAgICAgICAgYS55Lm1heCA9PT0gYi55Lm1heCk7XG59XG5mdW5jdGlvbiBib3hFcXVhbHNSb3VuZGVkKGEsIGIpIHtcbiAgICByZXR1cm4gKE1hdGgucm91bmQoYS54Lm1pbikgPT09IE1hdGgucm91bmQoYi54Lm1pbikgJiZcbiAgICAgICAgTWF0aC5yb3VuZChhLngubWF4KSA9PT0gTWF0aC5yb3VuZChiLngubWF4KSAmJlxuICAgICAgICBNYXRoLnJvdW5kKGEueS5taW4pID09PSBNYXRoLnJvdW5kKGIueS5taW4pICYmXG4gICAgICAgIE1hdGgucm91bmQoYS55Lm1heCkgPT09IE1hdGgucm91bmQoYi55Lm1heCkpO1xufVxuZnVuY3Rpb24gYXNwZWN0UmF0aW8oYm94KSB7XG4gICAgcmV0dXJuIGNhbGNMZW5ndGgoYm94LngpIC8gY2FsY0xlbmd0aChib3gueSk7XG59XG5cbmV4cG9ydCB7IGFzcGVjdFJhdGlvLCBib3hFcXVhbHMsIGJveEVxdWFsc1JvdW5kZWQsIGlzRGVsdGFaZXJvIH07XG4iLCJpbXBvcnQgeyBhZGRVbmlxdWVJdGVtLCByZW1vdmVJdGVtIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkubWpzJztcblxuY2xhc3MgTm9kZVN0YWNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tZW1iZXJzID0gW107XG4gICAgfVxuICAgIGFkZChub2RlKSB7XG4gICAgICAgIGFkZFVuaXF1ZUl0ZW0odGhpcy5tZW1iZXJzLCBub2RlKTtcbiAgICAgICAgbm9kZS5zY2hlZHVsZVJlbmRlcigpO1xuICAgIH1cbiAgICByZW1vdmUobm9kZSkge1xuICAgICAgICByZW1vdmVJdGVtKHRoaXMubWVtYmVycywgbm9kZSk7XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLnByZXZMZWFkKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZMZWFkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLmxlYWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZMZWFkID0gdGhpcy5tZW1iZXJzW3RoaXMubWVtYmVycy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChwcmV2TGVhZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvbW90ZShwcmV2TGVhZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVsZWdhdGUobm9kZSkge1xuICAgICAgICBjb25zdCBpbmRleE9mTm9kZSA9IHRoaXMubWVtYmVycy5maW5kSW5kZXgoKG1lbWJlcikgPT4gbm9kZSA9PT0gbWVtYmVyKTtcbiAgICAgICAgaWYgKGluZGV4T2ZOb2RlID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmluZCB0aGUgbmV4dCBwcm9qZWN0aW9uIG5vZGUgdGhhdCBpcyBwcmVzZW50XG4gICAgICAgICAqL1xuICAgICAgICBsZXQgcHJldkxlYWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleE9mTm9kZTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IG1lbWJlciA9IHRoaXMubWVtYmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChtZW1iZXIuaXNQcmVzZW50ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHByZXZMZWFkID0gbWVtYmVyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2TGVhZCkge1xuICAgICAgICAgICAgdGhpcy5wcm9tb3RlKHByZXZMZWFkKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb21vdGUobm9kZSwgcHJlc2VydmVGb2xsb3dPcGFjaXR5KSB7XG4gICAgICAgIGNvbnN0IHByZXZMZWFkID0gdGhpcy5sZWFkO1xuICAgICAgICBpZiAobm9kZSA9PT0gcHJldkxlYWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMucHJldkxlYWQgPSBwcmV2TGVhZDtcbiAgICAgICAgdGhpcy5sZWFkID0gbm9kZTtcbiAgICAgICAgbm9kZS5zaG93KCk7XG4gICAgICAgIGlmIChwcmV2TGVhZCkge1xuICAgICAgICAgICAgcHJldkxlYWQuaW5zdGFuY2UgJiYgcHJldkxlYWQuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgIG5vZGUuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgIG5vZGUucmVzdW1lRnJvbSA9IHByZXZMZWFkO1xuICAgICAgICAgICAgaWYgKHByZXNlcnZlRm9sbG93T3BhY2l0eSkge1xuICAgICAgICAgICAgICAgIG5vZGUucmVzdW1lRnJvbS5wcmVzZXJ2ZU9wYWNpdHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZMZWFkLnNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5zbmFwc2hvdCA9IHByZXZMZWFkLnNuYXBzaG90O1xuICAgICAgICAgICAgICAgIG5vZGUuc25hcHNob3QubGF0ZXN0VmFsdWVzID1cbiAgICAgICAgICAgICAgICAgICAgcHJldkxlYWQuYW5pbWF0aW9uVmFsdWVzIHx8IHByZXZMZWFkLmxhdGVzdFZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLnJvb3QgJiYgbm9kZS5yb290LmlzVXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBub2RlLmlzTGF5b3V0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBjcm9zc2ZhZGUgfSA9IG5vZGUub3B0aW9ucztcbiAgICAgICAgICAgIGlmIChjcm9zc2ZhZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcHJldkxlYWQuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUT0RPOlxuICAgICAgICAgICAgICogICAtIFRlc3QgYm9yZGVyIHJhZGl1cyB3aGVuIHByZXZpb3VzIG5vZGUgd2FzIGRlbGV0ZWRcbiAgICAgICAgICAgICAqICAgLSBib3hTaGFkb3cgbWl4aW5nXG4gICAgICAgICAgICAgKiAgIC0gU2hhcmVkIGJldHdlZW4gZWxlbWVudCBBIGluIHNjcm9sbGVkIGNvbnRhaW5lciBhbmQgZWxlbWVudCBCIChzY3JvbGwgc3RheXMgdGhlIHNhbWUgb3IgY2hhbmdlcylcbiAgICAgICAgICAgICAqICAgLSBTaGFyZWQgYmV0d2VlbiBlbGVtZW50IEEgaW4gdHJhbnNmb3JtZWQgY29udGFpbmVyIGFuZCBlbGVtZW50IEIgKHRyYW5zZm9ybSBzdGF5cyB0aGUgc2FtZSBvciBjaGFuZ2VzKVxuICAgICAgICAgICAgICogICAtIFNoYXJlZCBiZXR3ZWVuIGVsZW1lbnQgQSBpbiBzY3JvbGxlZCBwYWdlIGFuZCBlbGVtZW50IEIgKHNjcm9sbCBzdGF5cyB0aGUgc2FtZSBvciBjaGFuZ2VzKVxuICAgICAgICAgICAgICogLS0tXG4gICAgICAgICAgICAgKiAgIC0gQ3Jvc3NmYWRlIG9wYWNpdHkgb2Ygcm9vdCBub2Rlc1xuICAgICAgICAgICAgICogICAtIGxheW91dElkIGNoYW5nZXMgYWZ0ZXIgYW5pbWF0aW9uXG4gICAgICAgICAgICAgKiAgIC0gbGF5b3V0SWQgY2hhbmdlcyBtaWQgYW5pbWF0aW9uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgfVxuICAgIH1cbiAgICBleGl0QW5pbWF0aW9uQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMubWVtYmVycy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG9wdGlvbnMsIHJlc3VtaW5nRnJvbSB9ID0gbm9kZTtcbiAgICAgICAgICAgIG9wdGlvbnMub25FeGl0Q29tcGxldGUgJiYgb3B0aW9ucy5vbkV4aXRDb21wbGV0ZSgpO1xuICAgICAgICAgICAgaWYgKHJlc3VtaW5nRnJvbSkge1xuICAgICAgICAgICAgICAgIHJlc3VtaW5nRnJvbS5vcHRpb25zLm9uRXhpdENvbXBsZXRlICYmXG4gICAgICAgICAgICAgICAgICAgIHJlc3VtaW5nRnJvbS5vcHRpb25zLm9uRXhpdENvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzY2hlZHVsZVJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5tZW1iZXJzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgIG5vZGUuaW5zdGFuY2UgJiYgbm9kZS5zY2hlZHVsZVJlbmRlcihmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbnkgbGVhZHMgdGhhdCBoYXZlIGJlZW4gcmVtb3ZlZCB0aGlzIHJlbmRlciB0byBwcmV2ZW50IHRoZW0gZnJvbSBiZWluZ1xuICAgICAqIHVzZWQgaW4gZnV0dXJlIGFuaW1hdGlvbnMgYW5kIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzXG4gICAgICovXG4gICAgcmVtb3ZlTGVhZFNuYXBzaG90KCkge1xuICAgICAgICBpZiAodGhpcy5sZWFkICYmIHRoaXMubGVhZC5zbmFwc2hvdCkge1xuICAgICAgICAgICAgdGhpcy5sZWFkLnNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBOb2RlU3RhY2sgfTtcbiIsImZ1bmN0aW9uIGJ1aWxkUHJvamVjdGlvblRyYW5zZm9ybShkZWx0YSwgdHJlZVNjYWxlLCBsYXRlc3RUcmFuc2Zvcm0pIHtcbiAgICBsZXQgdHJhbnNmb3JtID0gXCJcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNsYXRpb25zIHdlIHVzZSB0byBjYWxjdWxhdGUgYXJlIGFsd2F5cyByZWxhdGl2ZSB0byB0aGUgdmlld3BvcnQgY29vcmRpbmF0ZSBzcGFjZS5cbiAgICAgKiBCdXQgd2hlbiB3ZSBhcHBseSBzY2FsZXMsIHdlIGFsc28gc2NhbGUgdGhlIGNvb3JkaW5hdGUgc3BhY2Ugb2YgYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuLlxuICAgICAqIEZvciBpbnN0YW5jZSBpZiB3ZSBoYXZlIGEgdHJlZVNjYWxlICh0aGUgY3VsbWluYXRpb24gb2YgYWxsIHBhcmVudCBzY2FsZXMpIG9mIDAuNSBhbmQgd2UgbmVlZFxuICAgICAqIHRvIG1vdmUgYW4gZWxlbWVudCAxMDAgcGl4ZWxzLCB3ZSBhY3R1YWxseSBuZWVkIHRvIG1vdmUgaXQgMjAwIGluIHdpdGhpbiB0aGF0IHNjYWxlZCBzcGFjZS5cbiAgICAgKi9cbiAgICBjb25zdCB4VHJhbnNsYXRlID0gZGVsdGEueC50cmFuc2xhdGUgLyB0cmVlU2NhbGUueDtcbiAgICBjb25zdCB5VHJhbnNsYXRlID0gZGVsdGEueS50cmFuc2xhdGUgLyB0cmVlU2NhbGUueTtcbiAgICBpZiAoeFRyYW5zbGF0ZSB8fCB5VHJhbnNsYXRlKSB7XG4gICAgICAgIHRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3hUcmFuc2xhdGV9cHgsICR7eVRyYW5zbGF0ZX1weCwgMCkgYDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbHkgc2NhbGUgY29ycmVjdGlvbiBmb3IgdGhlIHRyZWUgdHJhbnNmb3JtLlxuICAgICAqIFRoaXMgd2lsbCBhcHBseSBzY2FsZSB0byB0aGUgc2NyZWVuLW9yaWVudGF0ZWQgYXhlcy5cbiAgICAgKi9cbiAgICBpZiAodHJlZVNjYWxlLnggIT09IDEgfHwgdHJlZVNjYWxlLnkgIT09IDEpIHtcbiAgICAgICAgdHJhbnNmb3JtICs9IGBzY2FsZSgkezEgLyB0cmVlU2NhbGUueH0sICR7MSAvIHRyZWVTY2FsZS55fSkgYDtcbiAgICB9XG4gICAgaWYgKGxhdGVzdFRyYW5zZm9ybSkge1xuICAgICAgICBjb25zdCB7IHJvdGF0ZSwgcm90YXRlWCwgcm90YXRlWSB9ID0gbGF0ZXN0VHJhbnNmb3JtO1xuICAgICAgICBpZiAocm90YXRlKVxuICAgICAgICAgICAgdHJhbnNmb3JtICs9IGByb3RhdGUoJHtyb3RhdGV9ZGVnKSBgO1xuICAgICAgICBpZiAocm90YXRlWClcbiAgICAgICAgICAgIHRyYW5zZm9ybSArPSBgcm90YXRlWCgke3JvdGF0ZVh9ZGVnKSBgO1xuICAgICAgICBpZiAocm90YXRlWSlcbiAgICAgICAgICAgIHRyYW5zZm9ybSArPSBgcm90YXRlWSgke3JvdGF0ZVl9ZGVnKSBgO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSBzY2FsZSB0byBtYXRjaCB0aGUgc2l6ZSBvZiB0aGUgZWxlbWVudCB0byB0aGUgc2l6ZSB3ZSB3YW50IGl0LlxuICAgICAqIFRoaXMgd2lsbCBhcHBseSBzY2FsZSB0byB0aGUgZWxlbWVudC1vcmllbnRhdGVkIGF4ZXMuXG4gICAgICovXG4gICAgY29uc3QgZWxlbWVudFNjYWxlWCA9IGRlbHRhLnguc2NhbGUgKiB0cmVlU2NhbGUueDtcbiAgICBjb25zdCBlbGVtZW50U2NhbGVZID0gZGVsdGEueS5zY2FsZSAqIHRyZWVTY2FsZS55O1xuICAgIGlmIChlbGVtZW50U2NhbGVYICE9PSAxIHx8IGVsZW1lbnRTY2FsZVkgIT09IDEpIHtcbiAgICAgICAgdHJhbnNmb3JtICs9IGBzY2FsZSgke2VsZW1lbnRTY2FsZVh9LCAke2VsZW1lbnRTY2FsZVl9KWA7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2Zvcm0gfHwgXCJub25lXCI7XG59XG5cbmV4cG9ydCB7IGJ1aWxkUHJvamVjdGlvblRyYW5zZm9ybSB9O1xuIiwiY29uc3QgY29tcGFyZUJ5RGVwdGggPSAoYSwgYikgPT4gYS5kZXB0aCAtIGIuZGVwdGg7XG5cbmV4cG9ydCB7IGNvbXBhcmVCeURlcHRoIH07XG4iLCJpbXBvcnQgeyBhZGRVbmlxdWVJdGVtLCByZW1vdmVJdGVtIH0gZnJvbSAnLi4vLi4vdXRpbHMvYXJyYXkubWpzJztcbmltcG9ydCB7IGNvbXBhcmVCeURlcHRoIH0gZnJvbSAnLi9jb21wYXJlLWJ5LWRlcHRoLm1qcyc7XG5cbmNsYXNzIEZsYXRUcmVlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgICB9XG4gICAgYWRkKGNoaWxkKSB7XG4gICAgICAgIGFkZFVuaXF1ZUl0ZW0odGhpcy5jaGlsZHJlbiwgY2hpbGQpO1xuICAgICAgICB0aGlzLmlzRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICByZW1vdmUoY2hpbGQpIHtcbiAgICAgICAgcmVtb3ZlSXRlbSh0aGlzLmNoaWxkcmVuLCBjaGlsZCk7XG4gICAgICAgIHRoaXMuaXNEaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5pc0RpcnR5ICYmIHRoaXMuY2hpbGRyZW4uc29ydChjb21wYXJlQnlEZXB0aCk7XG4gICAgICAgIHRoaXMuaXNEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goY2FsbGJhY2spO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgRmxhdFRyZWUgfTtcbiIsImltcG9ydCB7IGZyYW1lLCBjYW5jZWxGcmFtZSB9IGZyb20gJy4uL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG4vKipcbiAqIFRpbWVvdXQgZGVmaW5lZCBpbiBtc1xuICovXG5mdW5jdGlvbiBkZWxheShjYWxsYmFjaywgdGltZW91dCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgY2hlY2tFbGFwc2VkID0gKHsgdGltZXN0YW1wIH0pID0+IHtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRpbWVzdGFtcCAtIHN0YXJ0O1xuICAgICAgICBpZiAoZWxhcHNlZCA+PSB0aW1lb3V0KSB7XG4gICAgICAgICAgICBjYW5jZWxGcmFtZShjaGVja0VsYXBzZWQpO1xuICAgICAgICAgICAgY2FsbGJhY2soZWxhcHNlZCAtIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmcmFtZS5yZWFkKGNoZWNrRWxhcHNlZCwgdHJ1ZSk7XG4gICAgcmV0dXJuICgpID0+IGNhbmNlbEZyYW1lKGNoZWNrRWxhcHNlZCk7XG59XG5cbmV4cG9ydCB7IGRlbGF5IH07XG4iLCJmdW5jdGlvbiByZWNvcmQoZGF0YSkge1xuICAgIGlmICh3aW5kb3cuTW90aW9uRGVidWcpIHtcbiAgICAgICAgd2luZG93Lk1vdGlvbkRlYnVnLnJlY29yZChkYXRhKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IHJlY29yZCB9O1xuIiwiZnVuY3Rpb24gaXNTVkdFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgJiYgZWxlbWVudC50YWdOYW1lICE9PSBcInN2Z1wiO1xufVxuXG5leHBvcnQgeyBpc1NWR0VsZW1lbnQgfTtcbiIsImltcG9ydCB7IGFuaW1hdGVNb3Rpb25WYWx1ZSB9IGZyb20gJy4vbW90aW9uLXZhbHVlLm1qcyc7XG5pbXBvcnQgeyBtb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5cbmZ1bmN0aW9uIGFuaW1hdGVTaW5nbGVWYWx1ZSh2YWx1ZSwga2V5ZnJhbWVzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbW90aW9uVmFsdWUkMSA9IGlzTW90aW9uVmFsdWUodmFsdWUpID8gdmFsdWUgOiBtb3Rpb25WYWx1ZSh2YWx1ZSk7XG4gICAgbW90aW9uVmFsdWUkMS5zdGFydChhbmltYXRlTW90aW9uVmFsdWUoXCJcIiwgbW90aW9uVmFsdWUkMSwga2V5ZnJhbWVzLCBvcHRpb25zKSk7XG4gICAgcmV0dXJuIG1vdGlvblZhbHVlJDEuYW5pbWF0aW9uO1xufVxuXG5leHBvcnQgeyBhbmltYXRlU2luZ2xlVmFsdWUgfTtcbiIsImltcG9ydCB7IFN1YnNjcmlwdGlvbk1hbmFnZXIgfSBmcm9tICcuLi8uLi91dGlscy9zdWJzY3JpcHRpb24tbWFuYWdlci5tanMnO1xuaW1wb3J0IHsgbWl4VmFsdWVzIH0gZnJvbSAnLi4vYW5pbWF0aW9uL21peC12YWx1ZXMubWpzJztcbmltcG9ydCB7IGNvcHlCb3hJbnRvIH0gZnJvbSAnLi4vZ2VvbWV0cnkvY29weS5tanMnO1xuaW1wb3J0IHsgdHJhbnNsYXRlQXhpcywgdHJhbnNmb3JtQm94LCBhcHBseUJveERlbHRhLCBhcHBseVRyZWVEZWx0YXMgfSBmcm9tICcuLi9nZW9tZXRyeS9kZWx0YS1hcHBseS5tanMnO1xuaW1wb3J0IHsgY2FsY1JlbGF0aXZlUG9zaXRpb24sIGNhbGNSZWxhdGl2ZUJveCwgY2FsY0JveERlbHRhLCBjYWxjTGVuZ3RoLCBpc05lYXIgfSBmcm9tICcuLi9nZW9tZXRyeS9kZWx0YS1jYWxjLm1qcyc7XG5pbXBvcnQgeyByZW1vdmVCb3hUcmFuc2Zvcm1zIH0gZnJvbSAnLi4vZ2VvbWV0cnkvZGVsdGEtcmVtb3ZlLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVCb3gsIGNyZWF0ZURlbHRhIH0gZnJvbSAnLi4vZ2VvbWV0cnkvbW9kZWxzLm1qcyc7XG5pbXBvcnQgeyBnZXRWYWx1ZVRyYW5zaXRpb24gfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbHMvdHJhbnNpdGlvbnMubWpzJztcbmltcG9ydCB7IGJveEVxdWFsc1JvdW5kZWQsIGlzRGVsdGFaZXJvLCBhc3BlY3RSYXRpbywgYm94RXF1YWxzIH0gZnJvbSAnLi4vZ2VvbWV0cnkvdXRpbHMubWpzJztcbmltcG9ydCB7IE5vZGVTdGFjayB9IGZyb20gJy4uL3NoYXJlZC9zdGFjay5tanMnO1xuaW1wb3J0IHsgc2NhbGVDb3JyZWN0b3JzIH0gZnJvbSAnLi4vc3R5bGVzL3NjYWxlLWNvcnJlY3Rpb24ubWpzJztcbmltcG9ydCB7IGJ1aWxkUHJvamVjdGlvblRyYW5zZm9ybSB9IGZyb20gJy4uL3N0eWxlcy90cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IGVhY2hBeGlzIH0gZnJvbSAnLi4vdXRpbHMvZWFjaC1heGlzLm1qcyc7XG5pbXBvcnQgeyBoYXNUcmFuc2Zvcm0sIGhhc1NjYWxlLCBoYXMyRFRyYW5zbGF0ZSB9IGZyb20gJy4uL3V0aWxzL2hhcy10cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IEZsYXRUcmVlIH0gZnJvbSAnLi4vLi4vcmVuZGVyL3V0aWxzL2ZsYXQtdHJlZS5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZU1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXRpbHMvcmVzb2x2ZS1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IGdsb2JhbFByb2plY3Rpb25TdGF0ZSB9IGZyb20gJy4vc3RhdGUubWpzJztcbmltcG9ydCB7IGRlbGF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvZGVsYXkubWpzJztcbmltcG9ydCB7IG1peCB9IGZyb20gJy4uLy4uL3V0aWxzL21peC5tanMnO1xuaW1wb3J0IHsgcmVjb3JkIH0gZnJvbSAnLi4vLi4vZGVidWcvcmVjb3JkLm1qcyc7XG5pbXBvcnQgeyBpc1NWR0VsZW1lbnQgfSBmcm9tICcuLi8uLi9yZW5kZXIvZG9tL3V0aWxzL2lzLXN2Zy1lbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyBhbmltYXRlU2luZ2xlVmFsdWUgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vaW50ZXJmYWNlcy9zaW5nbGUtdmFsdWUubWpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2xhbXAubWpzJztcbmltcG9ydCB7IGNhbmNlbEZyYW1lLCBmcmFtZURhdGEsIHN0ZXBzLCBmcmFtZSB9IGZyb20gJy4uLy4uL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4uLy4uL3V0aWxzL25vb3AubWpzJztcblxuY29uc3QgdHJhbnNmb3JtQXhlcyA9IFtcIlwiLCBcIlhcIiwgXCJZXCIsIFwiWlwiXTtcbmNvbnN0IGhpZGRlblZpc2liaWxpdHkgPSB7IHZpc2liaWxpdHk6IFwiaGlkZGVuXCIgfTtcbi8qKlxuICogV2UgdXNlIDEwMDAgYXMgdGhlIGFuaW1hdGlvbiB0YXJnZXQgYXMgMC0xMDAwIG1hcHMgYmV0dGVyIHRvIHBpeGVscyB0aGFuIDAtMVxuICogd2hpY2ggaGFzIGEgbm90aWNlYWJsZSBkaWZmZXJlbmNlIGluIHNwcmluZyBhbmltYXRpb25zXG4gKi9cbmNvbnN0IGFuaW1hdGlvblRhcmdldCA9IDEwMDA7XG5sZXQgaWQgPSAwO1xuLyoqXG4gKiBVc2UgYSBtdXRhYmxlIGRhdGEgb2JqZWN0IGZvciBkZWJ1ZyBkYXRhIHNvIGFzIHRvIG5vdCBjcmVhdGUgYSBuZXdcbiAqIG9iamVjdCBldmVyeSBmcmFtZS5cbiAqL1xuY29uc3QgcHJvamVjdGlvbkZyYW1lRGF0YSA9IHtcbiAgICB0eXBlOiBcInByb2plY3Rpb25GcmFtZVwiLFxuICAgIHRvdGFsTm9kZXM6IDAsXG4gICAgcmVzb2x2ZWRUYXJnZXREZWx0YXM6IDAsXG4gICAgcmVjYWxjdWxhdGVkUHJvamVjdGlvbjogMCxcbn07XG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0aW9uTm9kZSh7IGF0dGFjaFJlc2l6ZUxpc3RlbmVyLCBkZWZhdWx0UGFyZW50LCBtZWFzdXJlU2Nyb2xsLCBjaGVja0lzU2Nyb2xsUm9vdCwgcmVzZXRUcmFuc2Zvcm0sIH0pIHtcbiAgICByZXR1cm4gY2xhc3MgUHJvamVjdGlvbk5vZGUge1xuICAgICAgICBjb25zdHJ1Y3RvcihsYXRlc3RWYWx1ZXMgPSB7fSwgcGFyZW50ID0gZGVmYXVsdFBhcmVudCA9PT0gbnVsbCB8fCBkZWZhdWx0UGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0UGFyZW50KCkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQSB1bmlxdWUgSUQgZ2VuZXJhdGVkIGZvciBldmVyeSBwcm9qZWN0aW9uIG5vZGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZCsrO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbiBpZCB0aGF0IHJlcHJlc2VudHMgYSB1bmlxdWUgc2Vzc2lvbiBpbnN0aWdhdGVkIGJ5IHN0YXJ0VXBkYXRlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbklkID0gMDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQSBTZXQgY29udGFpbmluZyBhbGwgdGhpcyBjb21wb25lbnQncyBjaGlsZHJlbi4gVGhpcyBpcyB1c2VkIHRvIGl0ZXJhdGVcbiAgICAgICAgICAgICAqIHRocm91Z2ggdGhlIGNoaWxkcmVuLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFRPRE86IFRoaXMgY291bGQgYmUgZmFzdGVyIHRvIGl0ZXJhdGUgYXMgYSBmbGF0IGFycmF5IHN0b3JlZCBvbiB0aGUgcm9vdCBub2RlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPcHRpb25zIGZvciB0aGUgbm9kZS4gV2UgdXNlIHRoaXMgdG8gY29uZmlndXJlIHdoYXQga2luZCBvZiBsYXlvdXQgYW5pbWF0aW9uc1xuICAgICAgICAgICAgICogd2Ugc2hvdWxkIHBlcmZvcm0gKGlmIGFueSkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXZSB1c2UgdGhpcyB0byBkZXRlY3Qgd2hlbiBpdHMgc2FmZSB0byBzaHV0IGRvd24gcGFydCBvZiBhIHByb2plY3Rpb24gdHJlZS5cbiAgICAgICAgICAgICAqIFdlIGhhdmUgdG8ga2VlcCBwcm9qZWN0aW5nIGNoaWxkcmVuIGZvciBzY2FsZSBjb3JyZWN0aW9uIGFuZCByZWxhdGl2ZSBwcm9qZWN0aW9uXG4gICAgICAgICAgICAgKiB1bnRpbCBhbGwgdGhlaXIgcGFyZW50cyBzdG9wIHBlcmZvcm1pbmcgbGF5b3V0IGFuaW1hdGlvbnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaXNUcmVlQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQW5pbWF0aW9uQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGFnIHRvIHRydWUgaWYgd2UgdGhpbmsgdGhpcyBsYXlvdXQgaGFzIGJlZW4gY2hhbmdlZC4gV2UgY2FuJ3QgYWx3YXlzIGtub3cgdGhpcyxcbiAgICAgICAgICAgICAqIGN1cnJlbnRseSB3ZSBzZXQgaXQgdG8gdHJ1ZSBldmVyeSB0aW1lIGEgY29tcG9uZW50IHJlbmRlcnMsIG9yIGlmIGl0IGhhcyBhIGxheW91dERlcGVuZGVuY3lcbiAgICAgICAgICAgICAqIGlmIHRoYXQgaGFzIGNoYW5nZWQgYmV0d2VlbiByZW5kZXJzLiBBZGRpdGlvbmFsbHksIGNvbXBvbmVudHMgY2FuIGJlIGdyb3VwZWQgYnkgTGF5b3V0R3JvdXBcbiAgICAgICAgICAgICAqIGFuZCBpZiBvbmUgbm9kZSBpcyBkaXJ0aWVkLCB0aGV5IGFsbCBhcmUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuaXNMYXlvdXREaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGFnIHRvIHRydWUgaWYgd2UgdGhpbmsgdGhlIHByb2plY3Rpb24gY2FsY3VsYXRpb25zIGZvciB0aGlzIG5vZGUgbmVlZHNcbiAgICAgICAgICAgICAqIHJlY2FsY3VsYXRpbmcgYXMgYSByZXN1bHQgb2YgYW4gdXBkYXRlZCB0cmFuc2Zvcm0gb3IgbGF5b3V0IGFuaW1hdGlvbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1Byb2plY3Rpb25EaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGFnIHRvIHRydWUgaWYgdGhlIGxheW91dCAqb3IqIHRyYW5zZm9ybSBoYXMgY2hhbmdlZC4gVGhpcyB0aGVuIGdldHMgcHJvcGFnYXRlZFxuICAgICAgICAgICAgICogdGhyb3VnaG91dCB0aGUgcHJvamVjdGlvbiB0cmVlLCBmb3JjaW5nIGFueSBlbGVtZW50IGJlbG93IHRvIHJlY2FsY3VsYXRlIG9uIHRoZSBuZXh0IGZyYW1lLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlzU2hhcmVkUHJvamVjdGlvbkRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZsYWcgdHJhbnNmb3JtIGRpcnR5LiBUaGlzIGdldHMgcHJvcGFnYXRlZCB0aHJvdWdob3V0IHRoZSB3aG9sZSB0cmVlIGJ1dCBpcyBvbmx5XG4gICAgICAgICAgICAgKiByZXNwZWN0ZWQgYnkgc2hhcmVkIG5vZGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlzVHJhbnNmb3JtRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmxvY2sgbGF5b3V0IHVwZGF0ZXMgZm9yIGluc3RhbnQgbGF5b3V0IHRyYW5zaXRpb25zIHRocm91Z2hvdXQgdGhlIHRyZWUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWFudWFsbHlCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUJsb2NrZWRCeVJlc2l6ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgdG8gdHJ1ZSBiZXR3ZWVuIHRoZSBzdGFydCBvZiB0aGUgZmlyc3QgYHdpbGxVcGRhdGVgIGNhbGwgYW5kIHRoZSBlbmQgb2YgdGhlIGBkaWRVcGRhdGVgXG4gICAgICAgICAgICAgKiBjYWxsLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhbiBTVkcgZWxlbWVudCB3ZSBjdXJyZW50bHkgZGlzYWJsZSBwcm9qZWN0aW9uIHRyYW5zZm9ybXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1NWRyA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGFnIHRvIHRydWUgKGR1cmluZyBwcm9tb3Rpb24pIGlmIGEgbm9kZSBkb2luZyBhbiBpbnN0YW50IGxheW91dCB0cmFuc2l0aW9uIG5lZWRzIHRvIHJlc2V0XG4gICAgICAgICAgICAgKiBpdHMgcHJvamVjdGlvbiBzdHlsZXMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubmVlZHNSZXNldCA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGbGFncyB3aGV0aGVyIHRoaXMgbm9kZSBzaG91bGQgaGF2ZSBpdHMgdHJhbnNmb3JtIHJlc2V0IHByaW9yIHRvIG1lYXN1cmluZy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5zaG91bGRSZXNldFRyYW5zZm9ybSA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjYWxjdWxhdGVkIGNvbnRleHR1YWwvYWNjdW11bGF0ZWQvdHJlZSBzY2FsZS5cbiAgICAgICAgICAgICAqIFRoaXMgd2lsbCBiZSB1c2VkIHRvIHNjYWxlIGNhbGN1bGNhdGVkIHByb2plY3Rpb24gdHJhbnNmb3JtcywgYXMgdGhlc2UgYXJlXG4gICAgICAgICAgICAgKiBjYWxjdWxhdGVkIGluIHNjcmVlbi1zcGFjZSBidXQgbmVlZCB0byBiZSBzY2FsZWQgZm9yIGVsZW1lbnRzIHRvIGxheW91dGx5XG4gICAgICAgICAgICAgKiBtYWtlIGl0IHRvIHRoZWlyIGNhbGN1bGF0ZWQgZGVzdGluYXRpb25zLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIFRPRE86IExhenktaW5pdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnRyZWVTY2FsZSA9IHsgeDogMSwgeTogMSB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB0aGlzLmhhc1RyZWVBbmltYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gTm90ZTogQ3VycmVudGx5IG9ubHkgcnVubmluZyBvbiByb290IG5vZGVcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25VcGRhdGVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tVcGRhdGVGYWlsZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNVcGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckFsbFNuYXBzaG90cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgaXMgYSBtdWx0aS1zdGVwIHByb2Nlc3MgYXMgc2hhcmVkIG5vZGVzIG1pZ2h0IGJlIG9mIGRpZmZlcmVudCBkZXB0aHMuIE5vZGVzXG4gICAgICAgICAgICAgKiBhcmUgc29ydGVkIGJ5IGRlcHRoIG9yZGVyLCBzbyB3ZSBuZWVkIHRvIHJlc29sdmUgdGhlIGVudGlyZSB0cmVlIGJlZm9yZSBtb3ZpbmcgdG9cbiAgICAgICAgICAgICAqIHRoZSBuZXh0IHN0ZXAuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvamVjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3Rpb25VcGRhdGVTY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXNldCBkZWJ1ZyBjb3VudHMuIE1hbnVhbGx5IHJlc2V0dGluZyByYXRoZXIgdGhhbiBjcmVhdGluZyBhIG5ld1xuICAgICAgICAgICAgICAgICAqIG9iamVjdCBlYWNoIGZyYW1lLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByb2plY3Rpb25GcmFtZURhdGEudG90YWxOb2RlcyA9XG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb25GcmFtZURhdGEucmVzb2x2ZWRUYXJnZXREZWx0YXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbkZyYW1lRGF0YS5yZWNhbGN1bGF0ZWRQcm9qZWN0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChwcm9wYWdhdGVEaXJ0eU5vZGVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2gocmVzb2x2ZVRhcmdldERlbHRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goY2FsY1Byb2plY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMuZm9yRWFjaChjbGVhbkRpcnR5Tm9kZXMpO1xuICAgICAgICAgICAgICAgIHJlY29yZChwcm9qZWN0aW9uRnJhbWVEYXRhKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmhhc1Byb2plY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Qcm9ncmVzcyA9IDA7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNoYXJlZCBsYXlvdXRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gVE9ETyBPbmx5IHJ1bm5pbmcgb24gcm9vdCBub2RlXG4gICAgICAgICAgICB0aGlzLnNoYXJlZE5vZGVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpcy5sYXRlc3RWYWx1ZXMgPSBsYXRlc3RWYWx1ZXM7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCB8fCBwYXJlbnQgOiB0aGlzO1xuICAgICAgICAgICAgdGhpcy5wYXRoID0gcGFyZW50ID8gWy4uLnBhcmVudC5wYXRoLCBwYXJlbnRdIDogW107XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgIHRoaXMuZGVwdGggPSBwYXJlbnQgPyBwYXJlbnQuZGVwdGggKyAxIDogMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoW2ldLnNob3VsZFJlc2V0VHJhbnNmb3JtID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnJvb3QgPT09IHRoaXMpXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlcyA9IG5ldyBGbGF0VHJlZSgpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmV2ZW50SGFuZGxlcnMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzLnNldChuYW1lLCBuZXcgU3Vic2NyaXB0aW9uTWFuYWdlcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50SGFuZGxlcnMuZ2V0KG5hbWUpLmFkZChoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBub3RpZnlMaXN0ZW5lcnMobmFtZSwgLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uTWFuYWdlciA9IHRoaXMuZXZlbnRIYW5kbGVycy5nZXQobmFtZSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25NYW5hZ2VyICYmIHN1YnNjcmlwdGlvbk1hbmFnZXIubm90aWZ5KC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGhhc0xpc3RlbmVycyhuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudEhhbmRsZXJzLmhhcyhuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogTGlmZWN5Y2xlc1xuICAgICAgICAgKi9cbiAgICAgICAgbW91bnQoaW5zdGFuY2UsIGlzTGF5b3V0RGlydHkgPSB0aGlzLnJvb3QuaGFzVHJlZUFuaW1hdGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzU1ZHID0gaXNTVkdFbGVtZW50KGluc3RhbmNlKTtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dCwgdmlzdWFsRWxlbWVudCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgaWYgKHZpc3VhbEVsZW1lbnQgJiYgIXZpc3VhbEVsZW1lbnQuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQubW91bnQoaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yb290Lm5vZGVzLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmNoaWxkcmVuLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIGlmIChpc0xheW91dERpcnR5ICYmIChsYXlvdXQgfHwgbGF5b3V0SWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0xheW91dERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdHRhY2hSZXNpemVMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIGxldCBjYW5jZWxEZWxheTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNpemVVbmJsb2NrVXBkYXRlID0gKCkgPT4gKHRoaXMucm9vdC51cGRhdGVCbG9ja2VkQnlSZXNpemUgPSBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYXR0YWNoUmVzaXplTGlzdGVuZXIoaW5zdGFuY2UsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290LnVwZGF0ZUJsb2NrZWRCeVJlc2l6ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbERlbGF5ICYmIGNhbmNlbERlbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbERlbGF5ID0gZGVsYXkocmVzaXplVW5ibG9ja1VwZGF0ZSwgMjUwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JhbFByb2plY3Rpb25TdGF0ZS5oYXNBbmltYXRlZFNpbmNlUmVzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxQcm9qZWN0aW9uU3RhdGUuaGFzQW5pbWF0ZWRTaW5jZVJlc2l6ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGZpbmlzaEFuaW1hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsYXlvdXRJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdC5yZWdpc3RlclNoYXJlZE5vZGUobGF5b3V0SWQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT25seSByZWdpc3RlciB0aGUgaGFuZGxlciBpZiBpdCByZXF1aXJlcyBsYXlvdXQgYW5pbWF0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGUgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudCAmJlxuICAgICAgICAgICAgICAgIChsYXlvdXRJZCB8fCBsYXlvdXQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiZGlkVXBkYXRlXCIsICh7IGRlbHRhLCBoYXNMYXlvdXRDaGFuZ2VkLCBoYXNSZWxhdGl2ZVRhcmdldENoYW5nZWQsIGxheW91dDogbmV3TGF5b3V0LCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVHJlZUFuaW1hdGlvbkJsb2NrZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IENoZWNrIGhlcmUgaWYgYW4gYW5pbWF0aW9uIGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXlvdXRUcmFuc2l0aW9uID0gdGhpcy5vcHRpb25zLnRyYW5zaXRpb24gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuZ2V0RGVmYXVsdFRyYW5zaXRpb24oKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdExheW91dFRyYW5zaXRpb247XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgb25MYXlvdXRBbmltYXRpb25TdGFydCwgb25MYXlvdXRBbmltYXRpb25Db21wbGV0ZSwgfSA9IHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKTtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRoZSB0YXJnZXQgbGF5b3V0IG9mIHRoZSBlbGVtZW50IG1pZ2h0IHN0YXkgdGhlIHNhbWUsXG4gICAgICAgICAgICAgICAgICAgICAqIGJ1dCBpdHMgcG9zaXRpb24gcmVsYXRpdmUgdG8gaXRzIHBhcmVudCBoYXMgY2hhbmdlZC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldENoYW5nZWQgPSAhdGhpcy50YXJnZXRMYXlvdXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFib3hFcXVhbHNSb3VuZGVkKHRoaXMudGFyZ2V0TGF5b3V0LCBuZXdMYXlvdXQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNSZWxhdGl2ZVRhcmdldENoYW5nZWQ7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBJZiB0aGUgbGF5b3V0IGhhc24ndCBzZWVtZWQgdG8gaGF2ZSBjaGFuZ2VkLCBpdCBtaWdodCBiZSB0aGF0IHRoZVxuICAgICAgICAgICAgICAgICAgICAgKiBlbGVtZW50IGlzIHZpc3VhbGx5IGluIHRoZSBzYW1lIHBsYWNlIGluIHRoZSBkb2N1bWVudCBidXQgaXRzIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAqIHJlbGF0aXZlIHRvIGl0cyBwYXJlbnQgaGFzIGluZGVlZCBjaGFuZ2VkLiBTbyBoZXJlIHdlIGNoZWNrIGZvciB0aGF0LlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzT25seVJlbGF0aXZlVGFyZ2V0Q2hhbmdlZCA9ICFoYXNMYXlvdXRDaGFuZ2VkICYmIGhhc1JlbGF0aXZlVGFyZ2V0Q2hhbmdlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sYXlvdXRSb290IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5yZXN1bWVGcm9tICYmIHRoaXMucmVzdW1lRnJvbS5pbnN0YW5jZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChoYXNMYXlvdXRDaGFuZ2VkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRhcmdldENoYW5nZWQgfHwgIXRoaXMuY3VycmVudEFuaW1hdGlvbikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXN1bWVGcm9tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20gPSB0aGlzLnJlc3VtZUZyb207XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20ucmVzdW1pbmdGcm9tID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBbmltYXRpb25PcmlnaW4oZGVsdGEsIGhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5nZXRWYWx1ZVRyYW5zaXRpb24obGF5b3V0VHJhbnNpdGlvbiwgXCJsYXlvdXRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25QbGF5OiBvbkxheW91dEFuaW1hdGlvblN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IG9uTGF5b3V0QW5pbWF0aW9uQ29tcGxldGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc3VhbEVsZW1lbnQuc2hvdWxkUmVkdWNlTW90aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmxheW91dFJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25PcHRpb25zLmRlbGF5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25PcHRpb25zLnR5cGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRBbmltYXRpb24oYW5pbWF0aW9uT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIElmIHRoZSBsYXlvdXQgaGFzbid0IGNoYW5nZWQgYW5kIHdlIGhhdmUgYW4gYW5pbWF0aW9uIHRoYXQgaGFzbid0IHN0YXJ0ZWQgeWV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICogZmluaXNoIGl0IGltbWVkaWF0ZWx5LiBPdGhlcndpc2UgaXQgd2lsbCBiZSBhbmltYXRpbmcgZnJvbSBhIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiB0aGF0IHdhcyBwcm9iYWJseSBuZXZlciBjb21taXRlZCB0byBzY3JlZW4gYW5kIGxvb2sgbGlrZSBhIGp1bXB5IGJveC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNMYXlvdXRDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoQW5pbWF0aW9uKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNMZWFkKCkgJiYgdGhpcy5vcHRpb25zLm9uRXhpdENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uRXhpdENvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRMYXlvdXQgPSBuZXdMYXlvdXQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5sYXlvdXRJZCAmJiB0aGlzLndpbGxVcGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMucm9vdC5ub2Rlcy5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIHN0YWNrICYmIHN0YWNrLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmNoaWxkcmVuLmRlbGV0ZSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjYW5jZWxGcmFtZSh0aGlzLnVwZGF0ZVByb2plY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkgb24gdGhlIHJvb3RcbiAgICAgICAgYmxvY2tVcGRhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1hbnVhbGx5QmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdW5ibG9ja1VwZGF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTWFudWFsbHlCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaXNVcGRhdGVCbG9ja2VkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlTWFudWFsbHlCbG9ja2VkIHx8IHRoaXMudXBkYXRlQmxvY2tlZEJ5UmVzaXplO1xuICAgICAgICB9XG4gICAgICAgIGlzVHJlZUFuaW1hdGlvbkJsb2NrZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuaXNBbmltYXRpb25CbG9ja2VkIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmlzVHJlZUFuaW1hdGlvbkJsb2NrZWQoKSkgfHxcbiAgICAgICAgICAgICAgICBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZTogY3VycmVudGx5IG9ubHkgcnVubmluZyBvbiByb290IG5vZGVcbiAgICAgICAgc3RhcnRVcGRhdGUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1VwZGF0ZUJsb2NrZWQoKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5ub2RlcyAmJiB0aGlzLm5vZGVzLmZvckVhY2gocmVzZXRSb3RhdGlvbik7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbklkKys7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0VHJhbnNmb3JtVGVtcGxhdGUoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIHJldHVybiB2aXN1YWxFbGVtZW50ICYmIHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKS50cmFuc2Zvcm1UZW1wbGF0ZTtcbiAgICAgICAgfVxuICAgICAgICB3aWxsVXBkYXRlKHNob3VsZE5vdGlmeUxpc3RlbmVycyA9IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdC5oYXNUcmVlQW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMucm9vdC5pc1VwZGF0ZUJsb2NrZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkV4aXRDb21wbGV0ZSAmJiB0aGlzLm9wdGlvbnMub25FeGl0Q29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAhdGhpcy5yb290LmlzVXBkYXRpbmcgJiYgdGhpcy5yb290LnN0YXJ0VXBkYXRlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0xheW91dERpcnR5KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuaXNMYXlvdXREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgbm9kZS5zaG91bGRSZXNldFRyYW5zZm9ybSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbm9kZS51cGRhdGVTY3JvbGwoXCJzbmFwc2hvdFwiKTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5vcHRpb25zLmxheW91dFJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS53aWxsVXBkYXRlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmIChsYXlvdXRJZCA9PT0gdW5kZWZpbmVkICYmICFsYXlvdXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtVGVtcGxhdGUgPSB0aGlzLmdldFRyYW5zZm9ybVRlbXBsYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnByZXZUcmFuc2Zvcm1UZW1wbGF0ZVZhbHVlID0gdHJhbnNmb3JtVGVtcGxhdGVcbiAgICAgICAgICAgICAgICA/IHRyYW5zZm9ybVRlbXBsYXRlKHRoaXMubGF0ZXN0VmFsdWVzLCBcIlwiKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTbmFwc2hvdCgpO1xuICAgICAgICAgICAgc2hvdWxkTm90aWZ5TGlzdGVuZXJzICYmIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwid2lsbFVwZGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlV2FzQmxvY2tlZCA9IHRoaXMuaXNVcGRhdGVCbG9ja2VkKCk7XG4gICAgICAgICAgICAvLyBXaGVuIGRvaW5nIGFuIGluc3RhbnQgdHJhbnNpdGlvbiwgd2Ugc2tpcCB0aGUgbGF5b3V0IHVwZGF0ZSxcbiAgICAgICAgICAgIC8vIGJ1dCBzaG91bGQgc3RpbGwgY2xlYW4gdXAgdGhlIG1lYXN1cmVtZW50cyBzbyB0aGF0IHRoZSBuZXh0XG4gICAgICAgICAgICAvLyBzbmFwc2hvdCBjb3VsZCBiZSB0YWtlbiBjb3JyZWN0bHkuXG4gICAgICAgICAgICBpZiAodXBkYXRlV2FzQmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5ibG9ja1VwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJBbGxTbmFwc2hvdHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2goY2xlYXJNZWFzdXJlbWVudHMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5pc1VwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGNsZWFySXNMYXlvdXREaXJ0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmlzVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV3JpdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKHJlc2V0VHJhbnNmb3JtU3R5bGUpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZWFkID09PT09PT09PT09PT09PT09PVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBVcGRhdGUgbGF5b3V0IG1lYXN1cmVtZW50cyBvZiB1cGRhdGVkIGNoaWxkcmVuXG4gICAgICAgICAgICB0aGlzLm5vZGVzLmZvckVhY2godXBkYXRlTGF5b3V0KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV3JpdGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gTm90aWZ5IGxpc3RlbmVycyB0aGF0IHRoZSBsYXlvdXQgaXMgdXBkYXRlZFxuICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKG5vdGlmeUxheW91dFVwZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyQWxsU25hcHNob3RzKCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE1hbnVhbGx5IGZsdXNoIGFueSBwZW5kaW5nIHVwZGF0ZXMuIElkZWFsbHlcbiAgICAgICAgICAgICAqIHdlIGNvdWxkIGxlYXZlIHRoaXMgdG8gdGhlIGZvbGxvd2luZyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgYnV0IHRoaXMgc2VlbXNcbiAgICAgICAgICAgICAqIHRvIGxlYXZlIGEgZmxhc2ggb2YgaW5jb3JyZWN0bHkgc3R5bGVkIGNvbnRlbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgZnJhbWVEYXRhLmRlbHRhID0gY2xhbXAoMCwgMTAwMCAvIDYwLCBub3cgLSBmcmFtZURhdGEudGltZXN0YW1wKTtcbiAgICAgICAgICAgIGZyYW1lRGF0YS50aW1lc3RhbXAgPSBub3c7XG4gICAgICAgICAgICBmcmFtZURhdGEuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0ZXBzLnVwZGF0ZS5wcm9jZXNzKGZyYW1lRGF0YSk7XG4gICAgICAgICAgICBzdGVwcy5wcmVSZW5kZXIucHJvY2VzcyhmcmFtZURhdGEpO1xuICAgICAgICAgICAgc3RlcHMucmVuZGVyLnByb2Nlc3MoZnJhbWVEYXRhKTtcbiAgICAgICAgICAgIGZyYW1lRGF0YS5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBkaWRVcGRhdGUoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMudXBkYXRlU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHRoaXMudXBkYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsZWFyQWxsU25hcHNob3RzKCkge1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGNsZWFyU25hcHNob3QpO1xuICAgICAgICAgICAgdGhpcy5zaGFyZWROb2Rlcy5mb3JFYWNoKHJlbW92ZUxlYWRTbmFwc2hvdHMpO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlVXBkYXRlUHJvamVjdGlvbigpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9qZWN0aW9uVXBkYXRlU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uVXBkYXRlU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmcmFtZS5wcmVSZW5kZXIodGhpcy51cGRhdGVQcm9qZWN0aW9uLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVDaGVja0FmdGVyVW5tb3VudCgpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlIHVubW91bnRpbmcgbm9kZSBpcyBpbiBhIGxheW91dEdyb3VwIGFuZCBkaWQgdHJpZ2dlciBhIHdpbGxVcGRhdGUsXG4gICAgICAgICAgICAgKiB3ZSBtYW51YWxseSBjYWxsIGRpZFVwZGF0ZSB0byBnaXZlIGEgY2hhbmNlIHRvIHRoZSBzaWJsaW5ncyB0byBhbmltYXRlLlxuICAgICAgICAgICAgICogT3RoZXJ3aXNlLCBjbGVhbnVwIGFsbCBzbmFwc2hvdHMgdG8gcHJldmVudHMgZnV0dXJlIG5vZGVzIGZyb20gcmV1c2luZyB0aGVtLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmcmFtZS5wb3N0UmVuZGVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0xheW91dERpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdC5kaWRVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdC5jaGVja1VwZGF0ZUZhaWxlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgbWVhc3VyZW1lbnRzXG4gICAgICAgICAqL1xuICAgICAgICB1cGRhdGVTbmFwc2hvdCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNuYXBzaG90IHx8ICF0aGlzLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuc25hcHNob3QgPSB0aGlzLm1lYXN1cmUoKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVMYXlvdXQoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gVE9ETzogSW5jb3Jwb3JhdGUgaW50byBhIGZvcndhcmRlZCBzY3JvbGwgb2Zmc2V0XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICAgICAgaWYgKCEodGhpcy5vcHRpb25zLmFsd2F5c01lYXN1cmVMYXlvdXQgJiYgdGhpcy5pc0xlYWQoKSkgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5pc0xheW91dERpcnR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGVuIGEgbm9kZSBpcyBtb3VudGVkLCBpdCBzaW1wbHkgcmVzdW1lcyBmcm9tIHRoZSBwcmV2TGVhZCdzXG4gICAgICAgICAgICAgKiBzbmFwc2hvdCBpbnN0ZWFkIG9mIHRha2luZyBhIG5ldyBvbmUsIGJ1dCB0aGUgYW5jZXN0b3JzIHNjcm9sbFxuICAgICAgICAgICAgICogbWlnaHQgaGF2ZSB1cGRhdGVkIHdoaWxlIHRoZSBwcmV2TGVhZCBpcyB1bm1vdW50ZWQuIFdlIG5lZWQgdG9cbiAgICAgICAgICAgICAqIHVwZGF0ZSB0aGUgc2Nyb2xsIGFnYWluIHRvIG1ha2Ugc3VyZSB0aGUgbGF5b3V0IHdlIG1lYXN1cmUgaXNcbiAgICAgICAgICAgICAqIHVwIHRvIGRhdGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VtZUZyb20gJiYgIXRoaXMucmVzdW1lRnJvbS5pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudXBkYXRlU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJldkxheW91dCA9IHRoaXMubGF5b3V0O1xuICAgICAgICAgICAgdGhpcy5sYXlvdXQgPSB0aGlzLm1lYXN1cmUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXRDb3JyZWN0ZWQgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgIHRoaXMuaXNMYXlvdXREaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uRGVsdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyhcIm1lYXN1cmVcIiwgdGhpcy5sYXlvdXQubGF5b3V0Qm94KTtcbiAgICAgICAgICAgIGNvbnN0IHsgdmlzdWFsRWxlbWVudCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgdmlzdWFsRWxlbWVudCAmJlxuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQubm90aWZ5KFwiTGF5b3V0TWVhc3VyZVwiLCB0aGlzLmxheW91dC5sYXlvdXRCb3gsIHByZXZMYXlvdXQgPyBwcmV2TGF5b3V0LmxheW91dEJveCA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlU2Nyb2xsKHBoYXNlID0gXCJtZWFzdXJlXCIpIHtcbiAgICAgICAgICAgIGxldCBuZWVkc01lYXN1cmVtZW50ID0gQm9vbGVhbih0aGlzLm9wdGlvbnMubGF5b3V0U2Nyb2xsICYmIHRoaXMuaW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsICYmXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGwuYW5pbWF0aW9uSWQgPT09IHRoaXMucm9vdC5hbmltYXRpb25JZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsLnBoYXNlID09PSBwaGFzZSkge1xuICAgICAgICAgICAgICAgIG5lZWRzTWVhc3VyZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZWVkc01lYXN1cmVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGwgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbklkOiB0aGlzLnJvb3QuYW5pbWF0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgIHBoYXNlLFxuICAgICAgICAgICAgICAgICAgICBpc1Jvb3Q6IGNoZWNrSXNTY3JvbGxSb290KHRoaXMuaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IG1lYXN1cmVTY3JvbGwodGhpcy5pbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXNldFRyYW5zZm9ybSgpIHtcbiAgICAgICAgICAgIGlmICghcmVzZXRUcmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgaXNSZXNldFJlcXVlc3RlZCA9IHRoaXMuaXNMYXlvdXREaXJ0eSB8fCB0aGlzLnNob3VsZFJlc2V0VHJhbnNmb3JtO1xuICAgICAgICAgICAgY29uc3QgaGFzUHJvamVjdGlvbiA9IHRoaXMucHJvamVjdGlvbkRlbHRhICYmICFpc0RlbHRhWmVybyh0aGlzLnByb2plY3Rpb25EZWx0YSk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1UZW1wbGF0ZSA9IHRoaXMuZ2V0VHJhbnNmb3JtVGVtcGxhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVRlbXBsYXRlVmFsdWUgPSB0cmFuc2Zvcm1UZW1wbGF0ZVxuICAgICAgICAgICAgICAgID8gdHJhbnNmb3JtVGVtcGxhdGUodGhpcy5sYXRlc3RWYWx1ZXMsIFwiXCIpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1UZW1wbGF0ZUhhc0NoYW5nZWQgPSB0cmFuc2Zvcm1UZW1wbGF0ZVZhbHVlICE9PSB0aGlzLnByZXZUcmFuc2Zvcm1UZW1wbGF0ZVZhbHVlO1xuICAgICAgICAgICAgaWYgKGlzUmVzZXRSZXF1ZXN0ZWQgJiZcbiAgICAgICAgICAgICAgICAoaGFzUHJvamVjdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICBoYXNUcmFuc2Zvcm0odGhpcy5sYXRlc3RWYWx1ZXMpIHx8XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVRlbXBsYXRlSGFzQ2hhbmdlZCkpIHtcbiAgICAgICAgICAgICAgICByZXNldFRyYW5zZm9ybSh0aGlzLmluc3RhbmNlLCB0cmFuc2Zvcm1UZW1wbGF0ZVZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFJlc2V0VHJhbnNmb3JtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1lYXN1cmUocmVtb3ZlVHJhbnNmb3JtID0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgcGFnZUJveCA9IHRoaXMubWVhc3VyZVBhZ2VCb3goKTtcbiAgICAgICAgICAgIGxldCBsYXlvdXRCb3ggPSB0aGlzLnJlbW92ZUVsZW1lbnRTY3JvbGwocGFnZUJveCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE1lYXN1cmVtZW50cyB0YWtlbiBkdXJpbmcgdGhlIHByZS1yZW5kZXIgc3RhZ2VcbiAgICAgICAgICAgICAqIHN0aWxsIGhhdmUgdHJhbnNmb3JtcyBhcHBsaWVkIHNvIHdlIHJlbW92ZSB0aGVtXG4gICAgICAgICAgICAgKiB2aWEgY2FsY3VsYXRpb24uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChyZW1vdmVUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICBsYXlvdXRCb3ggPSB0aGlzLnJlbW92ZVRyYW5zZm9ybShsYXlvdXRCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm91bmRCb3gobGF5b3V0Qm94KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uSWQ6IHRoaXMucm9vdC5hbmltYXRpb25JZCxcbiAgICAgICAgICAgICAgICBtZWFzdXJlZEJveDogcGFnZUJveCxcbiAgICAgICAgICAgICAgICBsYXlvdXRCb3gsXG4gICAgICAgICAgICAgICAgbGF0ZXN0VmFsdWVzOiB7fSxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIG1lYXN1cmVQYWdlQm94KCkge1xuICAgICAgICAgICAgY29uc3QgeyB2aXN1YWxFbGVtZW50IH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAoIXZpc3VhbEVsZW1lbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29uc3QgYm94ID0gdmlzdWFsRWxlbWVudC5tZWFzdXJlVmlld3BvcnRCb3goKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB2aWV3cG9ydCBzY3JvbGwgdG8gZ2l2ZSBwYWdlLXJlbGF0aXZlIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICBjb25zdCB7IHNjcm9sbCB9ID0gdGhpcy5yb290O1xuICAgICAgICAgICAgaWYgKHNjcm9sbCkge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94LngsIHNjcm9sbC5vZmZzZXQueCk7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlQXhpcyhib3gueSwgc2Nyb2xsLm9mZnNldC55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3g7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlRWxlbWVudFNjcm9sbChib3gpIHtcbiAgICAgICAgICAgIGNvbnN0IGJveFdpdGhvdXRTY3JvbGwgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgIGNvcHlCb3hJbnRvKGJveFdpdGhvdXRTY3JvbGwsIGJveCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBlcmZvcm1hbmNlIFRPRE86IEtlZXAgYSBjdW11bGF0aXZlIHNjcm9sbCBvZmZzZXQgZG93biB0aGUgdHJlZVxuICAgICAgICAgICAgICogcmF0aGVyIHRoYW4gbG9vcCBiYWNrIHVwIHRoZSBwYXRoLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzY3JvbGwsIG9wdGlvbnMgfSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgIT09IHRoaXMucm9vdCAmJiBzY3JvbGwgJiYgb3B0aW9ucy5sYXlvdXRTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIElmIHRoaXMgaXMgYSBuZXcgc2Nyb2xsIHJvb3QsIHdlIHdhbnQgdG8gcmVtb3ZlIGFsbCBwcmV2aW91cyBzY3JvbGxzXG4gICAgICAgICAgICAgICAgICAgICAqIGZyb20gdGhlIHZpZXdwb3J0IGJveC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY3JvbGwuaXNSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5Qm94SW50byhib3hXaXRob3V0U2Nyb2xsLCBib3gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzY3JvbGw6IHJvb3RTY3JvbGwgfSA9IHRoaXMucm9vdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogVW5kbyB0aGUgYXBwbGljYXRpb24gb2YgcGFnZSBzY3JvbGwgdGhhdCB3YXMgb3JpZ2luYWxseSBhZGRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogdG8gdGhlIG1lYXN1cmVkIGJvdW5kaW5nIGJveC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvb3RTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVBeGlzKGJveFdpdGhvdXRTY3JvbGwueCwgLXJvb3RTY3JvbGwub2Zmc2V0LngpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94V2l0aG91dFNjcm9sbC55LCAtcm9vdFNjcm9sbC5vZmZzZXQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlQXhpcyhib3hXaXRob3V0U2Nyb2xsLngsIHNjcm9sbC5vZmZzZXQueCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZUF4aXMoYm94V2l0aG91dFNjcm9sbC55LCBzY3JvbGwub2Zmc2V0LnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3hXaXRob3V0U2Nyb2xsO1xuICAgICAgICB9XG4gICAgICAgIGFwcGx5VHJhbnNmb3JtKGJveCwgdHJhbnNmb3JtT25seSA9IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCB3aXRoVHJhbnNmb3JtcyA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29weUJveEludG8od2l0aFRyYW5zZm9ybXMsIGJveCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zvcm1Pbmx5ICYmXG4gICAgICAgICAgICAgICAgICAgIG5vZGUub3B0aW9ucy5sYXlvdXRTY3JvbGwgJiZcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zY3JvbGwgJiZcbiAgICAgICAgICAgICAgICAgICAgbm9kZSAhPT0gbm9kZS5yb290KSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUJveCh3aXRoVHJhbnNmb3Jtcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogLW5vZGUuc2Nyb2xsLm9mZnNldC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogLW5vZGUuc2Nyb2xsLm9mZnNldC55LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNUcmFuc2Zvcm0obm9kZS5sYXRlc3RWYWx1ZXMpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Cb3god2l0aFRyYW5zZm9ybXMsIG5vZGUubGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNUcmFuc2Zvcm0odGhpcy5sYXRlc3RWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtQm94KHdpdGhUcmFuc2Zvcm1zLCB0aGlzLmxhdGVzdFZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2l0aFRyYW5zZm9ybXM7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVHJhbnNmb3JtKGJveCkge1xuICAgICAgICAgICAgY29uc3QgYm94V2l0aG91dFRyYW5zZm9ybSA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgY29weUJveEludG8oYm94V2l0aG91dFRyYW5zZm9ybSwgYm94KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMucGF0aFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICghaGFzVHJhbnNmb3JtKG5vZGUubGF0ZXN0VmFsdWVzKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgaGFzU2NhbGUobm9kZS5sYXRlc3RWYWx1ZXMpICYmIG5vZGUudXBkYXRlU25hcHNob3QoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VCb3ggPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlQm94ID0gbm9kZS5tZWFzdXJlUGFnZUJveCgpO1xuICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHNvdXJjZUJveCwgbm9kZUJveCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQm94VHJhbnNmb3Jtcyhib3hXaXRob3V0VHJhbnNmb3JtLCBub2RlLmxhdGVzdFZhbHVlcywgbm9kZS5zbmFwc2hvdCA/IG5vZGUuc25hcHNob3QubGF5b3V0Qm94IDogdW5kZWZpbmVkLCBzb3VyY2VCb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc1RyYW5zZm9ybSh0aGlzLmxhdGVzdFZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVCb3hUcmFuc2Zvcm1zKGJveFdpdGhvdXRUcmFuc2Zvcm0sIHRoaXMubGF0ZXN0VmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3hXaXRob3V0VHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHNldFRhcmdldERlbHRhKGRlbHRhKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldERlbHRhID0gZGVsdGE7XG4gICAgICAgICAgICB0aGlzLnJvb3Quc2NoZWR1bGVVcGRhdGVQcm9qZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmlzUHJvamVjdGlvbkRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBjcm9zc2ZhZGU6IG9wdGlvbnMuY3Jvc3NmYWRlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNyb3NzZmFkZSA6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyTWVhc3VyZW1lbnRzKCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmxheW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuc25hcHNob3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLnByZXZUcmFuc2Zvcm1UZW1wbGF0ZVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy50YXJnZXREZWx0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5pc0xheW91dERpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yY2VSZWxhdGl2ZVBhcmVudFRvUmVzb2x2ZVRhcmdldCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWxhdGl2ZVBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZSBwYXJlbnQgdGFyZ2V0IGlzbid0IHVwLXRvLWRhdGUsIGZvcmNlIGl0IHRvIHVwZGF0ZS5cbiAgICAgICAgICAgICAqIFRoaXMgaXMgYW4gdW5mb3J0dW5hdGUgZGUtb3B0aW1pc2F0aW9uIGFzIGl0IG1lYW5zIGFueSB1cGRhdGluZyByZWxhdGl2ZVxuICAgICAgICAgICAgICogcHJvamVjdGlvbiB3aWxsIGNhdXNlIGFsbCB0aGUgcmVsYXRpdmUgcGFyZW50cyB0byByZWNhbGN1bGF0ZSBiYWNrXG4gICAgICAgICAgICAgKiB1cCB0aGUgdHJlZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucmVsYXRpdmVQYXJlbnQucmVzb2x2ZWRSZWxhdGl2ZVRhcmdldEF0ICE9PVxuICAgICAgICAgICAgICAgIGZyYW1lRGF0YS50aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlUGFyZW50LnJlc29sdmVUYXJnZXREZWx0YSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlVGFyZ2V0RGVsdGEoZm9yY2VSZWNhbGN1bGF0aW9uID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT25jZSB0aGUgZGlydHkgc3RhdHVzIG9mIG5vZGVzIGhhcyBiZWVuIHNwcmVhZCB0aHJvdWdoIHRoZSB0cmVlLCB3ZSBhbHNvXG4gICAgICAgICAgICAgKiBuZWVkIHRvIGNoZWNrIGlmIHdlIGhhdmUgYSBzaGFyZWQgbm9kZSBvZiBhIGRpZmZlcmVudCBkZXB0aCB0aGF0IGhhcyBpdHNlbGZcbiAgICAgICAgICAgICAqIGJlZW4gZGlydGllZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgbGVhZCA9IHRoaXMuZ2V0TGVhZCgpO1xuICAgICAgICAgICAgdGhpcy5pc1Byb2plY3Rpb25EaXJ0eSB8fCAodGhpcy5pc1Byb2plY3Rpb25EaXJ0eSA9IGxlYWQuaXNQcm9qZWN0aW9uRGlydHkpO1xuICAgICAgICAgICAgdGhpcy5pc1RyYW5zZm9ybURpcnR5IHx8ICh0aGlzLmlzVHJhbnNmb3JtRGlydHkgPSBsZWFkLmlzVHJhbnNmb3JtRGlydHkpO1xuICAgICAgICAgICAgdGhpcy5pc1NoYXJlZFByb2plY3Rpb25EaXJ0eSB8fCAodGhpcy5pc1NoYXJlZFByb2plY3Rpb25EaXJ0eSA9IGxlYWQuaXNTaGFyZWRQcm9qZWN0aW9uRGlydHkpO1xuICAgICAgICAgICAgY29uc3QgaXNTaGFyZWQgPSBCb29sZWFuKHRoaXMucmVzdW1pbmdGcm9tKSB8fCB0aGlzICE9PSBsZWFkO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXZSBkb24ndCB1c2UgdHJhbnNmb3JtIGZvciB0aGlzIHN0ZXAgb2YgcHJvY2Vzc2luZyBzbyB3ZSBkb24ndFxuICAgICAgICAgICAgICogbmVlZCB0byBjaGVjayB3aGV0aGVyIGFueSBub2RlcyBoYXZlIGNoYW5nZWQgdHJhbnNmb3JtLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBjYW5Ta2lwID0gIShmb3JjZVJlY2FsY3VsYXRpb24gfHxcbiAgICAgICAgICAgICAgICAoaXNTaGFyZWQgJiYgdGhpcy5pc1NoYXJlZFByb2plY3Rpb25EaXJ0eSkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmlzUHJvamVjdGlvbkRpcnR5IHx8XG4gICAgICAgICAgICAgICAgKChfYSA9IHRoaXMucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNQcm9qZWN0aW9uRGlydHkpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRlbXB0VG9SZXNvbHZlUmVsYXRpdmVUYXJnZXQpO1xuICAgICAgICAgICAgaWYgKGNhblNraXApXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXQsIGxheW91dElkIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGhhdmUgbm8gbGF5b3V0LCB3ZSBjYW4ndCBwZXJmb3JtIHByb2plY3Rpb24sIHNvIGVhcmx5IHJldHVyblxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIXRoaXMubGF5b3V0IHx8ICEobGF5b3V0IHx8IGxheW91dElkKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnJlc29sdmVkUmVsYXRpdmVUYXJnZXRBdCA9IGZyYW1lRGF0YS50aW1lc3RhbXA7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGRvbid0IGhhdmUgYSB0YXJnZXREZWx0YSBidXQgZG8gaGF2ZSBhIGxheW91dCwgd2UgY2FuIGF0dGVtcHQgdG8gcmVzb2x2ZVxuICAgICAgICAgICAgICogYSByZWxhdGl2ZVBhcmVudC4gVGhpcyB3aWxsIGFsbG93IGEgY29tcG9uZW50IHRvIHBlcmZvcm0gc2NhbGUgY29ycmVjdGlvblxuICAgICAgICAgICAgICogZXZlbiBpZiBubyBhbmltYXRpb24gaGFzIHN0YXJ0ZWQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIFRPRE8gSWYgdGhpcyBpcyB1bnN1Y2Nlc3NmdWwgdGhpcyBjdXJyZW50bHkgaGFwcGVucyBldmVyeSBmcmFtZVxuICAgICAgICAgICAgaWYgKCF0aGlzLnRhcmdldERlbHRhICYmICF0aGlzLnJlbGF0aXZlVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGhpcyBpcyBhIHNlbWktcmVwZXRpdGlvbiBvZiBmdXJ0aGVyIGRvd24gdGhpcyBmdW5jdGlvbiwgbWFrZSBEUllcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhcmVudCA9IHRoaXMuZ2V0Q2xvc2VzdFByb2plY3RpbmdQYXJlbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmVQYXJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXJlbnQubGF5b3V0ICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uUHJvZ3Jlc3MgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCA9IHJlbGF0aXZlUGFyZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcmNlUmVsYXRpdmVQYXJlbnRUb1Jlc29sdmVUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRhcmdldCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGNSZWxhdGl2ZVBvc2l0aW9uKHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4sIHRoaXMubGF5b3V0LmxheW91dEJveCwgcmVsYXRpdmVQYXJlbnQubGF5b3V0LmxheW91dEJveCk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMucmVsYXRpdmVUYXJnZXQsIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCA9IHRoaXMucmVsYXRpdmVUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSBoYXZlIG5vIHJlbGF0aXZlIHRhcmdldCBvciBubyB0YXJnZXQgZGVsdGEgb3VyIHRhcmdldCBpc24ndCB2YWxpZFxuICAgICAgICAgICAgICogZm9yIHRoaXMgZnJhbWUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICghdGhpcy5yZWxhdGl2ZVRhcmdldCAmJiAhdGhpcy50YXJnZXREZWx0YSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIExhenktaW5pdCB0YXJnZXQgZGF0YSBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXRXaXRoVHJhbnNmb3JtcyA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSd2ZSBnb3QgYSByZWxhdGl2ZSBib3ggZm9yIHRoaXMgY29tcG9uZW50LCByZXNvbHZlIGl0IGludG8gYSB0YXJnZXQgcmVsYXRpdmUgdG8gdGhlIHBhcmVudC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucmVsYXRpdmVUYXJnZXQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luICYmXG4gICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCAmJlxuICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVQYXJlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JjZVJlbGF0aXZlUGFyZW50VG9SZXNvbHZlVGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlQm94KHRoaXMudGFyZ2V0LCB0aGlzLnJlbGF0aXZlVGFyZ2V0LCB0aGlzLnJlbGF0aXZlUGFyZW50LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgd2UndmUgb25seSBnb3QgYSB0YXJnZXREZWx0YSwgcmVzb2x2ZSBpdCBpbnRvIGEgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRhcmdldERlbHRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKEJvb2xlYW4odGhpcy5yZXN1bWluZ0Zyb20pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFRoaXMgaXMgY3JlYXRpbmcgYSBuZXcgb2JqZWN0IGV2ZXJ5IGZyYW1lXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5hcHBseVRyYW5zZm9ybSh0aGlzLmxheW91dC5sYXlvdXRCb3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29weUJveEludG8odGhpcy50YXJnZXQsIHRoaXMubGF5b3V0LmxheW91dEJveCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFwcGx5Qm94RGVsdGEodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0RGVsdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgbm8gdGFyZ2V0LCB1c2Ugb3duIGxheW91dCBhcyB0YXJnZXRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBjb3B5Qm94SW50byh0aGlzLnRhcmdldCwgdGhpcy5sYXlvdXQubGF5b3V0Qm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UndmUgYmVlbiB0b2xkIHRvIGF0dGVtcHQgdG8gcmVzb2x2ZSBhIHJlbGF0aXZlIHRhcmdldCwgZG8gc28uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmF0dGVtcHRUb1Jlc29sdmVSZWxhdGl2ZVRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFRvUmVzb2x2ZVJlbGF0aXZlVGFyZ2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXJlbnQgPSB0aGlzLmdldENsb3Nlc3RQcm9qZWN0aW5nUGFyZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGFyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIEJvb2xlYW4ocmVsYXRpdmVQYXJlbnQucmVzdW1pbmdGcm9tKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIEJvb2xlYW4odGhpcy5yZXN1bWluZ0Zyb20pICYmXG4gICAgICAgICAgICAgICAgICAgICFyZWxhdGl2ZVBhcmVudC5vcHRpb25zLmxheW91dFNjcm9sbCAmJlxuICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhcmVudC50YXJnZXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Qcm9ncmVzcyAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlUGFyZW50ID0gcmVsYXRpdmVQYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yY2VSZWxhdGl2ZVBhcmVudFRvUmVzb2x2ZVRhcmdldCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlVGFyZ2V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4gPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlUG9zaXRpb24odGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiwgdGhpcy50YXJnZXQsIHJlbGF0aXZlUGFyZW50LnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRoaXMucmVsYXRpdmVUYXJnZXQsIHRoaXMucmVsYXRpdmVUYXJnZXRPcmlnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVBhcmVudCA9IHRoaXMucmVsYXRpdmVUYXJnZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbmNyZWFzZSBkZWJ1ZyBjb3VudGVyIGZvciByZXNvbHZlZCB0YXJnZXQgZGVsdGFzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHByb2plY3Rpb25GcmFtZURhdGEucmVzb2x2ZWRUYXJnZXREZWx0YXMrKztcbiAgICAgICAgfVxuICAgICAgICBnZXRDbG9zZXN0UHJvamVjdGluZ1BhcmVudCgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQgfHxcbiAgICAgICAgICAgICAgICBoYXNTY2FsZSh0aGlzLnBhcmVudC5sYXRlc3RWYWx1ZXMpIHx8XG4gICAgICAgICAgICAgICAgaGFzMkRUcmFuc2xhdGUodGhpcy5wYXJlbnQubGF0ZXN0VmFsdWVzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuaXNQcm9qZWN0aW5nKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0Q2xvc2VzdFByb2plY3RpbmdQYXJlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpc1Byb2plY3RpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbigodGhpcy5yZWxhdGl2ZVRhcmdldCB8fFxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0RGVsdGEgfHxcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMubGF5b3V0Um9vdCkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmxheW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsY1Byb2plY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBsZWFkID0gdGhpcy5nZXRMZWFkKCk7XG4gICAgICAgICAgICBjb25zdCBpc1NoYXJlZCA9IEJvb2xlYW4odGhpcy5yZXN1bWluZ0Zyb20pIHx8IHRoaXMgIT09IGxlYWQ7XG4gICAgICAgICAgICBsZXQgY2FuU2tpcCA9IHRydWU7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgaXMgYSBub3JtYWwgbGF5b3V0IGFuaW1hdGlvbiBhbmQgbmVpdGhlciB0aGlzIG5vZGUgbm9yIGl0cyBuZWFyZXN0IHByb2plY3RpbmdcbiAgICAgICAgICAgICAqIGlzIGRpcnR5IHRoZW4gd2UgY2FuJ3Qgc2tpcC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQcm9qZWN0aW9uRGlydHkgfHwgKChfYSA9IHRoaXMucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNQcm9qZWN0aW9uRGlydHkpKSB7XG4gICAgICAgICAgICAgICAgY2FuU2tpcCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIGlzIGEgc2hhcmVkIGxheW91dCBhbmltYXRpb24gYW5kIHRoaXMgbm9kZSdzIHNoYXJlZCBwcm9qZWN0aW9uIGlzIGRpcnR5IHRoZW5cbiAgICAgICAgICAgICAqIHdlIGNhbid0IHNraXAuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpc1NoYXJlZCAmJlxuICAgICAgICAgICAgICAgICh0aGlzLmlzU2hhcmVkUHJvamVjdGlvbkRpcnR5IHx8IHRoaXMuaXNUcmFuc2Zvcm1EaXJ0eSkpIHtcbiAgICAgICAgICAgICAgICBjYW5Ta2lwID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHdlIGhhdmUgcmVzb2x2ZWQgdGhlIHRhcmdldCB0aGlzIGZyYW1lIHdlIG11c3QgcmVjYWxjdWxhdGUgdGhlXG4gICAgICAgICAgICAgKiBwcm9qZWN0aW9uIHRvIGVuc3VyZSBpdCB2aXN1YWxseSByZXByZXNlbnRzIHRoZSBpbnRlcm5hbCBjYWxjdWxhdGlvbnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnJlc29sdmVkUmVsYXRpdmVUYXJnZXRBdCA9PT0gZnJhbWVEYXRhLnRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIGNhblNraXAgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5Ta2lwKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0LCBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIHNlY3Rpb24gb2YgdGhlIHRyZWUgaXNuJ3QgYW5pbWF0aW5nIHdlIGNhblxuICAgICAgICAgICAgICogZGVsZXRlIG91ciB0YXJnZXQgc291cmNlcyBmb3IgdGhlIGZvbGxvd2luZyBmcmFtZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5pc1RyZWVBbmltYXRpbmcgPSBCb29sZWFuKCh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5pc1RyZWVBbmltYXRpbmcpIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQW5pbWF0aW9uKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1RyZWVBbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldERlbHRhID0gdGhpcy5yZWxhdGl2ZVRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5sYXlvdXQgfHwgIShsYXlvdXQgfHwgbGF5b3V0SWQpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVzZXQgdGhlIGNvcnJlY3RlZCBib3ggd2l0aCB0aGUgbGF0ZXN0IHZhbHVlcyBmcm9tIGJveCwgYXMgd2UncmUgdGhlbiBnb2luZ1xuICAgICAgICAgICAgICogdG8gcGVyZm9ybSBtdXRhdGl2ZSBvcGVyYXRpb25zIG9uIGl0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb3B5Qm94SW50byh0aGlzLmxheW91dENvcnJlY3RlZCwgdGhpcy5sYXlvdXQubGF5b3V0Qm94KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVjb3JkIHByZXZpb3VzIHRyZWUgc2NhbGVzIGJlZm9yZSB1cGRhdGluZy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgcHJldlRyZWVTY2FsZVggPSB0aGlzLnRyZWVTY2FsZS54O1xuICAgICAgICAgICAgY29uc3QgcHJldlRyZWVTY2FsZVkgPSB0aGlzLnRyZWVTY2FsZS55O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBcHBseSBhbGwgdGhlIHBhcmVudCBkZWx0YXMgdG8gdGhpcyBib3ggdG8gcHJvZHVjZSB0aGUgY29ycmVjdGVkIGJveC4gVGhpc1xuICAgICAgICAgICAgICogaXMgdGhlIGxheW91dCBib3gsIGFzIGl0IHdpbGwgYXBwZWFyIG9uIHNjcmVlbiBhcyBhIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtcyBvZiBpdHMgcGFyZW50cy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYXBwbHlUcmVlRGVsdGFzKHRoaXMubGF5b3V0Q29ycmVjdGVkLCB0aGlzLnRyZWVTY2FsZSwgdGhpcy5wYXRoLCBpc1NoYXJlZCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgbGF5ZXIgbmVlZHMgdG8gcGVyZm9ybSBzY2FsZSBjb3JyZWN0aW9uIGJ1dCBkb2Vzbid0IGhhdmUgYSB0YXJnZXQsXG4gICAgICAgICAgICAgKiB1c2UgdGhlIGxheW91dCBhcyB0aGUgdGFyZ2V0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAobGVhZC5sYXlvdXQgJiZcbiAgICAgICAgICAgICAgICAhbGVhZC50YXJnZXQgJiZcbiAgICAgICAgICAgICAgICAodGhpcy50cmVlU2NhbGUueCAhPT0gMSB8fCB0aGlzLnRyZWVTY2FsZS55ICE9PSAxKSkge1xuICAgICAgICAgICAgICAgIGxlYWQudGFyZ2V0ID0gbGVhZC5sYXlvdXQubGF5b3V0Qm94O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGxlYWQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHdlIGRvbid0IGhhdmUgYSB0YXJnZXQgdG8gcHJvamVjdCBpbnRvLCBidXQgd2Ugd2VyZSBwcmV2aW91c2x5XG4gICAgICAgICAgICAgICAgICogcHJvamVjdGluZywgd2Ugd2FudCB0byByZW1vdmUgdGhlIHN0b3JlZCB0cmFuc2Zvcm0gYW5kIHNjaGVkdWxlXG4gICAgICAgICAgICAgICAgICogYSByZW5kZXIgdG8gZW5zdXJlIHRoZSBlbGVtZW50cyByZWZsZWN0IHRoZSByZW1vdmVkIHRyYW5zZm9ybS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9qZWN0aW9uVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbkRlbHRhID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uVHJhbnNmb3JtID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnByb2plY3Rpb25EZWx0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbkRlbHRhID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3Rpb25EZWx0YVdpdGhUcmFuc2Zvcm0gPSBjcmVhdGVEZWx0YSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJldlByb2plY3Rpb25UcmFuc2Zvcm0gPSB0aGlzLnByb2plY3Rpb25UcmFuc2Zvcm07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSB0aGUgZGVsdGEgYmV0d2VlbiB0aGUgY29ycmVjdGVkIGJveCBhbmQgdGhlIHRhcmdldCBib3ggYmVmb3JlIHVzZXItc2V0IHRyYW5zZm9ybXMgd2VyZSBhcHBsaWVkLlxuICAgICAgICAgICAgICogVGhpcyB3aWxsIGFsbG93IHVzIHRvIGNhbGN1bGF0ZSB0aGUgY29ycmVjdGVkIGJvcmRlclJhZGl1cyBhbmQgYm94U2hhZG93IHRvIGNvbXBlbnNhdGVcbiAgICAgICAgICAgICAqIGZvciBvdXIgbGF5b3V0IHJlcHJvamVjdGlvbiwgYnV0IHN0aWxsIGFsbG93IHRoZW0gdG8gYmUgc2NhbGVkIGNvcnJlY3RseSBieSB0aGUgdXNlci5cbiAgICAgICAgICAgICAqIEl0IG1pZ2h0IGJlIHRoYXQgdG8gc2ltcGxpZnkgdGhpcyB3ZSBtYXkgd2FudCB0byBhY2NlcHQgdGhhdCB1c2VyLXNldCBzY2FsZSBpcyBhbHNvIGNvcnJlY3RlZFxuICAgICAgICAgICAgICogYW5kIHdlIHdvdWxkbid0IGhhdmUgdG8ga2VlcCBhbmQgY2FsYyBib3RoIGRlbHRhcywgT1Igd2UgY291bGQgc3VwcG9ydCBhIHVzZXIgc2V0dGluZ1xuICAgICAgICAgICAgICogdG8gYWxsb3cgcGVvcGxlIHRvIGNob29zZSB3aGV0aGVyIHRoZXNlIHN0eWxlcyBhcmUgY29ycmVjdGVkIGJhc2VkIG9uIGp1c3QgdGhlXG4gICAgICAgICAgICAgKiBsYXlvdXQgcmVwcm9qZWN0aW9uIG9yIHRoZSBmaW5hbCBib3VuZGluZyBib3guXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNhbGNCb3hEZWx0YSh0aGlzLnByb2plY3Rpb25EZWx0YSwgdGhpcy5sYXlvdXRDb3JyZWN0ZWQsIHRhcmdldCwgdGhpcy5sYXRlc3RWYWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uVHJhbnNmb3JtID0gYnVpbGRQcm9qZWN0aW9uVHJhbnNmb3JtKHRoaXMucHJvamVjdGlvbkRlbHRhLCB0aGlzLnRyZWVTY2FsZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9qZWN0aW9uVHJhbnNmb3JtICE9PSBwcmV2UHJvamVjdGlvblRyYW5zZm9ybSB8fFxuICAgICAgICAgICAgICAgIHRoaXMudHJlZVNjYWxlLnggIT09IHByZXZUcmVlU2NhbGVYIHx8XG4gICAgICAgICAgICAgICAgdGhpcy50cmVlU2NhbGUueSAhPT0gcHJldlRyZWVTY2FsZVkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1Byb2plY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwicHJvamVjdGlvblVwZGF0ZVwiLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbmNyZWFzZSBkZWJ1ZyBjb3VudGVyIGZvciByZWNhbGN1bGF0ZWQgcHJvamVjdGlvbnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcHJvamVjdGlvbkZyYW1lRGF0YS5yZWNhbGN1bGF0ZWRQcm9qZWN0aW9uKys7XG4gICAgICAgIH1cbiAgICAgICAgaGlkZSgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBUT0RPOiBTY2hlZHVsZSByZW5kZXJcbiAgICAgICAgfVxuICAgICAgICBzaG93KCkge1xuICAgICAgICAgICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gVE9ETzogU2NoZWR1bGUgcmVuZGVyXG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVSZW5kZXIobm90aWZ5QWxsID0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNjaGVkdWxlUmVuZGVyICYmIHRoaXMub3B0aW9ucy5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICAgICAgaWYgKG5vdGlmeUFsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5nZXRTdGFjaygpO1xuICAgICAgICAgICAgICAgIHN0YWNrICYmIHN0YWNrLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yZXN1bWluZ0Zyb20gJiYgIXRoaXMucmVzdW1pbmdGcm9tLmluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0QW5pbWF0aW9uT3JpZ2luKGRlbHRhLCBoYXNPbmx5UmVsYXRpdmVUYXJnZXRDaGFuZ2VkID0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90ID0gdGhpcy5zbmFwc2hvdDtcbiAgICAgICAgICAgIGNvbnN0IHNuYXBzaG90TGF0ZXN0VmFsdWVzID0gc25hcHNob3RcbiAgICAgICAgICAgICAgICA/IHNuYXBzaG90LmxhdGVzdFZhbHVlc1xuICAgICAgICAgICAgICAgIDoge307XG4gICAgICAgICAgICBjb25zdCBtaXhlZFZhbHVlcyA9IHsgLi4udGhpcy5sYXRlc3RWYWx1ZXMgfTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldERlbHRhID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWxhdGl2ZVBhcmVudCB8fFxuICAgICAgICAgICAgICAgICF0aGlzLnJlbGF0aXZlUGFyZW50Lm9wdGlvbnMubGF5b3V0Um9vdCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVUYXJnZXQgPSB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0VG9SZXNvbHZlUmVsYXRpdmVUYXJnZXQgPSAhaGFzT25seVJlbGF0aXZlVGFyZ2V0Q2hhbmdlZDtcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlTGF5b3V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICBjb25zdCBzbmFwc2hvdFNvdXJjZSA9IHNuYXBzaG90ID8gc25hcHNob3Quc291cmNlIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgbGF5b3V0U291cmNlID0gdGhpcy5sYXlvdXQgPyB0aGlzLmxheW91dC5zb3VyY2UgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpc1NoYXJlZExheW91dEFuaW1hdGlvbiA9IHNuYXBzaG90U291cmNlICE9PSBsYXlvdXRTb3VyY2U7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIGNvbnN0IGlzT25seU1lbWJlciA9ICFzdGFjayB8fCBzdGFjay5tZW1iZXJzLmxlbmd0aCA8PSAxO1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkQ3Jvc3NmYWRlT3BhY2l0eSA9IEJvb2xlYW4oaXNTaGFyZWRMYXlvdXRBbmltYXRpb24gJiZcbiAgICAgICAgICAgICAgICAhaXNPbmx5TWVtYmVyICYmXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmNyb3NzZmFkZSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLnBhdGguc29tZShoYXNPcGFjaXR5Q3Jvc3NmYWRlKSk7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblByb2dyZXNzID0gMDtcbiAgICAgICAgICAgIGxldCBwcmV2UmVsYXRpdmVUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLm1peFRhcmdldERlbHRhID0gKGxhdGVzdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gbGF0ZXN0IC8gMTAwMDtcbiAgICAgICAgICAgICAgICBtaXhBeGlzRGVsdGEodGFyZ2V0RGVsdGEueCwgZGVsdGEueCwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIG1peEF4aXNEZWx0YSh0YXJnZXREZWx0YS55LCBkZWx0YS55LCBwcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUYXJnZXREZWx0YSh0YXJnZXREZWx0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVsYXRpdmVUYXJnZXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZVRhcmdldE9yaWdpbiAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxheW91dCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlUGFyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVsYXRpdmVQYXJlbnQubGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGNSZWxhdGl2ZVBvc2l0aW9uKHJlbGF0aXZlTGF5b3V0LCB0aGlzLmxheW91dC5sYXlvdXRCb3gsIHRoaXMucmVsYXRpdmVQYXJlbnQubGF5b3V0LmxheW91dEJveCk7XG4gICAgICAgICAgICAgICAgICAgIG1peEJveCh0aGlzLnJlbGF0aXZlVGFyZ2V0LCB0aGlzLnJlbGF0aXZlVGFyZ2V0T3JpZ2luLCByZWxhdGl2ZUxheW91dCwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogSWYgdGhpcyBpcyBhbiB1bmNoYW5nZWQgcmVsYXRpdmUgdGFyZ2V0IHdlIGNhbiBjb25zaWRlciB0aGVcbiAgICAgICAgICAgICAgICAgICAgICogcHJvamVjdGlvbiBub3QgZGlydHkuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldlJlbGF0aXZlVGFyZ2V0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hFcXVhbHModGhpcy5yZWxhdGl2ZVRhcmdldCwgcHJldlJlbGF0aXZlVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1Byb2plY3Rpb25EaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJldlJlbGF0aXZlVGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlJlbGF0aXZlVGFyZ2V0ID0gY3JlYXRlQm94KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHlCb3hJbnRvKHByZXZSZWxhdGl2ZVRhcmdldCwgdGhpcy5yZWxhdGl2ZVRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc1NoYXJlZExheW91dEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblZhbHVlcyA9IG1peGVkVmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICBtaXhWYWx1ZXMobWl4ZWRWYWx1ZXMsIHNuYXBzaG90TGF0ZXN0VmFsdWVzLCB0aGlzLmxhdGVzdFZhbHVlcywgcHJvZ3Jlc3MsIHNob3VsZENyb3NzZmFkZU9wYWNpdHksIGlzT25seU1lbWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucm9vdC5zY2hlZHVsZVVwZGF0ZVByb2plY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Qcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMubWl4VGFyZ2V0RGVsdGEodGhpcy5vcHRpb25zLmxheW91dFJvb3QgPyAxMDAwIDogMCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnRBbmltYXRpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoXCJhbmltYXRpb25TdGFydFwiKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbiAmJiB0aGlzLmN1cnJlbnRBbmltYXRpb24uc3RvcCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzdW1pbmdGcm9tICYmIHRoaXMucmVzdW1pbmdGcm9tLmN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VtaW5nRnJvbS5jdXJyZW50QW5pbWF0aW9uLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxGcmFtZSh0aGlzLnBlbmRpbmdBbmltYXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0FuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RhcnQgdGhlIGFuaW1hdGlvbiBpbiB0aGUgbmV4dCBmcmFtZSB0byBoYXZlIGEgZnJhbWUgd2l0aCBwcm9ncmVzcyAwLFxuICAgICAgICAgICAgICogd2hlcmUgdGhlIHRhcmdldCBpcyB0aGUgc2FtZSBhcyB3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRlZCwgc28gd2UgY2FuXG4gICAgICAgICAgICAgKiBjYWxjdWxhdGUgdGhlIHJlbGF0aXZlIHBvc2l0aW9ucyBjb3JyZWN0bHkgZm9yIGluc3RhbnQgdHJhbnNpdGlvbnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0FuaW1hdGlvbiA9IGZyYW1lLnVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZ2xvYmFsUHJvamVjdGlvblN0YXRlLmhhc0FuaW1hdGVkU2luY2VSZXNpemUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbiA9IGFuaW1hdGVTaW5nbGVWYWx1ZSgwLCBhbmltYXRpb25UYXJnZXQsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU6IChsYXRlc3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWl4VGFyZ2V0RGVsdGEobGF0ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25VcGRhdGUgJiYgb3B0aW9ucy5vblVwZGF0ZShsYXRlc3QpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uQ29tcGxldGUgJiYgb3B0aW9ucy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdW1pbmdGcm9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdW1pbmdGcm9tLmN1cnJlbnRBbmltYXRpb24gPSB0aGlzLmN1cnJlbnRBbmltYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0FuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBsZXRlQW5pbWF0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVzdW1pbmdGcm9tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20uY3VycmVudEFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VtaW5nRnJvbS5wcmVzZXJ2ZU9wYWNpdHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IHRoaXMuZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIHN0YWNrICYmIHN0YWNrLmV4aXRBbmltYXRpb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bWluZ0Zyb20gPVxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVmFsdWVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKFwiYW5pbWF0aW9uQ29tcGxldGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoQW5pbWF0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMubWl4VGFyZ2V0RGVsdGEgJiYgdGhpcy5taXhUYXJnZXREZWx0YShhbmltYXRpb25UYXJnZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgYXBwbHlUcmFuc2Zvcm1zVG9UYXJnZXQoKSB7XG4gICAgICAgICAgICBjb25zdCBsZWFkID0gdGhpcy5nZXRMZWFkKCk7XG4gICAgICAgICAgICBsZXQgeyB0YXJnZXRXaXRoVHJhbnNmb3JtcywgdGFyZ2V0LCBsYXlvdXQsIGxhdGVzdFZhbHVlcyB9ID0gbGVhZDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0V2l0aFRyYW5zZm9ybXMgfHwgIXRhcmdldCB8fCAhbGF5b3V0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UncmUgb25seSBhbmltYXRpbmcgcG9zaXRpb24sIGFuZCB0aGlzIGVsZW1lbnQgaXNuJ3QgdGhlIGxlYWQgZWxlbWVudCxcbiAgICAgICAgICAgICAqIHRoZW4gaW5zdGVhZCBvZiBwcm9qZWN0aW5nIGludG8gdGhlIGxlYWQgYm94IHdlIGluc3RlYWQgd2FudCB0byBjYWxjdWxhdGVcbiAgICAgICAgICAgICAqIGEgbmV3IHRhcmdldCB0aGF0IGFsaWducyB0aGUgdHdvIGJveGVzIGJ1dCBtYWludGFpbnMgdGhlIGxheW91dCBzaGFwZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMgIT09IGxlYWQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmxheW91dCAmJlxuICAgICAgICAgICAgICAgIGxheW91dCAmJlxuICAgICAgICAgICAgICAgIHNob3VsZEFuaW1hdGVQb3NpdGlvbk9ubHkodGhpcy5vcHRpb25zLmFuaW1hdGlvblR5cGUsIHRoaXMubGF5b3V0LmxheW91dEJveCwgbGF5b3V0LmxheW91dEJveCkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0aGlzLnRhcmdldCB8fCBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICBjb25zdCB4TGVuZ3RoID0gY2FsY0xlbmd0aCh0aGlzLmxheW91dC5sYXlvdXRCb3gueCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LngubWluID0gbGVhZC50YXJnZXQueC5taW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0LngubWF4ID0gdGFyZ2V0LngubWluICsgeExlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCB5TGVuZ3RoID0gY2FsY0xlbmd0aCh0aGlzLmxheW91dC5sYXlvdXRCb3gueSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnkubWluID0gbGVhZC50YXJnZXQueS5taW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnkubWF4ID0gdGFyZ2V0LnkubWluICsgeUxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvcHlCb3hJbnRvKHRhcmdldFdpdGhUcmFuc2Zvcm1zLCB0YXJnZXQpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBcHBseSB0aGUgbGF0ZXN0IHVzZXItc2V0IHRyYW5zZm9ybXMgdG8gdGhlIHRhcmdldEJveCB0byBwcm9kdWNlIHRoZSB0YXJnZXRCb3hGaW5hbC5cbiAgICAgICAgICAgICAqIFRoaXMgaXMgdGhlIGZpbmFsIGJveCB0aGF0IHdlIHdpbGwgdGhlbiBwcm9qZWN0IGludG8gYnkgY2FsY3VsYXRpbmcgYSB0cmFuc2Zvcm0gZGVsdGEgYW5kXG4gICAgICAgICAgICAgKiBhcHBseWluZyBpdCB0byB0aGUgY29ycmVjdGVkIGJveC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdHJhbnNmb3JtQm94KHRhcmdldFdpdGhUcmFuc2Zvcm1zLCBsYXRlc3RWYWx1ZXMpO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVcGRhdGUgdGhlIGRlbHRhIGJldHdlZW4gdGhlIGNvcnJlY3RlZCBib3ggYW5kIHRoZSBmaW5hbCB0YXJnZXQgYm94LCBhZnRlclxuICAgICAgICAgICAgICogdXNlci1zZXQgdHJhbnNmb3JtcyBhcmUgYXBwbGllZCB0byBpdC4gVGhpcyB3aWxsIGJlIHVzZWQgYnkgdGhlIHJlbmRlcmVyIHRvXG4gICAgICAgICAgICAgKiBjcmVhdGUgYSB0cmFuc2Zvcm0gc3R5bGUgdGhhdCB3aWxsIHJlcHJvamVjdCB0aGUgZWxlbWVudCBmcm9tIGl0cyBsYXlvdXQgbGF5b3V0XG4gICAgICAgICAgICAgKiBpbnRvIHRoZSBkZXNpcmVkIGJvdW5kaW5nIGJveC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY2FsY0JveERlbHRhKHRoaXMucHJvamVjdGlvbkRlbHRhV2l0aFRyYW5zZm9ybSwgdGhpcy5sYXlvdXRDb3JyZWN0ZWQsIHRhcmdldFdpdGhUcmFuc2Zvcm1zLCBsYXRlc3RWYWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJlZ2lzdGVyU2hhcmVkTm9kZShsYXlvdXRJZCwgbm9kZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNoYXJlZE5vZGVzLmhhcyhsYXlvdXRJZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXJlZE5vZGVzLnNldChsYXlvdXRJZCwgbmV3IE5vZGVTdGFjaygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5zaGFyZWROb2Rlcy5nZXQobGF5b3V0SWQpO1xuICAgICAgICAgICAgc3RhY2suYWRkKG5vZGUpO1xuICAgICAgICAgICAgY29uc3QgY29uZmlnID0gbm9kZS5vcHRpb25zLmluaXRpYWxQcm9tb3Rpb25Db25maWc7XG4gICAgICAgICAgICBub2RlLnByb21vdGUoe1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGNvbmZpZyA/IGNvbmZpZy50cmFuc2l0aW9uIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRm9sbG93T3BhY2l0eTogY29uZmlnICYmIGNvbmZpZy5zaG91bGRQcmVzZXJ2ZUZvbGxvd09wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgPyBjb25maWcuc2hvdWxkUHJlc2VydmVGb2xsb3dPcGFjaXR5KG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaXNMZWFkKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmdldFN0YWNrKCk7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2sgPyBzdGFjay5sZWFkID09PSB0aGlzIDogdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXRMZWFkKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGxheW91dElkID8gKChfYSA9IHRoaXMuZ2V0U3RhY2soKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlYWQpIHx8IHRoaXMgOiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGdldFByZXZMZWFkKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyBsYXlvdXRJZCB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgcmV0dXJuIGxheW91dElkID8gKF9hID0gdGhpcy5nZXRTdGFjaygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJldkxlYWQgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0U3RhY2soKSB7XG4gICAgICAgICAgICBjb25zdCB7IGxheW91dElkIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgICAgICBpZiAobGF5b3V0SWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5zaGFyZWROb2Rlcy5nZXQobGF5b3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHByb21vdGUoeyBuZWVkc1Jlc2V0LCB0cmFuc2l0aW9uLCBwcmVzZXJ2ZUZvbGxvd09wYWNpdHksIH0gPSB7fSkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB0aGlzLmdldFN0YWNrKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2spXG4gICAgICAgICAgICAgICAgc3RhY2sucHJvbW90ZSh0aGlzLCBwcmVzZXJ2ZUZvbGxvd09wYWNpdHkpO1xuICAgICAgICAgICAgaWYgKG5lZWRzUmVzZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3Rpb25EZWx0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRzUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb24pXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25zKHsgdHJhbnNpdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgICByZWxlZ2F0ZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gdGhpcy5nZXRTdGFjaygpO1xuICAgICAgICAgICAgaWYgKHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnJlbGVnYXRlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc2V0Um90YXRpb24oKSB7XG4gICAgICAgICAgICBjb25zdCB7IHZpc3VhbEVsZW1lbnQgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgICAgIGlmICghdmlzdWFsRWxlbWVudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGRldGVjdGVkIHJvdGF0aW9uIHZhbHVlcywgd2UgY2FuIGVhcmx5IHJldHVybiB3aXRob3V0IGEgZm9yY2VkIHJlbmRlci5cbiAgICAgICAgICAgIGxldCBoYXNSb3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQW4gdW5yb2xsZWQgY2hlY2sgZm9yIHJvdGF0aW9uIHZhbHVlcy4gTW9zdCBlbGVtZW50cyBkb24ndCBoYXZlIGFueSByb3RhdGlvbiBhbmRcbiAgICAgICAgICAgICAqIHNraXBwaW5nIHRoZSBuZXN0ZWQgbG9vcCBhbmQgbmV3IG9iamVjdCBjcmVhdGlvbiBpcyA1MCUgZmFzdGVyLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCB7IGxhdGVzdFZhbHVlcyB9ID0gdmlzdWFsRWxlbWVudDtcbiAgICAgICAgICAgIGlmIChsYXRlc3RWYWx1ZXMucm90YXRlIHx8XG4gICAgICAgICAgICAgICAgbGF0ZXN0VmFsdWVzLnJvdGF0ZVggfHxcbiAgICAgICAgICAgICAgICBsYXRlc3RWYWx1ZXMucm90YXRlWSB8fFxuICAgICAgICAgICAgICAgIGxhdGVzdFZhbHVlcy5yb3RhdGVaKSB7XG4gICAgICAgICAgICAgICAgaGFzUm90YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcm90YXRpb24gdmFsdWVzLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueSBtb3JlLlxuICAgICAgICAgICAgaWYgKCFoYXNSb3RhdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgcmVzZXRWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgIC8vIENoZWNrIHRoZSByb3RhdGUgdmFsdWUgb2YgYWxsIGF4ZXMgYW5kIHJlc2V0IHRvIDBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhbnNmb3JtQXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IFwicm90YXRlXCIgKyB0cmFuc2Zvcm1BeGVzW2ldO1xuICAgICAgICAgICAgICAgIC8vIFJlY29yZCB0aGUgcm90YXRpb24gYW5kIHRoZW4gdGVtcG9yYXJpbHkgc2V0IGl0IHRvIDBcbiAgICAgICAgICAgICAgICBpZiAobGF0ZXN0VmFsdWVzW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRWYWx1ZXNba2V5XSA9IGxhdGVzdFZhbHVlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50LnNldFN0YXRpY1ZhbHVlKGtleSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRm9yY2UgYSByZW5kZXIgb2YgdGhpcyBlbGVtZW50IHRvIGFwcGx5IHRoZSB0cmFuc2Zvcm0gd2l0aCBhbGwgcm90YXRpb25zXG4gICAgICAgICAgICAvLyBzZXQgdG8gMC5cbiAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQucmVuZGVyKCk7XG4gICAgICAgICAgICAvLyBQdXQgYmFjayBhbGwgdGhlIHZhbHVlcyB3ZSByZXNldFxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVzZXRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50LnNldFN0YXRpY1ZhbHVlKGtleSwgcmVzZXRWYWx1ZXNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTY2hlZHVsZSBhIHJlbmRlciBmb3IgdGhlIG5leHQgZnJhbWUuIFRoaXMgZW5zdXJlcyB3ZSB3b24ndCB2aXN1YWxseVxuICAgICAgICAgICAgLy8gc2VlIHRoZSBlbGVtZW50IHdpdGggdGhlIHJlc2V0IHJvdGF0ZSB2YWx1ZSBhcHBsaWVkLlxuICAgICAgICAgICAgdmlzdWFsRWxlbWVudC5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGdldFByb2plY3Rpb25TdHlsZXMoc3R5bGVQcm9wKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlIHx8IHRoaXMuaXNTVkcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGlkZGVuVmlzaWJpbGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcIlwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybVRlbXBsYXRlID0gdGhpcy5nZXRUcmFuc2Zvcm1UZW1wbGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMubmVlZHNSZXNldCkge1xuICAgICAgICAgICAgICAgIHRoaXMubmVlZHNSZXNldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0eWxlcy5vcGFjaXR5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBzdHlsZXMucG9pbnRlckV2ZW50cyA9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVNb3Rpb25WYWx1ZShzdHlsZVByb3AgPT09IG51bGwgfHwgc3R5bGVQcm9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHlsZVByb3AucG9pbnRlckV2ZW50cykgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICBzdHlsZXMudHJhbnNmb3JtID0gdHJhbnNmb3JtVGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgPyB0cmFuc2Zvcm1UZW1wbGF0ZSh0aGlzLmxhdGVzdFZhbHVlcywgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGVhZCA9IHRoaXMuZ2V0TGVhZCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnByb2plY3Rpb25EZWx0YSB8fCAhdGhpcy5sYXlvdXQgfHwgIWxlYWQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW1wdHlTdHlsZXMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxheW91dElkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5U3R5bGVzLm9wYWNpdHkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RWYWx1ZXMub3BhY2l0eSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmxhdGVzdFZhbHVlcy5vcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAxO1xuICAgICAgICAgICAgICAgICAgICBlbXB0eVN0eWxlcy5wb2ludGVyRXZlbnRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVNb3Rpb25WYWx1ZShzdHlsZVByb3AgPT09IG51bGwgfHwgc3R5bGVQcm9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHlsZVByb3AucG9pbnRlckV2ZW50cykgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzUHJvamVjdGVkICYmICFoYXNUcmFuc2Zvcm0odGhpcy5sYXRlc3RWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5U3R5bGVzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRyYW5zZm9ybVRlbXBsYXRlKHt9LCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNQcm9qZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5U3R5bGVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzVG9SZW5kZXIgPSBsZWFkLmFuaW1hdGlvblZhbHVlcyB8fCBsZWFkLmxhdGVzdFZhbHVlcztcbiAgICAgICAgICAgIHRoaXMuYXBwbHlUcmFuc2Zvcm1zVG9UYXJnZXQoKTtcbiAgICAgICAgICAgIHN0eWxlcy50cmFuc2Zvcm0gPSBidWlsZFByb2plY3Rpb25UcmFuc2Zvcm0odGhpcy5wcm9qZWN0aW9uRGVsdGFXaXRoVHJhbnNmb3JtLCB0aGlzLnRyZWVTY2FsZSwgdmFsdWVzVG9SZW5kZXIpO1xuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybVRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVRlbXBsYXRlKHZhbHVlc1RvUmVuZGVyLCBzdHlsZXMudHJhbnNmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5wcm9qZWN0aW9uRGVsdGE7XG4gICAgICAgICAgICBzdHlsZXMudHJhbnNmb3JtT3JpZ2luID0gYCR7eC5vcmlnaW4gKiAxMDB9JSAke3kub3JpZ2luICogMTAwfSUgMGA7XG4gICAgICAgICAgICBpZiAobGVhZC5hbmltYXRpb25WYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJZiB0aGUgbGVhZCBjb21wb25lbnQgaXMgYW5pbWF0aW5nLCBhc3NpZ24gdGhpcyBlaXRoZXIgdGhlIGVudGVyaW5nL2xlYXZpbmdcbiAgICAgICAgICAgICAgICAgKiBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgc3R5bGVzLm9wYWNpdHkgPVxuICAgICAgICAgICAgICAgICAgICBsZWFkID09PSB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChfYiA9IChfYSA9IHZhbHVlc1RvUmVuZGVyLm9wYWNpdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMubGF0ZXN0VmFsdWVzLm9wYWNpdHkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5wcmVzZXJ2ZU9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMubGF0ZXN0VmFsdWVzLm9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlc1RvUmVuZGVyLm9wYWNpdHlFeGl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogT3Igd2UncmUgbm90IGFuaW1hdGluZyBhdCBhbGwsIHNldCB0aGUgbGVhZCBjb21wb25lbnQgdG8gaXRzIGxheW91dFxuICAgICAgICAgICAgICAgICAqIG9wYWNpdHkgYW5kIG90aGVyIGNvbXBvbmVudHMgdG8gaGlkZGVuLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHN0eWxlcy5vcGFjaXR5ID1cbiAgICAgICAgICAgICAgICAgICAgbGVhZCA9PT0gdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZXNUb1JlbmRlci5vcGFjaXR5ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHZhbHVlc1RvUmVuZGVyLm9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsdWVzVG9SZW5kZXIub3BhY2l0eUV4aXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsdWVzVG9SZW5kZXIub3BhY2l0eUV4aXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFwcGx5IHNjYWxlIGNvcnJlY3Rpb25cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NhbGVDb3JyZWN0b3JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc1RvUmVuZGVyW2tleV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb3JyZWN0LCBhcHBseVRvIH0gPSBzY2FsZUNvcnJlY3RvcnNba2V5XTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBPbmx5IGFwcGx5IHNjYWxlIGNvcnJlY3Rpb24gdG8gdGhlIHZhbHVlIGlmIHdlIGhhdmUgYW5cbiAgICAgICAgICAgICAgICAgKiBhY3RpdmUgcHJvamVjdGlvbiB0cmFuc2Zvcm0uIE90aGVyd2lzZSB0aGVzZSB2YWx1ZXMgYmVjb21lXG4gICAgICAgICAgICAgICAgICogdnVsbmVyYWJsZSB0byBkaXN0b3J0aW9uIGlmIHRoZSBlbGVtZW50IGNoYW5nZXMgc2l6ZSB3aXRob3V0XG4gICAgICAgICAgICAgICAgICogYSBjb3JyZXNwb25kaW5nIGxheW91dCBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgY29ycmVjdGVkID0gc3R5bGVzLnRyYW5zZm9ybSA9PT0gXCJub25lXCJcbiAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZXNUb1JlbmRlcltrZXldXG4gICAgICAgICAgICAgICAgICAgIDogY29ycmVjdCh2YWx1ZXNUb1JlbmRlcltrZXldLCBsZWFkKTtcbiAgICAgICAgICAgICAgICBpZiAoYXBwbHlUbykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBhcHBseVRvLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzW2FwcGx5VG9baV1dID0gY29ycmVjdGVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXNba2V5XSA9IGNvcnJlY3RlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERpc2FibGUgcG9pbnRlciBldmVudHMgb24gZm9sbG93IGNvbXBvbmVudHMuIFRoaXMgaXMgdG8gZW5zdXJlXG4gICAgICAgICAgICAgKiB0aGF0IGlmIGEgZm9sbG93IGNvbXBvbmVudCBjb3ZlcnMgYSBsZWFkIGNvbXBvbmVudCBpdCBkb2Vzbid0IGJsb2NrXG4gICAgICAgICAgICAgKiBwb2ludGVyIGV2ZW50cyBvbiB0aGUgbGVhZC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sYXlvdXRJZCkge1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wb2ludGVyRXZlbnRzID1cbiAgICAgICAgICAgICAgICAgICAgbGVhZCA9PT0gdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXNvbHZlTW90aW9uVmFsdWUoc3R5bGVQcm9wID09PSBudWxsIHx8IHN0eWxlUHJvcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3R5bGVQcm9wLnBvaW50ZXJFdmVudHMpIHx8IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJub25lXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyU25hcHNob3QoKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VtZUZyb20gPSB0aGlzLnNuYXBzaG90ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgcnVuIG9uIHJvb3RcbiAgICAgICAgcmVzZXRUcmVlKCkge1xuICAgICAgICAgICAgdGhpcy5yb290Lm5vZGVzLmZvckVhY2goKG5vZGUpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gbm9kZS5jdXJyZW50QW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RvcCgpOyB9KTtcbiAgICAgICAgICAgIHRoaXMucm9vdC5ub2Rlcy5mb3JFYWNoKGNsZWFyTWVhc3VyZW1lbnRzKTtcbiAgICAgICAgICAgIHRoaXMucm9vdC5zaGFyZWROb2Rlcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUxheW91dChub2RlKSB7XG4gICAgbm9kZS51cGRhdGVMYXlvdXQoKTtcbn1cbmZ1bmN0aW9uIG5vdGlmeUxheW91dFVwZGF0ZShub2RlKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHNuYXBzaG90ID0gKChfYSA9IG5vZGUucmVzdW1lRnJvbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNuYXBzaG90KSB8fCBub2RlLnNuYXBzaG90O1xuICAgIGlmIChub2RlLmlzTGVhZCgpICYmXG4gICAgICAgIG5vZGUubGF5b3V0ICYmXG4gICAgICAgIHNuYXBzaG90ICYmXG4gICAgICAgIG5vZGUuaGFzTGlzdGVuZXJzKFwiZGlkVXBkYXRlXCIpKSB7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0Qm94OiBsYXlvdXQsIG1lYXN1cmVkQm94OiBtZWFzdXJlZExheW91dCB9ID0gbm9kZS5sYXlvdXQ7XG4gICAgICAgIGNvbnN0IHsgYW5pbWF0aW9uVHlwZSB9ID0gbm9kZS5vcHRpb25zO1xuICAgICAgICBjb25zdCBpc1NoYXJlZCA9IHNuYXBzaG90LnNvdXJjZSAhPT0gbm9kZS5sYXlvdXQuc291cmNlO1xuICAgICAgICAvLyBUT0RPIE1heWJlIHdlIHdhbnQgdG8gYWxzbyByZXNpemUgdGhlIGxheW91dCBzbmFwc2hvdCBzbyB3ZSBkb24ndCB0cmlnZ2VyXG4gICAgICAgIC8vIGFuaW1hdGlvbnMgZm9yIGluc3RhbmNlIGlmIGxheW91dD1cInNpemVcIiBhbmQgYW4gZWxlbWVudCBoYXMgb25seSBjaGFuZ2VkIHBvc2l0aW9uXG4gICAgICAgIGlmIChhbmltYXRpb25UeXBlID09PSBcInNpemVcIikge1xuICAgICAgICAgICAgZWFjaEF4aXMoKGF4aXMpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBheGlzU25hcHNob3QgPSBpc1NoYXJlZFxuICAgICAgICAgICAgICAgICAgICA/IHNuYXBzaG90Lm1lYXN1cmVkQm94W2F4aXNdXG4gICAgICAgICAgICAgICAgICAgIDogc25hcHNob3QubGF5b3V0Qm94W2F4aXNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGNhbGNMZW5ndGgoYXhpc1NuYXBzaG90KTtcbiAgICAgICAgICAgICAgICBheGlzU25hcHNob3QubWluID0gbGF5b3V0W2F4aXNdLm1pbjtcbiAgICAgICAgICAgICAgICBheGlzU25hcHNob3QubWF4ID0gYXhpc1NuYXBzaG90Lm1pbiArIGxlbmd0aDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNob3VsZEFuaW1hdGVQb3NpdGlvbk9ubHkoYW5pbWF0aW9uVHlwZSwgc25hcHNob3QubGF5b3V0Qm94LCBsYXlvdXQpKSB7XG4gICAgICAgICAgICBlYWNoQXhpcygoYXhpcykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXNTbmFwc2hvdCA9IGlzU2hhcmVkXG4gICAgICAgICAgICAgICAgICAgID8gc25hcHNob3QubWVhc3VyZWRCb3hbYXhpc11cbiAgICAgICAgICAgICAgICAgICAgOiBzbmFwc2hvdC5sYXlvdXRCb3hbYXhpc107XG4gICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gY2FsY0xlbmd0aChsYXlvdXRbYXhpc10pO1xuICAgICAgICAgICAgICAgIGF4aXNTbmFwc2hvdC5tYXggPSBheGlzU25hcHNob3QubWluICsgbGVuZ3RoO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEVuc3VyZSByZWxhdGl2ZSB0YXJnZXQgZ2V0cyByZXNpemVkIGFuZCByZXJlbmRlcmVyZFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnJlbGF0aXZlVGFyZ2V0ICYmICFub2RlLmN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5pc1Byb2plY3Rpb25EaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmVsYXRpdmVUYXJnZXRbYXhpc10ubWF4ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVsYXRpdmVUYXJnZXRbYXhpc10ubWluICsgbGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxheW91dERlbHRhID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgY2FsY0JveERlbHRhKGxheW91dERlbHRhLCBsYXlvdXQsIHNuYXBzaG90LmxheW91dEJveCk7XG4gICAgICAgIGNvbnN0IHZpc3VhbERlbHRhID0gY3JlYXRlRGVsdGEoKTtcbiAgICAgICAgaWYgKGlzU2hhcmVkKSB7XG4gICAgICAgICAgICBjYWxjQm94RGVsdGEodmlzdWFsRGVsdGEsIG5vZGUuYXBwbHlUcmFuc2Zvcm0obWVhc3VyZWRMYXlvdXQsIHRydWUpLCBzbmFwc2hvdC5tZWFzdXJlZEJveCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxjQm94RGVsdGEodmlzdWFsRGVsdGEsIGxheW91dCwgc25hcHNob3QubGF5b3V0Qm94KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYXNMYXlvdXRDaGFuZ2VkID0gIWlzRGVsdGFaZXJvKGxheW91dERlbHRhKTtcbiAgICAgICAgbGV0IGhhc1JlbGF0aXZlVGFyZ2V0Q2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIW5vZGUucmVzdW1lRnJvbSkge1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXJlbnQgPSBub2RlLmdldENsb3Nlc3RQcm9qZWN0aW5nUGFyZW50KCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZSByZWxhdGl2ZVBhcmVudCBpcyBpdHNlbGYgcmVzdW1pbmcgZnJvbSBhIGRpZmZlcmVudCBlbGVtZW50IHRoZW5cbiAgICAgICAgICAgICAqIHRoZSByZWxhdGl2ZSBzbmFwc2hvdCBpcyBub3QgcmVsYXZlbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHJlbGF0aXZlUGFyZW50ICYmICFyZWxhdGl2ZVBhcmVudC5yZXN1bWVGcm9tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzbmFwc2hvdDogcGFyZW50U25hcHNob3QsIGxheW91dDogcGFyZW50TGF5b3V0IH0gPSByZWxhdGl2ZVBhcmVudDtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50U25hcHNob3QgJiYgcGFyZW50TGF5b3V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlU25hcHNob3QgPSBjcmVhdGVCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsY1JlbGF0aXZlUG9zaXRpb24ocmVsYXRpdmVTbmFwc2hvdCwgc25hcHNob3QubGF5b3V0Qm94LCBwYXJlbnRTbmFwc2hvdC5sYXlvdXRCb3gpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZUxheW91dCA9IGNyZWF0ZUJveCgpO1xuICAgICAgICAgICAgICAgICAgICBjYWxjUmVsYXRpdmVQb3NpdGlvbihyZWxhdGl2ZUxheW91dCwgbGF5b3V0LCBwYXJlbnRMYXlvdXQubGF5b3V0Qm94KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFib3hFcXVhbHNSb3VuZGVkKHJlbGF0aXZlU25hcHNob3QsIHJlbGF0aXZlTGF5b3V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVsYXRpdmVUYXJnZXRDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmVQYXJlbnQub3B0aW9ucy5sYXlvdXRSb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbGF0aXZlVGFyZ2V0ID0gcmVsYXRpdmVMYXlvdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbGF0aXZlVGFyZ2V0T3JpZ2luID0gcmVsYXRpdmVTbmFwc2hvdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVsYXRpdmVQYXJlbnQgPSByZWxhdGl2ZVBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlLm5vdGlmeUxpc3RlbmVycyhcImRpZFVwZGF0ZVwiLCB7XG4gICAgICAgICAgICBsYXlvdXQsXG4gICAgICAgICAgICBzbmFwc2hvdCxcbiAgICAgICAgICAgIGRlbHRhOiB2aXN1YWxEZWx0YSxcbiAgICAgICAgICAgIGxheW91dERlbHRhLFxuICAgICAgICAgICAgaGFzTGF5b3V0Q2hhbmdlZCxcbiAgICAgICAgICAgIGhhc1JlbGF0aXZlVGFyZ2V0Q2hhbmdlZCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUuaXNMZWFkKCkpIHtcbiAgICAgICAgY29uc3QgeyBvbkV4aXRDb21wbGV0ZSB9ID0gbm9kZS5vcHRpb25zO1xuICAgICAgICBvbkV4aXRDb21wbGV0ZSAmJiBvbkV4aXRDb21wbGV0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcmluZyB0cmFuc2l0aW9uXG4gICAgICogVE9ETzogSW52ZXN0aWdhdGUgd2h5IHRoaXMgdHJhbnNpdGlvbiBpcyBiZWluZyBwYXNzZWQgaW4gYXMge3R5cGU6IGZhbHNlIH0gZnJvbSBGcmFtZXJcbiAgICAgKiBhbmQgd2h5IHdlIG5lZWQgaXQgYXQgYWxsXG4gICAgICovXG4gICAgbm9kZS5vcHRpb25zLnRyYW5zaXRpb24gPSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBwcm9wYWdhdGVEaXJ0eU5vZGVzKG5vZGUpIHtcbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZSBkZWJ1ZyBjb3VudGVyIGZvciBub2RlcyBlbmNvdW50ZXJlZCB0aGlzIGZyYW1lXG4gICAgICovXG4gICAgcHJvamVjdGlvbkZyYW1lRGF0YS50b3RhbE5vZGVzKys7XG4gICAgaWYgKCFub2RlLnBhcmVudClcbiAgICAgICAgcmV0dXJuO1xuICAgIC8qKlxuICAgICAqIElmIHRoaXMgbm9kZSBpc24ndCBwcm9qZWN0aW5nLCBwcm9wYWdhdGUgaXNQcm9qZWN0aW9uRGlydHkuIEl0IHdpbGwgaGF2ZVxuICAgICAqIG5vIHBlcmZvcm1hbmNlIGltcGFjdCBidXQgaXQgd2lsbCBhbGxvdyB0aGUgbmV4dCBjaGlsZCB0aGF0ICppcyogcHJvamVjdGluZ1xuICAgICAqIGJ1dCAqaXNuJ3QqIGRpcnR5IHRvIGp1c3QgY2hlY2sgaXRzIHBhcmVudCB0byBzZWUgaWYgKmFueSogYW5jZXN0b3IgbmVlZHNcbiAgICAgKiBjb3JyZWN0aW5nLlxuICAgICAqL1xuICAgIGlmICghbm9kZS5pc1Byb2plY3RpbmcoKSkge1xuICAgICAgICBub2RlLmlzUHJvamVjdGlvbkRpcnR5ID0gbm9kZS5wYXJlbnQuaXNQcm9qZWN0aW9uRGlydHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb3BhZ2F0ZSBpc1NoYXJlZFByb2plY3Rpb25EaXJ0eSBhbmQgaXNUcmFuc2Zvcm1EaXJ0eVxuICAgICAqIHRocm91Z2hvdXQgdGhlIHdob2xlIHRyZWUuIEEgZnV0dXJlIHJldmlzaW9uIGNhbiB0YWtlIGFub3RoZXIgbG9vayBhdFxuICAgICAqIHRoaXMgYnV0IGZvciBzYWZldHkgd2Ugc3RpbGwgcmVjYWxjdWFsdGUgc2hhcmVkIG5vZGVzLlxuICAgICAqL1xuICAgIG5vZGUuaXNTaGFyZWRQcm9qZWN0aW9uRGlydHkgfHwgKG5vZGUuaXNTaGFyZWRQcm9qZWN0aW9uRGlydHkgPSBCb29sZWFuKG5vZGUuaXNQcm9qZWN0aW9uRGlydHkgfHxcbiAgICAgICAgbm9kZS5wYXJlbnQuaXNQcm9qZWN0aW9uRGlydHkgfHxcbiAgICAgICAgbm9kZS5wYXJlbnQuaXNTaGFyZWRQcm9qZWN0aW9uRGlydHkpKTtcbiAgICBub2RlLmlzVHJhbnNmb3JtRGlydHkgfHwgKG5vZGUuaXNUcmFuc2Zvcm1EaXJ0eSA9IG5vZGUucGFyZW50LmlzVHJhbnNmb3JtRGlydHkpO1xufVxuZnVuY3Rpb24gY2xlYW5EaXJ0eU5vZGVzKG5vZGUpIHtcbiAgICBub2RlLmlzUHJvamVjdGlvbkRpcnR5ID1cbiAgICAgICAgbm9kZS5pc1NoYXJlZFByb2plY3Rpb25EaXJ0eSA9XG4gICAgICAgICAgICBub2RlLmlzVHJhbnNmb3JtRGlydHkgPVxuICAgICAgICAgICAgICAgIGZhbHNlO1xufVxuZnVuY3Rpb24gY2xlYXJTbmFwc2hvdChub2RlKSB7XG4gICAgbm9kZS5jbGVhclNuYXBzaG90KCk7XG59XG5mdW5jdGlvbiBjbGVhck1lYXN1cmVtZW50cyhub2RlKSB7XG4gICAgbm9kZS5jbGVhck1lYXN1cmVtZW50cygpO1xufVxuZnVuY3Rpb24gY2xlYXJJc0xheW91dERpcnR5KG5vZGUpIHtcbiAgICBub2RlLmlzTGF5b3V0RGlydHkgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlc2V0VHJhbnNmb3JtU3R5bGUobm9kZSkge1xuICAgIGNvbnN0IHsgdmlzdWFsRWxlbWVudCB9ID0gbm9kZS5vcHRpb25zO1xuICAgIGlmICh2aXN1YWxFbGVtZW50ICYmIHZpc3VhbEVsZW1lbnQuZ2V0UHJvcHMoKS5vbkJlZm9yZUxheW91dE1lYXN1cmUpIHtcbiAgICAgICAgdmlzdWFsRWxlbWVudC5ub3RpZnkoXCJCZWZvcmVMYXlvdXRNZWFzdXJlXCIpO1xuICAgIH1cbiAgICBub2RlLnJlc2V0VHJhbnNmb3JtKCk7XG59XG5mdW5jdGlvbiBmaW5pc2hBbmltYXRpb24obm9kZSkge1xuICAgIG5vZGUuZmluaXNoQW5pbWF0aW9uKCk7XG4gICAgbm9kZS50YXJnZXREZWx0YSA9IG5vZGUucmVsYXRpdmVUYXJnZXQgPSBub2RlLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICBub2RlLmlzUHJvamVjdGlvbkRpcnR5ID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUYXJnZXREZWx0YShub2RlKSB7XG4gICAgbm9kZS5yZXNvbHZlVGFyZ2V0RGVsdGEoKTtcbn1cbmZ1bmN0aW9uIGNhbGNQcm9qZWN0aW9uKG5vZGUpIHtcbiAgICBub2RlLmNhbGNQcm9qZWN0aW9uKCk7XG59XG5mdW5jdGlvbiByZXNldFJvdGF0aW9uKG5vZGUpIHtcbiAgICBub2RlLnJlc2V0Um90YXRpb24oKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUxlYWRTbmFwc2hvdHMoc3RhY2spIHtcbiAgICBzdGFjay5yZW1vdmVMZWFkU25hcHNob3QoKTtcbn1cbmZ1bmN0aW9uIG1peEF4aXNEZWx0YShvdXRwdXQsIGRlbHRhLCBwKSB7XG4gICAgb3V0cHV0LnRyYW5zbGF0ZSA9IG1peChkZWx0YS50cmFuc2xhdGUsIDAsIHApO1xuICAgIG91dHB1dC5zY2FsZSA9IG1peChkZWx0YS5zY2FsZSwgMSwgcCk7XG4gICAgb3V0cHV0Lm9yaWdpbiA9IGRlbHRhLm9yaWdpbjtcbiAgICBvdXRwdXQub3JpZ2luUG9pbnQgPSBkZWx0YS5vcmlnaW5Qb2ludDtcbn1cbmZ1bmN0aW9uIG1peEF4aXMob3V0cHV0LCBmcm9tLCB0bywgcCkge1xuICAgIG91dHB1dC5taW4gPSBtaXgoZnJvbS5taW4sIHRvLm1pbiwgcCk7XG4gICAgb3V0cHV0Lm1heCA9IG1peChmcm9tLm1heCwgdG8ubWF4LCBwKTtcbn1cbmZ1bmN0aW9uIG1peEJveChvdXRwdXQsIGZyb20sIHRvLCBwKSB7XG4gICAgbWl4QXhpcyhvdXRwdXQueCwgZnJvbS54LCB0by54LCBwKTtcbiAgICBtaXhBeGlzKG91dHB1dC55LCBmcm9tLnksIHRvLnksIHApO1xufVxuZnVuY3Rpb24gaGFzT3BhY2l0eUNyb3NzZmFkZShub2RlKSB7XG4gICAgcmV0dXJuIChub2RlLmFuaW1hdGlvblZhbHVlcyAmJiBub2RlLmFuaW1hdGlvblZhbHVlcy5vcGFjaXR5RXhpdCAhPT0gdW5kZWZpbmVkKTtcbn1cbmNvbnN0IGRlZmF1bHRMYXlvdXRUcmFuc2l0aW9uID0ge1xuICAgIGR1cmF0aW9uOiAwLjQ1LFxuICAgIGVhc2U6IFswLjQsIDAsIDAuMSwgMV0sXG59O1xuY29uc3QgdXNlckFnZW50Q29udGFpbnMgPSAoc3RyaW5nKSA9PiB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHN0cmluZyk7XG4vKipcbiAqIE1lYXN1cmVkIGJvdW5kaW5nIGJveGVzIG11c3QgYmUgcm91bmRlZCBpbiBTYWZhcmkgYW5kXG4gKiBsZWZ0IHVudG91Y2hlZCBpbiBDaHJvbWUsIG90aGVyd2lzZSBub24taW50ZWdlciBsYXlvdXRzIHdpdGhpbiBzY2FsZWQtdXAgZWxlbWVudHNcbiAqIGNhbiBhcHBlYXIgdG8ganVtcC5cbiAqL1xuY29uc3Qgcm91bmRQb2ludCA9IHVzZXJBZ2VudENvbnRhaW5zKFwiYXBwbGV3ZWJraXQvXCIpICYmICF1c2VyQWdlbnRDb250YWlucyhcImNocm9tZS9cIilcbiAgICA/IE1hdGgucm91bmRcbiAgICA6IG5vb3A7XG5mdW5jdGlvbiByb3VuZEF4aXMoYXhpcykge1xuICAgIC8vIFJvdW5kIHRvIHRoZSBuZWFyZXN0IC41IHBpeGVscyB0byBzdXBwb3J0IHN1YnBpeGVsIGxheW91dHNcbiAgICBheGlzLm1pbiA9IHJvdW5kUG9pbnQoYXhpcy5taW4pO1xuICAgIGF4aXMubWF4ID0gcm91bmRQb2ludChheGlzLm1heCk7XG59XG5mdW5jdGlvbiByb3VuZEJveChib3gpIHtcbiAgICByb3VuZEF4aXMoYm94LngpO1xuICAgIHJvdW5kQXhpcyhib3gueSk7XG59XG5mdW5jdGlvbiBzaG91bGRBbmltYXRlUG9zaXRpb25Pbmx5KGFuaW1hdGlvblR5cGUsIHNuYXBzaG90LCBsYXlvdXQpIHtcbiAgICByZXR1cm4gKGFuaW1hdGlvblR5cGUgPT09IFwicG9zaXRpb25cIiB8fFxuICAgICAgICAoYW5pbWF0aW9uVHlwZSA9PT0gXCJwcmVzZXJ2ZS1hc3BlY3RcIiAmJlxuICAgICAgICAgICAgIWlzTmVhcihhc3BlY3RSYXRpbyhzbmFwc2hvdCksIGFzcGVjdFJhdGlvKGxheW91dCksIDAuMikpKTtcbn1cblxuZXhwb3J0IHsgY2xlYW5EaXJ0eU5vZGVzLCBjcmVhdGVQcm9qZWN0aW9uTm9kZSwgbWl4QXhpcywgbWl4QXhpc0RlbHRhLCBtaXhCb3gsIHByb3BhZ2F0ZURpcnR5Tm9kZXMgfTtcbiIsImltcG9ydCB7IGNyZWF0ZVByb2plY3Rpb25Ob2RlIH0gZnJvbSAnLi9jcmVhdGUtcHJvamVjdGlvbi1ub2RlLm1qcyc7XG5pbXBvcnQgeyBhZGREb21FdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cy9hZGQtZG9tLWV2ZW50Lm1qcyc7XG5cbmNvbnN0IERvY3VtZW50UHJvamVjdGlvbk5vZGUgPSBjcmVhdGVQcm9qZWN0aW9uTm9kZSh7XG4gICAgYXR0YWNoUmVzaXplTGlzdGVuZXI6IChyZWYsIG5vdGlmeSkgPT4gYWRkRG9tRXZlbnQocmVmLCBcInJlc2l6ZVwiLCBub3RpZnkpLFxuICAgIG1lYXN1cmVTY3JvbGw6ICgpID0+ICh7XG4gICAgICAgIHg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCxcbiAgICAgICAgeTogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCxcbiAgICB9KSxcbiAgICBjaGVja0lzU2Nyb2xsUm9vdDogKCkgPT4gdHJ1ZSxcbn0pO1xuXG5leHBvcnQgeyBEb2N1bWVudFByb2plY3Rpb25Ob2RlIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVQcm9qZWN0aW9uTm9kZSB9IGZyb20gJy4vY3JlYXRlLXByb2plY3Rpb24tbm9kZS5tanMnO1xuaW1wb3J0IHsgRG9jdW1lbnRQcm9qZWN0aW9uTm9kZSB9IGZyb20gJy4vRG9jdW1lbnRQcm9qZWN0aW9uTm9kZS5tanMnO1xuXG5jb25zdCByb290UHJvamVjdGlvbk5vZGUgPSB7XG4gICAgY3VycmVudDogdW5kZWZpbmVkLFxufTtcbmNvbnN0IEhUTUxQcm9qZWN0aW9uTm9kZSA9IGNyZWF0ZVByb2plY3Rpb25Ob2RlKHtcbiAgICBtZWFzdXJlU2Nyb2xsOiAoaW5zdGFuY2UpID0+ICh7XG4gICAgICAgIHg6IGluc3RhbmNlLnNjcm9sbExlZnQsXG4gICAgICAgIHk6IGluc3RhbmNlLnNjcm9sbFRvcCxcbiAgICB9KSxcbiAgICBkZWZhdWx0UGFyZW50OiAoKSA9PiB7XG4gICAgICAgIGlmICghcm9vdFByb2plY3Rpb25Ob2RlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRvY3VtZW50Tm9kZSA9IG5ldyBEb2N1bWVudFByb2plY3Rpb25Ob2RlKHt9KTtcbiAgICAgICAgICAgIGRvY3VtZW50Tm9kZS5tb3VudCh3aW5kb3cpO1xuICAgICAgICAgICAgZG9jdW1lbnROb2RlLnNldE9wdGlvbnMoeyBsYXlvdXRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICByb290UHJvamVjdGlvbk5vZGUuY3VycmVudCA9IGRvY3VtZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm9vdFByb2plY3Rpb25Ob2RlLmN1cnJlbnQ7XG4gICAgfSxcbiAgICByZXNldFRyYW5zZm9ybTogKGluc3RhbmNlLCB2YWx1ZSkgPT4ge1xuICAgICAgICBpbnN0YW5jZS5zdHlsZS50cmFuc2Zvcm0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBcIm5vbmVcIjtcbiAgICB9LFxuICAgIGNoZWNrSXNTY3JvbGxSb290OiAoaW5zdGFuY2UpID0+IEJvb2xlYW4od2luZG93LmdldENvbXB1dGVkU3R5bGUoaW5zdGFuY2UpLnBvc2l0aW9uID09PSBcImZpeGVkXCIpLFxufSk7XG5cbmV4cG9ydCB7IEhUTUxQcm9qZWN0aW9uTm9kZSwgcm9vdFByb2plY3Rpb25Ob2RlIH07XG4iLCJpbXBvcnQgeyBEcmFnR2VzdHVyZSB9IGZyb20gJy4uLy4uL2dlc3R1cmVzL2RyYWcvaW5kZXgubWpzJztcbmltcG9ydCB7IFBhbkdlc3R1cmUgfSBmcm9tICcuLi8uLi9nZXN0dXJlcy9wYW4vaW5kZXgubWpzJztcbmltcG9ydCB7IE1lYXN1cmVMYXlvdXQgfSBmcm9tICcuL2xheW91dC9NZWFzdXJlTGF5b3V0Lm1qcyc7XG5pbXBvcnQgeyBIVE1MUHJvamVjdGlvbk5vZGUgfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL25vZGUvSFRNTFByb2plY3Rpb25Ob2RlLm1qcyc7XG5cbmNvbnN0IGRyYWcgPSB7XG4gICAgcGFuOiB7XG4gICAgICAgIEZlYXR1cmU6IFBhbkdlc3R1cmUsXG4gICAgfSxcbiAgICBkcmFnOiB7XG4gICAgICAgIEZlYXR1cmU6IERyYWdHZXN0dXJlLFxuICAgICAgICBQcm9qZWN0aW9uTm9kZTogSFRNTFByb2plY3Rpb25Ob2RlLFxuICAgICAgICBNZWFzdXJlTGF5b3V0LFxuICAgIH0sXG59O1xuXG5leHBvcnQgeyBkcmFnIH07XG4iLCJpbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9lcnJvcnMubWpzJztcbmltcG9ydCB7IGlzTnVtZXJpY2FsU3RyaW5nIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaXMtbnVtZXJpY2FsLXN0cmluZy5tanMnO1xuaW1wb3J0IHsgaXNDU1NWYXJpYWJsZVRva2VuIH0gZnJvbSAnLi9pcy1jc3MtdmFyaWFibGUubWpzJztcblxuLyoqXG4gKiBQYXJzZSBGcmFtZXIncyBzcGVjaWFsIENTUyB2YXJpYWJsZSBmb3JtYXQgaW50byBhIENTUyB0b2tlbiBhbmQgYSBmYWxsYmFjay5cbiAqXG4gKiBgYGBcbiAqIGB2YXIoLS1mb28sICNmZmYpYCA9PiBbYC0tZm9vYCwgJyNmZmYnXVxuICogYGBgXG4gKlxuICogQHBhcmFtIGN1cnJlbnRcbiAqL1xuY29uc3Qgc3BsaXRDU1NWYXJpYWJsZVJlZ2V4ID0gL3ZhclxcKCgtLVthLXpBLVowLTktX10rKSw/ID8oW2EtekEtWjAtOSAoKSUjLiwtXSspP1xcKS87XG5mdW5jdGlvbiBwYXJzZUNTU1ZhcmlhYmxlKGN1cnJlbnQpIHtcbiAgICBjb25zdCBtYXRjaCA9IHNwbGl0Q1NTVmFyaWFibGVSZWdleC5leGVjKGN1cnJlbnQpO1xuICAgIGlmICghbWF0Y2gpXG4gICAgICAgIHJldHVybiBbLF07XG4gICAgY29uc3QgWywgdG9rZW4sIGZhbGxiYWNrXSA9IG1hdGNoO1xuICAgIHJldHVybiBbdG9rZW4sIGZhbGxiYWNrXTtcbn1cbmNvbnN0IG1heERlcHRoID0gNDtcbmZ1bmN0aW9uIGdldFZhcmlhYmxlVmFsdWUoY3VycmVudCwgZWxlbWVudCwgZGVwdGggPSAxKSB7XG4gICAgaW52YXJpYW50KGRlcHRoIDw9IG1heERlcHRoLCBgTWF4IENTUyB2YXJpYWJsZSBmYWxsYmFjayBkZXB0aCBkZXRlY3RlZCBpbiBwcm9wZXJ0eSBcIiR7Y3VycmVudH1cIi4gVGhpcyBtYXkgaW5kaWNhdGUgYSBjaXJjdWxhciBmYWxsYmFjayBkZXBlbmRlbmN5LmApO1xuICAgIGNvbnN0IFt0b2tlbiwgZmFsbGJhY2tdID0gcGFyc2VDU1NWYXJpYWJsZShjdXJyZW50KTtcbiAgICAvLyBObyBDU1MgdmFyaWFibGUgZGV0ZWN0ZWRcbiAgICBpZiAoIXRva2VuKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gQXR0ZW1wdCB0byByZWFkIHRoaXMgQ1NTIHZhcmlhYmxlIG9mZiB0aGUgZWxlbWVudFxuICAgIGNvbnN0IHJlc29sdmVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSh0b2tlbik7XG4gICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgIGNvbnN0IHRyaW1tZWQgPSByZXNvbHZlZC50cmltKCk7XG4gICAgICAgIHJldHVybiBpc051bWVyaWNhbFN0cmluZyh0cmltbWVkKSA/IHBhcnNlRmxvYXQodHJpbW1lZCkgOiB0cmltbWVkO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0NTU1ZhcmlhYmxlVG9rZW4oZmFsbGJhY2spKSB7XG4gICAgICAgIC8vIFRoZSBmYWxsYmFjayBtaWdodCBpdHNlbGYgYmUgYSBDU1MgdmFyaWFibGUsIGluIHdoaWNoIGNhc2Ugd2UgYXR0ZW1wdCB0byByZXNvbHZlIGl0IHRvby5cbiAgICAgICAgcmV0dXJuIGdldFZhcmlhYmxlVmFsdWUoZmFsbGJhY2ssIGVsZW1lbnQsIGRlcHRoICsgMSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgfVxufVxuLyoqXG4gKiBSZXNvbHZlIENTUyB2YXJpYWJsZXMgZnJvbVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiByZXNvbHZlQ1NTVmFyaWFibGVzKHZpc3VhbEVsZW1lbnQsIHsgLi4udGFyZ2V0IH0sIHRyYW5zaXRpb25FbmQpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdmlzdWFsRWxlbWVudC5jdXJyZW50O1xuICAgIGlmICghKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSlcbiAgICAgICAgcmV0dXJuIHsgdGFyZ2V0LCB0cmFuc2l0aW9uRW5kIH07XG4gICAgLy8gSWYgYHRyYW5zaXRpb25FbmRgIGlzbid0IGB1bmRlZmluZWRgLCBjbG9uZSBpdC4gV2UgY291bGQgY2xvbmUgYHRhcmdldGAgYW5kIGB0cmFuc2l0aW9uRW5kYFxuICAgIC8vIG9ubHkgaWYgdGhleSBjaGFuZ2UgYnV0IEkgdGhpbmsgdGhpcyByZWFkcyBjbGVhcmVyIGFuZCB0aGlzIGlzbid0IGEgcGVyZm9ybWFuY2UtY3JpdGljYWwgcGF0aC5cbiAgICBpZiAodHJhbnNpdGlvbkVuZCkge1xuICAgICAgICB0cmFuc2l0aW9uRW5kID0geyAuLi50cmFuc2l0aW9uRW5kIH07XG4gICAgfVxuICAgIC8vIEdvIHRocm91Z2ggZXhpc3RpbmcgYE1vdGlvblZhbHVlYHMgYW5kIGVuc3VyZSBhbnkgZXhpc3RpbmcgQ1NTIHZhcmlhYmxlcyBhcmUgcmVzb2x2ZWRcbiAgICB2aXN1YWxFbGVtZW50LnZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdmFsdWUuZ2V0KCk7XG4gICAgICAgIGlmICghaXNDU1NWYXJpYWJsZVRva2VuKGN1cnJlbnQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCByZXNvbHZlZCA9IGdldFZhcmlhYmxlVmFsdWUoY3VycmVudCwgZWxlbWVudCk7XG4gICAgICAgIGlmIChyZXNvbHZlZClcbiAgICAgICAgICAgIHZhbHVlLnNldChyZXNvbHZlZCk7XG4gICAgfSk7XG4gICAgLy8gQ3ljbGUgdGhyb3VnaCBldmVyeSB0YXJnZXQgcHJvcGVydHkgYW5kIHJlc29sdmUgQ1NTIHZhcmlhYmxlcy4gQ3VycmVudGx5XG4gICAgLy8gd2Ugb25seSByZWFkIHNpbmdsZS12YXIgcHJvcGVydGllcyBsaWtlIGB2YXIoLS1mb28pYCwgbm90IGBjYWxjKHZhcigtLWZvbykgKyAyMHB4KWBcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRhcmdldFtrZXldO1xuICAgICAgICBpZiAoIWlzQ1NTVmFyaWFibGVUb2tlbihjdXJyZW50KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCByZXNvbHZlZCA9IGdldFZhcmlhYmxlVmFsdWUoY3VycmVudCwgZWxlbWVudCk7XG4gICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgLy8gQ2xvbmUgdGFyZ2V0IGlmIGl0IGhhc24ndCBhbHJlYWR5IGJlZW5cbiAgICAgICAgdGFyZ2V0W2tleV0gPSByZXNvbHZlZDtcbiAgICAgICAgaWYgKCF0cmFuc2l0aW9uRW5kKVxuICAgICAgICAgICAgdHJhbnNpdGlvbkVuZCA9IHt9O1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBoYXNuJ3QgYWxyZWFkeSBzZXQgdGhpcyBrZXkgb24gYHRyYW5zaXRpb25FbmRgLCBzZXQgaXQgdG8gdGhlIHVucmVzb2x2ZWRcbiAgICAgICAgLy8gQ1NTIHZhcmlhYmxlLiBUaGlzIHdpbGwgZW5zdXJlIHRoYXQgYWZ0ZXIgdGhlIGFuaW1hdGlvbiB0aGUgY29tcG9uZW50IHdpbGwgcmVmbGVjdFxuICAgICAgICAvLyBjaGFuZ2VzIGluIHRoZSB2YWx1ZSBvZiB0aGUgQ1NTIHZhcmlhYmxlLlxuICAgICAgICBpZiAodHJhbnNpdGlvbkVuZFtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbmRba2V5XSA9IGN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgdGFyZ2V0LCB0cmFuc2l0aW9uRW5kIH07XG59XG5cbmV4cG9ydCB7IHBhcnNlQ1NTVmFyaWFibGUsIHJlc29sdmVDU1NWYXJpYWJsZXMgfTtcbiIsImltcG9ydCB7IGlzS2V5ZnJhbWVzVGFyZ2V0IH0gZnJvbSAnLi4vLi4vLi4vYW5pbWF0aW9uL3V0aWxzL2lzLWtleWZyYW1lcy10YXJnZXQubWpzJztcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2Vycm9ycy5tanMnO1xuaW1wb3J0IHsgdHJhbnNmb3JtUHJvcE9yZGVyIH0gZnJvbSAnLi4vLi4vaHRtbC91dGlscy90cmFuc2Zvcm0ubWpzJztcbmltcG9ydCB7IGZpbmREaW1lbnNpb25WYWx1ZVR5cGUgfSBmcm9tICcuLi92YWx1ZS10eXBlcy9kaW1lbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBpc0Jyb3dzZXIgfSBmcm9tICcuLi8uLi8uLi91dGlscy9pcy1icm93c2VyLm1qcyc7XG5pbXBvcnQgeyBudW1iZXIgfSBmcm9tICcuLi8uLi8uLi92YWx1ZS90eXBlcy9udW1iZXJzL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBweCB9IGZyb20gJy4uLy4uLy4uL3ZhbHVlL3R5cGVzL251bWJlcnMvdW5pdHMubWpzJztcblxuY29uc3QgcG9zaXRpb25hbEtleXMgPSBuZXcgU2V0KFtcbiAgICBcIndpZHRoXCIsXG4gICAgXCJoZWlnaHRcIixcbiAgICBcInRvcFwiLFxuICAgIFwibGVmdFwiLFxuICAgIFwicmlnaHRcIixcbiAgICBcImJvdHRvbVwiLFxuICAgIFwieFwiLFxuICAgIFwieVwiLFxuICAgIFwidHJhbnNsYXRlWFwiLFxuICAgIFwidHJhbnNsYXRlWVwiLFxuXSk7XG5jb25zdCBpc1Bvc2l0aW9uYWxLZXkgPSAoa2V5KSA9PiBwb3NpdGlvbmFsS2V5cy5oYXMoa2V5KTtcbmNvbnN0IGhhc1Bvc2l0aW9uYWxLZXkgPSAodGFyZ2V0KSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRhcmdldCkuc29tZShpc1Bvc2l0aW9uYWxLZXkpO1xufTtcbmNvbnN0IGlzTnVtT3JQeFR5cGUgPSAodikgPT4gdiA9PT0gbnVtYmVyIHx8IHYgPT09IHB4O1xuY29uc3QgZ2V0UG9zRnJvbU1hdHJpeCA9IChtYXRyaXgsIHBvcykgPT4gcGFyc2VGbG9hdChtYXRyaXguc3BsaXQoXCIsIFwiKVtwb3NdKTtcbmNvbnN0IGdldFRyYW5zbGF0ZUZyb21NYXRyaXggPSAocG9zMiwgcG9zMykgPT4gKF9iYm94LCB7IHRyYW5zZm9ybSB9KSA9PiB7XG4gICAgaWYgKHRyYW5zZm9ybSA9PT0gXCJub25lXCIgfHwgIXRyYW5zZm9ybSlcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgY29uc3QgbWF0cml4M2QgPSB0cmFuc2Zvcm0ubWF0Y2goL15tYXRyaXgzZFxcKCguKylcXCkkLyk7XG4gICAgaWYgKG1hdHJpeDNkKSB7XG4gICAgICAgIHJldHVybiBnZXRQb3NGcm9tTWF0cml4KG1hdHJpeDNkWzFdLCBwb3MzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRyYW5zZm9ybS5tYXRjaCgvXm1hdHJpeFxcKCguKylcXCkkLyk7XG4gICAgICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRQb3NGcm9tTWF0cml4KG1hdHJpeFsxXSwgcG9zMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCB0cmFuc2Zvcm1LZXlzID0gbmV3IFNldChbXCJ4XCIsIFwieVwiLCBcInpcIl0pO1xuY29uc3Qgbm9uVHJhbnNsYXRpb25hbFRyYW5zZm9ybUtleXMgPSB0cmFuc2Zvcm1Qcm9wT3JkZXIuZmlsdGVyKChrZXkpID0+ICF0cmFuc2Zvcm1LZXlzLmhhcyhrZXkpKTtcbmZ1bmN0aW9uIHJlbW92ZU5vblRyYW5zbGF0aW9uYWxUcmFuc2Zvcm0odmlzdWFsRWxlbWVudCkge1xuICAgIGNvbnN0IHJlbW92ZWRUcmFuc2Zvcm1zID0gW107XG4gICAgbm9uVHJhbnNsYXRpb25hbFRyYW5zZm9ybUtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmlzdWFsRWxlbWVudC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVtb3ZlZFRyYW5zZm9ybXMucHVzaChba2V5LCB2YWx1ZS5nZXQoKV0pO1xuICAgICAgICAgICAgdmFsdWUuc2V0KGtleS5zdGFydHNXaXRoKFwic2NhbGVcIikgPyAxIDogMCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBBcHBseSBjaGFuZ2VzIHRvIGVsZW1lbnQgYmVmb3JlIG1lYXN1cmVtZW50XG4gICAgaWYgKHJlbW92ZWRUcmFuc2Zvcm1zLmxlbmd0aClcbiAgICAgICAgdmlzdWFsRWxlbWVudC5yZW5kZXIoKTtcbiAgICByZXR1cm4gcmVtb3ZlZFRyYW5zZm9ybXM7XG59XG5jb25zdCBwb3NpdGlvbmFsVmFsdWVzID0ge1xuICAgIC8vIERpbWVuc2lvbnNcbiAgICB3aWR0aDogKHsgeCB9LCB7IHBhZGRpbmdMZWZ0ID0gXCIwXCIsIHBhZGRpbmdSaWdodCA9IFwiMFwiIH0pID0+IHgubWF4IC0geC5taW4gLSBwYXJzZUZsb2F0KHBhZGRpbmdMZWZ0KSAtIHBhcnNlRmxvYXQocGFkZGluZ1JpZ2h0KSxcbiAgICBoZWlnaHQ6ICh7IHkgfSwgeyBwYWRkaW5nVG9wID0gXCIwXCIsIHBhZGRpbmdCb3R0b20gPSBcIjBcIiB9KSA9PiB5Lm1heCAtIHkubWluIC0gcGFyc2VGbG9hdChwYWRkaW5nVG9wKSAtIHBhcnNlRmxvYXQocGFkZGluZ0JvdHRvbSksXG4gICAgdG9wOiAoX2Jib3gsIHsgdG9wIH0pID0+IHBhcnNlRmxvYXQodG9wKSxcbiAgICBsZWZ0OiAoX2Jib3gsIHsgbGVmdCB9KSA9PiBwYXJzZUZsb2F0KGxlZnQpLFxuICAgIGJvdHRvbTogKHsgeSB9LCB7IHRvcCB9KSA9PiBwYXJzZUZsb2F0KHRvcCkgKyAoeS5tYXggLSB5Lm1pbiksXG4gICAgcmlnaHQ6ICh7IHggfSwgeyBsZWZ0IH0pID0+IHBhcnNlRmxvYXQobGVmdCkgKyAoeC5tYXggLSB4Lm1pbiksXG4gICAgLy8gVHJhbnNmb3JtXG4gICAgeDogZ2V0VHJhbnNsYXRlRnJvbU1hdHJpeCg0LCAxMyksXG4gICAgeTogZ2V0VHJhbnNsYXRlRnJvbU1hdHJpeCg1LCAxNCksXG59O1xuLy8gQWxpYXMgdHJhbnNsYXRlIGxvbmdmb3JtIG5hbWVzXG5wb3NpdGlvbmFsVmFsdWVzLnRyYW5zbGF0ZVggPSBwb3NpdGlvbmFsVmFsdWVzLng7XG5wb3NpdGlvbmFsVmFsdWVzLnRyYW5zbGF0ZVkgPSBwb3NpdGlvbmFsVmFsdWVzLnk7XG5jb25zdCBjb252ZXJ0Q2hhbmdlZFZhbHVlVHlwZXMgPSAodGFyZ2V0LCB2aXN1YWxFbGVtZW50LCBjaGFuZ2VkS2V5cykgPT4ge1xuICAgIGNvbnN0IG9yaWdpbkJib3ggPSB2aXN1YWxFbGVtZW50Lm1lYXN1cmVWaWV3cG9ydEJveCgpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB2aXN1YWxFbGVtZW50LmN1cnJlbnQ7XG4gICAgY29uc3QgZWxlbWVudENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IHsgZGlzcGxheSB9ID0gZWxlbWVudENvbXB1dGVkU3R5bGU7XG4gICAgY29uc3Qgb3JpZ2luID0ge307XG4gICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgY3VycmVudGx5IHNldCB0byBkaXNwbGF5OiBcIm5vbmVcIiwgbWFrZSBpdCB2aXNpYmxlIGJlZm9yZVxuICAgIC8vIG1lYXN1cmluZyB0aGUgdGFyZ2V0IGJvdW5kaW5nIGJveFxuICAgIGlmIChkaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICB2aXN1YWxFbGVtZW50LnNldFN0YXRpY1ZhbHVlKFwiZGlzcGxheVwiLCB0YXJnZXQuZGlzcGxheSB8fCBcImJsb2NrXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvcmQgb3JpZ2lucyBiZWZvcmUgd2UgcmVuZGVyIGFuZCB1cGRhdGUgc3R5bGVzXG4gICAgICovXG4gICAgY2hhbmdlZEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIG9yaWdpbltrZXldID0gcG9zaXRpb25hbFZhbHVlc1trZXldKG9yaWdpbkJib3gsIGVsZW1lbnRDb21wdXRlZFN0eWxlKTtcbiAgICB9KTtcbiAgICAvLyBBcHBseSB0aGUgbGF0ZXN0IHZhbHVlcyAoYXMgc2V0IGluIGNoZWNrQW5kQ29udmVydENoYW5nZWRWYWx1ZVR5cGVzKVxuICAgIHZpc3VhbEVsZW1lbnQucmVuZGVyKCk7XG4gICAgY29uc3QgdGFyZ2V0QmJveCA9IHZpc3VhbEVsZW1lbnQubWVhc3VyZVZpZXdwb3J0Qm94KCk7XG4gICAgY2hhbmdlZEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIC8vIFJlc3RvcmUgc3R5bGVzIHRvIHRoZWlyICoqY2FsY3VsYXRlZCBjb21wdXRlZCBzdHlsZSoqLCBub3QgdGhlaXIgYWN0dWFsXG4gICAgICAgIC8vIG9yaWdpbmFsbHkgc2V0IHN0eWxlLiBUaGlzIGFsbG93cyB1cyB0byBhbmltYXRlIGJldHdlZW4gZXF1aXZhbGVudCBwaXhlbCB1bml0cy5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB2aXN1YWxFbGVtZW50LmdldFZhbHVlKGtleSk7XG4gICAgICAgIHZhbHVlICYmIHZhbHVlLmp1bXAob3JpZ2luW2tleV0pO1xuICAgICAgICB0YXJnZXRba2V5XSA9IHBvc2l0aW9uYWxWYWx1ZXNba2V5XSh0YXJnZXRCYm94LCBlbGVtZW50Q29tcHV0ZWRTdHlsZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn07XG5jb25zdCBjaGVja0FuZENvbnZlcnRDaGFuZ2VkVmFsdWVUeXBlcyA9ICh2aXN1YWxFbGVtZW50LCB0YXJnZXQsIG9yaWdpbiA9IHt9LCB0cmFuc2l0aW9uRW5kID0ge30pID0+IHtcbiAgICB0YXJnZXQgPSB7IC4uLnRhcmdldCB9O1xuICAgIHRyYW5zaXRpb25FbmQgPSB7IC4uLnRyYW5zaXRpb25FbmQgfTtcbiAgICBjb25zdCB0YXJnZXRQb3NpdGlvbmFsS2V5cyA9IE9iamVjdC5rZXlzKHRhcmdldCkuZmlsdGVyKGlzUG9zaXRpb25hbEtleSk7XG4gICAgLy8gV2Ugd2FudCB0byByZW1vdmUgYW55IHRyYW5zZm9ybSB2YWx1ZXMgdGhhdCBjb3VsZCBhZmZlY3QgdGhlIGVsZW1lbnQncyBib3VuZGluZyBib3ggYmVmb3JlXG4gICAgLy8gaXQncyBtZWFzdXJlZC4gV2UnbGwgcmVhcHBseSB0aGVzZSBsYXRlci5cbiAgICBsZXQgcmVtb3ZlZFRyYW5zZm9ybVZhbHVlcyA9IFtdO1xuICAgIGxldCBoYXNBdHRlbXB0ZWRUb1JlbW92ZVRyYW5zZm9ybVZhbHVlcyA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYW5nZWRWYWx1ZVR5cGVLZXlzID0gW107XG4gICAgdGFyZ2V0UG9zaXRpb25hbEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmlzdWFsRWxlbWVudC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICBpZiAoIXZpc3VhbEVsZW1lbnQuaGFzVmFsdWUoa2V5KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGZyb20gPSBvcmlnaW5ba2V5XTtcbiAgICAgICAgbGV0IGZyb21UeXBlID0gZmluZERpbWVuc2lvblZhbHVlVHlwZShmcm9tKTtcbiAgICAgICAgY29uc3QgdG8gPSB0YXJnZXRba2V5XTtcbiAgICAgICAgbGV0IHRvVHlwZTtcbiAgICAgICAgLy8gVE9ETzogVGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2YgdGhpcyBiYXNpY2FsbHkgdGhyb3dzIGFuIGVycm9yXG4gICAgICAgIC8vIGlmIHlvdSB0cnkgYW5kIGRvIHZhbHVlIGNvbnZlcnNpb24gdmlhIGtleWZyYW1lcy4gVGhlcmUncyBwcm9iYWJseVxuICAgICAgICAvLyBhIHdheSBvZiBkb2luZyB0aGlzIGJ1dCB0aGUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zIHdvdWxkIG5lZWQgZ3JlYXRlciBzY3J1dGlueSxcbiAgICAgICAgLy8gYXMgaXQnZCBiZSBkb2luZyBtdWx0aXBsZSByZXNpemUtcmVtZWFzdXJlIG9wZXJhdGlvbnMuXG4gICAgICAgIGlmIChpc0tleWZyYW1lc1RhcmdldCh0bykpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bUtleWZyYW1lcyA9IHRvLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGZyb21JbmRleCA9IHRvWzBdID09PSBudWxsID8gMSA6IDA7XG4gICAgICAgICAgICBmcm9tID0gdG9bZnJvbUluZGV4XTtcbiAgICAgICAgICAgIGZyb21UeXBlID0gZmluZERpbWVuc2lvblZhbHVlVHlwZShmcm9tKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmcm9tSW5kZXg7IGkgPCBudW1LZXlmcmFtZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERvbid0IGFsbG93IHdpbGRjYXJkIGtleWZyYW1lcyB0byBiZSB1c2VkIHRvIGRldGVjdFxuICAgICAgICAgICAgICAgICAqIGEgZGlmZmVyZW5jZSBpbiB2YWx1ZSB0eXBlcy5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAodG9baV0gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmICghdG9UeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvVHlwZSA9IGZpbmREaW1lbnNpb25WYWx1ZVR5cGUodG9baV0pO1xuICAgICAgICAgICAgICAgICAgICBpbnZhcmlhbnQodG9UeXBlID09PSBmcm9tVHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGlzTnVtT3JQeFR5cGUoZnJvbVR5cGUpICYmIGlzTnVtT3JQeFR5cGUodG9UeXBlKSksIFwiS2V5ZnJhbWVzIG11c3QgYmUgb2YgdGhlIHNhbWUgZGltZW5zaW9uIGFzIHRoZSBjdXJyZW50IHZhbHVlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YXJpYW50KGZpbmREaW1lbnNpb25WYWx1ZVR5cGUodG9baV0pID09PSB0b1R5cGUsIFwiQWxsIGtleWZyYW1lcyBtdXN0IGJlIG9mIHRoZSBzYW1lIHR5cGVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9UeXBlID0gZmluZERpbWVuc2lvblZhbHVlVHlwZSh0byk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb21UeXBlICE9PSB0b1R5cGUpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXkncmUgYm90aCBqdXN0IG51bWJlciBvciBweCwgY29udmVydCB0aGVtIGJvdGggdG8gbnVtYmVycyByYXRoZXIgdGhhblxuICAgICAgICAgICAgLy8gcmVseWluZyBvbiByZXNpemUvcmVtZWFzdXJlIHRvIGNvbnZlcnQgKHdoaWNoIGlzIHdhc3RlZnVsIGluIHRoaXMgc2l0dWF0aW9uKVxuICAgICAgICAgICAgaWYgKGlzTnVtT3JQeFR5cGUoZnJvbVR5cGUpICYmIGlzTnVtT3JQeFR5cGUodG9UeXBlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB2YWx1ZS5nZXQoKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuc2V0KHBhcnNlRmxvYXQoY3VycmVudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gcGFyc2VGbG9hdCh0byk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodG8pICYmIHRvVHlwZSA9PT0gcHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB0by5tYXAocGFyc2VGbG9hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKGZyb21UeXBlID09PSBudWxsIHx8IGZyb21UeXBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcm9tVHlwZS50cmFuc2Zvcm0pICYmXG4gICAgICAgICAgICAgICAgKHRvVHlwZSA9PT0gbnVsbCB8fCB0b1R5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRvVHlwZS50cmFuc2Zvcm0pICYmXG4gICAgICAgICAgICAgICAgKGZyb20gPT09IDAgfHwgdG8gPT09IDApKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgb25lIG9yIHRoZSBvdGhlciB2YWx1ZSBpcyAwLCBpdCdzIHNhZmUgdG8gY29lcmNlIGl0IHRvIHRoZVxuICAgICAgICAgICAgICAgIC8vIHR5cGUgb2YgdGhlIG90aGVyIHdpdGhvdXQgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zZXQodG9UeXBlLnRyYW5zZm9ybShmcm9tKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IGZyb21UeXBlLnRyYW5zZm9ybSh0byk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgZ29pbmcgdG8gZG8gdmFsdWUgY29udmVyc2lvbiB2aWEgRE9NIG1lYXN1cmVtZW50cywgd2UgZmlyc3RcbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHJlbW92ZSBub24tcG9zaXRpb25hbCB0cmFuc2Zvcm0gdmFsdWVzIHRoYXQgY291bGQgYWZmZWN0IHRoZSBiYm94IG1lYXN1cmVtZW50cy5cbiAgICAgICAgICAgICAgICBpZiAoIWhhc0F0dGVtcHRlZFRvUmVtb3ZlVHJhbnNmb3JtVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWRUcmFuc2Zvcm1WYWx1ZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTm9uVHJhbnNsYXRpb25hbFRyYW5zZm9ybSh2aXN1YWxFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaGFzQXR0ZW1wdGVkVG9SZW1vdmVUcmFuc2Zvcm1WYWx1ZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGFuZ2VkVmFsdWVUeXBlS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZFtrZXldID1cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZFtrZXldICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvbkVuZFtrZXldXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRhcmdldFtrZXldO1xuICAgICAgICAgICAgICAgIHZhbHVlLmp1bXAodG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGNoYW5nZWRWYWx1ZVR5cGVLZXlzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBzY3JvbGxZID0gY2hhbmdlZFZhbHVlVHlwZUtleXMuaW5kZXhPZihcImhlaWdodFwiKSA+PSAwXG4gICAgICAgICAgICA/IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRUYXJnZXQgPSBjb252ZXJ0Q2hhbmdlZFZhbHVlVHlwZXModGFyZ2V0LCB2aXN1YWxFbGVtZW50LCBjaGFuZ2VkVmFsdWVUeXBlS2V5cyk7XG4gICAgICAgIC8vIElmIHdlIHJlbW92ZWQgdHJhbnNmb3JtIHZhbHVlcywgcmVhcHBseSB0aGVtIGJlZm9yZSB0aGUgbmV4dCByZW5kZXJcbiAgICAgICAgaWYgKHJlbW92ZWRUcmFuc2Zvcm1WYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW1vdmVkVHJhbnNmb3JtVmFsdWVzLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnQuZ2V0VmFsdWUoa2V5KS5zZXQodmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVhcHBseSBvcmlnaW5hbCB2YWx1ZXNcbiAgICAgICAgdmlzdWFsRWxlbWVudC5yZW5kZXIoKTtcbiAgICAgICAgLy8gUmVzdG9yZSBzY3JvbGwgcG9zaXRpb25cbiAgICAgICAgaWYgKGlzQnJvd3NlciAmJiBzY3JvbGxZICE9PSBudWxsKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IHNjcm9sbFkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdGFyZ2V0OiBjb252ZXJ0ZWRUYXJnZXQsIHRyYW5zaXRpb25FbmQgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHRhcmdldCwgdHJhbnNpdGlvbkVuZCB9O1xuICAgIH1cbn07XG4vKipcbiAqIENvbnZlcnQgdmFsdWUgdHlwZXMgZm9yIHgveS93aWR0aC9oZWlnaHQvdG9wL2xlZnQvYm90dG9tL3JpZ2h0XG4gKlxuICogQWxsb3dzIGFuaW1hdGlvbiBiZXR3ZWVuIGAnYXV0bydgIC0+IGAnMTAwJSdgIG9yIGAwYCAtPiBgJ2NhbGMoNTAlIC0gMTB2dyknYFxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB1bml0Q29udmVyc2lvbih2aXN1YWxFbGVtZW50LCB0YXJnZXQsIG9yaWdpbiwgdHJhbnNpdGlvbkVuZCkge1xuICAgIHJldHVybiBoYXNQb3NpdGlvbmFsS2V5KHRhcmdldClcbiAgICAgICAgPyBjaGVja0FuZENvbnZlcnRDaGFuZ2VkVmFsdWVUeXBlcyh2aXN1YWxFbGVtZW50LCB0YXJnZXQsIG9yaWdpbiwgdHJhbnNpdGlvbkVuZClcbiAgICAgICAgOiB7IHRhcmdldCwgdHJhbnNpdGlvbkVuZCB9O1xufVxuXG5leHBvcnQgeyBwb3NpdGlvbmFsVmFsdWVzLCB1bml0Q29udmVyc2lvbiB9O1xuIiwiaW1wb3J0IHsgcmVzb2x2ZUNTU1ZhcmlhYmxlcyB9IGZyb20gJy4vY3NzLXZhcmlhYmxlcy1jb252ZXJzaW9uLm1qcyc7XG5pbXBvcnQgeyB1bml0Q29udmVyc2lvbiB9IGZyb20gJy4vdW5pdC1jb252ZXJzaW9uLm1qcyc7XG5cbi8qKlxuICogUGFyc2UgYSBET00gdmFyaWFudCB0byBtYWtlIGl0IGFuaW1hdGFibGUuIFRoaXMgaW52b2x2ZXMgcmVzb2x2aW5nIENTUyB2YXJpYWJsZXNcbiAqIGFuZCBlbnN1cmluZyBhbmltYXRpb25zIGxpa2UgXCIyMCVcIiA9PiBcImNhbGMoNTB2dylcIiBhcmUgcGVyZm9ybWVkIGluIHBpeGVscy5cbiAqL1xuY29uc3QgcGFyc2VEb21WYXJpYW50ID0gKHZpc3VhbEVsZW1lbnQsIHRhcmdldCwgb3JpZ2luLCB0cmFuc2l0aW9uRW5kKSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZWQgPSByZXNvbHZlQ1NTVmFyaWFibGVzKHZpc3VhbEVsZW1lbnQsIHRhcmdldCwgdHJhbnNpdGlvbkVuZCk7XG4gICAgdGFyZ2V0ID0gcmVzb2x2ZWQudGFyZ2V0O1xuICAgIHRyYW5zaXRpb25FbmQgPSByZXNvbHZlZC50cmFuc2l0aW9uRW5kO1xuICAgIHJldHVybiB1bml0Q29udmVyc2lvbih2aXN1YWxFbGVtZW50LCB0YXJnZXQsIG9yaWdpbiwgdHJhbnNpdGlvbkVuZCk7XG59O1xuXG5leHBvcnQgeyBwYXJzZURvbVZhcmlhbnQgfTtcbiIsIi8vIERvZXMgdGhpcyBkZXZpY2UgcHJlZmVyIHJlZHVjZWQgbW90aW9uPyBSZXR1cm5zIGBudWxsYCBzZXJ2ZXItc2lkZS5cbmNvbnN0IHByZWZlcnNSZWR1Y2VkTW90aW9uID0geyBjdXJyZW50OiBudWxsIH07XG5jb25zdCBoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIgPSB7IGN1cnJlbnQ6IGZhbHNlIH07XG5cbmV4cG9ydCB7IGhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lciwgcHJlZmVyc1JlZHVjZWRNb3Rpb24gfTtcbiIsImltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4uL2lzLWJyb3dzZXIubWpzJztcbmltcG9ydCB7IGhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lciwgcHJlZmVyc1JlZHVjZWRNb3Rpb24gfSBmcm9tICcuL3N0YXRlLm1qcyc7XG5cbmZ1bmN0aW9uIGluaXRQcmVmZXJzUmVkdWNlZE1vdGlvbigpIHtcbiAgICBoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIuY3VycmVudCA9IHRydWU7XG4gICAgaWYgKCFpc0Jyb3dzZXIpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEpIHtcbiAgICAgICAgY29uc3QgbW90aW9uTWVkaWFRdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb24pXCIpO1xuICAgICAgICBjb25zdCBzZXRSZWR1Y2VkTW90aW9uUHJlZmVyZW5jZXMgPSAoKSA9PiAocHJlZmVyc1JlZHVjZWRNb3Rpb24uY3VycmVudCA9IG1vdGlvbk1lZGlhUXVlcnkubWF0Y2hlcyk7XG4gICAgICAgIG1vdGlvbk1lZGlhUXVlcnkuYWRkTGlzdGVuZXIoc2V0UmVkdWNlZE1vdGlvblByZWZlcmVuY2VzKTtcbiAgICAgICAgc2V0UmVkdWNlZE1vdGlvblByZWZlcmVuY2VzKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwcmVmZXJzUmVkdWNlZE1vdGlvbi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxufVxuXG5leHBvcnQgeyBpbml0UHJlZmVyc1JlZHVjZWRNb3Rpb24gfTtcbiIsImltcG9ydCB7IGlzV2lsbENoYW5nZU1vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXNlLXdpbGwtY2hhbmdlL2lzLm1qcyc7XG5pbXBvcnQgeyB3YXJuT25jZSB9IGZyb20gJy4uLy4uL3V0aWxzL3dhcm4tb25jZS5tanMnO1xuaW1wb3J0IHsgbW90aW9uVmFsdWUgfSBmcm9tICcuLi8uLi92YWx1ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNNb3Rpb25WYWx1ZSB9IGZyb20gJy4uLy4uL3ZhbHVlL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuXG5mdW5jdGlvbiB1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMoZWxlbWVudCwgbmV4dCwgcHJldikge1xuICAgIGNvbnN0IHsgd2lsbENoYW5nZSB9ID0gbmV4dDtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG4gICAgICAgIGNvbnN0IG5leHRWYWx1ZSA9IG5leHRba2V5XTtcbiAgICAgICAgY29uc3QgcHJldlZhbHVlID0gcHJldltrZXldO1xuICAgICAgICBpZiAoaXNNb3Rpb25WYWx1ZShuZXh0VmFsdWUpKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoaXMgaXMgYSBtb3Rpb24gdmFsdWUgZm91bmQgaW4gcHJvcHMgb3Igc3R5bGUsIHdlIHdhbnQgdG8gYWRkIGl0XG4gICAgICAgICAgICAgKiB0byBvdXIgdmlzdWFsIGVsZW1lbnQncyBtb3Rpb24gdmFsdWUgbWFwLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBlbGVtZW50LmFkZFZhbHVlKGtleSwgbmV4dFZhbHVlKTtcbiAgICAgICAgICAgIGlmIChpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSh3aWxsQ2hhbmdlKSkge1xuICAgICAgICAgICAgICAgIHdpbGxDaGFuZ2UuYWRkKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENoZWNrIHRoZSB2ZXJzaW9uIG9mIHRoZSBpbmNvbWluZyBtb3Rpb24gdmFsdWUgd2l0aCB0aGlzIHZlcnNpb25cbiAgICAgICAgICAgICAqIGFuZCB3YXJuIGFnYWluc3QgbWlzbWF0Y2hlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgICAgICAgICB3YXJuT25jZShuZXh0VmFsdWUudmVyc2lvbiA9PT0gXCIxMC4xNi4xNlwiLCBgQXR0ZW1wdGluZyB0byBtaXggRnJhbWVyIE1vdGlvbiB2ZXJzaW9ucyAke25leHRWYWx1ZS52ZXJzaW9ufSB3aXRoIDEwLjE2LjE2IG1heSBub3Qgd29yayBhcyBleHBlY3RlZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc01vdGlvblZhbHVlKHByZXZWYWx1ZSkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UncmUgc3dhcHBpbmcgZnJvbSBhIG1vdGlvbiB2YWx1ZSB0byBhIHN0YXRpYyB2YWx1ZSxcbiAgICAgICAgICAgICAqIGNyZWF0ZSBhIG5ldyBtb3Rpb24gdmFsdWUgZnJvbSB0aGF0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkVmFsdWUoa2V5LCBtb3Rpb25WYWx1ZShuZXh0VmFsdWUsIHsgb3duZXI6IGVsZW1lbnQgfSkpO1xuICAgICAgICAgICAgaWYgKGlzV2lsbENoYW5nZU1vdGlvblZhbHVlKHdpbGxDaGFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgd2lsbENoYW5nZS5yZW1vdmUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2VmFsdWUgIT09IG5leHRWYWx1ZSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0aGlzIGlzIGEgZmxhdCB2YWx1ZSB0aGF0IGhhcyBjaGFuZ2VkLCB1cGRhdGUgdGhlIG1vdGlvbiB2YWx1ZVxuICAgICAgICAgICAgICogb3IgY3JlYXRlIG9uZSBpZiBpdCBkb2Vzbid0IGV4aXN0LiBXZSBvbmx5IHdhbnQgdG8gZG8gdGhpcyBpZiB3ZSdyZVxuICAgICAgICAgICAgICogbm90IGhhbmRsaW5nIHRoZSB2YWx1ZSB3aXRoIG91ciBhbmltYXRpb24gc3RhdGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc1ZhbHVlKGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1ZhbHVlID0gZWxlbWVudC5nZXRWYWx1ZShrZXkpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE9ubHkgdXBkYXRlIHZhbHVlcyB0aGF0IGFyZW4ndCBiZWluZyBhbmltYXRlZCBvciBldmVuIGxvb2tlZCBhdFxuICAgICAgICAgICAgICAgICFleGlzdGluZ1ZhbHVlLmhhc0FuaW1hdGVkICYmIGV4aXN0aW5nVmFsdWUuc2V0KG5leHRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRlc3RWYWx1ZSA9IGVsZW1lbnQuZ2V0U3RhdGljVmFsdWUoa2V5KTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZFZhbHVlKGtleSwgbW90aW9uVmFsdWUobGF0ZXN0VmFsdWUgIT09IHVuZGVmaW5lZCA/IGxhdGVzdFZhbHVlIDogbmV4dFZhbHVlLCB7IG93bmVyOiBlbGVtZW50IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBIYW5kbGUgcmVtb3ZlZCB2YWx1ZXNcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcmV2KSB7XG4gICAgICAgIGlmIChuZXh0W2tleV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlVmFsdWUoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQ7XG59XG5cbmV4cG9ydCB7IHVwZGF0ZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9O1xuIiwiY29uc3QgdmlzdWFsRWxlbWVudFN0b3JlID0gbmV3IFdlYWtNYXAoKTtcblxuZXhwb3J0IHsgdmlzdWFsRWxlbWVudFN0b3JlIH07XG4iLCJpbXBvcnQgeyB3YXJuaW5nLCBpbnZhcmlhbnQgfSBmcm9tICcuLi91dGlscy9lcnJvcnMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUJveCB9IGZyb20gJy4uL3Byb2plY3Rpb24vZ2VvbWV0cnkvbW9kZWxzLm1qcyc7XG5pbXBvcnQgeyBpc1JlZk9iamVjdCB9IGZyb20gJy4uL3V0aWxzL2lzLXJlZi1vYmplY3QubWpzJztcbmltcG9ydCB7IGluaXRQcmVmZXJzUmVkdWNlZE1vdGlvbiB9IGZyb20gJy4uL3V0aWxzL3JlZHVjZWQtbW90aW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIsIHByZWZlcnNSZWR1Y2VkTW90aW9uIH0gZnJvbSAnLi4vdXRpbHMvcmVkdWNlZC1tb3Rpb24vc3RhdGUubWpzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbk1hbmFnZXIgfSBmcm9tICcuLi91dGlscy9zdWJzY3JpcHRpb24tbWFuYWdlci5tanMnO1xuaW1wb3J0IHsgbW90aW9uVmFsdWUgfSBmcm9tICcuLi92YWx1ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUgfSBmcm9tICcuLi92YWx1ZS91c2Utd2lsbC1jaGFuZ2UvaXMubWpzJztcbmltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuLi92YWx1ZS91dGlscy9pcy1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IHRyYW5zZm9ybVByb3BzIH0gZnJvbSAnLi9odG1sL3V0aWxzL3RyYW5zZm9ybS5tanMnO1xuaW1wb3J0IHsgaXNDb250cm9sbGluZ1ZhcmlhbnRzLCBpc1ZhcmlhbnROb2RlIH0gZnJvbSAnLi91dGlscy9pcy1jb250cm9sbGluZy12YXJpYW50cy5tanMnO1xuaW1wb3J0IHsgaXNWYXJpYW50TGFiZWwgfSBmcm9tICcuL3V0aWxzL2lzLXZhcmlhbnQtbGFiZWwubWpzJztcbmltcG9ydCB7IHVwZGF0ZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyB9IGZyb20gJy4vdXRpbHMvbW90aW9uLXZhbHVlcy5tanMnO1xuaW1wb3J0IHsgcmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL3Jlc29sdmUtdmFyaWFudHMubWpzJztcbmltcG9ydCB7IHdhcm5PbmNlIH0gZnJvbSAnLi4vdXRpbHMvd2Fybi1vbmNlLm1qcyc7XG5pbXBvcnQgeyBmZWF0dXJlRGVmaW5pdGlvbnMgfSBmcm9tICcuLi9tb3Rpb24vZmVhdHVyZXMvZGVmaW5pdGlvbnMubWpzJztcbmltcG9ydCB7IHZhcmlhbnRQcm9wcyB9IGZyb20gJy4vdXRpbHMvdmFyaWFudC1wcm9wcy5tanMnO1xuaW1wb3J0IHsgdmlzdWFsRWxlbWVudFN0b3JlIH0gZnJvbSAnLi9zdG9yZS5tanMnO1xuaW1wb3J0IHsgZnJhbWUsIGNhbmNlbEZyYW1lIH0gZnJvbSAnLi4vZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5cbmNvbnN0IGZlYXR1cmVOYW1lcyA9IE9iamVjdC5rZXlzKGZlYXR1cmVEZWZpbml0aW9ucyk7XG5jb25zdCBudW1GZWF0dXJlcyA9IGZlYXR1cmVOYW1lcy5sZW5ndGg7XG5jb25zdCBwcm9wRXZlbnRIYW5kbGVycyA9IFtcbiAgICBcIkFuaW1hdGlvblN0YXJ0XCIsXG4gICAgXCJBbmltYXRpb25Db21wbGV0ZVwiLFxuICAgIFwiVXBkYXRlXCIsXG4gICAgXCJCZWZvcmVMYXlvdXRNZWFzdXJlXCIsXG4gICAgXCJMYXlvdXRNZWFzdXJlXCIsXG4gICAgXCJMYXlvdXRBbmltYXRpb25TdGFydFwiLFxuICAgIFwiTGF5b3V0QW5pbWF0aW9uQ29tcGxldGVcIixcbl07XG5jb25zdCBudW1WYXJpYW50UHJvcHMgPSB2YXJpYW50UHJvcHMubGVuZ3RoO1xuLyoqXG4gKiBBIFZpc3VhbEVsZW1lbnQgaXMgYW4gaW1wZXJhdGl2ZSBhYnN0cmFjdGlvbiBhcm91bmQgVUkgZWxlbWVudHMgc3VjaCBhc1xuICogSFRNTEVsZW1lbnQsIFNWR0VsZW1lbnQsIFRocmVlLk9iamVjdDNEIGV0Yy5cbiAqL1xuY2xhc3MgVmlzdWFsRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoeyBwYXJlbnQsIHByb3BzLCBwcmVzZW5jZUNvbnRleHQsIHJlZHVjZWRNb3Rpb25Db25maWcsIHZpc3VhbFN0YXRlLCB9LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHVuZGVybHlpbmcgSW5zdGFuY2UsIGUuZy4gYSBIVE1MRWxlbWVudFxuICAgICAgICAgKiBvciBUaHJlZS5NZXNoIGV0Yy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNldCBjb250YWluaW5nIHJlZmVyZW5jZXMgdG8gdGhpcyBWaXN1YWxFbGVtZW50J3MgY2hpbGRyZW4uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbmV3IFNldCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIHdoYXQgcm9sZSB0aGlzIHZpc3VhbCBlbGVtZW50IHNob3VsZCB0YWtlIGluIHRoZSB2YXJpYW50IHRyZWUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzVmFyaWFudE5vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0NvbnRyb2xsaW5nVmFyaWFudHMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlY2lkZXMgd2hldGhlciB0aGlzIFZpc3VhbEVsZW1lbnQgc2hvdWxkIGFuaW1hdGUgaW4gcmVkdWNlZCBtb3Rpb25cbiAgICAgICAgICogbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVE9ETzogVGhpcyBpcyBjdXJyZW50bHkgc2V0IG9uIGV2ZXJ5IGluZGl2aWR1YWwgVmlzdWFsRWxlbWVudCBidXQgZmVlbHNcbiAgICAgICAgICogbGlrZSBpdCBjb3VsZCBiZSBzZXQgZ2xvYmFsbHkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNob3VsZFJlZHVjZU1vdGlvbiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiBhbGwgbW90aW9uIHZhbHVlcyBhdHRhY2hlZCB0byB0aGlzIHZpc3VhbCBlbGVtZW50LiBNb3Rpb25cbiAgICAgICAgICogdmFsdWVzIGFyZSBzb3VyY2Ugb2YgdHJ1dGggZm9yIGFueSBnaXZlbiBhbmltYXRlZCB2YWx1ZS4gQSBtb3Rpb25cbiAgICAgICAgICogdmFsdWUgbWlnaHQgYmUgcHJvdmlkZWQgZXh0ZXJuYWxseSBieSB0aGUgY29tcG9uZW50IHZpYSBwcm9wcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmFsdWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2xlYW51cCBmdW5jdGlvbnMgZm9yIGFjdGl2ZSBmZWF0dXJlcyAoaG92ZXIvdGFwL2V4aXQgZXRjKVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZWF0dXJlcyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgZXZlcnkgc3Vic2NyaXB0aW9uIHRoYXQgYmluZHMgdGhlIHByb3ZpZGVkIG9yIGdlbmVyYXRlZFxuICAgICAgICAgKiBtb3Rpb24gdmFsdWVzIG9uQ2hhbmdlIGxpc3RlbmVycyB0byB0aGlzIHZpc3VhbCBlbGVtZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgcHJldmlvdXNseS1wcm92aWRlZCBtb3Rpb24gdmFsdWVzIGFzIHJldHVybmVkXG4gICAgICAgICAqIGZyb20gc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzLiBXZSB1c2UgdGhlIGtleXMgaW4gaGVyZSB0byBkZXRlcm1pbmVcbiAgICAgICAgICogaWYgYW55IG1vdGlvbiB2YWx1ZXMgbmVlZCB0byBiZSByZW1vdmVkIGFmdGVyIHByb3BzIGFyZSB1cGRhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmV2TW90aW9uVmFsdWVzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBvYmplY3QgY29udGFpbmluZyBhIFN1YnNjcmlwdGlvbk1hbmFnZXIgZm9yIGVhY2ggYWN0aXZlIGV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9iamVjdCBjb250YWluaW5nIGFuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uIGZvciBlYWNoIHByb3AgZXZlbnQgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgKiBGb3IgZXhhbXBsZSwgZXZlcnkgXCJVcGRhdGVcIiBldmVudCBjYW4gaGF2ZSBtdWx0aXBsZSBzdWJzY3JpYmVycyB2aWFcbiAgICAgICAgICogVmlzdWFsRWxlbWVudC5vbigpLCBidXQgb25seSBvbmUgb2YgdGhvc2UgY2FuIGJlIGRlZmluZWQgdmlhIHRoZSBvblVwZGF0ZSBwcm9wLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9wRXZlbnRTdWJzY3JpcHRpb25zID0ge307XG4gICAgICAgIHRoaXMubm90aWZ5VXBkYXRlID0gKCkgPT4gdGhpcy5ub3RpZnkoXCJVcGRhdGVcIiwgdGhpcy5sYXRlc3RWYWx1ZXMpO1xuICAgICAgICB0aGlzLnJlbmRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckJ1aWxkKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckluc3RhbmNlKHRoaXMuY3VycmVudCwgdGhpcy5yZW5kZXJTdGF0ZSwgdGhpcy5wcm9wcy5zdHlsZSwgdGhpcy5wcm9qZWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlbmRlciA9ICgpID0+IGZyYW1lLnJlbmRlcih0aGlzLnJlbmRlciwgZmFsc2UsIHRydWUpO1xuICAgICAgICBjb25zdCB7IGxhdGVzdFZhbHVlcywgcmVuZGVyU3RhdGUgfSA9IHZpc3VhbFN0YXRlO1xuICAgICAgICB0aGlzLmxhdGVzdFZhbHVlcyA9IGxhdGVzdFZhbHVlcztcbiAgICAgICAgdGhpcy5iYXNlVGFyZ2V0ID0geyAuLi5sYXRlc3RWYWx1ZXMgfTtcbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWVzID0gcHJvcHMuaW5pdGlhbCA/IHsgLi4ubGF0ZXN0VmFsdWVzIH0gOiB7fTtcbiAgICAgICAgdGhpcy5yZW5kZXJTdGF0ZSA9IHJlbmRlclN0YXRlO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgICB0aGlzLnByZXNlbmNlQ29udGV4dCA9IHByZXNlbmNlQ29udGV4dDtcbiAgICAgICAgdGhpcy5kZXB0aCA9IHBhcmVudCA/IHBhcmVudC5kZXB0aCArIDEgOiAwO1xuICAgICAgICB0aGlzLnJlZHVjZWRNb3Rpb25Db25maWcgPSByZWR1Y2VkTW90aW9uQ29uZmlnO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmlzQ29udHJvbGxpbmdWYXJpYW50cyA9IGlzQ29udHJvbGxpbmdWYXJpYW50cyhwcm9wcyk7XG4gICAgICAgIHRoaXMuaXNWYXJpYW50Tm9kZSA9IGlzVmFyaWFudE5vZGUocHJvcHMpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhcmlhbnROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnZhcmlhbnRDaGlsZHJlbiA9IG5ldyBTZXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hbnVhbGx5QW5pbWF0ZU9uTW91bnQgPSBCb29sZWFuKHBhcmVudCAmJiBwYXJlbnQuY3VycmVudCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbnkgbW90aW9uIHZhbHVlcyB0aGF0IGFyZSBwcm92aWRlZCB0byB0aGUgZWxlbWVudCB3aGVuIGNyZWF0ZWRcbiAgICAgICAgICogYXJlbid0IHlldCBib3VuZCB0byB0aGUgZWxlbWVudCwgYXMgdGhpcyB3b3VsZCB0ZWNobmljYWxseSBiZSBpbXB1cmUuXG4gICAgICAgICAqIEhvd2V2ZXIsIHdlIGl0ZXJhdGUgdGhyb3VnaCB0aGUgbW90aW9uIHZhbHVlcyBhbmQgc2V0IHRoZW0gdG8gdGhlXG4gICAgICAgICAqIGluaXRpYWwgdmFsdWVzIGZvciB0aGlzIGNvbXBvbmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogVE9ETzogVGhpcyBpcyBpbXB1cmUgYW5kIHdlIHNob3VsZCBsb29rIGF0IGNoYW5naW5nIHRoaXMgdG8gcnVuIG9uIG1vdW50LlxuICAgICAgICAgKiBEb2luZyBzbyB3aWxsIGJyZWFrIHNvbWUgdGVzdHMgYnV0IHRoaXMgaXNuJ3QgbmVjY2Vzc2FyaWx5IGEgYnJlYWtpbmcgY2hhbmdlLFxuICAgICAgICAgKiBtb3JlIGEgcmVmbGVjdGlvbiBvZiB0aGUgdGVzdC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHsgd2lsbENoYW5nZSwgLi4uaW5pdGlhbE1vdGlvblZhbHVlcyB9ID0gdGhpcy5zY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMocHJvcHMsIHt9KTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5pdGlhbE1vdGlvblZhbHVlcykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBpbml0aWFsTW90aW9uVmFsdWVzW2tleV07XG4gICAgICAgICAgICBpZiAobGF0ZXN0VmFsdWVzW2tleV0gIT09IHVuZGVmaW5lZCAmJiBpc01vdGlvblZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlLnNldChsYXRlc3RWYWx1ZXNba2V5XSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChpc1dpbGxDaGFuZ2VNb3Rpb25WYWx1ZSh3aWxsQ2hhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICB3aWxsQ2hhbmdlLmFkZChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBSZWFjdCBwcm9wcyBhbmQgcmV0dXJucyBmb3VuZCBNb3Rpb25WYWx1ZXMuIEZvciBleGFtcGxlLCBIVE1MXG4gICAgICogTW90aW9uVmFsdWVzIHdpbGwgYmUgZm91bmQgd2l0aGluIHRoZSBzdHlsZSBwcm9wLCB3aGVyZWFzIGZvciBUaHJlZS5qcyB3aXRoaW4gYXR0cmlidXRlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIFRoaXMgaXNuJ3QgYW4gYWJzdHJhY3QgbWV0aG9kIGFzIGl0IG5lZWRzIGNhbGxpbmcgaW4gdGhlIGNvbnN0cnVjdG9yLCBidXQgaXQgaXNcbiAgICAgKiBpbnRlbmRlZCB0byBiZSBvbmUuXG4gICAgICovXG4gICAgc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKF9wcm9wcywgX3ByZXZQcm9wcykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIG1vdW50KGluc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGluc3RhbmNlO1xuICAgICAgICB2aXN1YWxFbGVtZW50U3RvcmUuc2V0KGluc3RhbmNlLCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMucHJvamVjdGlvbiAmJiAhdGhpcy5wcm9qZWN0aW9uLmluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb24ubW91bnQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLmlzVmFyaWFudE5vZGUgJiYgIXRoaXMuaXNDb250cm9sbGluZ1ZhcmlhbnRzKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZyb21WYXJpYW50VHJlZSA9IHRoaXMucGFyZW50LmFkZFZhcmlhbnRDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB0aGlzLmJpbmRUb01vdGlvblZhbHVlKGtleSwgdmFsdWUpKTtcbiAgICAgICAgaWYgKCFoYXNSZWR1Y2VkTW90aW9uTGlzdGVuZXIuY3VycmVudCkge1xuICAgICAgICAgICAgaW5pdFByZWZlcnNSZWR1Y2VkTW90aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaG91bGRSZWR1Y2VNb3Rpb24gPVxuICAgICAgICAgICAgdGhpcy5yZWR1Y2VkTW90aW9uQ29uZmlnID09PSBcIm5ldmVyXCJcbiAgICAgICAgICAgICAgICA/IGZhbHNlXG4gICAgICAgICAgICAgICAgOiB0aGlzLnJlZHVjZWRNb3Rpb25Db25maWcgPT09IFwiYWx3YXlzXCJcbiAgICAgICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgICAgIDogcHJlZmVyc1JlZHVjZWRNb3Rpb24uY3VycmVudDtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICAgICAgd2Fybk9uY2UodGhpcy5zaG91bGRSZWR1Y2VNb3Rpb24gIT09IHRydWUsIFwiWW91IGhhdmUgUmVkdWNlZCBNb3Rpb24gZW5hYmxlZCBvbiB5b3VyIGRldmljZS4gQW5pbWF0aW9ucyBtYXkgbm90IGFwcGVhciBhcyBleHBlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGFyZW50KVxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4uYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnByb3BzLCB0aGlzLnByZXNlbmNlQ29udGV4dCk7XG4gICAgfVxuICAgIHVubW91bnQoKSB7XG4gICAgICAgIHZpc3VhbEVsZW1lbnRTdG9yZS5kZWxldGUodGhpcy5jdXJyZW50KTtcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uICYmIHRoaXMucHJvamVjdGlvbi51bm1vdW50KCk7XG4gICAgICAgIGNhbmNlbEZyYW1lKHRoaXMubm90aWZ5VXBkYXRlKTtcbiAgICAgICAgY2FuY2VsRnJhbWUodGhpcy5yZW5kZXIpO1xuICAgICAgICB0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5mb3JFYWNoKChyZW1vdmUpID0+IHJlbW92ZSgpKTtcbiAgICAgICAgdGhpcy5yZW1vdmVGcm9tVmFyaWFudFRyZWUgJiYgdGhpcy5yZW1vdmVGcm9tVmFyaWFudFRyZWUoKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuY2hpbGRyZW4uZGVsZXRlKHRoaXMpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5ldmVudHNba2V5XS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuZmVhdHVyZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZmVhdHVyZXNba2V5XS51bm1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgYmluZFRvTW90aW9uVmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZUlzVHJhbnNmb3JtID0gdHJhbnNmb3JtUHJvcHMuaGFzKGtleSk7XG4gICAgICAgIGNvbnN0IHJlbW92ZU9uQ2hhbmdlID0gdmFsdWUub24oXCJjaGFuZ2VcIiwgKGxhdGVzdFZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxhdGVzdFZhbHVlc1trZXldID0gbGF0ZXN0VmFsdWU7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgZnJhbWUudXBkYXRlKHRoaXMubm90aWZ5VXBkYXRlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWVJc1RyYW5zZm9ybSAmJiB0aGlzLnByb2plY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2plY3Rpb24uaXNUcmFuc2Zvcm1EaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZW1vdmVPblJlbmRlclJlcXVlc3QgPSB2YWx1ZS5vbihcInJlbmRlclJlcXVlc3RcIiwgdGhpcy5zY2hlZHVsZVJlbmRlcik7XG4gICAgICAgIHRoaXMudmFsdWVTdWJzY3JpcHRpb25zLnNldChrZXksICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZU9uQ2hhbmdlKCk7XG4gICAgICAgICAgICByZW1vdmVPblJlbmRlclJlcXVlc3QoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNvcnROb2RlUG9zaXRpb24ob3RoZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZXNlIG5vZGVzIGFyZW4ndCBldmVuIG9mIHRoZSBzYW1lIHR5cGUgd2UgY2FuJ3QgY29tcGFyZSB0aGVpciBkZXB0aC5cbiAgICAgICAgICovXG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50IHx8XG4gICAgICAgICAgICAhdGhpcy5zb3J0SW5zdGFuY2VOb2RlUG9zaXRpb24gfHxcbiAgICAgICAgICAgIHRoaXMudHlwZSAhPT0gb3RoZXIudHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydEluc3RhbmNlTm9kZVBvc2l0aW9uKHRoaXMuY3VycmVudCwgb3RoZXIuY3VycmVudCk7XG4gICAgfVxuICAgIGxvYWRGZWF0dXJlcyh7IGNoaWxkcmVuLCAuLi5yZW5kZXJlZFByb3BzIH0sIGlzU3RyaWN0LCBwcmVsb2FkZWRGZWF0dXJlcywgaW5pdGlhbExheW91dEdyb3VwQ29uZmlnKSB7XG4gICAgICAgIGxldCBQcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yO1xuICAgICAgICBsZXQgTWVhc3VyZUxheW91dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHdlJ3JlIGluIGRldmVsb3BtZW50IG1vZGUsIGNoZWNrIHRvIG1ha2Ugc3VyZSB3ZSdyZSBub3QgcmVuZGVyaW5nIGEgbW90aW9uIGNvbXBvbmVudFxuICAgICAgICAgKiBhcyBhIGNoaWxkIG9mIExhenlNb3Rpb24sIGFzIHRoaXMgd2lsbCBicmVhayB0aGUgZmlsZS1zaXplIGJlbmVmaXRzIG9mIHVzaW5nIGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICAgICAgcHJlbG9hZGVkRmVhdHVyZXMgJiZcbiAgICAgICAgICAgIGlzU3RyaWN0KSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpY3RNZXNzYWdlID0gXCJZb3UgaGF2ZSByZW5kZXJlZCBhIGBtb3Rpb25gIGNvbXBvbmVudCB3aXRoaW4gYSBgTGF6eU1vdGlvbmAgY29tcG9uZW50LiBUaGlzIHdpbGwgYnJlYWsgdHJlZSBzaGFraW5nLiBJbXBvcnQgYW5kIHJlbmRlciBhIGBtYCBjb21wb25lbnQgaW5zdGVhZC5cIjtcbiAgICAgICAgICAgIHJlbmRlcmVkUHJvcHMuaWdub3JlU3RyaWN0XG4gICAgICAgICAgICAgICAgPyB3YXJuaW5nKGZhbHNlLCBzdHJpY3RNZXNzYWdlKVxuICAgICAgICAgICAgICAgIDogaW52YXJpYW50KGZhbHNlLCBzdHJpY3RNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUZlYXR1cmVzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBmZWF0dXJlTmFtZXNbaV07XG4gICAgICAgICAgICBjb25zdCB7IGlzRW5hYmxlZCwgRmVhdHVyZTogRmVhdHVyZUNvbnN0cnVjdG9yLCBQcm9qZWN0aW9uTm9kZSwgTWVhc3VyZUxheW91dDogTWVhc3VyZUxheW91dENvbXBvbmVudCwgfSA9IGZlYXR1cmVEZWZpbml0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgIGlmIChQcm9qZWN0aW9uTm9kZSlcbiAgICAgICAgICAgICAgICBQcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yID0gUHJvamVjdGlvbk5vZGU7XG4gICAgICAgICAgICBpZiAoaXNFbmFibGVkKHJlbmRlcmVkUHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZlYXR1cmVzW25hbWVdICYmIEZlYXR1cmVDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZlYXR1cmVzW25hbWVdID0gbmV3IEZlYXR1cmVDb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE1lYXN1cmVMYXlvdXRDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgTWVhc3VyZUxheW91dCA9IE1lYXN1cmVMYXlvdXRDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5wcm9qZWN0aW9uICYmIFByb2plY3Rpb25Ob2RlQ29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbiA9IG5ldyBQcm9qZWN0aW9uTm9kZUNvbnN0cnVjdG9yKHRoaXMubGF0ZXN0VmFsdWVzLCB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5wcm9qZWN0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dCwgZHJhZywgZHJhZ0NvbnN0cmFpbnRzLCBsYXlvdXRTY3JvbGwsIGxheW91dFJvb3QsIH0gPSByZW5kZXJlZFByb3BzO1xuICAgICAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIGxheW91dElkLFxuICAgICAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgICAgICBhbHdheXNNZWFzdXJlTGF5b3V0OiBCb29sZWFuKGRyYWcpIHx8XG4gICAgICAgICAgICAgICAgICAgIChkcmFnQ29uc3RyYWludHMgJiYgaXNSZWZPYmplY3QoZHJhZ0NvbnN0cmFpbnRzKSksXG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudDogdGhpcyxcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVJlbmRlcjogKCkgPT4gdGhpcy5zY2hlZHVsZVJlbmRlcigpLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRPRE86IFVwZGF0ZSBvcHRpb25zIGluIGFuIGVmZmVjdC4gVGhpcyBjb3VsZCBiZSB0cmlja3kgYXMgaXQnbGwgYmUgdG9vIGxhdGVcbiAgICAgICAgICAgICAgICAgKiB0byB1cGRhdGUgYnkgdGhlIHRpbWUgbGF5b3V0IGFuaW1hdGlvbnMgcnVuLlxuICAgICAgICAgICAgICAgICAqIFdlIGFsc28gbmVlZCB0byBmaXggdGhpcyBzYWZlVG9SZW1vdmUgYnkgbGlua2luZyBpdCB1cCB0byB0aGUgb25lIHJldHVybmVkIGJ5IHVzZVByZXNlbmNlLFxuICAgICAgICAgICAgICAgICAqIGVuc3VyaW5nIGl0IGdldHMgY2FsbGVkIGlmIHRoZXJlJ3Mgbm8gcG90ZW50aWFsIGxheW91dCBhbmltYXRpb25zLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uVHlwZTogdHlwZW9mIGxheW91dCA9PT0gXCJzdHJpbmdcIiA/IGxheW91dCA6IFwiYm90aFwiLFxuICAgICAgICAgICAgICAgIGluaXRpYWxQcm9tb3Rpb25Db25maWc6IGluaXRpYWxMYXlvdXRHcm91cENvbmZpZyxcbiAgICAgICAgICAgICAgICBsYXlvdXRTY3JvbGwsXG4gICAgICAgICAgICAgICAgbGF5b3V0Um9vdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNZWFzdXJlTGF5b3V0O1xuICAgIH1cbiAgICB1cGRhdGVGZWF0dXJlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5mZWF0dXJlcykge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZSA9IHRoaXMuZmVhdHVyZXNba2V5XTtcbiAgICAgICAgICAgIGlmIChmZWF0dXJlLmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmUudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmZWF0dXJlLm1vdW50KCk7XG4gICAgICAgICAgICAgICAgZmVhdHVyZS5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRyaWdnZXJCdWlsZCgpIHtcbiAgICAgICAgdGhpcy5idWlsZCh0aGlzLnJlbmRlclN0YXRlLCB0aGlzLmxhdGVzdFZhbHVlcywgdGhpcy5vcHRpb25zLCB0aGlzLnByb3BzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVhc3VyZSB0aGUgY3VycmVudCB2aWV3cG9ydCBib3ggd2l0aCBvciB3aXRob3V0IHRyYW5zZm9ybXMuXG4gICAgICogT25seSBtZWFzdXJlcyBheGlzLWFsaWduZWQgYm94ZXMsIHJvdGF0ZSBhbmQgc2tldyBtdXN0IGJlIG1hbnVhbGx5XG4gICAgICogcmVtb3ZlZCB3aXRoIGEgcmUtcmVuZGVyIHRvIHdvcmsuXG4gICAgICovXG4gICAgbWVhc3VyZVZpZXdwb3J0Qm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50XG4gICAgICAgICAgICA/IHRoaXMubWVhc3VyZUluc3RhbmNlVmlld3BvcnRCb3godGhpcy5jdXJyZW50LCB0aGlzLnByb3BzKVxuICAgICAgICAgICAgOiBjcmVhdGVCb3goKTtcbiAgICB9XG4gICAgZ2V0U3RhdGljVmFsdWUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhdGVzdFZhbHVlc1trZXldO1xuICAgIH1cbiAgICBzZXRTdGF0aWNWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMubGF0ZXN0VmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFrZSBhIHRhcmdldCBhbmltYXRhYmxlIGJ5IFBvcG1vdGlvbi4gRm9yIGluc3RhbmNlLCBpZiB3ZSdyZVxuICAgICAqIHRyeWluZyB0byBhbmltYXRlIHdpZHRoIGZyb20gMTAwcHggdG8gMTAwdncgd2UgbmVlZCB0byBtZWFzdXJlIDEwMHZ3XG4gICAgICogaW4gcGl4ZWxzIHRvIGRldGVybWluZSB3aGF0IHdlIHJlYWxseSBuZWVkIHRvIGFuaW1hdGUgdG8uIFRoaXMgaXMgYWxzb1xuICAgICAqIHBsdWdnYWJsZSB0byBzdXBwb3J0IEZyYW1lcidzIGN1c3RvbSB2YWx1ZSB0eXBlcyBsaWtlIENvbG9yLFxuICAgICAqIGFuZCBDU1MgdmFyaWFibGVzLlxuICAgICAqL1xuICAgIG1ha2VUYXJnZXRBbmltYXRhYmxlKHRhcmdldCwgY2FuTXV0YXRlID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYWtlVGFyZ2V0QW5pbWF0YWJsZUZyb21JbnN0YW5jZSh0YXJnZXQsIHRoaXMucHJvcHMsIGNhbk11dGF0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgcHJvdmlkZWQgcHJvcHMuIEVuc3VyZSBhbnkgbmV3bHktYWRkZWQgbW90aW9uIHZhbHVlcyBhcmVcbiAgICAgKiBhZGRlZCB0byBvdXIgbWFwLCBvbGQgb25lcyByZW1vdmVkLCBhbmQgbGlzdGVuZXJzIHVwZGF0ZWQuXG4gICAgICovXG4gICAgdXBkYXRlKHByb3BzLCBwcmVzZW5jZUNvbnRleHQpIHtcbiAgICAgICAgaWYgKHByb3BzLnRyYW5zZm9ybVRlbXBsYXRlIHx8IHRoaXMucHJvcHMudHJhbnNmb3JtVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXZQcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgICAgdGhpcy5wcmV2UHJlc2VuY2VDb250ZXh0ID0gdGhpcy5wcmVzZW5jZUNvbnRleHQ7XG4gICAgICAgIHRoaXMucHJlc2VuY2VDb250ZXh0ID0gcHJlc2VuY2VDb250ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIHByb3AgZXZlbnQgaGFuZGxlcnMgaWUgb25BbmltYXRpb25TdGFydCwgb25BbmltYXRpb25Db21wbGV0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wRXZlbnRIYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcEV2ZW50SGFuZGxlcnNbaV07XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wRXZlbnRTdWJzY3JpcHRpb25zW2tleV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnNba2V5XSgpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnByb3BFdmVudFN1YnNjcmlwdGlvbnNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gcHJvcHNbXCJvblwiICsga2V5XTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcEV2ZW50U3Vic2NyaXB0aW9uc1trZXldID0gdGhpcy5vbihrZXksIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXZNb3Rpb25WYWx1ZXMgPSB1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHModGhpcywgdGhpcy5zY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMocHJvcHMsIHRoaXMucHJldlByb3BzKSwgdGhpcy5wcmV2TW90aW9uVmFsdWVzKTtcbiAgICAgICAgaWYgKHRoaXMuaGFuZGxlQ2hpbGRNb3Rpb25WYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGlsZE1vdGlvblZhbHVlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB2YXJpYW50IGRlZmluaXRpb24gd2l0aCBhIGdpdmVuIG5hbWUuXG4gICAgICovXG4gICAgZ2V0VmFyaWFudChuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnZhcmlhbnRzID8gdGhpcy5wcm9wcy52YXJpYW50c1tuYW1lXSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGVmaW5lZCBkZWZhdWx0IHRyYW5zaXRpb24gb24gdGhpcyBjb21wb25lbnQuXG4gICAgICovXG4gICAgZ2V0RGVmYXVsdFRyYW5zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLnRyYW5zaXRpb247XG4gICAgfVxuICAgIGdldFRyYW5zZm9ybVBhZ2VQb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMudHJhbnNmb3JtUGFnZVBvaW50O1xuICAgIH1cbiAgICBnZXRDbG9zZXN0VmFyaWFudE5vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFyaWFudE5vZGVcbiAgICAgICAgICAgID8gdGhpc1xuICAgICAgICAgICAgOiB0aGlzLnBhcmVudFxuICAgICAgICAgICAgICAgID8gdGhpcy5wYXJlbnQuZ2V0Q2xvc2VzdFZhcmlhbnROb2RlKClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0VmFyaWFudENvbnRleHQoc3RhcnRBdFBhcmVudCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChzdGFydEF0UGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5nZXRWYXJpYW50Q29udGV4dCgpIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0NvbnRyb2xsaW5nVmFyaWFudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhcmVudFxuICAgICAgICAgICAgICAgID8gdGhpcy5wYXJlbnQuZ2V0VmFyaWFudENvbnRleHQoKSB8fCB7fVxuICAgICAgICAgICAgICAgIDoge307XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5pbml0aWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmluaXRpYWwgPSB0aGlzLnByb3BzLmluaXRpYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZXh0ID0ge307XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmFyaWFudFByb3BzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB2YXJpYW50UHJvcHNbaV07XG4gICAgICAgICAgICBjb25zdCBwcm9wID0gdGhpcy5wcm9wc1tuYW1lXTtcbiAgICAgICAgICAgIGlmIChpc1ZhcmlhbnRMYWJlbChwcm9wKSB8fCBwcm9wID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnRleHRbbmFtZV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjaGlsZCB2aXN1YWwgZWxlbWVudCB0byBvdXIgc2V0IG9mIGNoaWxkcmVuLlxuICAgICAqL1xuICAgIGFkZFZhcmlhbnRDaGlsZChjaGlsZCkge1xuICAgICAgICBjb25zdCBjbG9zZXN0VmFyaWFudE5vZGUgPSB0aGlzLmdldENsb3Nlc3RWYXJpYW50Tm9kZSgpO1xuICAgICAgICBpZiAoY2xvc2VzdFZhcmlhbnROb2RlKSB7XG4gICAgICAgICAgICBjbG9zZXN0VmFyaWFudE5vZGUudmFyaWFudENoaWxkcmVuICYmXG4gICAgICAgICAgICAgICAgY2xvc2VzdFZhcmlhbnROb2RlLnZhcmlhbnRDaGlsZHJlbi5hZGQoY2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IGNsb3Nlc3RWYXJpYW50Tm9kZS52YXJpYW50Q2hpbGRyZW4uZGVsZXRlKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBtb3Rpb24gdmFsdWUgYW5kIGJpbmQgaXQgdG8gdGhpcyB2aXN1YWwgZWxlbWVudC5cbiAgICAgKi9cbiAgICBhZGRWYWx1ZShrZXksIHZhbHVlKSB7XG4gICAgICAgIC8vIFJlbW92ZSBleGlzdGluZyB2YWx1ZSBpZiBpdCBleGlzdHNcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnZhbHVlcy5nZXQoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVWYWx1ZShrZXkpO1xuICAgICAgICAgICAgdGhpcy5iaW5kVG9Nb3Rpb25WYWx1ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMubGF0ZXN0VmFsdWVzW2tleV0gPSB2YWx1ZS5nZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgbW90aW9uIHZhbHVlIGFuZCB1bmJpbmQgYW55IGFjdGl2ZSBzdWJzY3JpcHRpb25zLlxuICAgICAqL1xuICAgIHJlbW92ZVZhbHVlKGtleSkge1xuICAgICAgICB0aGlzLnZhbHVlcy5kZWxldGUoa2V5KTtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLnZhbHVlU3Vic2NyaXB0aW9ucy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZVN1YnNjcmlwdGlvbnMuZGVsZXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMubGF0ZXN0VmFsdWVzW2tleV07XG4gICAgICAgIHRoaXMucmVtb3ZlVmFsdWVGcm9tUmVuZGVyU3RhdGUoa2V5LCB0aGlzLnJlbmRlclN0YXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB3ZSBoYXZlIGEgbW90aW9uIHZhbHVlIGZvciB0aGlzIGtleVxuICAgICAqL1xuICAgIGhhc1ZhbHVlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMuaGFzKGtleSk7XG4gICAgfVxuICAgIGdldFZhbHVlKGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnZhbHVlcyAmJiB0aGlzLnByb3BzLnZhbHVlc1trZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy52YWx1ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnZhbHVlcy5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbW90aW9uVmFsdWUoZGVmYXVsdFZhbHVlLCB7IG93bmVyOiB0aGlzIH0pO1xuICAgICAgICAgICAgdGhpcy5hZGRWYWx1ZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHdlJ3JlIHRyeWluZyB0byBhbmltYXRlIHRvIGEgcHJldmlvdXNseSB1bmVuY291bnRlcmVkIHZhbHVlLFxuICAgICAqIHdlIG5lZWQgdG8gY2hlY2sgZm9yIGl0IGluIG91ciBzdGF0ZSBhbmQgYXMgYSBsYXN0IHJlc29ydCByZWFkIGl0XG4gICAgICogZGlyZWN0bHkgZnJvbSB0aGUgaW5zdGFuY2UgKHdoaWNoIG1pZ2h0IGhhdmUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zKS5cbiAgICAgKi9cbiAgICByZWFkVmFsdWUoa2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF0ZXN0VmFsdWVzW2tleV0gIT09IHVuZGVmaW5lZCB8fCAhdGhpcy5jdXJyZW50XG4gICAgICAgICAgICA/IHRoaXMubGF0ZXN0VmFsdWVzW2tleV1cbiAgICAgICAgICAgIDogKF9hID0gdGhpcy5nZXRCYXNlVGFyZ2V0RnJvbVByb3BzKHRoaXMucHJvcHMsIGtleSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMucmVhZFZhbHVlRnJvbUluc3RhbmNlKHRoaXMuY3VycmVudCwga2V5LCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJhc2UgdGFyZ2V0IHRvIGxhdGVyIGFuaW1hdGUgYmFjayB0by4gVGhpcyBpcyBjdXJyZW50bHlcbiAgICAgKiBvbmx5IGh5ZHJhdGVkIG9uIGNyZWF0aW9uIGFuZCB3aGVuIHdlIGZpcnN0IHJlYWQgYSB2YWx1ZS5cbiAgICAgKi9cbiAgICBzZXRCYXNlVGFyZ2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5iYXNlVGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgYmFzZSB0YXJnZXQgZm9yIGEgdmFsdWUgdGhhdHMgYmVlbiByZW1vdmVkIGZyb20gYWxsIGFuaW1hdGlvblxuICAgICAqIHByb3BzLlxuICAgICAqL1xuICAgIGdldEJhc2VUYXJnZXQoa2V5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgeyBpbml0aWFsIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBjb25zdCB2YWx1ZUZyb21Jbml0aWFsID0gdHlwZW9mIGluaXRpYWwgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGluaXRpYWwgPT09IFwib2JqZWN0XCJcbiAgICAgICAgICAgID8gKF9hID0gcmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHModGhpcy5wcm9wcywgaW5pdGlhbCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtrZXldXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgdmFsdWUgc3RpbGwgZXhpc3RzIGluIHRoZSBjdXJyZW50IGluaXRpYWwgdmFyaWFudCwgcmVhZCB0aGF0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGluaXRpYWwgJiYgdmFsdWVGcm9tSW5pdGlhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVGcm9tSW5pdGlhbDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQWx0ZXJuYXRpdmVseSwgaWYgdGhpcyBWaXN1YWxFbGVtZW50IGNvbmZpZyBoYXMgZGVmaW5lZCBhIGdldEJhc2VUYXJnZXRcbiAgICAgICAgICogc28gd2UgY2FuIHJlYWQgdGhlIHZhbHVlIGZyb20gYW4gYWx0ZXJuYXRpdmUgc291cmNlLCB0cnkgdGhhdC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuZ2V0QmFzZVRhcmdldEZyb21Qcm9wcyh0aGlzLnByb3BzLCBrZXkpO1xuICAgICAgICBpZiAodGFyZ2V0ICE9PSB1bmRlZmluZWQgJiYgIWlzTW90aW9uVmFsdWUodGFyZ2V0KSlcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgdmFsdWUgd2FzIGluaXRpYWxseSBkZWZpbmVkIG9uIGluaXRpYWwsIGJ1dCBpdCBkb2Vzbid0IGFueSBtb3JlLFxuICAgICAgICAgKiByZXR1cm4gdW5kZWZpbmVkLiBPdGhlcndpc2UgcmV0dXJuIHRoZSB2YWx1ZSBhcyBpbml0aWFsbHkgcmVhZCBmcm9tIHRoZSBET00uXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsVmFsdWVzW2tleV0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdmFsdWVGcm9tSW5pdGlhbCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiB0aGlzLmJhc2VUYXJnZXRba2V5XTtcbiAgICB9XG4gICAgb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBuZXcgU3Vic2NyaXB0aW9uTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50c1tldmVudE5hbWVdLmFkZChjYWxsYmFjayk7XG4gICAgfVxuICAgIG5vdGlmeShldmVudE5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0ubm90aWZ5KC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgeyBWaXN1YWxFbGVtZW50IH07XG4iLCJpbXBvcnQgeyBnZXRPcmlnaW4sIGNoZWNrVGFyZ2V0Rm9yTmV3VmFsdWVzIH0gZnJvbSAnLi4vdXRpbHMvc2V0dGVycy5tanMnO1xuaW1wb3J0IHsgcGFyc2VEb21WYXJpYW50IH0gZnJvbSAnLi91dGlscy9wYXJzZS1kb20tdmFyaWFudC5tanMnO1xuaW1wb3J0IHsgVmlzdWFsRWxlbWVudCB9IGZyb20gJy4uL1Zpc3VhbEVsZW1lbnQubWpzJztcblxuY2xhc3MgRE9NVmlzdWFsRWxlbWVudCBleHRlbmRzIFZpc3VhbEVsZW1lbnQge1xuICAgIHNvcnRJbnN0YW5jZU5vZGVQb3NpdGlvbihhLCBiKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiByZXR1cm5zIGEgYml0bWFzaywgYnkgdXNpbmcgdGhlIGJpdHdpc2UgJlxuICAgICAgICAgKiB3ZSdyZSByZXR1cm5pbmcgdHJ1ZSBpZiAyIGluIHRoYXQgYml0bWFzayBpcyBzZXQgdG8gdHJ1ZS4gMiBpcyBzZXRcbiAgICAgICAgICogdG8gdHJ1ZSBpZiBiIHByZWNlZWRzIGEuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSAmIDIgPyAxIDogLTE7XG4gICAgfVxuICAgIGdldEJhc2VUYXJnZXRGcm9tUHJvcHMocHJvcHMsIGtleSkge1xuICAgICAgICByZXR1cm4gcHJvcHMuc3R5bGUgPyBwcm9wcy5zdHlsZVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZW1vdmVWYWx1ZUZyb21SZW5kZXJTdGF0ZShrZXksIHsgdmFycywgc3R5bGUgfSkge1xuICAgICAgICBkZWxldGUgdmFyc1trZXldO1xuICAgICAgICBkZWxldGUgc3R5bGVba2V5XTtcbiAgICB9XG4gICAgbWFrZVRhcmdldEFuaW1hdGFibGVGcm9tSW5zdGFuY2UoeyB0cmFuc2l0aW9uLCB0cmFuc2l0aW9uRW5kLCAuLi50YXJnZXQgfSwgeyB0cmFuc2Zvcm1WYWx1ZXMgfSwgaXNNb3VudGVkKSB7XG4gICAgICAgIGxldCBvcmlnaW4gPSBnZXRPcmlnaW4odGFyZ2V0LCB0cmFuc2l0aW9uIHx8IHt9LCB0aGlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIEZyYW1lciBoYXMgcHJvdmlkZWQgYSBmdW5jdGlvbiB0byBjb252ZXJ0IGBDb2xvcmAgZXRjIHZhbHVlIHR5cGVzLCBjb252ZXJ0IHRoZW1cbiAgICAgICAgICovXG4gICAgICAgIGlmICh0cmFuc2Zvcm1WYWx1ZXMpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uRW5kKVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25FbmQgPSB0cmFuc2Zvcm1WYWx1ZXModHJhbnNpdGlvbkVuZCk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0KVxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHRyYW5zZm9ybVZhbHVlcyh0YXJnZXQpO1xuICAgICAgICAgICAgaWYgKG9yaWdpbilcbiAgICAgICAgICAgICAgICBvcmlnaW4gPSB0cmFuc2Zvcm1WYWx1ZXMob3JpZ2luKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgICBjaGVja1RhcmdldEZvck5ld1ZhbHVlcyh0aGlzLCB0YXJnZXQsIG9yaWdpbik7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZURvbVZhcmlhbnQodGhpcywgdGFyZ2V0LCBvcmlnaW4sIHRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbkVuZCA9IHBhcnNlZC50cmFuc2l0aW9uRW5kO1xuICAgICAgICAgICAgdGFyZ2V0ID0gcGFyc2VkLnRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhbnNpdGlvbixcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbmQsXG4gICAgICAgICAgICAuLi50YXJnZXQsXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgeyBET01WaXN1YWxFbGVtZW50IH07XG4iLCJpbXBvcnQgeyBidWlsZEhUTUxTdHlsZXMgfSBmcm9tICcuL3V0aWxzL2J1aWxkLXN0eWxlcy5tanMnO1xuaW1wb3J0IHsgaXNDU1NWYXJpYWJsZU5hbWUgfSBmcm9tICcuLi9kb20vdXRpbHMvaXMtY3NzLXZhcmlhYmxlLm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wcyB9IGZyb20gJy4vdXRpbHMvdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyByZW5kZXJIVE1MIH0gZnJvbSAnLi91dGlscy9yZW5kZXIubWpzJztcbmltcG9ydCB7IGdldERlZmF1bHRWYWx1ZVR5cGUgfSBmcm9tICcuLi9kb20vdmFsdWUtdHlwZXMvZGVmYXVsdHMubWpzJztcbmltcG9ydCB7IG1lYXN1cmVWaWV3cG9ydEJveCB9IGZyb20gJy4uLy4uL3Byb2plY3Rpb24vdXRpbHMvbWVhc3VyZS5tanMnO1xuaW1wb3J0IHsgRE9NVmlzdWFsRWxlbWVudCB9IGZyb20gJy4uL2RvbS9ET01WaXN1YWxFbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyBpc01vdGlvblZhbHVlIH0gZnJvbSAnLi4vLi4vdmFsdWUvdXRpbHMvaXMtbW90aW9uLXZhbHVlLm1qcyc7XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkge1xuICAgIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn1cbmNsYXNzIEhUTUxWaXN1YWxFbGVtZW50IGV4dGVuZHMgRE9NVmlzdWFsRWxlbWVudCB7XG4gICAgcmVhZFZhbHVlRnJvbUluc3RhbmNlKGluc3RhbmNlLCBrZXkpIHtcbiAgICAgICAgaWYgKHRyYW5zZm9ybVByb3BzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VHlwZSA9IGdldERlZmF1bHRWYWx1ZVR5cGUoa2V5KTtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VHlwZSA/IGRlZmF1bHRUeXBlLmRlZmF1bHQgfHwgMCA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShpbnN0YW5jZSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IChpc0NTU1ZhcmlhYmxlTmFtZShrZXkpXG4gICAgICAgICAgICAgICAgPyBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoa2V5KVxuICAgICAgICAgICAgICAgIDogY29tcHV0ZWRTdHlsZVtrZXldKSB8fCAwO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnRyaW0oKSA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1lYXN1cmVJbnN0YW5jZVZpZXdwb3J0Qm94KGluc3RhbmNlLCB7IHRyYW5zZm9ybVBhZ2VQb2ludCB9KSB7XG4gICAgICAgIHJldHVybiBtZWFzdXJlVmlld3BvcnRCb3goaW5zdGFuY2UsIHRyYW5zZm9ybVBhZ2VQb2ludCk7XG4gICAgfVxuICAgIGJ1aWxkKHJlbmRlclN0YXRlLCBsYXRlc3RWYWx1ZXMsIG9wdGlvbnMsIHByb3BzKSB7XG4gICAgICAgIGJ1aWxkSFRNTFN0eWxlcyhyZW5kZXJTdGF0ZSwgbGF0ZXN0VmFsdWVzLCBvcHRpb25zLCBwcm9wcy50cmFuc2Zvcm1UZW1wbGF0ZSk7XG4gICAgfVxuICAgIHNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyhwcm9wcywgcHJldlByb3BzKSB7XG4gICAgICAgIHJldHVybiBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMocHJvcHMsIHByZXZQcm9wcyk7XG4gICAgfVxuICAgIGhhbmRsZUNoaWxkTW90aW9uVmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jaGlsZFN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAoaXNNb3Rpb25WYWx1ZShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRTdWJzY3JpcHRpb24gPSBjaGlsZHJlbi5vbihcImNoYW5nZVwiLCAobGF0ZXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50LnRleHRDb250ZW50ID0gYCR7bGF0ZXN0fWA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXJJbnN0YW5jZShpbnN0YW5jZSwgcmVuZGVyU3RhdGUsIHN0eWxlUHJvcCwgcHJvamVjdGlvbikge1xuICAgICAgICByZW5kZXJIVE1MKGluc3RhbmNlLCByZW5kZXJTdGF0ZSwgc3R5bGVQcm9wLCBwcm9qZWN0aW9uKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IEhUTUxWaXN1YWxFbGVtZW50LCBnZXRDb21wdXRlZFN0eWxlIH07XG4iLCJpbXBvcnQgeyBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMgfSBmcm9tICcuL3V0aWxzL3NjcmFwZS1tb3Rpb24tdmFsdWVzLm1qcyc7XG5pbXBvcnQgeyBET01WaXN1YWxFbGVtZW50IH0gZnJvbSAnLi4vZG9tL0RPTVZpc3VhbEVsZW1lbnQubWpzJztcbmltcG9ydCB7IGJ1aWxkU1ZHQXR0cnMgfSBmcm9tICcuL3V0aWxzL2J1aWxkLWF0dHJzLm1qcyc7XG5pbXBvcnQgeyBjYW1lbFRvRGFzaCB9IGZyb20gJy4uL2RvbS91dGlscy9jYW1lbC10by1kYXNoLm1qcyc7XG5pbXBvcnQgeyBjYW1lbENhc2VBdHRyaWJ1dGVzIH0gZnJvbSAnLi91dGlscy9jYW1lbC1jYXNlLWF0dHJzLm1qcyc7XG5pbXBvcnQgeyB0cmFuc2Zvcm1Qcm9wcyB9IGZyb20gJy4uL2h0bWwvdXRpbHMvdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyByZW5kZXJTVkcgfSBmcm9tICcuL3V0aWxzL3JlbmRlci5tanMnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFZhbHVlVHlwZSB9IGZyb20gJy4uL2RvbS92YWx1ZS10eXBlcy9kZWZhdWx0cy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQm94IH0gZnJvbSAnLi4vLi4vcHJvamVjdGlvbi9nZW9tZXRyeS9tb2RlbHMubWpzJztcbmltcG9ydCB7IGlzU1ZHVGFnIH0gZnJvbSAnLi91dGlscy9pcy1zdmctdGFnLm1qcyc7XG5cbmNsYXNzIFNWR1Zpc3VhbEVsZW1lbnQgZXh0ZW5kcyBET01WaXN1YWxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5pc1NWR1RhZyA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXRCYXNlVGFyZ2V0RnJvbVByb3BzKHByb3BzLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgfVxuICAgIHJlYWRWYWx1ZUZyb21JbnN0YW5jZShpbnN0YW5jZSwga2V5KSB7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1Qcm9wcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFR5cGUgPSBnZXREZWZhdWx0VmFsdWVUeXBlKGtleSk7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFR5cGUgPyBkZWZhdWx0VHlwZS5kZWZhdWx0IHx8IDAgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGtleSA9ICFjYW1lbENhc2VBdHRyaWJ1dGVzLmhhcyhrZXkpID8gY2FtZWxUb0Rhc2goa2V5KSA6IGtleTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgIH1cbiAgICBtZWFzdXJlSW5zdGFuY2VWaWV3cG9ydEJveCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJveCgpO1xuICAgIH1cbiAgICBzY3JhcGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMocHJvcHMsIHByZXZQcm9wcykge1xuICAgICAgICByZXR1cm4gc2NyYXBlTW90aW9uVmFsdWVzRnJvbVByb3BzKHByb3BzLCBwcmV2UHJvcHMpO1xuICAgIH1cbiAgICBidWlsZChyZW5kZXJTdGF0ZSwgbGF0ZXN0VmFsdWVzLCBvcHRpb25zLCBwcm9wcykge1xuICAgICAgICBidWlsZFNWR0F0dHJzKHJlbmRlclN0YXRlLCBsYXRlc3RWYWx1ZXMsIG9wdGlvbnMsIHRoaXMuaXNTVkdUYWcsIHByb3BzLnRyYW5zZm9ybVRlbXBsYXRlKTtcbiAgICB9XG4gICAgcmVuZGVySW5zdGFuY2UoaW5zdGFuY2UsIHJlbmRlclN0YXRlLCBzdHlsZVByb3AsIHByb2plY3Rpb24pIHtcbiAgICAgICAgcmVuZGVyU1ZHKGluc3RhbmNlLCByZW5kZXJTdGF0ZSwgc3R5bGVQcm9wLCBwcm9qZWN0aW9uKTtcbiAgICB9XG4gICAgbW91bnQoaW5zdGFuY2UpIHtcbiAgICAgICAgdGhpcy5pc1NWR1RhZyA9IGlzU1ZHVGFnKGluc3RhbmNlLnRhZ05hbWUpO1xuICAgICAgICBzdXBlci5tb3VudChpbnN0YW5jZSk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBTVkdWaXN1YWxFbGVtZW50IH07XG4iLCJpbXBvcnQgeyBIVE1MVmlzdWFsRWxlbWVudCB9IGZyb20gJy4uL2h0bWwvSFRNTFZpc3VhbEVsZW1lbnQubWpzJztcbmltcG9ydCB7IFNWR1Zpc3VhbEVsZW1lbnQgfSBmcm9tICcuLi9zdmcvU1ZHVmlzdWFsRWxlbWVudC5tanMnO1xuaW1wb3J0IHsgaXNTVkdDb21wb25lbnQgfSBmcm9tICcuL3V0aWxzL2lzLXN2Zy1jb21wb25lbnQubWpzJztcblxuY29uc3QgY3JlYXRlRG9tVmlzdWFsRWxlbWVudCA9IChDb21wb25lbnQsIG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4gaXNTVkdDb21wb25lbnQoQ29tcG9uZW50KVxuICAgICAgICA/IG5ldyBTVkdWaXN1YWxFbGVtZW50KG9wdGlvbnMsIHsgZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb246IGZhbHNlIH0pXG4gICAgICAgIDogbmV3IEhUTUxWaXN1YWxFbGVtZW50KG9wdGlvbnMsIHsgZW5hYmxlSGFyZHdhcmVBY2NlbGVyYXRpb246IHRydWUgfSk7XG59O1xuXG5leHBvcnQgeyBjcmVhdGVEb21WaXN1YWxFbGVtZW50IH07XG4iLCJpbXBvcnQgeyBIVE1MUHJvamVjdGlvbk5vZGUgfSBmcm9tICcuLi8uLi9wcm9qZWN0aW9uL25vZGUvSFRNTFByb2plY3Rpb25Ob2RlLm1qcyc7XG5pbXBvcnQgeyBNZWFzdXJlTGF5b3V0IH0gZnJvbSAnLi9sYXlvdXQvTWVhc3VyZUxheW91dC5tanMnO1xuXG5jb25zdCBsYXlvdXQgPSB7XG4gICAgbGF5b3V0OiB7XG4gICAgICAgIFByb2plY3Rpb25Ob2RlOiBIVE1MUHJvamVjdGlvbk5vZGUsXG4gICAgICAgIE1lYXN1cmVMYXlvdXQsXG4gICAgfSxcbn07XG5cbmV4cG9ydCB7IGxheW91dCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlTW90aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbW90aW9uL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVNb3Rpb25Qcm94eSB9IGZyb20gJy4vbW90aW9uLXByb3h5Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVEb21Nb3Rpb25Db25maWcgfSBmcm9tICcuL3V0aWxzL2NyZWF0ZS1jb25maWcubWpzJztcbmltcG9ydCB7IGdlc3R1cmVBbmltYXRpb25zIH0gZnJvbSAnLi4vLi4vbW90aW9uL2ZlYXR1cmVzL2dlc3R1cmVzLm1qcyc7XG5pbXBvcnQgeyBhbmltYXRpb25zIH0gZnJvbSAnLi4vLi4vbW90aW9uL2ZlYXR1cmVzL2FuaW1hdGlvbnMubWpzJztcbmltcG9ydCB7IGRyYWcgfSBmcm9tICcuLi8uLi9tb3Rpb24vZmVhdHVyZXMvZHJhZy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlRG9tVmlzdWFsRWxlbWVudCB9IGZyb20gJy4vY3JlYXRlLXZpc3VhbC1lbGVtZW50Lm1qcyc7XG5pbXBvcnQgeyBsYXlvdXQgfSBmcm9tICcuLi8uLi9tb3Rpb24vZmVhdHVyZXMvbGF5b3V0Lm1qcyc7XG5cbmNvbnN0IHByZWxvYWRlZEZlYXR1cmVzID0ge1xuICAgIC4uLmFuaW1hdGlvbnMsXG4gICAgLi4uZ2VzdHVyZUFuaW1hdGlvbnMsXG4gICAgLi4uZHJhZyxcbiAgICAuLi5sYXlvdXQsXG59O1xuLyoqXG4gKiBIVE1MICYgU1ZHIGNvbXBvbmVudHMsIG9wdGltaXNlZCBmb3IgdXNlIHdpdGggZ2VzdHVyZXMgYW5kIGFuaW1hdGlvbi4gVGhlc2UgY2FuIGJlIHVzZWQgYXNcbiAqIGRyb3AtaW4gcmVwbGFjZW1lbnRzIGZvciBhbnkgSFRNTCAmIFNWRyBjb21wb25lbnQsIGFsbCBDU1MgJiBTVkcgcHJvcGVydGllcyBhcmUgc3VwcG9ydGVkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuY29uc3QgbW90aW9uID0gLypAX19QVVJFX18qLyBjcmVhdGVNb3Rpb25Qcm94eSgoQ29tcG9uZW50LCBjb25maWcpID0+IGNyZWF0ZURvbU1vdGlvbkNvbmZpZyhDb21wb25lbnQsIGNvbmZpZywgcHJlbG9hZGVkRmVhdHVyZXMsIGNyZWF0ZURvbVZpc3VhbEVsZW1lbnQpKTtcbi8qKlxuICogQ3JlYXRlIGEgRE9NIGBtb3Rpb25gIGNvbXBvbmVudCB3aXRoIHRoZSBwcm92aWRlZCBzdHJpbmcuIFRoaXMgaXMgcHJpbWFyaWx5IGludGVuZGVkXG4gKiBhcyBhIGZ1bGwgYWx0ZXJuYXRpdmUgdG8gYG1vdGlvbmAgZm9yIGNvbnN1bWVycyB3aG8gaGF2ZSB0byBzdXBwb3J0IGVudmlyb25tZW50cyB0aGF0IGRvbid0XG4gKiBzdXBwb3J0IGBQcm94eWAuXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogaW1wb3J0IHsgY3JlYXRlRG9tTW90aW9uQ29tcG9uZW50IH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIlxuICpcbiAqIGNvbnN0IG1vdGlvbiA9IHtcbiAqICAgZGl2OiBjcmVhdGVEb21Nb3Rpb25Db21wb25lbnQoJ2RpdicpXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURvbU1vdGlvbkNvbXBvbmVudChrZXkpIHtcbiAgICByZXR1cm4gY3JlYXRlTW90aW9uQ29tcG9uZW50KGNyZWF0ZURvbU1vdGlvbkNvbmZpZyhrZXksIHsgZm9yd2FyZE1vdGlvblByb3BzOiBmYWxzZSB9LCBwcmVsb2FkZWRGZWF0dXJlcywgY3JlYXRlRG9tVmlzdWFsRWxlbWVudCkpO1xufVxuXG5leHBvcnQgeyBjcmVhdGVEb21Nb3Rpb25Db21wb25lbnQsIG1vdGlvbiB9O1xuIiwiaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4vdXNlLWlzb21vcnBoaWMtZWZmZWN0Lm1qcyc7XG5cbmZ1bmN0aW9uIHVzZUlzTW91bnRlZCgpIHtcbiAgICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpc01vdW50ZWQuY3VycmVudCA9IHRydWU7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBpc01vdW50ZWQuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gaXNNb3VudGVkO1xufVxuXG5leHBvcnQgeyB1c2VJc01vdW50ZWQgfTtcbiIsImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUlzTW91bnRlZCB9IGZyb20gJy4vdXNlLWlzLW1vdW50ZWQubWpzJztcbmltcG9ydCB7IGZyYW1lIH0gZnJvbSAnLi4vZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5cbmZ1bmN0aW9uIHVzZUZvcmNlVXBkYXRlKCkge1xuICAgIGNvbnN0IGlzTW91bnRlZCA9IHVzZUlzTW91bnRlZCgpO1xuICAgIGNvbnN0IFtmb3JjZWRSZW5kZXJDb3VudCwgc2V0Rm9yY2VkUmVuZGVyQ291bnRdID0gdXNlU3RhdGUoMCk7XG4gICAgY29uc3QgZm9yY2VSZW5kZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlzTW91bnRlZC5jdXJyZW50ICYmIHNldEZvcmNlZFJlbmRlckNvdW50KGZvcmNlZFJlbmRlckNvdW50ICsgMSk7XG4gICAgfSwgW2ZvcmNlZFJlbmRlckNvdW50XSk7XG4gICAgLyoqXG4gICAgICogRGVmZXIgdGhpcyB0byB0aGUgZW5kIG9mIHRoZSBuZXh0IGFuaW1hdGlvbiBmcmFtZSBpbiBjYXNlIHRoZXJlIGFyZSBtdWx0aXBsZVxuICAgICAqIHN5bmNocm9ub3VzIGNhbGxzLlxuICAgICAqL1xuICAgIGNvbnN0IGRlZmVycmVkRm9yY2VSZW5kZXIgPSB1c2VDYWxsYmFjaygoKSA9PiBmcmFtZS5wb3N0UmVuZGVyKGZvcmNlUmVuZGVyKSwgW2ZvcmNlUmVuZGVyXSk7XG4gICAgcmV0dXJuIFtkZWZlcnJlZEZvcmNlUmVuZGVyLCBmb3JjZWRSZW5kZXJDb3VudF07XG59XG5cbmV4cG9ydCB7IHVzZUZvcmNlVXBkYXRlIH07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VJZCwgdXNlUmVmLCB1c2VJbnNlcnRpb25FZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogTWVhc3VyZW1lbnQgZnVuY3Rpb25hbGl0eSBoYXMgdG8gYmUgd2l0aGluIGEgc2VwYXJhdGUgY29tcG9uZW50XG4gKiB0byBsZXZlcmFnZSBzbmFwc2hvdCBsaWZlY3ljbGUuXG4gKi9cbmNsYXNzIFBvcENoaWxkTWVhc3VyZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnByb3BzLmNoaWxkUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChlbGVtZW50ICYmIHByZXZQcm9wcy5pc1ByZXNlbnQgJiYgIXRoaXMucHJvcHMuaXNQcmVzZW50KSB7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gdGhpcy5wcm9wcy5zaXplUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBzaXplLmhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8IDA7XG4gICAgICAgICAgICBzaXplLndpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aCB8fCAwO1xuICAgICAgICAgICAgc2l6ZS50b3AgPSBlbGVtZW50Lm9mZnNldFRvcDtcbiAgICAgICAgICAgIHNpemUubGVmdCA9IGVsZW1lbnQub2Zmc2V0TGVmdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVxdWlyZWQgd2l0aCBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB0byBzdG9wIFJlYWN0IGNvbXBsYWluaW5nLlxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHsgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxufVxuZnVuY3Rpb24gUG9wQ2hpbGQoeyBjaGlsZHJlbiwgaXNQcmVzZW50IH0pIHtcbiAgICBjb25zdCBpZCA9IHVzZUlkKCk7XG4gICAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHNpemUgPSB1c2VSZWYoe1xuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogV2UgY3JlYXRlIGFuZCBpbmplY3QgYSBzdHlsZSBibG9jayBzbyB3ZSBjYW4gYXBwbHkgdGhpcyBleHBsaWNpdFxuICAgICAqIHNpemluZyBpbiBhIG5vbi1kZXN0cnVjdGl2ZSBtYW5uZXIgYnkganVzdCBkZWxldGluZyB0aGUgc3R5bGUgYmxvY2suXG4gICAgICpcbiAgICAgKiBXZSBjYW4ndCBhcHBseSBzaXplIHZpYSByZW5kZXIgYXMgdGhlIG1lYXN1cmVtZW50IGhhcHBlbnNcbiAgICAgKiBpbiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAocG9zdC1yZW5kZXIpLCBsaWtld2lzZSBpZiB3ZSBhcHBseSB0aGVcbiAgICAgKiBzdHlsZXMgZGlyZWN0bHkgb24gdGhlIERPTSBub2RlLCB3ZSBtaWdodCBiZSBvdmVyd3JpdGluZ1xuICAgICAqIHN0eWxlcyBzZXQgdmlhIHRoZSBzdHlsZSBwcm9wLlxuICAgICAqL1xuICAgIHVzZUluc2VydGlvbkVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgdG9wLCBsZWZ0IH0gPSBzaXplLmN1cnJlbnQ7XG4gICAgICAgIGlmIChpc1ByZXNlbnQgfHwgIXJlZi5jdXJyZW50IHx8ICF3aWR0aCB8fCAhaGVpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByZWYuY3VycmVudC5kYXRhc2V0Lm1vdGlvblBvcElkID0gaWQ7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgICAgaWYgKHN0eWxlLnNoZWV0KSB7XG4gICAgICAgICAgICBzdHlsZS5zaGVldC5pbnNlcnRSdWxlKGBcbiAgICAgICAgICBbZGF0YS1tb3Rpb24tcG9wLWlkPVwiJHtpZH1cIl0ge1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB3aWR0aDogJHt3aWR0aH1weCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgaGVpZ2h0OiAke2hlaWdodH1weCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgdG9wOiAke3RvcH1weCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgbGVmdDogJHtsZWZ0fXB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgfVxuICAgICAgICBgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChzdHlsZSk7XG4gICAgICAgIH07XG4gICAgfSwgW2lzUHJlc2VudF0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQb3BDaGlsZE1lYXN1cmUsIHsgaXNQcmVzZW50OiBpc1ByZXNlbnQsIGNoaWxkUmVmOiByZWYsIHNpemVSZWY6IHNpemUgfSwgUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7IHJlZiB9KSkpO1xufVxuXG5leHBvcnQgeyBQb3BDaGlsZCB9O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlSWQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQcmVzZW5jZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L1ByZXNlbmNlQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgdXNlQ29uc3RhbnQgfSBmcm9tICcuLi8uLi91dGlscy91c2UtY29uc3RhbnQubWpzJztcbmltcG9ydCB7IFBvcENoaWxkIH0gZnJvbSAnLi9Qb3BDaGlsZC5tanMnO1xuXG5jb25zdCBQcmVzZW5jZUNoaWxkID0gKHsgY2hpbGRyZW4sIGluaXRpYWwsIGlzUHJlc2VudCwgb25FeGl0Q29tcGxldGUsIGN1c3RvbSwgcHJlc2VuY2VBZmZlY3RzTGF5b3V0LCBtb2RlLCB9KSA9PiB7XG4gICAgY29uc3QgcHJlc2VuY2VDaGlsZHJlbiA9IHVzZUNvbnN0YW50KG5ld0NoaWxkcmVuTWFwKTtcbiAgICBjb25zdCBpZCA9IHVzZUlkKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgaWQsXG4gICAgICAgIGluaXRpYWwsXG4gICAgICAgIGlzUHJlc2VudCxcbiAgICAgICAgY3VzdG9tLFxuICAgICAgICBvbkV4aXRDb21wbGV0ZTogKGNoaWxkSWQpID0+IHtcbiAgICAgICAgICAgIHByZXNlbmNlQ2hpbGRyZW4uc2V0KGNoaWxkSWQsIHRydWUpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc0NvbXBsZXRlIG9mIHByZXNlbmNlQ2hpbGRyZW4udmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQ29tcGxldGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gY2FuIHN0b3Agc2VhcmNoaW5nIHdoZW4gYW55IGlzIGluY29tcGxldGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uRXhpdENvbXBsZXRlICYmIG9uRXhpdENvbXBsZXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZ2lzdGVyOiAoY2hpbGRJZCkgPT4ge1xuICAgICAgICAgICAgcHJlc2VuY2VDaGlsZHJlbi5zZXQoY2hpbGRJZCwgZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHByZXNlbmNlQ2hpbGRyZW4uZGVsZXRlKGNoaWxkSWQpO1xuICAgICAgICB9LFxuICAgIH0pLCBcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgcHJlc2VuY2Ugb2YgYSBjaGlsZCBhZmZlY3RzIHRoZSBsYXlvdXQgb2YgdGhlIGNvbXBvbmVudHMgYXJvdW5kIGl0LFxuICAgICAqIHdlIHdhbnQgdG8gbWFrZSBhIG5ldyBjb250ZXh0IHZhbHVlIHRvIGVuc3VyZSB0aGV5IGdldCByZS1yZW5kZXJlZFxuICAgICAqIHNvIHRoZXkgY2FuIGRldGVjdCB0aGF0IGxheW91dCBjaGFuZ2UuXG4gICAgICovXG4gICAgcHJlc2VuY2VBZmZlY3RzTGF5b3V0ID8gdW5kZWZpbmVkIDogW2lzUHJlc2VudF0pO1xuICAgIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBwcmVzZW5jZUNoaWxkcmVuLmZvckVhY2goKF8sIGtleSkgPT4gcHJlc2VuY2VDaGlsZHJlbi5zZXQoa2V5LCBmYWxzZSkpO1xuICAgIH0sIFtpc1ByZXNlbnRdKTtcbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIG5vIGBtb3Rpb25gIGNvbXBvbmVudHMgdG8gZmlyZSBleGl0IGFuaW1hdGlvbnMsIHdlIHdhbnQgdG8gcmVtb3ZlIHRoaXNcbiAgICAgKiBjb21wb25lbnQgaW1tZWRpYXRlbHkuXG4gICAgICovXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgIWlzUHJlc2VudCAmJlxuICAgICAgICAgICAgIXByZXNlbmNlQ2hpbGRyZW4uc2l6ZSAmJlxuICAgICAgICAgICAgb25FeGl0Q29tcGxldGUgJiZcbiAgICAgICAgICAgIG9uRXhpdENvbXBsZXRlKCk7XG4gICAgfSwgW2lzUHJlc2VudF0pO1xuICAgIGlmIChtb2RlID09PSBcInBvcExheW91dFwiKSB7XG4gICAgICAgIGNoaWxkcmVuID0gUmVhY3QuY3JlYXRlRWxlbWVudChQb3BDaGlsZCwgeyBpc1ByZXNlbnQ6IGlzUHJlc2VudCB9LCBjaGlsZHJlbik7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQcmVzZW5jZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pKTtcbn07XG5mdW5jdGlvbiBuZXdDaGlsZHJlbk1hcCgpIHtcbiAgICByZXR1cm4gbmV3IE1hcCgpO1xufVxuXG5leHBvcnQgeyBQcmVzZW5jZUNoaWxkIH07XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIHVzZVVubW91bnRFZmZlY3QoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdXNlRWZmZWN0KCgpID0+ICgpID0+IGNhbGxiYWNrKCksIFtdKTtcbn1cblxuZXhwb3J0IHsgdXNlVW5tb3VudEVmZmVjdCB9O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlUmVmLCBjbG9uZUVsZW1lbnQsIENoaWxkcmVuLCBpc1ZhbGlkRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUZvcmNlVXBkYXRlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWZvcmNlLXVwZGF0ZS5tanMnO1xuaW1wb3J0IHsgdXNlSXNNb3VudGVkIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWlzLW1vdW50ZWQubWpzJztcbmltcG9ydCB7IFByZXNlbmNlQ2hpbGQgfSBmcm9tICcuL1ByZXNlbmNlQ2hpbGQubWpzJztcbmltcG9ydCB7IExheW91dEdyb3VwQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvTGF5b3V0R3JvdXBDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWlzb21vcnBoaWMtZWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyB1c2VVbm1vdW50RWZmZWN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXVubW91bnQtZWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICcuLi8uLi91dGlscy9lcnJvcnMubWpzJztcblxuY29uc3QgZ2V0Q2hpbGRLZXkgPSAoY2hpbGQpID0+IGNoaWxkLmtleSB8fCBcIlwiO1xuZnVuY3Rpb24gdXBkYXRlQ2hpbGRMb29rdXAoY2hpbGRyZW4sIGFsbENoaWxkcmVuKSB7XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0Q2hpbGRLZXkoY2hpbGQpO1xuICAgICAgICBhbGxDaGlsZHJlbi5zZXQoa2V5LCBjaGlsZCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBvbmx5RWxlbWVudHMoY2hpbGRyZW4pIHtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IFtdO1xuICAgIC8vIFdlIHVzZSBmb3JFYWNoIGhlcmUgaW5zdGVhZCBvZiBtYXAgYXMgbWFwIG11dGF0ZXMgdGhlIGNvbXBvbmVudCBrZXkgYnkgcHJlcHJlbmRpbmcgYC4kYFxuICAgIENoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIChjaGlsZCkgPT4ge1xuICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoY2hpbGQpKVxuICAgICAgICAgICAgZmlsdGVyZWQucHVzaChjaGlsZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZpbHRlcmVkO1xufVxuLyoqXG4gKiBgQW5pbWF0ZVByZXNlbmNlYCBlbmFibGVzIHRoZSBhbmltYXRpb24gb2YgY29tcG9uZW50cyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIHRyZWUuXG4gKlxuICogV2hlbiBhZGRpbmcvcmVtb3ZpbmcgbW9yZSB0aGFuIGEgc2luZ2xlIGNoaWxkLCBldmVyeSBjaGlsZCAqKm11c3QqKiBiZSBnaXZlbiBhIHVuaXF1ZSBga2V5YCBwcm9wLlxuICpcbiAqIEFueSBgbW90aW9uYCBjb21wb25lbnRzIHRoYXQgaGF2ZSBhbiBgZXhpdGAgcHJvcGVydHkgZGVmaW5lZCB3aWxsIGFuaW1hdGUgb3V0IHdoZW4gcmVtb3ZlZCBmcm9tXG4gKiB0aGUgdHJlZS5cbiAqXG4gKiBgYGBqc3hcbiAqIGltcG9ydCB7IG1vdGlvbiwgQW5pbWF0ZVByZXNlbmNlIH0gZnJvbSAnZnJhbWVyLW1vdGlvbidcbiAqXG4gKiBleHBvcnQgY29uc3QgSXRlbXMgPSAoeyBpdGVtcyB9KSA9PiAoXG4gKiAgIDxBbmltYXRlUHJlc2VuY2U+XG4gKiAgICAge2l0ZW1zLm1hcChpdGVtID0+IChcbiAqICAgICAgIDxtb3Rpb24uZGl2XG4gKiAgICAgICAgIGtleT17aXRlbS5pZH1cbiAqICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gKiAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICogICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAgfX1cbiAqICAgICAgIC8+XG4gKiAgICAgKSl9XG4gKiAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICogKVxuICogYGBgXG4gKlxuICogWW91IGNhbiBzZXF1ZW5jZSBleGl0IGFuaW1hdGlvbnMgdGhyb3VnaG91dCBhIHRyZWUgdXNpbmcgdmFyaWFudHMuXG4gKlxuICogSWYgYSBjaGlsZCBjb250YWlucyBtdWx0aXBsZSBgbW90aW9uYCBjb21wb25lbnRzIHdpdGggYGV4aXRgIHByb3BzLCBpdCB3aWxsIG9ubHkgdW5tb3VudCB0aGUgY2hpbGRcbiAqIG9uY2UgYWxsIGBtb3Rpb25gIGNvbXBvbmVudHMgaGF2ZSBmaW5pc2hlZCBhbmltYXRpbmcgb3V0LiBMaWtld2lzZSwgYW55IGNvbXBvbmVudHMgdXNpbmdcbiAqIGB1c2VQcmVzZW5jZWAgYWxsIG5lZWQgdG8gY2FsbCBgc2FmZVRvUmVtb3ZlYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmNvbnN0IEFuaW1hdGVQcmVzZW5jZSA9ICh7IGNoaWxkcmVuLCBjdXN0b20sIGluaXRpYWwgPSB0cnVlLCBvbkV4aXRDb21wbGV0ZSwgZXhpdEJlZm9yZUVudGVyLCBwcmVzZW5jZUFmZmVjdHNMYXlvdXQgPSB0cnVlLCBtb2RlID0gXCJzeW5jXCIsIH0pID0+IHtcbiAgICBpbnZhcmlhbnQoIWV4aXRCZWZvcmVFbnRlciwgXCJSZXBsYWNlIGV4aXRCZWZvcmVFbnRlciB3aXRoIG1vZGU9J3dhaXQnXCIpO1xuICAgIC8vIFdlIHdhbnQgdG8gZm9yY2UgYSByZS1yZW5kZXIgb25jZSBhbGwgZXhpdGluZyBhbmltYXRpb25zIGhhdmUgZmluaXNoZWQuIFdlXG4gICAgLy8gZWl0aGVyIHVzZSBhIGxvY2FsIGZvcmNlUmVuZGVyIGZ1bmN0aW9uLCBvciBvbmUgZnJvbSBhIHBhcmVudCBjb250ZXh0IGlmIGl0IGV4aXN0cy5cbiAgICBjb25zdCBmb3JjZVJlbmRlciA9IHVzZUNvbnRleHQoTGF5b3V0R3JvdXBDb250ZXh0KS5mb3JjZVJlbmRlciB8fCB1c2VGb3JjZVVwZGF0ZSgpWzBdO1xuICAgIGNvbnN0IGlzTW91bnRlZCA9IHVzZUlzTW91bnRlZCgpO1xuICAgIC8vIEZpbHRlciBvdXQgYW55IGNoaWxkcmVuIHRoYXQgYXJlbid0IFJlYWN0RWxlbWVudHMuIFdlIGNhbiBvbmx5IHRyYWNrIFJlYWN0RWxlbWVudHMgd2l0aCBhIHByb3BzLmtleVxuICAgIGNvbnN0IGZpbHRlcmVkQ2hpbGRyZW4gPSBvbmx5RWxlbWVudHMoY2hpbGRyZW4pO1xuICAgIGxldCBjaGlsZHJlblRvUmVuZGVyID0gZmlsdGVyZWRDaGlsZHJlbjtcbiAgICBjb25zdCBleGl0aW5nQ2hpbGRyZW4gPSB1c2VSZWYobmV3IE1hcCgpKS5jdXJyZW50O1xuICAgIC8vIEtlZXAgYSBsaXZpbmcgcmVjb3JkIG9mIHRoZSBjaGlsZHJlbiB3ZSdyZSBhY3R1YWxseSByZW5kZXJpbmcgc28gd2VcbiAgICAvLyBjYW4gZGlmZiB0byBmaWd1cmUgb3V0IHdoaWNoIGFyZSBlbnRlcmluZyBhbmQgZXhpdGluZ1xuICAgIGNvbnN0IHByZXNlbnRDaGlsZHJlbiA9IHVzZVJlZihjaGlsZHJlblRvUmVuZGVyKTtcbiAgICAvLyBBIGxvb2t1cCB0YWJsZSB0byBxdWlja2x5IHJlZmVyZW5jZSBjb21wb25lbnRzIGJ5IGtleVxuICAgIGNvbnN0IGFsbENoaWxkcmVuID0gdXNlUmVmKG5ldyBNYXAoKSkuY3VycmVudDtcbiAgICAvLyBJZiB0aGlzIGlzIHRoZSBpbml0aWFsIGNvbXBvbmVudCByZW5kZXIsIGp1c3QgZGVhbCB3aXRoIGxvZ2ljIHN1cnJvdW5kaW5nIHdoZXRoZXJcbiAgICAvLyB3ZSBwbGF5IG9uTW91bnQgYW5pbWF0aW9ucyBvciBub3QuXG4gICAgY29uc3QgaXNJbml0aWFsUmVuZGVyID0gdXNlUmVmKHRydWUpO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpc0luaXRpYWxSZW5kZXIuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVDaGlsZExvb2t1cChmaWx0ZXJlZENoaWxkcmVuLCBhbGxDaGlsZHJlbik7XG4gICAgICAgIHByZXNlbnRDaGlsZHJlbi5jdXJyZW50ID0gY2hpbGRyZW5Ub1JlbmRlcjtcbiAgICB9KTtcbiAgICB1c2VVbm1vdW50RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaXNJbml0aWFsUmVuZGVyLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBhbGxDaGlsZHJlbi5jbGVhcigpO1xuICAgICAgICBleGl0aW5nQ2hpbGRyZW4uY2xlYXIoKTtcbiAgICB9KTtcbiAgICBpZiAoaXNJbml0aWFsUmVuZGVyLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBjaGlsZHJlblRvUmVuZGVyLm1hcCgoY2hpbGQpID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFByZXNlbmNlQ2hpbGQsIHsga2V5OiBnZXRDaGlsZEtleShjaGlsZCksIGlzUHJlc2VudDogdHJ1ZSwgaW5pdGlhbDogaW5pdGlhbCA/IHVuZGVmaW5lZCA6IGZhbHNlLCBwcmVzZW5jZUFmZmVjdHNMYXlvdXQ6IHByZXNlbmNlQWZmZWN0c0xheW91dCwgbW9kZTogbW9kZSB9LCBjaGlsZCkpKSkpO1xuICAgIH1cbiAgICAvLyBJZiB0aGlzIGlzIGEgc3Vic2VxdWVudCByZW5kZXIsIGRlYWwgd2l0aCBlbnRlcmluZyBhbmQgZXhpdGluZyBjaGlsZHJlblxuICAgIGNoaWxkcmVuVG9SZW5kZXIgPSBbLi4uY2hpbGRyZW5Ub1JlbmRlcl07XG4gICAgLy8gRGlmZiB0aGUga2V5cyBvZiB0aGUgY3VycmVudGx5LXByZXNlbnQgYW5kIHRhcmdldCBjaGlsZHJlbiB0byB1cGRhdGUgb3VyXG4gICAgLy8gZXhpdGluZyBsaXN0LlxuICAgIGNvbnN0IHByZXNlbnRLZXlzID0gcHJlc2VudENoaWxkcmVuLmN1cnJlbnQubWFwKGdldENoaWxkS2V5KTtcbiAgICBjb25zdCB0YXJnZXRLZXlzID0gZmlsdGVyZWRDaGlsZHJlbi5tYXAoZ2V0Q2hpbGRLZXkpO1xuICAgIC8vIERpZmYgdGhlIHByZXNlbnQgY2hpbGRyZW4gd2l0aCBvdXIgdGFyZ2V0IGNoaWxkcmVuIGFuZCBtYXJrIHRob3NlIHRoYXQgYXJlIGV4aXRpbmdcbiAgICBjb25zdCBudW1QcmVzZW50ID0gcHJlc2VudEtleXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUHJlc2VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHByZXNlbnRLZXlzW2ldO1xuICAgICAgICBpZiAodGFyZ2V0S2V5cy5pbmRleE9mKGtleSkgPT09IC0xICYmICFleGl0aW5nQ2hpbGRyZW4uaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGV4aXRpbmdDaGlsZHJlbi5zZXQoa2V5LCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElmIHdlIGN1cnJlbnRseSBoYXZlIGV4aXRpbmcgY2hpbGRyZW4sIGFuZCB3ZSdyZSBkZWZlcnJpbmcgcmVuZGVyaW5nIGluY29taW5nIGNoaWxkcmVuXG4gICAgLy8gdW50aWwgYWZ0ZXIgYWxsIGN1cnJlbnQgY2hpbGRyZW4gaGF2ZSBleGl0aW5nLCBlbXB0eSB0aGUgY2hpbGRyZW5Ub1JlbmRlciBhcnJheVxuICAgIGlmIChtb2RlID09PSBcIndhaXRcIiAmJiBleGl0aW5nQ2hpbGRyZW4uc2l6ZSkge1xuICAgICAgICBjaGlsZHJlblRvUmVuZGVyID0gW107XG4gICAgfVxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgY3VycmVudGx5IGV4aXRpbmcgY29tcG9uZW50cyBhbmQgY2xvbmUgdGhlbSB0byBvdmVyd3JpdGUgYGFuaW1hdGVgXG4gICAgLy8gd2l0aCBhbnkgYGV4aXRgIHByb3AgdGhleSBtaWdodCBoYXZlIGRlZmluZWQuXG4gICAgZXhpdGluZ0NoaWxkcmVuLmZvckVhY2goKGNvbXBvbmVudCwga2V5KSA9PiB7XG4gICAgICAgIC8vIElmIHRoaXMgY29tcG9uZW50IGlzIGFjdHVhbGx5IGVudGVyaW5nIGFnYWluLCBlYXJseSByZXR1cm5cbiAgICAgICAgaWYgKHRhcmdldEtleXMuaW5kZXhPZihrZXkpICE9PSAtMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBhbGxDaGlsZHJlbi5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFjaGlsZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW5zZXJ0aW9uSW5kZXggPSBwcmVzZW50S2V5cy5pbmRleE9mKGtleSk7XG4gICAgICAgIGxldCBleGl0aW5nQ29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgICAgICBpZiAoIWV4aXRpbmdDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9uRXhpdCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjbGVhbiB1cCB0aGUgZXhpdGluZyBjaGlsZHJlbiBtYXBcbiAgICAgICAgICAgICAgICBleGl0aW5nQ2hpbGRyZW4uZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAgLy8gY29tcHV0ZSB0aGUga2V5cyBvZiBjaGlsZHJlbiB0aGF0IHdlcmUgcmVuZGVyZWQgb25jZSBidXQgYXJlIG5vIGxvbmdlciBwcmVzZW50XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBoYXBwZW4gaW4gY2FzZSBvZiB0b28gbWFueSBmYXN0IGNvbnNlcXVlbnQgcmVuZGVyaW5nc1xuICAgICAgICAgICAgICAgIC8vIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9mcmFtZXIvbW90aW9uL2lzc3Vlcy8yMDIzXG4gICAgICAgICAgICAgICAgY29uc3QgbGVmdE92ZXJLZXlzID0gQXJyYXkuZnJvbShhbGxDaGlsZHJlbi5rZXlzKCkpLmZpbHRlcigoY2hpbGRLZXkpID0+ICF0YXJnZXRLZXlzLmluY2x1ZGVzKGNoaWxkS2V5KSk7XG4gICAgICAgICAgICAgICAgLy8gY2xlYW4gdXAgdGhlIGFsbCBjaGlsZHJlbiBtYXBcbiAgICAgICAgICAgICAgICBsZWZ0T3ZlcktleXMuZm9yRWFjaCgobGVmdE92ZXJLZXkpID0+IGFsbENoaWxkcmVuLmRlbGV0ZShsZWZ0T3ZlcktleSkpO1xuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0byByZW5kZXIgb25seSB0aGUgY2hpbGRyZW4gdGhhdCBhcmUgYWN0dWFsbHkgdmlzaWJsZVxuICAgICAgICAgICAgICAgIHByZXNlbnRDaGlsZHJlbi5jdXJyZW50ID0gZmlsdGVyZWRDaGlsZHJlbi5maWx0ZXIoKHByZXNlbnRDaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmVzZW50Q2hpbGRLZXkgPSBnZXRDaGlsZEtleShwcmVzZW50Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IHRoZSBub2RlIGV4aXRpbmdcbiAgICAgICAgICAgICAgICAgICAgcHJlc2VudENoaWxkS2V5ID09PSBrZXkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgdGhlIGxlZnRvdmVyIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0T3ZlcktleXMuaW5jbHVkZXMocHJlc2VudENoaWxkS2V5KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gRGVmZXIgcmUtcmVuZGVyaW5nIHVudGlsIGFsbCBleGl0aW5nIGNoaWxkcmVuIGhhdmUgaW5kZWVkIGxlZnRcbiAgICAgICAgICAgICAgICBpZiAoIWV4aXRpbmdDaGlsZHJlbi5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGZvcmNlUmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIG9uRXhpdENvbXBsZXRlICYmIG9uRXhpdENvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGV4aXRpbmdDb21wb25lbnQgPSAoUmVhY3QuY3JlYXRlRWxlbWVudChQcmVzZW5jZUNoaWxkLCB7IGtleTogZ2V0Q2hpbGRLZXkoY2hpbGQpLCBpc1ByZXNlbnQ6IGZhbHNlLCBvbkV4aXRDb21wbGV0ZTogb25FeGl0LCBjdXN0b206IGN1c3RvbSwgcHJlc2VuY2VBZmZlY3RzTGF5b3V0OiBwcmVzZW5jZUFmZmVjdHNMYXlvdXQsIG1vZGU6IG1vZGUgfSwgY2hpbGQpKTtcbiAgICAgICAgICAgIGV4aXRpbmdDaGlsZHJlbi5zZXQoa2V5LCBleGl0aW5nQ29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlblRvUmVuZGVyLnNwbGljZShpbnNlcnRpb25JbmRleCwgMCwgZXhpdGluZ0NvbXBvbmVudCk7XG4gICAgfSk7XG4gICAgLy8gQWRkIGBNb3Rpb25Db250ZXh0YCBldmVuIHRvIGNoaWxkcmVuIHRoYXQgZG9uJ3QgbmVlZCBpdCB0byBlbnN1cmUgd2UncmUgcmVuZGVyaW5nXG4gICAgLy8gdGhlIHNhbWUgdHJlZSBiZXR3ZWVuIHJlbmRlcnNcbiAgICBjaGlsZHJlblRvUmVuZGVyID0gY2hpbGRyZW5Ub1JlbmRlci5tYXAoKGNoaWxkKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgcmV0dXJuIGV4aXRpbmdDaGlsZHJlbi5oYXMoa2V5KSA/IChjaGlsZCkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChQcmVzZW5jZUNoaWxkLCB7IGtleTogZ2V0Q2hpbGRLZXkoY2hpbGQpLCBpc1ByZXNlbnQ6IHRydWUsIHByZXNlbmNlQWZmZWN0c0xheW91dDogcHJlc2VuY2VBZmZlY3RzTGF5b3V0LCBtb2RlOiBtb2RlIH0sIGNoaWxkKSk7XG4gICAgfSk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJlxuICAgICAgICBtb2RlID09PSBcIndhaXRcIiAmJlxuICAgICAgICBjaGlsZHJlblRvUmVuZGVyLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBZb3UncmUgYXR0ZW1wdGluZyB0byBhbmltYXRlIG11bHRpcGxlIGNoaWxkcmVuIHdpdGhpbiBBbmltYXRlUHJlc2VuY2UsIGJ1dCBpdHMgbW9kZSBpcyBzZXQgdG8gXCJ3YWl0XCIuIFRoaXMgd2lsbCBsZWFkIHRvIG9kZCB2aXN1YWwgYmVoYXZpb3VyLmApO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGV4aXRpbmdDaGlsZHJlbi5zaXplXG4gICAgICAgID8gY2hpbGRyZW5Ub1JlbmRlclxuICAgICAgICA6IGNoaWxkcmVuVG9SZW5kZXIubWFwKChjaGlsZCkgPT4gY2xvbmVFbGVtZW50KGNoaWxkKSkpKTtcbn07XG5cbmV4cG9ydCB7IEFuaW1hdGVQcmVzZW5jZSB9O1xuIiwiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1vdGlvblZhbHVlIH0gZnJvbSAnLi9pbmRleC5tanMnO1xuaW1wb3J0IHsgTW90aW9uQ29uZmlnQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvTW90aW9uQ29uZmlnQ29udGV4dC5tanMnO1xuaW1wb3J0IHsgdXNlQ29uc3RhbnQgfSBmcm9tICcuLi91dGlscy91c2UtY29uc3RhbnQubWpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgYE1vdGlvblZhbHVlYCB0byB0cmFjayB0aGUgc3RhdGUgYW5kIHZlbG9jaXR5IG9mIGEgdmFsdWUuXG4gKlxuICogVXN1YWxseSwgdGhlc2UgYXJlIGNyZWF0ZWQgYXV0b21hdGljYWxseS4gRm9yIGFkdmFuY2VkIHVzZS1jYXNlcywgbGlrZSB1c2Ugd2l0aCBgdXNlVHJhbnNmb3JtYCwgeW91IGNhbiBjcmVhdGUgYE1vdGlvblZhbHVlYHMgZXh0ZXJuYWxseSBhbmQgcGFzcyB0aGVtIGludG8gdGhlIGFuaW1hdGVkIGNvbXBvbmVudCB2aWEgdGhlIGBzdHlsZWAgcHJvcC5cbiAqXG4gKiBgYGBqc3hcbiAqIGV4cG9ydCBjb25zdCBNeUNvbXBvbmVudCA9ICgpID0+IHtcbiAqICAgY29uc3Qgc2NhbGUgPSB1c2VNb3Rpb25WYWx1ZSgxKVxuICpcbiAqICAgcmV0dXJuIDxtb3Rpb24uZGl2IHN0eWxlPXt7IHNjYWxlIH19IC8+XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gaW5pdGlhbCAtIFRoZSBpbml0aWFsIHN0YXRlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gdXNlTW90aW9uVmFsdWUoaW5pdGlhbCkge1xuICAgIGNvbnN0IHZhbHVlID0gdXNlQ29uc3RhbnQoKCkgPT4gbW90aW9uVmFsdWUoaW5pdGlhbCkpO1xuICAgIC8qKlxuICAgICAqIElmIHRoaXMgbW90aW9uIHZhbHVlIGlzIGJlaW5nIHVzZWQgaW4gc3RhdGljIG1vZGUsIGxpa2Ugb25cbiAgICAgKiB0aGUgRnJhbWVyIGNhbnZhcywgZm9yY2UgY29tcG9uZW50cyB0byByZXJlbmRlciB3aGVuIHRoZSBtb3Rpb25cbiAgICAgKiB2YWx1ZSBpcyB1cGRhdGVkLlxuICAgICAqL1xuICAgIGNvbnN0IHsgaXNTdGF0aWMgfSA9IHVzZUNvbnRleHQoTW90aW9uQ29uZmlnQ29udGV4dCk7XG4gICAgaWYgKGlzU3RhdGljKSB7XG4gICAgICAgIGNvbnN0IFssIHNldExhdGVzdF0gPSB1c2VTdGF0ZShpbml0aWFsKTtcbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHZhbHVlLm9uKFwiY2hhbmdlXCIsIHNldExhdGVzdCksIFtdKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgeyB1c2VNb3Rpb25WYWx1ZSB9O1xuIiwiaW1wb3J0IHsgaW50ZXJwb2xhdGUgfSBmcm9tICcuL2ludGVycG9sYXRlLm1qcyc7XG5cbmNvbnN0IGlzQ3VzdG9tVmFsdWVUeXBlID0gKHYpID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdi5taXg7XG59O1xuY29uc3QgZ2V0TWl4ZXIgPSAodikgPT4gKGlzQ3VzdG9tVmFsdWVUeXBlKHYpID8gdi5taXggOiB1bmRlZmluZWQpO1xuZnVuY3Rpb24gdHJhbnNmb3JtKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB1c2VJbW1lZGlhdGUgPSAhQXJyYXkuaXNBcnJheShhcmdzWzBdKTtcbiAgICBjb25zdCBhcmdPZmZzZXQgPSB1c2VJbW1lZGlhdGUgPyAwIDogLTE7XG4gICAgY29uc3QgaW5wdXRWYWx1ZSA9IGFyZ3NbMCArIGFyZ09mZnNldF07XG4gICAgY29uc3QgaW5wdXRSYW5nZSA9IGFyZ3NbMSArIGFyZ09mZnNldF07XG4gICAgY29uc3Qgb3V0cHV0UmFuZ2UgPSBhcmdzWzIgKyBhcmdPZmZzZXRdO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBhcmdzWzMgKyBhcmdPZmZzZXRdO1xuICAgIGNvbnN0IGludGVycG9sYXRvciA9IGludGVycG9sYXRlKGlucHV0UmFuZ2UsIG91dHB1dFJhbmdlLCB7XG4gICAgICAgIG1peGVyOiBnZXRNaXhlcihvdXRwdXRSYW5nZVswXSksXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gICAgcmV0dXJuIHVzZUltbWVkaWF0ZSA/IGludGVycG9sYXRvcihpbnB1dFZhbHVlKSA6IGludGVycG9sYXRvcjtcbn1cblxuZXhwb3J0IHsgdHJhbnNmb3JtIH07XG4iLCJpbXBvcnQgeyB1c2VNb3Rpb25WYWx1ZSB9IGZyb20gJy4vdXNlLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uL3V0aWxzL3VzZS1pc29tb3JwaGljLWVmZmVjdC5tanMnO1xuaW1wb3J0IHsgY2FuY2VsRnJhbWUsIGZyYW1lIH0gZnJvbSAnLi4vZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5cbmZ1bmN0aW9uIHVzZUNvbWJpbmVNb3Rpb25WYWx1ZXModmFsdWVzLCBjb21iaW5lVmFsdWVzKSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGlzZSB0aGUgcmV0dXJuZWQgbW90aW9uIHZhbHVlLiBUaGlzIHJlbWFpbnMgdGhlIHNhbWUgYmV0d2VlbiByZW5kZXJzLlxuICAgICAqL1xuICAgIGNvbnN0IHZhbHVlID0gdXNlTW90aW9uVmFsdWUoY29tYmluZVZhbHVlcygpKTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IHdpbGwgdXBkYXRlIHRoZSB0ZW1wbGF0ZSBtb3Rpb24gdmFsdWUgd2l0aCB0aGUgbGF0ZXN0IHZhbHVlcy5cbiAgICAgKiBUaGlzIGlzIHByZS1ib3VuZCBzbyB3aGVuZXZlciBhIG1vdGlvbiB2YWx1ZSB1cGRhdGVzIGl0IGNhbiBzY2hlZHVsZSBpdHNcbiAgICAgKiBleGVjdXRpb24gaW4gRnJhbWVzeW5jLiBJZiBpdCdzIGFscmVhZHkgYmVlbiBzY2hlZHVsZWQgaXQgd29uJ3QgYmUgZmlyZWQgdHdpY2VcbiAgICAgKiBpbiBhIHNpbmdsZSBmcmFtZS5cbiAgICAgKi9cbiAgICBjb25zdCB1cGRhdGVWYWx1ZSA9ICgpID0+IHZhbHVlLnNldChjb21iaW5lVmFsdWVzKCkpO1xuICAgIC8qKlxuICAgICAqIFN5bmNocm9ub3VzbHkgdXBkYXRlIHRoZSBtb3Rpb24gdmFsdWUgd2l0aCB0aGUgbGF0ZXN0IHZhbHVlcyBkdXJpbmcgdGhlIHJlbmRlci5cbiAgICAgKiBUaGlzIGVuc3VyZXMgdGhhdCB3aXRoaW4gYSBSZWFjdCByZW5kZXIsIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgRE9NIGFyZSB1cC10by1kYXRlLlxuICAgICAqL1xuICAgIHVwZGF0ZVZhbHVlKCk7XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIGFsbCBtb3Rpb24gdmFsdWVzIGZvdW5kIHdpdGhpbiB0aGUgdGVtcGxhdGUuIFdoZW5ldmVyIGFueSBvZiB0aGVtIGNoYW5nZSxcbiAgICAgKiBzY2hlZHVsZSBhbiB1cGRhdGUuXG4gICAgICovXG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjaGVkdWxlVXBkYXRlID0gKCkgPT4gZnJhbWUudXBkYXRlKHVwZGF0ZVZhbHVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB2YWx1ZXMubWFwKCh2KSA9PiB2Lm9uKFwiY2hhbmdlXCIsIHNjaGVkdWxlVXBkYXRlKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgICAgICAgICAgIGNhbmNlbEZyYW1lKHVwZGF0ZVZhbHVlKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCB7IHVzZUNvbWJpbmVNb3Rpb25WYWx1ZXMgfTtcbiIsImltcG9ydCB7IGNvbGxlY3RNb3Rpb25WYWx1ZXMgfSBmcm9tICcuL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyB1c2VDb21iaW5lTW90aW9uVmFsdWVzIH0gZnJvbSAnLi91c2UtY29tYmluZS12YWx1ZXMubWpzJztcblxuZnVuY3Rpb24gdXNlQ29tcHV0ZWQoY29tcHV0ZSkge1xuICAgIC8qKlxuICAgICAqIE9wZW4gc2Vzc2lvbiBvZiBjb2xsZWN0TW90aW9uVmFsdWVzLiBBbnkgTW90aW9uVmFsdWUgdGhhdCBjYWxscyBnZXQoKVxuICAgICAqIHdpbGwgYmUgc2F2ZWQgaW50byB0aGlzIGFycmF5LlxuICAgICAqL1xuICAgIGNvbGxlY3RNb3Rpb25WYWx1ZXMuY3VycmVudCA9IFtdO1xuICAgIGNvbXB1dGUoKTtcbiAgICBjb25zdCB2YWx1ZSA9IHVzZUNvbWJpbmVNb3Rpb25WYWx1ZXMoY29sbGVjdE1vdGlvblZhbHVlcy5jdXJyZW50LCBjb21wdXRlKTtcbiAgICAvKipcbiAgICAgKiBTeW5jaHJvbm91c2x5IGNsb3NlIHNlc3Npb24gb2YgY29sbGVjdE1vdGlvblZhbHVlcy5cbiAgICAgKi9cbiAgICBjb2xsZWN0TW90aW9uVmFsdWVzLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgeyB1c2VDb21wdXRlZCB9O1xuIiwiaW1wb3J0IHsgdHJhbnNmb3JtIH0gZnJvbSAnLi4vdXRpbHMvdHJhbnNmb3JtLm1qcyc7XG5pbXBvcnQgeyB1c2VDb21iaW5lTW90aW9uVmFsdWVzIH0gZnJvbSAnLi91c2UtY29tYmluZS12YWx1ZXMubWpzJztcbmltcG9ydCB7IHVzZUNvbnN0YW50IH0gZnJvbSAnLi4vdXRpbHMvdXNlLWNvbnN0YW50Lm1qcyc7XG5pbXBvcnQgeyB1c2VDb21wdXRlZCB9IGZyb20gJy4vdXNlLWNvbXB1dGVkLm1qcyc7XG5cbmZ1bmN0aW9uIHVzZVRyYW5zZm9ybShpbnB1dCwgaW5wdXRSYW5nZU9yVHJhbnNmb3JtZXIsIG91dHB1dFJhbmdlLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiB1c2VDb21wdXRlZChpbnB1dCk7XG4gICAgfVxuICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gdHlwZW9mIGlucHV0UmFuZ2VPclRyYW5zZm9ybWVyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBpbnB1dFJhbmdlT3JUcmFuc2Zvcm1lclxuICAgICAgICA6IHRyYW5zZm9ybShpbnB1dFJhbmdlT3JUcmFuc2Zvcm1lciwgb3V0cHV0UmFuZ2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGlucHV0KVxuICAgICAgICA/IHVzZUxpc3RUcmFuc2Zvcm0oaW5wdXQsIHRyYW5zZm9ybWVyKVxuICAgICAgICA6IHVzZUxpc3RUcmFuc2Zvcm0oW2lucHV0XSwgKFtsYXRlc3RdKSA9PiB0cmFuc2Zvcm1lcihsYXRlc3QpKTtcbn1cbmZ1bmN0aW9uIHVzZUxpc3RUcmFuc2Zvcm0odmFsdWVzLCB0cmFuc2Zvcm1lcikge1xuICAgIGNvbnN0IGxhdGVzdCA9IHVzZUNvbnN0YW50KCgpID0+IFtdKTtcbiAgICByZXR1cm4gdXNlQ29tYmluZU1vdGlvblZhbHVlcyh2YWx1ZXMsICgpID0+IHtcbiAgICAgICAgbGF0ZXN0Lmxlbmd0aCA9IDA7XG4gICAgICAgIGNvbnN0IG51bVZhbHVlcyA9IHZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtVmFsdWVzOyBpKyspIHtcbiAgICAgICAgICAgIGxhdGVzdFtpXSA9IHZhbHVlc1tpXS5nZXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZXIobGF0ZXN0KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgdXNlVHJhbnNmb3JtIH07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUluc2VydGlvbkVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzTW90aW9uVmFsdWUgfSBmcm9tICcuL3V0aWxzL2lzLW1vdGlvbi12YWx1ZS5tanMnO1xuaW1wb3J0IHsgdXNlTW90aW9uVmFsdWUgfSBmcm9tICcuL3VzZS1tb3Rpb24tdmFsdWUubWpzJztcbmltcG9ydCB7IE1vdGlvbkNvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbmZpZ0NvbnRleHQubWpzJztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi91dGlscy91c2UtaXNvbW9ycGhpYy1lZmZlY3QubWpzJztcbmltcG9ydCB7IGFuaW1hdGVWYWx1ZSB9IGZyb20gJy4uL2FuaW1hdGlvbi9hbmltYXRvcnMvanMvaW5kZXgubWpzJztcbmltcG9ydCB7IG1pbGxpc2Vjb25kc1RvU2Vjb25kcyB9IGZyb20gJy4uL3V0aWxzL3RpbWUtY29udmVyc2lvbi5tanMnO1xuaW1wb3J0IHsgZnJhbWVEYXRhIH0gZnJvbSAnLi4vZnJhbWVsb29wL2ZyYW1lLm1qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGBNb3Rpb25WYWx1ZWAgdGhhdCwgd2hlbiBgc2V0YCwgd2lsbCB1c2UgYSBzcHJpbmcgYW5pbWF0aW9uIHRvIGFuaW1hdGUgdG8gaXRzIG5ldyBzdGF0ZS5cbiAqXG4gKiBJdCBjYW4gZWl0aGVyIHdvcmsgYXMgYSBzdGFuZC1hbG9uZSBgTW90aW9uVmFsdWVgIGJ5IGluaXRpYWxpc2luZyBpdCB3aXRoIGEgdmFsdWUsIG9yIGFzIGEgc3Vic2NyaWJlclxuICogdG8gYW5vdGhlciBgTW90aW9uVmFsdWVgLlxuICpcbiAqIEByZW1hcmtzXG4gKlxuICogYGBganN4XG4gKiBjb25zdCB4ID0gdXNlU3ByaW5nKDAsIHsgc3RpZmZuZXNzOiAzMDAgfSlcbiAqIGNvbnN0IHkgPSB1c2VTcHJpbmcoeCwgeyBkYW1waW5nOiAxMCB9KVxuICogYGBgXG4gKlxuICogQHBhcmFtIGlucHV0VmFsdWUgLSBgTW90aW9uVmFsdWVgIG9yIG51bWJlci4gSWYgcHJvdmlkZWQgYSBgTW90aW9uVmFsdWVgLCB3aGVuIHRoZSBpbnB1dCBgTW90aW9uVmFsdWVgIGNoYW5nZXMsIHRoZSBjcmVhdGVkIGBNb3Rpb25WYWx1ZWAgd2lsbCBzcHJpbmcgdG93YXJkcyB0aGF0IHZhbHVlLlxuICogQHBhcmFtIHNwcmluZ0NvbmZpZyAtIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHNwcmluZy5cbiAqIEByZXR1cm5zIGBNb3Rpb25WYWx1ZWBcbiAqXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIHVzZVNwcmluZyhzb3VyY2UsIGNvbmZpZyA9IHt9KSB7XG4gICAgY29uc3QgeyBpc1N0YXRpYyB9ID0gdXNlQ29udGV4dChNb3Rpb25Db25maWdDb250ZXh0KTtcbiAgICBjb25zdCBhY3RpdmVTcHJpbmdBbmltYXRpb24gPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgdmFsdWUgPSB1c2VNb3Rpb25WYWx1ZShpc01vdGlvblZhbHVlKHNvdXJjZSkgPyBzb3VyY2UuZ2V0KCkgOiBzb3VyY2UpO1xuICAgIGNvbnN0IHN0b3BBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmVTcHJpbmdBbmltYXRpb24uY3VycmVudCkge1xuICAgICAgICAgICAgYWN0aXZlU3ByaW5nQW5pbWF0aW9uLmN1cnJlbnQuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB1c2VJbnNlcnRpb25FZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXR1cm4gdmFsdWUuYXR0YWNoKCh2LCBzZXQpID0+IHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQSBtb3JlIGhvbGxpc3RpYyBhcHByb2FjaCB0byB0aGlzIG1pZ2h0IGJlIHRvIHVzZSBpc1N0YXRpYyB0byBmaXggVmlzdWFsRWxlbWVudCBhbmltYXRpb25zXG4gICAgICAgICAgICAgKiBhdCB0aGF0IGxldmVsLCBidXQgdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoaXNTdGF0aWMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldCh2KTtcbiAgICAgICAgICAgIHN0b3BBbmltYXRpb24oKTtcbiAgICAgICAgICAgIGFjdGl2ZVNwcmluZ0FuaW1hdGlvbi5jdXJyZW50ID0gYW5pbWF0ZVZhbHVlKHtcbiAgICAgICAgICAgICAgICBrZXlmcmFtZXM6IFt2YWx1ZS5nZXQoKSwgdl0sXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IHZhbHVlLmdldFZlbG9jaXR5KCksXG4gICAgICAgICAgICAgICAgdHlwZTogXCJzcHJpbmdcIixcbiAgICAgICAgICAgICAgICByZXN0RGVsdGE6IDAuMDAxLFxuICAgICAgICAgICAgICAgIHJlc3RTcGVlZDogMC4wMSxcbiAgICAgICAgICAgICAgICAuLi5jb25maWcsXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6IHNldCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB3ZSdyZSBiZXR3ZWVuIGZyYW1lcywgcmVzeW5jIHRoZSBhbmltYXRpb24gdG8gdGhlIGZyYW1lbG9vcC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFmcmFtZURhdGEuaXNQcm9jZXNzaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBwZXJmb3JtYW5jZS5ub3coKSAtIGZyYW1lRGF0YS50aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgMzApIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlU3ByaW5nQW5pbWF0aW9uLmN1cnJlbnQudGltZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWxsaXNlY29uZHNUb1NlY29uZHMoZGVsdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5nZXQoKTtcbiAgICAgICAgfSwgc3RvcEFuaW1hdGlvbik7XG4gICAgfSwgW0pTT04uc3RyaW5naWZ5KGNvbmZpZyldKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlzTW90aW9uVmFsdWUoc291cmNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZS5vbihcImNoYW5nZVwiLCAodikgPT4gdmFsdWUuc2V0KHBhcnNlRmxvYXQodikpKTtcbiAgICAgICAgfVxuICAgIH0sIFt2YWx1ZV0pO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHsgdXNlU3ByaW5nIH07XG4iLCJpbXBvcnQgeyB1c2VJbnNlcnRpb25FZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIHVzZU1vdGlvblZhbHVlRXZlbnQodmFsdWUsIGV2ZW50LCBjYWxsYmFjaykge1xuICAgIC8qKlxuICAgICAqIHVzZUluc2VydGlvbkVmZmVjdCB3aWxsIGNyZWF0ZSBzdWJzY3JpcHRpb25zIGJlZm9yZSBhbnkgb3RoZXJcbiAgICAgKiBlZmZlY3RzIHdpbGwgcnVuLiBFZmZlY3RzIHJ1biB1cHdhcmRzIHRocm91Z2ggdGhlIHRyZWUgc28gaXRcbiAgICAgKiBjYW4gYmUgdGhhdCBiaW5kaW5nIGEgdXNlTGF5b3V0RWZmZWN0IGhpZ2hlciB1cCB0aGUgdHJlZSBjYW5cbiAgICAgKiBtaXNzIGNoYW5nZXMgZnJvbSBsb3dlciBkb3duIHRoZSB0cmVlLlxuICAgICAqL1xuICAgIHVzZUluc2VydGlvbkVmZmVjdCgoKSA9PiB2YWx1ZS5vbihldmVudCwgY2FsbGJhY2spLCBbdmFsdWUsIGV2ZW50LCBjYWxsYmFja10pO1xufVxuXG5leHBvcnQgeyB1c2VNb3Rpb25WYWx1ZUV2ZW50IH07XG4iLCJpbXBvcnQgeyB1c2VNb3Rpb25WYWx1ZUV2ZW50IH0gZnJvbSAnLi4vdXRpbHMvdXNlLW1vdGlvbi12YWx1ZS1ldmVudC5tanMnO1xuaW1wb3J0IHsgdXNlTW90aW9uVmFsdWUgfSBmcm9tICcuL3VzZS1tb3Rpb24tdmFsdWUubWpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgYE1vdGlvblZhbHVlYCB0aGF0IHVwZGF0ZXMgd2hlbiB0aGUgdmVsb2NpdHkgb2YgdGhlIHByb3ZpZGVkIGBNb3Rpb25WYWx1ZWAgY2hhbmdlcy5cbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBjb25zdCB4ID0gdXNlTW90aW9uVmFsdWUoMClcbiAqIGNvbnN0IHhWZWxvY2l0eSA9IHVzZVZlbG9jaXR5KHgpXG4gKiBjb25zdCB4QWNjZWxlcmF0aW9uID0gdXNlVmVsb2NpdHkoeFZlbG9jaXR5KVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiB1c2VWZWxvY2l0eSh2YWx1ZSkge1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gdXNlTW90aW9uVmFsdWUodmFsdWUuZ2V0VmVsb2NpdHkoKSk7XG4gICAgdXNlTW90aW9uVmFsdWVFdmVudCh2YWx1ZSwgXCJ2ZWxvY2l0eUNoYW5nZVwiLCAobmV3VmVsb2NpdHkpID0+IHtcbiAgICAgICAgdmVsb2NpdHkuc2V0KG5ld1ZlbG9jaXR5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmVsb2NpdHk7XG59XG5cbmV4cG9ydCB7IHVzZVZlbG9jaXR5IH07XG4iLCJpbXBvcnQgeyBpbnZhcmlhbnQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9lcnJvcnMubWpzJztcblxuZnVuY3Rpb24gcmVzb2x2ZUVsZW1lbnRzKGVsZW1lbnRzLCBzY29wZSwgc2VsZWN0b3JDYWNoZSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAodHlwZW9mIGVsZW1lbnRzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGxldCByb290ID0gZG9jdW1lbnQ7XG4gICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgaW52YXJpYW50KEJvb2xlYW4oc2NvcGUuY3VycmVudCksIFwiU2NvcGUgcHJvdmlkZWQsIGJ1dCBubyBlbGVtZW50IGRldGVjdGVkLlwiKTtcbiAgICAgICAgICAgIHJvb3QgPSBzY29wZS5jdXJyZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RvckNhY2hlKSB7XG4gICAgICAgICAgICAoX2EgPSBzZWxlY3RvckNhY2hlW2VsZW1lbnRzXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKHNlbGVjdG9yQ2FjaGVbZWxlbWVudHNdID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnRzKSk7XG4gICAgICAgICAgICBlbGVtZW50cyA9IHNlbGVjdG9yQ2FjaGVbZWxlbWVudHNdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudHMgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGVsZW1lbnRzIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICBlbGVtZW50cyA9IFtlbGVtZW50c107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBlbXB0eSBhcnJheVxuICAgICAqL1xuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnRzIHx8IFtdKTtcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZUVsZW1lbnRzIH07XG4iLCJpbXBvcnQgeyByZXNvbHZlRWxlbWVudHMgfSBmcm9tICcuLi91dGlscy9yZXNvbHZlLWVsZW1lbnQubWpzJztcblxuY29uc3QgcmVzaXplSGFuZGxlcnMgPSBuZXcgV2Vha01hcCgpO1xubGV0IG9ic2VydmVyO1xuZnVuY3Rpb24gZ2V0RWxlbWVudFNpemUodGFyZ2V0LCBib3JkZXJCb3hTaXplKSB7XG4gICAgaWYgKGJvcmRlckJveFNpemUpIHtcbiAgICAgICAgY29uc3QgeyBpbmxpbmVTaXplLCBibG9ja1NpemUgfSA9IGJvcmRlckJveFNpemVbMF07XG4gICAgICAgIHJldHVybiB7IHdpZHRoOiBpbmxpbmVTaXplLCBoZWlnaHQ6IGJsb2NrU2l6ZSB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmIFwiZ2V0QkJveFwiIGluIHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0LmdldEJCb3goKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogdGFyZ2V0Lm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0YXJnZXQub2Zmc2V0SGVpZ2h0LFxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5vdGlmeVRhcmdldCh7IHRhcmdldCwgY29udGVudFJlY3QsIGJvcmRlckJveFNpemUsIH0pIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gcmVzaXplSGFuZGxlcnMuZ2V0KHRhcmdldCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChoYW5kbGVyKSA9PiB7XG4gICAgICAgIGhhbmRsZXIoe1xuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgY29udGVudFNpemU6IGNvbnRlbnRSZWN0LFxuICAgICAgICAgICAgZ2V0IHNpemUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEVsZW1lbnRTaXplKHRhcmdldCwgYm9yZGVyQm94U2l6ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG5vdGlmeUFsbChlbnRyaWVzKSB7XG4gICAgZW50cmllcy5mb3JFYWNoKG5vdGlmeVRhcmdldCk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZXNpemVPYnNlcnZlcigpIHtcbiAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm47XG4gICAgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIobm90aWZ5QWxsKTtcbn1cbmZ1bmN0aW9uIHJlc2l6ZUVsZW1lbnQodGFyZ2V0LCBoYW5kbGVyKSB7XG4gICAgaWYgKCFvYnNlcnZlcilcbiAgICAgICAgY3JlYXRlUmVzaXplT2JzZXJ2ZXIoKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IHJlc29sdmVFbGVtZW50cyh0YXJnZXQpO1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgbGV0IGVsZW1lbnRIYW5kbGVycyA9IHJlc2l6ZUhhbmRsZXJzLmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKCFlbGVtZW50SGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGVsZW1lbnRIYW5kbGVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXJzLnNldChlbGVtZW50LCBlbGVtZW50SGFuZGxlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRIYW5kbGVycy5hZGQoaGFuZGxlcik7XG4gICAgICAgIG9ic2VydmVyID09PSBudWxsIHx8IG9ic2VydmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRIYW5kbGVycyA9IHJlc2l6ZUhhbmRsZXJzLmdldChlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnRIYW5kbGVycyA9PT0gbnVsbCB8fCBlbGVtZW50SGFuZGxlcnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnRIYW5kbGVycy5kZWxldGUoaGFuZGxlcik7XG4gICAgICAgICAgICBpZiAoIShlbGVtZW50SGFuZGxlcnMgPT09IG51bGwgfHwgZWxlbWVudEhhbmRsZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50SGFuZGxlcnMuc2l6ZSkpIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlciA9PT0gbnVsbCB8fCBvYnNlcnZlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xufVxuXG5leHBvcnQgeyByZXNpemVFbGVtZW50IH07XG4iLCJjb25zdCB3aW5kb3dDYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5sZXQgd2luZG93UmVzaXplSGFuZGxlcjtcbmZ1bmN0aW9uIGNyZWF0ZVdpbmRvd1Jlc2l6ZUhhbmRsZXIoKSB7XG4gICAgd2luZG93UmVzaXplSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICAgICAgdGFyZ2V0OiB3aW5kb3csXG4gICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgY29udGVudFNpemU6IHNpemUsXG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvd0NhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soaW5mbykpO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgd2luZG93UmVzaXplSGFuZGxlcik7XG59XG5mdW5jdGlvbiByZXNpemVXaW5kb3coY2FsbGJhY2spIHtcbiAgICB3aW5kb3dDYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcbiAgICBpZiAoIXdpbmRvd1Jlc2l6ZUhhbmRsZXIpXG4gICAgICAgIGNyZWF0ZVdpbmRvd1Jlc2l6ZUhhbmRsZXIoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB3aW5kb3dDYWxsYmFja3MuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgaWYgKCF3aW5kb3dDYWxsYmFja3Muc2l6ZSAmJiB3aW5kb3dSZXNpemVIYW5kbGVyKSB7XG4gICAgICAgICAgICB3aW5kb3dSZXNpemVIYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IHsgcmVzaXplV2luZG93IH07XG4iLCJpbXBvcnQgeyByZXNpemVFbGVtZW50IH0gZnJvbSAnLi9oYW5kbGUtZWxlbWVudC5tanMnO1xuaW1wb3J0IHsgcmVzaXplV2luZG93IH0gZnJvbSAnLi9oYW5kbGUtd2luZG93Lm1qcyc7XG5cbmZ1bmN0aW9uIHJlc2l6ZShhLCBiKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBhID09PSBcImZ1bmN0aW9uXCIgPyByZXNpemVXaW5kb3coYSkgOiByZXNpemVFbGVtZW50KGEsIGIpO1xufVxuXG5leHBvcnQgeyByZXNpemUgfTtcbiIsImltcG9ydCB7IHByb2dyZXNzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcHJvZ3Jlc3MubWpzJztcbmltcG9ydCB7IHZlbG9jaXR5UGVyU2Vjb25kIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdmVsb2NpdHktcGVyLXNlY29uZC5tanMnO1xuXG4vKipcbiAqIEEgdGltZSBpbiBtaWxsaXNlY29uZHMsIGJleW9uZCB3aGljaCB3ZSBjb25zaWRlciB0aGUgc2Nyb2xsIHZlbG9jaXR5IHRvIGJlIDAuXG4gKi9cbmNvbnN0IG1heEVsYXBzZWQgPSA1MDtcbmNvbnN0IGNyZWF0ZUF4aXNJbmZvID0gKCkgPT4gKHtcbiAgICBjdXJyZW50OiAwLFxuICAgIG9mZnNldDogW10sXG4gICAgcHJvZ3Jlc3M6IDAsXG4gICAgc2Nyb2xsTGVuZ3RoOiAwLFxuICAgIHRhcmdldE9mZnNldDogMCxcbiAgICB0YXJnZXRMZW5ndGg6IDAsXG4gICAgY29udGFpbmVyTGVuZ3RoOiAwLFxuICAgIHZlbG9jaXR5OiAwLFxufSk7XG5jb25zdCBjcmVhdGVTY3JvbGxJbmZvID0gKCkgPT4gKHtcbiAgICB0aW1lOiAwLFxuICAgIHg6IGNyZWF0ZUF4aXNJbmZvKCksXG4gICAgeTogY3JlYXRlQXhpc0luZm8oKSxcbn0pO1xuY29uc3Qga2V5cyA9IHtcbiAgICB4OiB7XG4gICAgICAgIGxlbmd0aDogXCJXaWR0aFwiLFxuICAgICAgICBwb3NpdGlvbjogXCJMZWZ0XCIsXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICAgIGxlbmd0aDogXCJIZWlnaHRcIixcbiAgICAgICAgcG9zaXRpb246IFwiVG9wXCIsXG4gICAgfSxcbn07XG5mdW5jdGlvbiB1cGRhdGVBeGlzSW5mbyhlbGVtZW50LCBheGlzTmFtZSwgaW5mbywgdGltZSkge1xuICAgIGNvbnN0IGF4aXMgPSBpbmZvW2F4aXNOYW1lXTtcbiAgICBjb25zdCB7IGxlbmd0aCwgcG9zaXRpb24gfSA9IGtleXNbYXhpc05hbWVdO1xuICAgIGNvbnN0IHByZXYgPSBheGlzLmN1cnJlbnQ7XG4gICAgY29uc3QgcHJldlRpbWUgPSBpbmZvLnRpbWU7XG4gICAgYXhpcy5jdXJyZW50ID0gZWxlbWVudFtcInNjcm9sbFwiICsgcG9zaXRpb25dO1xuICAgIGF4aXMuc2Nyb2xsTGVuZ3RoID0gZWxlbWVudFtcInNjcm9sbFwiICsgbGVuZ3RoXSAtIGVsZW1lbnRbXCJjbGllbnRcIiArIGxlbmd0aF07XG4gICAgYXhpcy5vZmZzZXQubGVuZ3RoID0gMDtcbiAgICBheGlzLm9mZnNldFswXSA9IDA7XG4gICAgYXhpcy5vZmZzZXRbMV0gPSBheGlzLnNjcm9sbExlbmd0aDtcbiAgICBheGlzLnByb2dyZXNzID0gcHJvZ3Jlc3MoMCwgYXhpcy5zY3JvbGxMZW5ndGgsIGF4aXMuY3VycmVudCk7XG4gICAgY29uc3QgZWxhcHNlZCA9IHRpbWUgLSBwcmV2VGltZTtcbiAgICBheGlzLnZlbG9jaXR5ID1cbiAgICAgICAgZWxhcHNlZCA+IG1heEVsYXBzZWRcbiAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgOiB2ZWxvY2l0eVBlclNlY29uZChheGlzLmN1cnJlbnQgLSBwcmV2LCBlbGFwc2VkKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVNjcm9sbEluZm8oZWxlbWVudCwgaW5mbywgdGltZSkge1xuICAgIHVwZGF0ZUF4aXNJbmZvKGVsZW1lbnQsIFwieFwiLCBpbmZvLCB0aW1lKTtcbiAgICB1cGRhdGVBeGlzSW5mbyhlbGVtZW50LCBcInlcIiwgaW5mbywgdGltZSk7XG4gICAgaW5mby50aW1lID0gdGltZTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlU2Nyb2xsSW5mbywgdXBkYXRlU2Nyb2xsSW5mbyB9O1xuIiwiZnVuY3Rpb24gY2FsY0luc2V0KGVsZW1lbnQsIGNvbnRhaW5lcikge1xuICAgIGNvbnN0IGluc2V0ID0geyB4OiAwLCB5OiAwIH07XG4gICAgbGV0IGN1cnJlbnQgPSBlbGVtZW50O1xuICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGNvbnRhaW5lcikge1xuICAgICAgICBpZiAoY3VycmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICBpbnNldC54ICs9IGN1cnJlbnQub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgIGluc2V0LnkgKz0gY3VycmVudC5vZmZzZXRUb3A7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudC50YWdOYW1lID09PSBcInN2Z1wiKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgaXNuJ3QgYW4gaWRlYWwgYXBwcm9hY2ggdG8gbWVhc3VyaW5nIHRoZSBvZmZzZXQgb2YgPHN2ZyAvPiB0YWdzLlxuICAgICAgICAgICAgICogSXQgd291bGQgYmUgcHJlZmVyYWJsZSwgZ2l2ZW4gdGhleSBiZWhhdmUgbGlrZSBIVE1MRWxlbWVudHMgaW4gbW9zdCB3YXlzXG4gICAgICAgICAgICAgKiB0byB1c2Ugb2Zmc2V0TGVmdC9Ub3AuIEJ1dCB0aGVzZSBkb24ndCBleGlzdCBvbiA8c3ZnIC8+LiBMaWtld2lzZSB3ZVxuICAgICAgICAgICAgICogY2FuJ3QgdXNlIC5nZXRCQm94KCkgbGlrZSBtb3N0IFNWRyBlbGVtZW50cyBhcyB0aGVzZSBwcm92aWRlIHRoZSBvZmZzZXRcbiAgICAgICAgICAgICAqIHJlbGF0aXZlIHRvIHRoZSBTVkcgaXRzZWxmLCB3aGljaCBmb3IgPHN2ZyAvPiBpcyB1c3VhbGx5IDB4MC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3Qgc3ZnQm91bmRpbmdCb3ggPSBjdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudEJvdW5kaW5nQm94ID0gY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGluc2V0LnggKz0gc3ZnQm91bmRpbmdCb3gubGVmdCAtIHBhcmVudEJvdW5kaW5nQm94LmxlZnQ7XG4gICAgICAgICAgICBpbnNldC55ICs9IHN2Z0JvdW5kaW5nQm94LnRvcCAtIHBhcmVudEJvdW5kaW5nQm94LnRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50IGluc3RhbmNlb2YgU1ZHR3JhcGhpY3NFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGN1cnJlbnQuZ2V0QkJveCgpO1xuICAgICAgICAgICAgaW5zZXQueCArPSB4O1xuICAgICAgICAgICAgaW5zZXQueSArPSB5O1xuICAgICAgICAgICAgbGV0IHN2ZyA9IG51bGw7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgd2hpbGUgKCFzdmcpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50LnRhZ05hbWUgPT09IFwic3ZnXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ZnID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBjdXJyZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gc3ZnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc2V0O1xufVxuXG5leHBvcnQgeyBjYWxjSW5zZXQgfTtcbiIsImNvbnN0IFNjcm9sbE9mZnNldCA9IHtcbiAgICBFbnRlcjogW1xuICAgICAgICBbMCwgMV0sXG4gICAgICAgIFsxLCAxXSxcbiAgICBdLFxuICAgIEV4aXQ6IFtcbiAgICAgICAgWzAsIDBdLFxuICAgICAgICBbMSwgMF0sXG4gICAgXSxcbiAgICBBbnk6IFtcbiAgICAgICAgWzEsIDBdLFxuICAgICAgICBbMCwgMV0sXG4gICAgXSxcbiAgICBBbGw6IFtcbiAgICAgICAgWzAsIDBdLFxuICAgICAgICBbMSwgMV0sXG4gICAgXSxcbn07XG5cbmV4cG9ydCB7IFNjcm9sbE9mZnNldCB9O1xuIiwiY29uc3QgbmFtZWRFZGdlcyA9IHtcbiAgICBzdGFydDogMCxcbiAgICBjZW50ZXI6IDAuNSxcbiAgICBlbmQ6IDEsXG59O1xuZnVuY3Rpb24gcmVzb2x2ZUVkZ2UoZWRnZSwgbGVuZ3RoLCBpbnNldCA9IDApIHtcbiAgICBsZXQgZGVsdGEgPSAwO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGhhdmUgdGhpcyBlZGdlIGRlZmluZWQgYXMgYSBwcmVzZXQsIHJlcGxhY2UgdGhlIGRlZmluaXRpb25cbiAgICAgKiB3aXRoIHRoZSBudW1lcmljYWwgdmFsdWUuXG4gICAgICovXG4gICAgaWYgKG5hbWVkRWRnZXNbZWRnZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlZGdlID0gbmFtZWRFZGdlc1tlZGdlXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHVuaXQgdmFsdWVzXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiBlZGdlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IGFzTnVtYmVyID0gcGFyc2VGbG9hdChlZGdlKTtcbiAgICAgICAgaWYgKGVkZ2UuZW5kc1dpdGgoXCJweFwiKSkge1xuICAgICAgICAgICAgZGVsdGEgPSBhc051bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlZGdlLmVuZHNXaXRoKFwiJVwiKSkge1xuICAgICAgICAgICAgZWRnZSA9IGFzTnVtYmVyIC8gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVkZ2UuZW5kc1dpdGgoXCJ2d1wiKSkge1xuICAgICAgICAgICAgZGVsdGEgPSAoYXNOdW1iZXIgLyAxMDApICogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVkZ2UuZW5kc1dpdGgoXCJ2aFwiKSkge1xuICAgICAgICAgICAgZGVsdGEgPSAoYXNOdW1iZXIgLyAxMDApICogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVkZ2UgPSBhc051bWJlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgZWRnZSBpcyBkZWZpbmVkIGFzIGEgbnVtYmVyLCBoYW5kbGUgYXMgYSBwcm9ncmVzcyB2YWx1ZS5cbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIGVkZ2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgZGVsdGEgPSBsZW5ndGggKiBlZGdlO1xuICAgIH1cbiAgICByZXR1cm4gaW5zZXQgKyBkZWx0YTtcbn1cblxuZXhwb3J0IHsgbmFtZWRFZGdlcywgcmVzb2x2ZUVkZ2UgfTtcbiIsImltcG9ydCB7IG5hbWVkRWRnZXMsIHJlc29sdmVFZGdlIH0gZnJvbSAnLi9lZGdlLm1qcyc7XG5cbmNvbnN0IGRlZmF1bHRPZmZzZXQgPSBbMCwgMF07XG5mdW5jdGlvbiByZXNvbHZlT2Zmc2V0KG9mZnNldCwgY29udGFpbmVyTGVuZ3RoLCB0YXJnZXRMZW5ndGgsIHRhcmdldEluc2V0KSB7XG4gICAgbGV0IG9mZnNldERlZmluaXRpb24gPSBBcnJheS5pc0FycmF5KG9mZnNldCkgPyBvZmZzZXQgOiBkZWZhdWx0T2Zmc2V0O1xuICAgIGxldCB0YXJnZXRQb2ludCA9IDA7XG4gICAgbGV0IGNvbnRhaW5lclBvaW50ID0gMDtcbiAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2UncmUgcHJvdmlkZWQgb2Zmc2V0OiBbMCwgMC41LCAxXSB0aGVuIGVhY2ggbnVtYmVyIHggc2hvdWxkIGJlY29tZVxuICAgICAgICAgKiBbeCwgeF0sIHNvIHdlIGRlZmF1bHQgdG8gdGhlIGJlaGF2aW91ciBvZiBtYXBwaW5nIDAgPT4gMCBvZiBib3RoIHRhcmdldFxuICAgICAgICAgKiBhbmQgY29udGFpbmVyIGV0Yy5cbiAgICAgICAgICovXG4gICAgICAgIG9mZnNldERlZmluaXRpb24gPSBbb2Zmc2V0LCBvZmZzZXRdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG9mZnNldCA9IG9mZnNldC50cmltKCk7XG4gICAgICAgIGlmIChvZmZzZXQuaW5jbHVkZXMoXCIgXCIpKSB7XG4gICAgICAgICAgICBvZmZzZXREZWZpbml0aW9uID0gb2Zmc2V0LnNwbGl0KFwiIFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UncmUgcHJvdmlkZWQgYSBkZWZpbml0aW9uIGxpa2UgXCIxMDBweFwiIHRoZW4gd2Ugd2FudCB0byBhcHBseVxuICAgICAgICAgICAgICogdGhhdCBvbmx5IHRvIHRoZSB0b3Agb2YgdGhlIHRhcmdldCBwb2ludCwgbGVhdmluZyB0aGUgY29udGFpbmVyIGF0IDAuXG4gICAgICAgICAgICAgKiBXaGVyZWFzIGEgbmFtZWQgb2Zmc2V0IGxpa2UgXCJlbmRcIiBzaG91bGQgYmUgYXBwbGllZCB0byBib3RoLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvZmZzZXREZWZpbml0aW9uID0gW29mZnNldCwgbmFtZWRFZGdlc1tvZmZzZXRdID8gb2Zmc2V0IDogYDBgXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0YXJnZXRQb2ludCA9IHJlc29sdmVFZGdlKG9mZnNldERlZmluaXRpb25bMF0sIHRhcmdldExlbmd0aCwgdGFyZ2V0SW5zZXQpO1xuICAgIGNvbnRhaW5lclBvaW50ID0gcmVzb2x2ZUVkZ2Uob2Zmc2V0RGVmaW5pdGlvblsxXSwgY29udGFpbmVyTGVuZ3RoKTtcbiAgICByZXR1cm4gdGFyZ2V0UG9pbnQgLSBjb250YWluZXJQb2ludDtcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZU9mZnNldCB9O1xuIiwiaW1wb3J0IHsgY2FsY0luc2V0IH0gZnJvbSAnLi9pbnNldC5tanMnO1xuaW1wb3J0IHsgU2Nyb2xsT2Zmc2V0IH0gZnJvbSAnLi9wcmVzZXRzLm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlT2Zmc2V0IH0gZnJvbSAnLi9vZmZzZXQubWpzJztcbmltcG9ydCB7IGludGVycG9sYXRlIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvaW50ZXJwb2xhdGUubWpzJztcbmltcG9ydCB7IGRlZmF1bHRPZmZzZXQgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9vZmZzZXRzL2RlZmF1bHQubWpzJztcblxuY29uc3QgcG9pbnQgPSB7IHg6IDAsIHk6IDAgfTtcbmZ1bmN0aW9uIGdldFRhcmdldFNpemUodGFyZ2V0KSB7XG4gICAgcmV0dXJuIFwiZ2V0QkJveFwiIGluIHRhcmdldCAmJiB0YXJnZXQudGFnTmFtZSAhPT0gXCJzdmdcIlxuICAgICAgICA/IHRhcmdldC5nZXRCQm94KClcbiAgICAgICAgOiB7IHdpZHRoOiB0YXJnZXQuY2xpZW50V2lkdGgsIGhlaWdodDogdGFyZ2V0LmNsaWVudEhlaWdodCB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZU9mZnNldHMoY29udGFpbmVyLCBpbmZvLCBvcHRpb25zKSB7XG4gICAgbGV0IHsgb2Zmc2V0OiBvZmZzZXREZWZpbml0aW9uID0gU2Nyb2xsT2Zmc2V0LkFsbCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB7IHRhcmdldCA9IGNvbnRhaW5lciwgYXhpcyA9IFwieVwiIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGxlbmd0aExhYmVsID0gYXhpcyA9PT0gXCJ5XCIgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiO1xuICAgIGNvbnN0IGluc2V0ID0gdGFyZ2V0ICE9PSBjb250YWluZXIgPyBjYWxjSW5zZXQodGFyZ2V0LCBjb250YWluZXIpIDogcG9pbnQ7XG4gICAgLyoqXG4gICAgICogTWVhc3VyZSB0aGUgdGFyZ2V0IGFuZCBjb250YWluZXIuIElmIHRoZXkncmUgdGhlIHNhbWUgdGhpbmcgdGhlbiB3ZVxuICAgICAqIHVzZSB0aGUgY29udGFpbmVyJ3Mgc2Nyb2xsV2lkdGgvSGVpZ2h0IGFzIHRoZSB0YXJnZXQsIGZyb20gdGhlcmVcbiAgICAgKiBhbGwgb3RoZXIgY2FsY3VsYXRpb25zIGNhbiByZW1haW4gdGhlIHNhbWUuXG4gICAgICovXG4gICAgY29uc3QgdGFyZ2V0U2l6ZSA9IHRhcmdldCA9PT0gY29udGFpbmVyXG4gICAgICAgID8geyB3aWR0aDogY29udGFpbmVyLnNjcm9sbFdpZHRoLCBoZWlnaHQ6IGNvbnRhaW5lci5zY3JvbGxIZWlnaHQgfVxuICAgICAgICA6IGdldFRhcmdldFNpemUodGFyZ2V0KTtcbiAgICBjb25zdCBjb250YWluZXJTaXplID0ge1xuICAgICAgICB3aWR0aDogY29udGFpbmVyLmNsaWVudFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lci5jbGllbnRIZWlnaHQsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbGVuZ3RoIG9mIHRoZSByZXNvbHZlZCBvZmZzZXQgYXJyYXkgcmF0aGVyIHRoYW4gY3JlYXRpbmcgYSBuZXcgb25lLlxuICAgICAqIFRPRE86IE1vcmUgcmV1c2FibGUgZGF0YSBzdHJ1Y3R1cmVzIGZvciB0YXJnZXRTaXplL2NvbnRhaW5lclNpemUgd291bGQgYWxzbyBiZSBnb29kLlxuICAgICAqL1xuICAgIGluZm9bYXhpc10ub2Zmc2V0Lmxlbmd0aCA9IDA7XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGUgdGhlIG9mZnNldCBhcnJheSBieSByZXNvbHZpbmcgdGhlIHVzZXIncyBvZmZzZXQgZGVmaW5pdGlvbiBpbnRvXG4gICAgICogYSBsaXN0IG9mIHBpeGVsIHNjcm9sbCBvZmZldHMuXG4gICAgICovXG4gICAgbGV0IGhhc0NoYW5nZWQgPSAhaW5mb1theGlzXS5pbnRlcnBvbGF0ZTtcbiAgICBjb25zdCBudW1PZmZzZXRzID0gb2Zmc2V0RGVmaW5pdGlvbi5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1PZmZzZXRzOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcmVzb2x2ZU9mZnNldChvZmZzZXREZWZpbml0aW9uW2ldLCBjb250YWluZXJTaXplW2xlbmd0aExhYmVsXSwgdGFyZ2V0U2l6ZVtsZW5ndGhMYWJlbF0sIGluc2V0W2F4aXNdKTtcbiAgICAgICAgaWYgKCFoYXNDaGFuZ2VkICYmIG9mZnNldCAhPT0gaW5mb1theGlzXS5pbnRlcnBvbGF0b3JPZmZzZXRzW2ldKSB7XG4gICAgICAgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvW2F4aXNdLm9mZnNldFtpXSA9IG9mZnNldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIHBpeGVsIHNjcm9sbCBvZmZzZXRzIGhhdmUgY2hhbmdlZCwgY3JlYXRlIGEgbmV3IGludGVycG9sYXRvciBmdW5jdGlvblxuICAgICAqIHRvIG1hcCBzY3JvbGwgdmFsdWUgaW50byBhIHByb2dyZXNzLlxuICAgICAqL1xuICAgIGlmIChoYXNDaGFuZ2VkKSB7XG4gICAgICAgIGluZm9bYXhpc10uaW50ZXJwb2xhdGUgPSBpbnRlcnBvbGF0ZShpbmZvW2F4aXNdLm9mZnNldCwgZGVmYXVsdE9mZnNldChvZmZzZXREZWZpbml0aW9uKSk7XG4gICAgICAgIGluZm9bYXhpc10uaW50ZXJwb2xhdG9yT2Zmc2V0cyA9IFsuLi5pbmZvW2F4aXNdLm9mZnNldF07XG4gICAgfVxuICAgIGluZm9bYXhpc10ucHJvZ3Jlc3MgPSBpbmZvW2F4aXNdLmludGVycG9sYXRlKGluZm9bYXhpc10uY3VycmVudCk7XG59XG5cbmV4cG9ydCB7IHJlc29sdmVPZmZzZXRzIH07XG4iLCJpbXBvcnQgeyB1cGRhdGVTY3JvbGxJbmZvIH0gZnJvbSAnLi9pbmZvLm1qcyc7XG5pbXBvcnQgeyByZXNvbHZlT2Zmc2V0cyB9IGZyb20gJy4vb2Zmc2V0cy9pbmRleC5tanMnO1xuXG5mdW5jdGlvbiBtZWFzdXJlKGNvbnRhaW5lciwgdGFyZ2V0ID0gY29udGFpbmVyLCBpbmZvKSB7XG4gICAgLyoqXG4gICAgICogRmluZCBpbnNldCBvZiB0YXJnZXQgd2l0aGluIHNjcm9sbGFibGUgY29udGFpbmVyXG4gICAgICovXG4gICAgaW5mby54LnRhcmdldE9mZnNldCA9IDA7XG4gICAgaW5mby55LnRhcmdldE9mZnNldCA9IDA7XG4gICAgaWYgKHRhcmdldCAhPT0gY29udGFpbmVyKSB7XG4gICAgICAgIGxldCBub2RlID0gdGFyZ2V0O1xuICAgICAgICB3aGlsZSAobm9kZSAmJiBub2RlICE9PSBjb250YWluZXIpIHtcbiAgICAgICAgICAgIGluZm8ueC50YXJnZXRPZmZzZXQgKz0gbm9kZS5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgaW5mby55LnRhcmdldE9mZnNldCArPSBub2RlLm9mZnNldFRvcDtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLm9mZnNldFBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpbmZvLngudGFyZ2V0TGVuZ3RoID1cbiAgICAgICAgdGFyZ2V0ID09PSBjb250YWluZXIgPyB0YXJnZXQuc2Nyb2xsV2lkdGggOiB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgaW5mby55LnRhcmdldExlbmd0aCA9XG4gICAgICAgIHRhcmdldCA9PT0gY29udGFpbmVyID8gdGFyZ2V0LnNjcm9sbEhlaWdodCA6IHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgaW5mby54LmNvbnRhaW5lckxlbmd0aCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICBpbmZvLnkuY29udGFpbmVyTGVuZ3RoID0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU9uU2Nyb2xsSGFuZGxlcihlbGVtZW50LCBvblNjcm9sbCwgaW5mbywgb3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWVhc3VyZTogKCkgPT4gbWVhc3VyZShlbGVtZW50LCBvcHRpb25zLnRhcmdldCwgaW5mbyksXG4gICAgICAgIHVwZGF0ZTogKHRpbWUpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZVNjcm9sbEluZm8oZWxlbWVudCwgaW5mbywgdGltZSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5vZmZzZXQgfHwgb3B0aW9ucy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlT2Zmc2V0cyhlbGVtZW50LCBpbmZvLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbm90aWZ5OiAoKSA9PiBvblNjcm9sbChpbmZvKSxcbiAgICB9O1xufVxuXG5leHBvcnQgeyBjcmVhdGVPblNjcm9sbEhhbmRsZXIgfTtcbiIsImltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4uL3Jlc2l6ZS9pbmRleC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlU2Nyb2xsSW5mbyB9IGZyb20gJy4vaW5mby5tanMnO1xuaW1wb3J0IHsgY3JlYXRlT25TY3JvbGxIYW5kbGVyIH0gZnJvbSAnLi9vbi1zY3JvbGwtaGFuZGxlci5tanMnO1xuaW1wb3J0IHsgZnJhbWUsIGNhbmNlbEZyYW1lLCBmcmFtZURhdGEgfSBmcm9tICcuLi8uLi8uLi9mcmFtZWxvb3AvZnJhbWUubWpzJztcblxuY29uc3Qgc2Nyb2xsTGlzdGVuZXJzID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlc2l6ZUxpc3RlbmVycyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBvblNjcm9sbEhhbmRsZXJzID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IGdldEV2ZW50VGFyZ2V0ID0gKGVsZW1lbnQpID0+IGVsZW1lbnQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/IHdpbmRvdyA6IGVsZW1lbnQ7XG5mdW5jdGlvbiBzY3JvbGxJbmZvKG9uU2Nyb2xsLCB7IGNvbnRhaW5lciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgLi4ub3B0aW9ucyB9ID0ge30pIHtcbiAgICBsZXQgY29udGFpbmVySGFuZGxlcnMgPSBvblNjcm9sbEhhbmRsZXJzLmdldChjb250YWluZXIpO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgb25TY3JvbGwgaGFuZGxlcnMgZm9yIHRoaXMgY29udGFpbmVyLlxuICAgICAqIElmIG9uZSBpc24ndCBmb3VuZCwgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIWNvbnRhaW5lckhhbmRsZXJzKSB7XG4gICAgICAgIGNvbnRhaW5lckhhbmRsZXJzID0gbmV3IFNldCgpO1xuICAgICAgICBvblNjcm9sbEhhbmRsZXJzLnNldChjb250YWluZXIsIGNvbnRhaW5lckhhbmRsZXJzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IG9uU2Nyb2xsIGhhbmRsZXIgZm9yIHRoZSBwcm92aWRlZCBjYWxsYmFjay5cbiAgICAgKi9cbiAgICBjb25zdCBpbmZvID0gY3JlYXRlU2Nyb2xsSW5mbygpO1xuICAgIGNvbnN0IGNvbnRhaW5lckhhbmRsZXIgPSBjcmVhdGVPblNjcm9sbEhhbmRsZXIoY29udGFpbmVyLCBvblNjcm9sbCwgaW5mbywgb3B0aW9ucyk7XG4gICAgY29udGFpbmVySGFuZGxlcnMuYWRkKGNvbnRhaW5lckhhbmRsZXIpO1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZXJlJ3MgYSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgZm9yIHRoaXMgY29udGFpbmVyLlxuICAgICAqIElmIG5vdCwgY3JlYXRlIG9uZS5cbiAgICAgKi9cbiAgICBpZiAoIXNjcm9sbExpc3RlbmVycy5oYXMoY29udGFpbmVyKSkge1xuICAgICAgICBjb25zdCBtZWFzdXJlQWxsID0gKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIGNvbnRhaW5lckhhbmRsZXJzKVxuICAgICAgICAgICAgICAgIGhhbmRsZXIubWVhc3VyZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB1cGRhdGVBbGwgPSAoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgY29udGFpbmVySGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnVwZGF0ZShmcmFtZURhdGEudGltZXN0YW1wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgbm90aWZ5QWxsID0gKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIGNvbnRhaW5lckhhbmRsZXJzKVxuICAgICAgICAgICAgICAgIGhhbmRsZXIubm90aWZ5KCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgZnJhbWUucmVhZChtZWFzdXJlQWxsLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICBmcmFtZS51cGRhdGUodXBkYXRlQWxsLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICBmcmFtZS51cGRhdGUobm90aWZ5QWxsLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHNjcm9sbExpc3RlbmVycy5zZXQoY29udGFpbmVyLCBsaXN0ZW5lcik7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGNvbnRhaW5lcik7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGxpc3RlbmVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgICAgIGlmIChjb250YWluZXIgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgICAgcmVzaXplTGlzdGVuZXJzLnNldChjb250YWluZXIsIHJlc2l6ZShjb250YWluZXIsIGxpc3RlbmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgbGlzdGVuZXIsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB9XG4gICAgY29uc3QgbGlzdGVuZXIgPSBzY3JvbGxMaXN0ZW5lcnMuZ2V0KGNvbnRhaW5lcik7XG4gICAgZnJhbWUucmVhZChsaXN0ZW5lciwgZmFsc2UsIHRydWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY2FuY2VsRnJhbWUobGlzdGVuZXIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgaWYgd2UgZXZlbiBoYXZlIGFueSBoYW5kbGVycyBmb3IgdGhpcyBjb250YWluZXIuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBjdXJyZW50SGFuZGxlcnMgPSBvblNjcm9sbEhhbmRsZXJzLmdldChjb250YWluZXIpO1xuICAgICAgICBpZiAoIWN1cnJlbnRIYW5kbGVycylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY3VycmVudEhhbmRsZXJzLmRlbGV0ZShjb250YWluZXJIYW5kbGVyKTtcbiAgICAgICAgaWYgKGN1cnJlbnRIYW5kbGVycy5zaXplKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgbm8gbW9yZSBoYW5kbGVycywgcmVtb3ZlIHRoZSBzY3JvbGwgbGlzdGVuZXIgdG9vLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgc2Nyb2xsTGlzdGVuZXIgPSBzY3JvbGxMaXN0ZW5lcnMuZ2V0KGNvbnRhaW5lcik7XG4gICAgICAgIHNjcm9sbExpc3RlbmVycy5kZWxldGUoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKHNjcm9sbExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnZXRFdmVudFRhcmdldChjb250YWluZXIpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2Nyb2xsTGlzdGVuZXIpO1xuICAgICAgICAgICAgKF9hID0gcmVzaXplTGlzdGVuZXJzLmdldChjb250YWluZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EoKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjcm9sbExpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCB7IHNjcm9sbEluZm8gfTtcbiIsImltcG9ydCB7IG1vdGlvblZhbHVlIH0gZnJvbSAnLi9pbmRleC5tanMnO1xuaW1wb3J0IHsgdXNlQ29uc3RhbnQgfSBmcm9tICcuLi91dGlscy91c2UtY29uc3RhbnQubWpzJztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHdhcm5pbmcgfSBmcm9tICcuLi91dGlscy9lcnJvcnMubWpzJztcbmltcG9ydCB7IHNjcm9sbEluZm8gfSBmcm9tICcuLi9yZW5kZXIvZG9tL3Njcm9sbC90cmFjay5tanMnO1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uL3V0aWxzL3VzZS1pc29tb3JwaGljLWVmZmVjdC5tanMnO1xuXG5mdW5jdGlvbiByZWZXYXJuaW5nKG5hbWUsIHJlZikge1xuICAgIHdhcm5pbmcoQm9vbGVhbighcmVmIHx8IHJlZi5jdXJyZW50KSwgYFlvdSBoYXZlIGRlZmluZWQgYSAke25hbWV9IG9wdGlvbnMgYnV0IHRoZSBwcm92aWRlZCByZWYgaXMgbm90IHlldCBoeWRyYXRlZCwgcHJvYmFibHkgYmVjYXVzZSBpdCdzIGRlZmluZWQgaGlnaGVyIHVwIHRoZSB0cmVlLiBUcnkgY2FsbGluZyB1c2VTY3JvbGwoKSBpbiB0aGUgc2FtZSBjb21wb25lbnQgYXMgdGhlIHJlZiwgb3Igc2V0dGluZyBpdHMgXFxgbGF5b3V0RWZmZWN0OiBmYWxzZVxcYCBvcHRpb24uYCk7XG59XG5jb25zdCBjcmVhdGVTY3JvbGxNb3Rpb25WYWx1ZXMgPSAoKSA9PiAoe1xuICAgIHNjcm9sbFg6IG1vdGlvblZhbHVlKDApLFxuICAgIHNjcm9sbFk6IG1vdGlvblZhbHVlKDApLFxuICAgIHNjcm9sbFhQcm9ncmVzczogbW90aW9uVmFsdWUoMCksXG4gICAgc2Nyb2xsWVByb2dyZXNzOiBtb3Rpb25WYWx1ZSgwKSxcbn0pO1xuZnVuY3Rpb24gdXNlU2Nyb2xsKHsgY29udGFpbmVyLCB0YXJnZXQsIGxheW91dEVmZmVjdCA9IHRydWUsIC4uLm9wdGlvbnMgfSA9IHt9KSB7XG4gICAgY29uc3QgdmFsdWVzID0gdXNlQ29uc3RhbnQoY3JlYXRlU2Nyb2xsTW90aW9uVmFsdWVzKTtcbiAgICBjb25zdCB1c2VMaWZlY3ljbGVFZmZlY3QgPSBsYXlvdXRFZmZlY3RcbiAgICAgICAgPyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0XG4gICAgICAgIDogdXNlRWZmZWN0O1xuICAgIHVzZUxpZmVjeWNsZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlZldhcm5pbmcoXCJ0YXJnZXRcIiwgdGFyZ2V0KTtcbiAgICAgICAgcmVmV2FybmluZyhcImNvbnRhaW5lclwiLCBjb250YWluZXIpO1xuICAgICAgICByZXR1cm4gc2Nyb2xsSW5mbygoeyB4LCB5IH0pID0+IHtcbiAgICAgICAgICAgIHZhbHVlcy5zY3JvbGxYLnNldCh4LmN1cnJlbnQpO1xuICAgICAgICAgICAgdmFsdWVzLnNjcm9sbFhQcm9ncmVzcy5zZXQoeC5wcm9ncmVzcyk7XG4gICAgICAgICAgICB2YWx1ZXMuc2Nyb2xsWS5zZXQoeS5jdXJyZW50KTtcbiAgICAgICAgICAgIHZhbHVlcy5zY3JvbGxZUHJvZ3Jlc3Muc2V0KHkucHJvZ3Jlc3MpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgY29udGFpbmVyOiAoY29udGFpbmVyID09PSBudWxsIHx8IGNvbnRhaW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGFpbmVyLmN1cnJlbnQpIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRhcmdldDogKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhcmdldC5jdXJyZW50KSB8fCB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgIH0sIFtjb250YWluZXIsIHRhcmdldCwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5vZmZzZXQpXSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cblxuZXhwb3J0IHsgdXNlU2Nyb2xsIH07XG4iLCJpbXBvcnQgeyB1c2VSZWYsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1vdGlvbkNvbmZpZ0NvbnRleHQgfSBmcm9tICcuLi9jb250ZXh0L01vdGlvbkNvbmZpZ0NvbnRleHQubWpzJztcbmltcG9ydCB7IGZyYW1lLCBjYW5jZWxGcmFtZSB9IGZyb20gJy4uL2ZyYW1lbG9vcC9mcmFtZS5tanMnO1xuXG5mdW5jdGlvbiB1c2VBbmltYXRpb25GcmFtZShjYWxsYmFjaykge1xuICAgIGNvbnN0IGluaXRpYWxUaW1lc3RhbXAgPSB1c2VSZWYoMCk7XG4gICAgY29uc3QgeyBpc1N0YXRpYyB9ID0gdXNlQ29udGV4dChNb3Rpb25Db25maWdDb250ZXh0KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaXNTdGF0aWMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHByb3ZpZGVUaW1lU2luY2VTdGFydCA9ICh7IHRpbWVzdGFtcCwgZGVsdGEgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpbml0aWFsVGltZXN0YW1wLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgaW5pdGlhbFRpbWVzdGFtcC5jdXJyZW50ID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgY2FsbGJhY2sodGltZXN0YW1wIC0gaW5pdGlhbFRpbWVzdGFtcC5jdXJyZW50LCBkZWx0YSk7XG4gICAgICAgIH07XG4gICAgICAgIGZyYW1lLnVwZGF0ZShwcm92aWRlVGltZVNpbmNlU3RhcnQsIHRydWUpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2FuY2VsRnJhbWUocHJvdmlkZVRpbWVTaW5jZVN0YXJ0KTtcbiAgICB9LCBbY2FsbGJhY2tdKTtcbn1cblxuZXhwb3J0IHsgdXNlQW5pbWF0aW9uRnJhbWUgfTtcbiIsImltcG9ydCB7IHJlc29sdmVFbGVtZW50cyB9IGZyb20gJy4uL3V0aWxzL3Jlc29sdmUtZWxlbWVudC5tanMnO1xuXG5jb25zdCB0aHJlc2hvbGRzID0ge1xuICAgIHNvbWU6IDAsXG4gICAgYWxsOiAxLFxufTtcbmZ1bmN0aW9uIGluVmlldyhlbGVtZW50T3JTZWxlY3Rvciwgb25TdGFydCwgeyByb290LCBtYXJnaW46IHJvb3RNYXJnaW4sIGFtb3VudCA9IFwic29tZVwiIH0gPSB7fSkge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gcmVzb2x2ZUVsZW1lbnRzKGVsZW1lbnRPclNlbGVjdG9yKTtcbiAgICBjb25zdCBhY3RpdmVJbnRlcnNlY3Rpb25zID0gbmV3IFdlYWtNYXAoKTtcbiAgICBjb25zdCBvbkludGVyc2VjdGlvbkNoYW5nZSA9IChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9uRW5kID0gYWN0aXZlSW50ZXJzZWN0aW9ucy5nZXQoZW50cnkudGFyZ2V0KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlcmUncyBubyBjaGFuZ2UgdG8gdGhlIGludGVyc2VjdGlvbiwgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICAgICAgICogZG8gYW55dGhpbmcgaGVyZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nID09PSBCb29sZWFuKG9uRW5kKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdPbkVuZCA9IG9uU3RhcnQoZW50cnkpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3T25FbmQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVJbnRlcnNlY3Rpb25zLnNldChlbnRyeS50YXJnZXQsIG5ld09uRW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9uRW5kKSB7XG4gICAgICAgICAgICAgICAgb25FbmQoZW50cnkpO1xuICAgICAgICAgICAgICAgIGFjdGl2ZUludGVyc2VjdGlvbnMuZGVsZXRlKGVudHJ5LnRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIob25JbnRlcnNlY3Rpb25DaGFuZ2UsIHtcbiAgICAgICAgcm9vdCxcbiAgICAgICAgcm9vdE1hcmdpbixcbiAgICAgICAgdGhyZXNob2xkOiB0eXBlb2YgYW1vdW50ID09PSBcIm51bWJlclwiID8gYW1vdW50IDogdGhyZXNob2xkc1thbW91bnRdLFxuICAgIH0pO1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCkpO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG59XG5cbmV4cG9ydCB7IGluVmlldyB9O1xuIiwiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGluVmlldyB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlld3BvcnQvaW5kZXgubWpzJztcblxuZnVuY3Rpb24gdXNlSW5WaWV3KHJlZiwgeyByb290LCBtYXJnaW4sIGFtb3VudCwgb25jZSA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGNvbnN0IFtpc0luVmlldywgc2V0SW5WaWV3XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXJlZi5jdXJyZW50IHx8IChvbmNlICYmIGlzSW5WaWV3KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb25FbnRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldEluVmlldyh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBvbmNlID8gdW5kZWZpbmVkIDogKCkgPT4gc2V0SW5WaWV3KGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHJvb3Q6IChyb290ICYmIHJvb3QuY3VycmVudCkgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWFyZ2luLFxuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaW5WaWV3KHJlZi5jdXJyZW50LCBvbkVudGVyLCBvcHRpb25zKTtcbiAgICB9LCBbcm9vdCwgcmVmLCBtYXJnaW4sIG9uY2VdKTtcbiAgICByZXR1cm4gaXNJblZpZXc7XG59XG5cbmV4cG9ydCB7IHVzZUluVmlldyB9O1xuIl0sIm5hbWVzIjpbIk1vdGlvbkNvbmZpZ0NvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwicCIsIk1vdGlvbkNvbnRleHQiLCJQcmVzZW5jZUNvbnRleHQiLCJpc0Jyb3dzZXIiLCJ1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwidXNlTGF5b3V0RWZmZWN0IiwidXNlRWZmZWN0IiwiTGF6eUNvbnRleHQiLCJjYW1lbFRvRGFzaCIsInN0ciIsIm9wdGltaXplZEFwcGVhckRhdGFJZCIsIm9wdGltaXplZEFwcGVhckRhdGFBdHRyaWJ1dGUiLCJ1c2VWaXN1YWxFbGVtZW50IiwiQ29tcG9uZW50IiwidmlzdWFsU3RhdGUiLCJwcm9wcyIsImNyZWF0ZVZpc3VhbEVsZW1lbnQiLCJwYXJlbnQiLCJ1c2VDb250ZXh0IiwibGF6eUNvbnRleHQiLCJwcmVzZW5jZUNvbnRleHQiLCJyZWR1Y2VkTW90aW9uQ29uZmlnIiwidmlzdWFsRWxlbWVudFJlZiIsInVzZVJlZiIsInZpc3VhbEVsZW1lbnQiLCJ1c2VJbnNlcnRpb25FZmZlY3QiLCJ3YW50c0hhbmRvZmYiLCJpc1JlZk9iamVjdCIsInJlZiIsInVzZU1vdGlvblJlZiIsImV4dGVybmFsUmVmIiwidXNlQ2FsbGJhY2siLCJpbnN0YW5jZSIsImlzVmFyaWFudExhYmVsIiwidiIsImlzQW5pbWF0aW9uQ29udHJvbHMiLCJ2YXJpYW50UHJpb3JpdHlPcmRlciIsInZhcmlhbnRQcm9wcyIsImlzQ29udHJvbGxpbmdWYXJpYW50cyIsIm5hbWUiLCJpc1ZhcmlhbnROb2RlIiwiZ2V0Q3VycmVudFRyZWVWYXJpYW50cyIsImNvbnRleHQiLCJpbml0aWFsIiwiYW5pbWF0ZSIsInVzZUNyZWF0ZU1vdGlvbkNvbnRleHQiLCJ1c2VNZW1vIiwidmFyaWFudExhYmVsc0FzRGVwZW5kZW5jeSIsInByb3AiLCJmZWF0dXJlUHJvcHMiLCJmZWF0dXJlRGVmaW5pdGlvbnMiLCJrZXkiLCJsb2FkRmVhdHVyZXMiLCJmZWF0dXJlcyIsIkxheW91dEdyb3VwQ29udGV4dCIsIlN3aXRjaExheW91dEdyb3VwQ29udGV4dCIsIm1vdGlvbkNvbXBvbmVudFN5bWJvbCIsImNyZWF0ZU1vdGlvbkNvbXBvbmVudCIsInByZWxvYWRlZEZlYXR1cmVzIiwidXNlUmVuZGVyIiwidXNlVmlzdWFsU3RhdGUiLCJNb3Rpb25Db21wb25lbnQiLCJNZWFzdXJlTGF5b3V0IiwiY29uZmlnQW5kUHJvcHMiLCJ1c2VMYXlvdXRJZCIsImlzU3RhdGljIiwiaW5pdGlhbExheW91dEdyb3VwQ29uZmlnIiwiaXNTdHJpY3QiLCJSZWFjdC5jcmVhdGVFbGVtZW50IiwiRm9yd2FyZFJlZkNvbXBvbmVudCIsImZvcndhcmRSZWYiLCJsYXlvdXRJZCIsImxheW91dEdyb3VwSWQiLCJjcmVhdGVNb3Rpb25Qcm94eSIsImNyZWF0ZUNvbmZpZyIsImN1c3RvbSIsImN1c3RvbU1vdGlvbkNvbXBvbmVudENvbmZpZyIsImNvbXBvbmVudENhY2hlIiwiX3RhcmdldCIsImxvd2VyY2FzZVNWR0VsZW1lbnRzIiwiaXNTVkdDb21wb25lbnQiLCJzY2FsZUNvcnJlY3RvcnMiLCJhZGRTY2FsZUNvcnJlY3RvciIsImNvcnJlY3RvcnMiLCJ0cmFuc2Zvcm1Qcm9wT3JkZXIiLCJ0cmFuc2Zvcm1Qcm9wcyIsImlzRm9yY2VkTW90aW9uVmFsdWUiLCJsYXlvdXQiLCJpc01vdGlvblZhbHVlIiwidmFsdWUiLCJ0cmFuc2xhdGVBbGlhcyIsIm51bVRyYW5zZm9ybXMiLCJidWlsZFRyYW5zZm9ybSIsInRyYW5zZm9ybSIsImVuYWJsZUhhcmR3YXJlQWNjZWxlcmF0aW9uIiwiYWxsb3dUcmFuc2Zvcm1Ob25lIiwidHJhbnNmb3JtSXNEZWZhdWx0IiwidHJhbnNmb3JtVGVtcGxhdGUiLCJ0cmFuc2Zvcm1TdHJpbmciLCJpIiwidHJhbnNmb3JtTmFtZSIsImNoZWNrU3RyaW5nU3RhcnRzV2l0aCIsInRva2VuIiwiaXNDU1NWYXJpYWJsZU5hbWUiLCJpc0NTU1ZhcmlhYmxlVG9rZW4iLCJjc3NWYXJpYWJsZVJlZ2V4IiwiZ2V0VmFsdWVBc1R5cGUiLCJ0eXBlIiwiY2xhbXAiLCJtaW4iLCJtYXgiLCJudW1iZXIiLCJhbHBoYSIsInNjYWxlIiwic2FuaXRpemUiLCJmbG9hdFJlZ2V4IiwiY29sb3JSZWdleCIsInNpbmdsZUNvbG9yUmVnZXgiLCJpc1N0cmluZyIsImNyZWF0ZVVuaXRUeXBlIiwidW5pdCIsImRlZ3JlZXMiLCJwZXJjZW50IiwicHgiLCJ2aCIsInZ3IiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwiaW50IiwibnVtYmVyVmFsdWVUeXBlcyIsImJ1aWxkSFRNTFN0eWxlcyIsInN0YXRlIiwibGF0ZXN0VmFsdWVzIiwib3B0aW9ucyIsInN0eWxlIiwidmFycyIsInRyYW5zZm9ybU9yaWdpbiIsImhhc1RyYW5zZm9ybSIsImhhc1RyYW5zZm9ybU9yaWdpbiIsInRyYW5zZm9ybUlzTm9uZSIsInZhbHVlVHlwZSIsInZhbHVlQXNUeXBlIiwib3JpZ2luWCIsIm9yaWdpblkiLCJvcmlnaW5aIiwiY3JlYXRlSHRtbFJlbmRlclN0YXRlIiwiY29weVJhd1ZhbHVlc09ubHkiLCJ0YXJnZXQiLCJzb3VyY2UiLCJ1c2VJbml0aWFsTW90aW9uVmFsdWVzIiwidXNlU3R5bGUiLCJzdHlsZVByb3AiLCJ1c2VIVE1MUHJvcHMiLCJodG1sUHJvcHMiLCJ2YWxpZE1vdGlvblByb3BzIiwiaXNWYWxpZE1vdGlvblByb3AiLCJzaG91bGRGb3J3YXJkIiwibG9hZEV4dGVybmFsSXNWYWxpZFByb3AiLCJpc1ZhbGlkUHJvcCIsImZpbHRlclByb3BzIiwiaXNEb20iLCJmb3J3YXJkTW90aW9uUHJvcHMiLCJmaWx0ZXJlZFByb3BzIiwiY2FsY09yaWdpbiIsIm9yaWdpbiIsIm9mZnNldCIsInNpemUiLCJjYWxjU1ZHVHJhbnNmb3JtT3JpZ2luIiwiZGltZW5zaW9ucyIsInB4T3JpZ2luWCIsInB4T3JpZ2luWSIsImRhc2hLZXlzIiwiY2FtZWxLZXlzIiwiYnVpbGRTVkdQYXRoIiwiYXR0cnMiLCJsZW5ndGgiLCJzcGFjaW5nIiwidXNlRGFzaENhc2UiLCJrZXlzIiwicGF0aExlbmd0aCIsInBhdGhTcGFjaW5nIiwiYnVpbGRTVkdBdHRycyIsImF0dHJYIiwiYXR0clkiLCJhdHRyU2NhbGUiLCJwYXRoT2Zmc2V0IiwibGF0ZXN0IiwiaXNTVkdUYWciLCJjcmVhdGVTdmdSZW5kZXJTdGF0ZSIsInRhZyIsInVzZVNWR1Byb3BzIiwiX2lzU3RhdGljIiwidmlzdWFsUHJvcHMiLCJyYXdTdHlsZXMiLCJjcmVhdGVVc2VSZW5kZXIiLCJlbGVtZW50UHJvcHMiLCJjaGlsZHJlbiIsInJlbmRlcmVkQ2hpbGRyZW4iLCJjcmVhdGVFbGVtZW50IiwicmVuZGVySFRNTCIsImVsZW1lbnQiLCJwcm9qZWN0aW9uIiwiY2FtZWxDYXNlQXR0cmlidXRlcyIsInJlbmRlclNWRyIsInJlbmRlclN0YXRlIiwiX3N0eWxlUHJvcCIsInNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyIsInByZXZQcm9wcyIsIm5ld1ZhbHVlcyIsInNjcmFwZU1vdGlvblZhbHVlc0Zyb21Qcm9wcyQxIiwidGFyZ2V0S2V5IiwicmVzb2x2ZVZhcmlhbnRGcm9tUHJvcHMiLCJkZWZpbml0aW9uIiwiY3VycmVudFZhbHVlcyIsImN1cnJlbnRWZWxvY2l0eSIsInVzZUNvbnN0YW50IiwiaW5pdCIsImlzS2V5ZnJhbWVzVGFyZ2V0IiwiaXNDdXN0b21WYWx1ZSIsInJlc29sdmVGaW5hbFZhbHVlSW5LZXlmcmFtZXMiLCJyZXNvbHZlTW90aW9uVmFsdWUiLCJ1bndyYXBwZWRWYWx1ZSIsIm1ha2VTdGF0ZSIsImNyZWF0ZVJlbmRlclN0YXRlIiwib25Nb3VudCIsIm1ha2VMYXRlc3RWYWx1ZXMiLCJtYWtlVXNlVmlzdWFsU3RhdGUiLCJjb25maWciLCJtYWtlIiwic2NyYXBlTW90aW9uVmFsdWVzIiwidmFsdWVzIiwibW90aW9uVmFsdWVzIiwiaXNDb250cm9sbGluZ1ZhcmlhbnRzJDEiLCJpc1ZhcmlhbnROb2RlJDEiLCJpc0luaXRpYWxBbmltYXRpb25CbG9ja2VkIiwidmFyaWFudFRvU2V0IiwicmVzb2x2ZWQiLCJ0cmFuc2l0aW9uRW5kIiwidHJhbnNpdGlvbiIsInZhbHVlVGFyZ2V0IiwiaW5kZXgiLCJub29wIiwiYW55IiwiUXVldWUiLCJwcm9jZXNzIiwiY3JlYXRlUmVuZGVyU3RlcCIsInJ1bk5leHRGcmFtZSIsInRoaXNGcmFtZSIsIm5leHRGcmFtZSIsIm51bVRvUnVuIiwiaXNQcm9jZXNzaW5nIiwiZmx1c2hOZXh0RnJhbWUiLCJ0b0tlZXBBbGl2ZSIsInN0ZXAiLCJjYWxsYmFjayIsImtlZXBBbGl2ZSIsImltbWVkaWF0ZSIsImFkZFRvQ3VycmVudEZyYW1lIiwicXVldWUiLCJmcmFtZURhdGEiLCJzdGVwc09yZGVyIiwibWF4RWxhcHNlZCIsImNyZWF0ZVJlbmRlckJhdGNoZXIiLCJzY2hlZHVsZU5leHRCYXRjaCIsImFsbG93S2VlcEFsaXZlIiwidXNlRGVmYXVsdEVsYXBzZWQiLCJzdGVwcyIsImFjYyIsInByb2Nlc3NTdGVwIiwic3RlcElkIiwicHJvY2Vzc0JhdGNoIiwidGltZXN0YW1wIiwid2FrZSIsImZyYW1lIiwiY2FuY2VsRnJhbWUiLCJzdmdNb3Rpb25Db25maWciLCJodG1sTW90aW9uQ29uZmlnIiwiY3JlYXRlRG9tTW90aW9uQ29uZmlnIiwiYWRkRG9tRXZlbnQiLCJldmVudE5hbWUiLCJoYW5kbGVyIiwiaXNQcmltYXJ5UG9pbnRlciIsImV2ZW50IiwiZXh0cmFjdEV2ZW50SW5mbyIsInBvaW50VHlwZSIsImFkZFBvaW50ZXJJbmZvIiwiYWRkUG9pbnRlckV2ZW50IiwiY29tYmluZUZ1bmN0aW9ucyIsImEiLCJiIiwicGlwZSIsInRyYW5zZm9ybWVycyIsImNyZWF0ZUxvY2siLCJsb2NrIiwib3BlbkxvY2siLCJnbG9iYWxIb3Jpem9udGFsTG9jayIsImdsb2JhbFZlcnRpY2FsTG9jayIsImdldEdsb2JhbExvY2siLCJkcmFnIiwib3Blbkhvcml6b250YWwiLCJvcGVuVmVydGljYWwiLCJpc0RyYWdBY3RpdmUiLCJvcGVuR2VzdHVyZUxvY2siLCJGZWF0dXJlIiwibm9kZSIsImFkZEhvdmVyRXZlbnQiLCJpc0FjdGl2ZSIsImNhbGxiYWNrTmFtZSIsImhhbmRsZUV2ZW50IiwiaW5mbyIsIkhvdmVyR2VzdHVyZSIsIkZvY3VzR2VzdHVyZSIsImlzRm9jdXNWaXNpYmxlIiwiaXNOb2RlT3JDaGlsZCIsImNoaWxkIiwiZmlyZVN5bnRoZXRpY1BvaW50ZXJFdmVudCIsInN5bnRoZXRpY1BvaW50ZXJFdmVudCIsIlByZXNzR2VzdHVyZSIsInN0YXJ0RXZlbnQiLCJzdGFydEluZm8iLCJyZW1vdmVQb2ludGVyVXBMaXN0ZW5lciIsImVuZEV2ZW50IiwiZW5kSW5mbyIsIm9uVGFwIiwib25UYXBDYW5jZWwiLCJyZW1vdmVQb2ludGVyQ2FuY2VsTGlzdGVuZXIiLCJjYW5jZWxFdmVudCIsImNhbmNlbEluZm8iLCJoYW5kbGVLZXlkb3duIiwia2V5ZG93bkV2ZW50IiwiaGFuZGxlS2V5dXAiLCJrZXl1cEV2ZW50IiwicmVtb3ZlS2V5ZG93bkxpc3RlbmVyIiwiaGFuZGxlQmx1ciIsInJlbW92ZUJsdXJMaXN0ZW5lciIsIm9uVGFwU3RhcnQiLCJ3aGlsZVRhcCIsInJlbW92ZVBvaW50ZXJMaXN0ZW5lciIsInJlbW92ZUZvY3VzTGlzdGVuZXIiLCJvYnNlcnZlckNhbGxiYWNrcyIsIm9ic2VydmVycyIsImZpcmVPYnNlcnZlckNhbGxiYWNrIiwiZW50cnkiLCJmaXJlQWxsT2JzZXJ2ZXJDYWxsYmFja3MiLCJlbnRyaWVzIiwiaW5pdEludGVyc2VjdGlvbk9ic2VydmVyIiwicm9vdCIsImxvb2t1cFJvb3QiLCJyb290T2JzZXJ2ZXJzIiwib2JzZXJ2ZUludGVyc2VjdGlvbiIsInJvb3RJbnRlcmVzZWN0aW9uT2JzZXJ2ZXIiLCJ0aHJlc2hvbGROYW1lcyIsIkluVmlld0ZlYXR1cmUiLCJ2aWV3cG9ydCIsInJvb3RNYXJnaW4iLCJhbW91bnQiLCJvbmNlIiwib25JbnRlcnNlY3Rpb25VcGRhdGUiLCJpc0ludGVyc2VjdGluZyIsIm9uVmlld3BvcnRFbnRlciIsIm9uVmlld3BvcnRMZWF2ZSIsImhhc1ZpZXdwb3J0T3B0aW9uQ2hhbmdlZCIsInByZXZWaWV3cG9ydCIsImdlc3R1cmVBbmltYXRpb25zIiwic2hhbGxvd0NvbXBhcmUiLCJuZXh0IiwicHJldiIsInByZXZMZW5ndGgiLCJnZXRDdXJyZW50IiwiY3VycmVudCIsImdldFZlbG9jaXR5IiwidmVsb2NpdHkiLCJyZXNvbHZlVmFyaWFudCIsIndhcm5pbmciLCJpbnZhcmlhbnQiLCJzZWNvbmRzVG9NaWxsaXNlY29uZHMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzVG9TZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiaW5zdGFudEFuaW1hdGlvblN0YXRlIiwiaXNCZXppZXJEZWZpbml0aW9uIiwiZWFzaW5nIiwiaXNXYWFwaVN1cHBvcnRlZEVhc2luZyIsInN1cHBvcnRlZFdhYXBpRWFzaW5nIiwiY3ViaWNCZXppZXJBc1N0cmluZyIsImMiLCJkIiwibWFwRWFzaW5nVG9OYXRpdmVFYXNpbmciLCJhbmltYXRlU3R5bGUiLCJ2YWx1ZU5hbWUiLCJrZXlmcmFtZXMiLCJkZWxheSIsImR1cmF0aW9uIiwicmVwZWF0IiwicmVwZWF0VHlwZSIsImVhc2UiLCJ0aW1lcyIsImtleWZyYW1lT3B0aW9ucyIsImdldEZpbmFsS2V5ZnJhbWUiLCJjYWxjQmV6aWVyIiwiYTEiLCJhMiIsInN1YmRpdmlzaW9uUHJlY2lzaW9uIiwic3ViZGl2aXNpb25NYXhJdGVyYXRpb25zIiwiYmluYXJ5U3ViZGl2aWRlIiwieCIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwibVgxIiwibVgyIiwiY3VycmVudFgiLCJjdXJyZW50VCIsImN1YmljQmV6aWVyIiwibVkxIiwibVkyIiwiZ2V0VEZvclgiLCJhWCIsInQiLCJlYXNlSW4iLCJlYXNlT3V0IiwiZWFzZUluT3V0IiwiaXNFYXNpbmdBcnJheSIsIm1pcnJvckVhc2luZyIsInJldmVyc2VFYXNpbmciLCJjaXJjSW4iLCJjaXJjT3V0IiwiY2lyY0luT3V0IiwiYmFja091dCIsImJhY2tJbiIsImJhY2tJbk91dCIsImFudGljaXBhdGUiLCJlYXNpbmdMb29rdXAiLCJlYXNpbmdEZWZpbml0aW9uVG9GdW5jdGlvbiIsIngxIiwieTEiLCJ4MiIsInkyIiwiaXNDb2xvclN0cmluZyIsInRlc3RQcm9wIiwic3BsaXRDb2xvciIsImFOYW1lIiwiYk5hbWUiLCJjTmFtZSIsImNsYW1wUmdiVW5pdCIsInJnYlVuaXQiLCJyZ2JhIiwicmVkIiwiZ3JlZW4iLCJibHVlIiwiYWxwaGEkMSIsInBhcnNlSGV4IiwiciIsImciLCJoZXgiLCJoc2xhIiwiaHVlIiwic2F0dXJhdGlvbiIsImxpZ2h0bmVzcyIsImNvbG9yIiwibWl4IiwiZnJvbSIsInRvIiwicHJvZ3Jlc3MiLCJodWVUb1JnYiIsInEiLCJoc2xhVG9SZ2JhIiwibWl4TGluZWFyQ29sb3IiLCJmcm9tRXhwbyIsImNvbG9yVHlwZXMiLCJnZXRDb2xvclR5cGUiLCJhc1JHQkEiLCJtb2RlbCIsIm1peENvbG9yIiwiZnJvbVJHQkEiLCJ0b1JHQkEiLCJibGVuZGVkIiwidGVzdCIsIl9hIiwiX2IiLCJjc3NWYXJUb2tlbmlzZXIiLCJjb2xvclRva2VuaXNlciIsIm51bWJlclRva2VuaXNlciIsInRva2VuaXNlIiwicmVnZXgiLCJjb3VudEtleSIsInBhcnNlIiwibWF0Y2hlcyIsImFuYWx5c2VDb21wbGV4VmFsdWUiLCJvcmlnaW5hbFZhbHVlIiwicGFyc2VDb21wbGV4VmFsdWUiLCJjcmVhdGVUcmFuc2Zvcm1lciIsIm51bUNvbG9ycyIsIm51bVZhcnMiLCJ0b2tlbmlzZWQiLCJudW1WYWx1ZXMiLCJvdXRwdXQiLCJjb252ZXJ0TnVtYmVyc1RvWmVybyIsImdldEFuaW1hdGFibGVOb25lIiwicGFyc2VkIiwiY29tcGxleCIsIm1peEltbWVkaWF0ZSIsImdldE1peGVyIiwibWl4Q29tcGxleCIsIm1peEFycmF5IiwiYmxlbmRWYWx1ZSIsImZyb21UaGlzIiwibWl4T2JqZWN0IiwidGVtcGxhdGUiLCJvcmlnaW5TdGF0cyIsInRhcmdldFN0YXRzIiwidG9Gcm9tRGlmZmVyZW5jZSIsIm1peE51bWJlciIsImRldGVjdE1peGVyRmFjdG9yeSIsImNyZWF0ZU1peGVycyIsImN1c3RvbU1peGVyIiwibWl4ZXJzIiwibWl4ZXJGYWN0b3J5IiwibnVtTWl4ZXJzIiwibWl4ZXIiLCJlYXNpbmdGdW5jdGlvbiIsImludGVycG9sYXRlIiwiaW5wdXQiLCJpc0NsYW1wIiwiaW5wdXRMZW5ndGgiLCJpbnRlcnBvbGF0b3IiLCJwcm9ncmVzc0luUmFuZ2UiLCJmaWxsT2Zmc2V0IiwicmVtYWluaW5nIiwib2Zmc2V0UHJvZ3Jlc3MiLCJkZWZhdWx0T2Zmc2V0IiwiYXJyIiwiY29udmVydE9mZnNldFRvVGltZXMiLCJvIiwiZGVmYXVsdEVhc2luZyIsImtleWZyYW1lVmFsdWVzIiwiZWFzaW5nRnVuY3Rpb25zIiwiYWJzb2x1dGVUaW1lcyIsIm1hcFRpbWVUb0tleWZyYW1lIiwidmVsb2NpdHlQZXJTZWNvbmQiLCJmcmFtZUR1cmF0aW9uIiwidmVsb2NpdHlTYW1wbGVEdXJhdGlvbiIsImNhbGNHZW5lcmF0b3JWZWxvY2l0eSIsInJlc29sdmVWYWx1ZSIsInByZXZUIiwic2FmZU1pbiIsIm1pbkR1cmF0aW9uIiwibWF4RHVyYXRpb24iLCJtaW5EYW1waW5nIiwibWF4RGFtcGluZyIsImZpbmRTcHJpbmciLCJib3VuY2UiLCJtYXNzIiwiZW52ZWxvcGUiLCJkZXJpdmF0aXZlIiwiZGFtcGluZ1JhdGlvIiwidW5kYW1wZWRGcmVxIiwiZXhwb25lbnRpYWxEZWNheSIsImRlbHRhIiwiY2FsY0FuZ3VsYXJGcmVxIiwiZSIsImYiLCJpbml0aWFsR3Vlc3MiLCJhcHByb3hpbWF0ZVJvb3QiLCJzdGlmZm5lc3MiLCJyb290SXRlcmF0aW9ucyIsInJlc3VsdCIsImR1cmF0aW9uS2V5cyIsInBoeXNpY3NLZXlzIiwiaXNTcHJpbmdUeXBlIiwiZ2V0U3ByaW5nT3B0aW9ucyIsInNwcmluZ09wdGlvbnMiLCJkZXJpdmVkIiwic3ByaW5nIiwicmVzdERlbHRhIiwicmVzdFNwZWVkIiwiZGFtcGluZyIsImlzUmVzb2x2ZWRGcm9tRHVyYXRpb24iLCJpbml0aWFsVmVsb2NpdHkiLCJpbml0aWFsRGVsdGEiLCJ1bmRhbXBlZEFuZ3VsYXJGcmVxIiwiaXNHcmFudWxhclNjYWxlIiwicmVzb2x2ZVNwcmluZyIsImFuZ3VsYXJGcmVxIiwiZGFtcGVkQW5ndWxhckZyZXEiLCJmcmVxRm9yVCIsImlzQmVsb3dWZWxvY2l0eVRocmVzaG9sZCIsImlzQmVsb3dEaXNwbGFjZW1lbnRUaHJlc2hvbGQiLCJpbmVydGlhIiwicG93ZXIiLCJ0aW1lQ29uc3RhbnQiLCJib3VuY2VEYW1waW5nIiwiYm91bmNlU3RpZmZuZXNzIiwibW9kaWZ5VGFyZ2V0IiwiaXNPdXRPZkJvdW5kcyIsIm5lYXJlc3RCb3VuZGFyeSIsImFtcGxpdHVkZSIsImlkZWFsIiwiY2FsY0RlbHRhIiwiY2FsY0xhdGVzdCIsImFwcGx5RnJpY3Rpb24iLCJ0aW1lUmVhY2hlZEJvdW5kYXJ5Iiwic3ByaW5nJDEiLCJjaGVja0NhdGNoQm91bmRhcnkiLCJoYXNVcGRhdGVkRnJhbWUiLCJmcmFtZWxvb3BEcml2ZXIiLCJ1cGRhdGUiLCJwYXNzVGltZXN0YW1wIiwibWF4R2VuZXJhdG9yRHVyYXRpb24iLCJjYWxjR2VuZXJhdG9yRHVyYXRpb24iLCJnZW5lcmF0b3IiLCJ0aW1lU3RlcCIsInR5cGVzIiwiYW5pbWF0ZVZhbHVlIiwiYXV0b3BsYXkiLCJkcml2ZXIiLCJrZXlmcmFtZXMkMSIsInJlcGVhdERlbGF5Iiwib25QbGF5Iiwib25TdG9wIiwib25Db21wbGV0ZSIsIm9uVXBkYXRlIiwic3BlZWQiLCJoYXNTdG9wcGVkIiwicmVzb2x2ZUZpbmlzaGVkUHJvbWlzZSIsImN1cnJlbnRGaW5pc2hlZFByb21pc2UiLCJ1cGRhdGVGaW5pc2hlZFByb21pc2UiLCJyZXNvbHZlIiwiYW5pbWF0aW9uRHJpdmVyIiwiZ2VuZXJhdG9yRmFjdG9yeSIsIm1hcE51bWJlcnNUb0tleWZyYW1lcyIsIm1pcnJvcmVkR2VuZXJhdG9yIiwicGxheVN0YXRlIiwiaG9sZFRpbWUiLCJzdGFydFRpbWUiLCJjYW5jZWxUaW1lIiwiY2FsY3VsYXRlZER1cmF0aW9uIiwicmVzb2x2ZWREdXJhdGlvbiIsInRvdGFsRHVyYXRpb24iLCJjdXJyZW50VGltZSIsInRpY2siLCJ0aW1lV2l0aG91dERlbGF5IiwiaXNJbkRlbGF5UGhhc2UiLCJlbGFwc2VkIiwiZnJhbWVHZW5lcmF0b3IiLCJjdXJyZW50SXRlcmF0aW9uIiwiaXRlcmF0aW9uUHJvZ3Jlc3MiLCJpdGVyYXRpb25Jc09kZCIsImRvbmUiLCJpc0FuaW1hdGlvbkZpbmlzaGVkIiwiZmluaXNoIiwic3RvcEFuaW1hdGlvbkRyaXZlciIsImNhbmNlbCIsInBsYXkiLCJub3ciLCJjb250cm9scyIsInJlamVjdCIsIm5ld1RpbWUiLCJuZXdTcGVlZCIsIm1lbW8iLCJzdXBwb3J0c1dhYXBpIiwiYWNjZWxlcmF0ZWRWYWx1ZXMiLCJzYW1wbGVEZWx0YSIsInJlcXVpcmVzUHJlZ2VuZXJhdGVkS2V5ZnJhbWVzIiwiY3JlYXRlQWNjZWxlcmF0ZWRBbmltYXRpb24iLCJzYW1wbGVBbmltYXRpb24iLCJwcmVnZW5lcmF0ZWRLZXlmcmFtZXMiLCJhbmltYXRpb24iLCJjYW5jZWxBbmltYXRpb24iLCJzYWZlQ2FuY2VsIiwidGltZWxpbmUiLCJjcmVhdGVJbnN0YW50QW5pbWF0aW9uIiwic2V0VmFsdWUiLCJ1bmRlckRhbXBlZFNwcmluZyIsImNyaXRpY2FsbHlEYW1wZWRTcHJpbmciLCJrZXlmcmFtZXNUcmFuc2l0aW9uIiwiZ2V0RGVmYXVsdFRyYW5zaXRpb24iLCJ2YWx1ZUtleSIsImlzQW5pbWF0YWJsZSIsIm1heERlZmF1bHRzIiwiYXBwbHlEZWZhdWx0RmlsdGVyIiwiZGVmYXVsdFZhbHVlIiwiZnVuY3Rpb25SZWdleCIsImZpbHRlciIsImZ1bmN0aW9ucyIsImRlZmF1bHRWYWx1ZVR5cGVzIiwiZ2V0RGVmYXVsdFZhbHVlVHlwZSIsImRlZmF1bHRWYWx1ZVR5cGUiLCJpc1plcm9WYWx1ZVN0cmluZyIsImlzTm9uZSIsImdldEtleWZyYW1lcyIsImlzVGFyZ2V0QW5pbWF0YWJsZSIsImRlZmF1bHRPcmlnaW4iLCJhbmltYXRhYmxlVGVtcGxhdGVWYWx1ZSIsIm5vbmVLZXlmcmFtZUluZGV4ZXMiLCJpc1RyYW5zaXRpb25EZWZpbmVkIiwid2hlbiIsIl9kZWxheSIsImRlbGF5Q2hpbGRyZW4iLCJzdGFnZ2VyQ2hpbGRyZW4iLCJzdGFnZ2VyRGlyZWN0aW9uIiwiZ2V0VmFsdWVUcmFuc2l0aW9uIiwiYW5pbWF0ZU1vdGlvblZhbHVlIiwidmFsdWVUcmFuc2l0aW9uIiwib3JpZ2luS2V5ZnJhbWUiLCJ0YXJnZXRLZXlmcmFtZSIsImlzT3JpZ2luQW5pbWF0YWJsZSIsImFjY2VsZXJhdGVkQW5pbWF0aW9uIiwiaXNXaWxsQ2hhbmdlTW90aW9uVmFsdWUiLCJpc051bWVyaWNhbFN0cmluZyIsImFkZFVuaXF1ZUl0ZW0iLCJpdGVtIiwicmVtb3ZlSXRlbSIsIlN1YnNjcmlwdGlvbk1hbmFnZXIiLCJudW1TdWJzY3JpcHRpb25zIiwiaXNGbG9hdCIsImNvbGxlY3RNb3Rpb25WYWx1ZXMiLCJNb3Rpb25WYWx1ZSIsInJlbmRlciIsInN1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlIiwiZXZlbnRNYW5hZ2VycyIsInBhc3NpdmVFZmZlY3QiLCJzdG9wUGFzc2l2ZUVmZmVjdCIsInN0YXJ0QW5pbWF0aW9uIiwibW90aW9uVmFsdWUiLCJ0ZXN0VmFsdWVUeXBlIiwiYXV0byIsImRpbWVuc2lvblZhbHVlVHlwZXMiLCJmaW5kRGltZW5zaW9uVmFsdWVUeXBlIiwidmFsdWVUeXBlcyIsImZpbmRWYWx1ZVR5cGUiLCJzZXRNb3Rpb25WYWx1ZSIsInNldFRhcmdldCIsImNoZWNrVGFyZ2V0Rm9yTmV3VmFsdWVzIiwibmV3VmFsdWVLZXlzIiwibnVtTmV3VmFsdWVzIiwidGFyZ2V0VmFsdWUiLCJnZXRPcmlnaW5Gcm9tVHJhbnNpdGlvbiIsImdldE9yaWdpbiIsInRyYW5zaXRpb25PcmlnaW4iLCJzaG91bGRCbG9ja0FuaW1hdGlvbiIsInByb3RlY3RlZEtleXMiLCJuZWVkc0FuaW1hdGluZyIsInNob3VsZEJsb2NrIiwiaGFzS2V5ZnJhbWVzQ2hhbmdlZCIsImFuaW1hdGVUYXJnZXQiLCJ0cmFuc2l0aW9uT3ZlcnJpZGUiLCJ3aWxsQ2hhbmdlIiwiYW5pbWF0aW9ucyIsImFuaW1hdGlvblR5cGVTdGF0ZSIsImFwcGVhcklkIiwiY2FuU2tpcCIsImFuaW1hdGVWYXJpYW50IiwidmFyaWFudCIsImdldEFuaW1hdGlvbiIsImdldENoaWxkQW5pbWF0aW9ucyIsImZvcndhcmREZWxheSIsImFuaW1hdGVDaGlsZHJlbiIsImZpcnN0IiwibGFzdCIsIm1heFN0YWdnZXJEdXJhdGlvbiIsImdlbmVyYXRlU3RhZ2dlckR1cmF0aW9uIiwic29ydEJ5VHJlZU9yZGVyIiwiYW5pbWF0ZVZpc3VhbEVsZW1lbnQiLCJyZXNvbHZlZERlZmluaXRpb24iLCJyZXZlcnNlUHJpb3JpdHlPcmRlciIsIm51bUFuaW1hdGlvblR5cGVzIiwiYW5pbWF0ZUxpc3QiLCJjcmVhdGVBbmltYXRpb25TdGF0ZSIsImNyZWF0ZVN0YXRlIiwiaXNJbml0aWFsUmVuZGVyIiwiYnVpbGRSZXNvbHZlZFR5cGVWYWx1ZXMiLCJzZXRBbmltYXRlRnVuY3Rpb24iLCJtYWtlQW5pbWF0b3IiLCJhbmltYXRlQ2hhbmdlcyIsImNoYW5nZWRBY3RpdmVUeXBlIiwicmVtb3ZlZEtleXMiLCJlbmNvdW50ZXJlZEtleXMiLCJyZW1vdmVkVmFyaWFudEluZGV4IiwidHlwZVN0YXRlIiwicHJvcElzVmFyaWFudCIsImFjdGl2ZURlbHRhIiwiaXNJbmhlcml0ZWQiLCJ2YXJpYW50RGlkQ2hhbmdlIiwiY2hlY2tWYXJpYW50c0RpZENoYW5nZSIsInNob3VsZEFuaW1hdGVUeXBlIiwiZGVmaW5pdGlvbkxpc3QiLCJyZXNvbHZlZFZhbHVlcyIsInByZXZSZXNvbHZlZFZhbHVlcyIsImFsbEtleXMiLCJtYXJrVG9BbmltYXRlIiwiZmFsbGJhY2tBbmltYXRpb24iLCJmYWxsYmFja1RhcmdldCIsInNob3VsZEFuaW1hdGUiLCJzZXRBY3RpdmUiLCJjcmVhdGVUeXBlU3RhdGUiLCJBbmltYXRpb25GZWF0dXJlIiwicHJldkFuaW1hdGUiLCJpZCIsIkV4aXRBbmltYXRpb25GZWF0dXJlIiwiaXNQcmVzZW50Iiwib25FeGl0Q29tcGxldGUiLCJwcmV2SXNQcmVzZW50IiwiZXhpdEFuaW1hdGlvbiIsInJlZ2lzdGVyIiwiZGlzdGFuY2UiLCJkaXN0YW5jZTJEIiwieERlbHRhIiwieURlbHRhIiwiUGFuU2Vzc2lvbiIsImhhbmRsZXJzIiwidHJhbnNmb3JtUGFnZVBvaW50IiwiY29udGV4dFdpbmRvdyIsImdldFBhbkluZm8iLCJpc1BhblN0YXJ0ZWQiLCJpc0Rpc3RhbmNlUGFzdFRocmVzaG9sZCIsInBvaW50Iiwib25TdGFydCIsIm9uTW92ZSIsInRyYW5zZm9ybVBvaW50Iiwib25FbmQiLCJvblNlc3Npb25FbmQiLCJwYW5JbmZvIiwiaW5pdGlhbEluZm8iLCJvblNlc3Npb25TdGFydCIsInN1YnRyYWN0UG9pbnQiLCJoaXN0b3J5IiwibGFzdERldmljZVBvaW50Iiwic3RhcnREZXZpY2VQb2ludCIsInRpbWVEZWx0YSIsInRpbWVzdGFtcGVkUG9pbnQiLCJsYXN0UG9pbnQiLCJ0aW1lIiwiY2FsY0xlbmd0aCIsImF4aXMiLCJpc05lYXIiLCJtYXhEaXN0YW5jZSIsImNhbGNBeGlzRGVsdGEiLCJjYWxjQm94RGVsdGEiLCJjYWxjUmVsYXRpdmVBeGlzIiwicmVsYXRpdmUiLCJjYWxjUmVsYXRpdmVCb3giLCJjYWxjUmVsYXRpdmVBeGlzUG9zaXRpb24iLCJjYWxjUmVsYXRpdmVQb3NpdGlvbiIsImFwcGx5Q29uc3RyYWludHMiLCJlbGFzdGljIiwiY2FsY1JlbGF0aXZlQXhpc0NvbnN0cmFpbnRzIiwiY2FsY1JlbGF0aXZlQ29uc3RyYWludHMiLCJsYXlvdXRCb3giLCJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiLCJjYWxjVmlld3BvcnRBeGlzQ29uc3RyYWludHMiLCJsYXlvdXRBeGlzIiwiY29uc3RyYWludHNBeGlzIiwiY2FsY1ZpZXdwb3J0Q29uc3RyYWludHMiLCJjb25zdHJhaW50c0JveCIsInNvdXJjZUxlbmd0aCIsInRhcmdldExlbmd0aCIsInJlYmFzZUF4aXNDb25zdHJhaW50cyIsImNvbnN0cmFpbnRzIiwicmVsYXRpdmVDb25zdHJhaW50cyIsImRlZmF1bHRFbGFzdGljIiwicmVzb2x2ZURyYWdFbGFzdGljIiwiZHJhZ0VsYXN0aWMiLCJyZXNvbHZlQXhpc0VsYXN0aWMiLCJtaW5MYWJlbCIsIm1heExhYmVsIiwicmVzb2x2ZVBvaW50RWxhc3RpYyIsImxhYmVsIiwiY3JlYXRlQXhpc0RlbHRhIiwiY3JlYXRlRGVsdGEiLCJjcmVhdGVBeGlzIiwiY3JlYXRlQm94IiwiZWFjaEF4aXMiLCJjb252ZXJ0Qm91bmRpbmdCb3hUb0JveCIsImNvbnZlcnRCb3hUb0JvdW5kaW5nQm94IiwieSIsInRyYW5zZm9ybUJveFBvaW50cyIsInRvcExlZnQiLCJib3R0b21SaWdodCIsImlzSWRlbnRpdHlTY2FsZSIsImhhc1NjYWxlIiwic2NhbGVYIiwic2NhbGVZIiwiaGFzMkRUcmFuc2xhdGUiLCJpczJEVHJhbnNsYXRlIiwic2NhbGVQb2ludCIsIm9yaWdpblBvaW50IiwiZGlzdGFuY2VGcm9tT3JpZ2luIiwic2NhbGVkIiwiYXBwbHlQb2ludERlbHRhIiwidHJhbnNsYXRlIiwiYm94U2NhbGUiLCJhcHBseUF4aXNEZWx0YSIsImFwcGx5Qm94RGVsdGEiLCJib3giLCJhcHBseVRyZWVEZWx0YXMiLCJ0cmVlU2NhbGUiLCJ0cmVlUGF0aCIsImlzU2hhcmVkVHJhbnNpdGlvbiIsInRyZWVMZW5ndGgiLCJ0cmFuc2Zvcm1Cb3giLCJzbmFwVG9EZWZhdWx0IiwidHJhbnNsYXRlQXhpcyIsInRyYW5zZm9ybUF4aXMiLCJ0cmFuc2Zvcm1zIiwic2NhbGVLZXkiLCJvcmlnaW5LZXkiLCJheGlzT3JpZ2luIiwieEtleXMiLCJ5S2V5cyIsIm1lYXN1cmVWaWV3cG9ydEJveCIsIm1lYXN1cmVQYWdlQm94Iiwicm9vdFByb2plY3Rpb25Ob2RlIiwidmlld3BvcnRCb3giLCJzY3JvbGwiLCJnZXRDb250ZXh0V2luZG93IiwiZWxlbWVudERyYWdDb250cm9scyIsIlZpc3VhbEVsZW1lbnREcmFnQ29udHJvbHMiLCJvcmlnaW5FdmVudCIsInNuYXBUb0N1cnNvciIsImRyYWdQcm9wYWdhdGlvbiIsIm9uRHJhZ1N0YXJ0IiwibWVhc3VyZWRBeGlzIiwiYW5pbWF0aW9uU3RhdGUiLCJkcmFnRGlyZWN0aW9uTG9jayIsIm9uRGlyZWN0aW9uTG9jayIsIm9uRHJhZyIsImdldEN1cnJlbnREaXJlY3Rpb24iLCJpc0RyYWdnaW5nIiwib25EcmFnRW5kIiwiX3BvaW50Iiwic2hvdWxkRHJhZyIsImF4aXNWYWx1ZSIsImRyYWdDb25zdHJhaW50cyIsInByZXZDb25zdHJhaW50cyIsIm9uTWVhc3VyZURyYWdDb25zdHJhaW50cyIsImNvbnN0cmFpbnRzRWxlbWVudCIsIm1lYXN1cmVkQ29uc3RyYWludHMiLCJ1c2VyQ29uc3RyYWludHMiLCJkcmFnTW9tZW50dW0iLCJkcmFnVHJhbnNpdGlvbiIsImRyYWdTbmFwVG9PcmlnaW4iLCJvbkRyYWdUcmFuc2l0aW9uRW5kIiwibW9tZW50dW1BbmltYXRpb25zIiwiZHJhZ0tleSIsImV4dGVybmFsTW90aW9uVmFsdWUiLCJib3hQcm9ncmVzcyIsInN0b3BQb2ludGVyTGlzdGVuZXIiLCJkcmFnTGlzdGVuZXIiLCJtZWFzdXJlRHJhZ0NvbnN0cmFpbnRzIiwic3RvcE1lYXN1cmVMYXlvdXRMaXN0ZW5lciIsInN0b3BSZXNpemVMaXN0ZW5lciIsInN0b3BMYXlvdXRVcGRhdGVMaXN0ZW5lciIsImhhc0xheW91dENoYW5nZWQiLCJkaXJlY3Rpb24iLCJjdXJyZW50RGlyZWN0aW9uIiwibG9ja1RocmVzaG9sZCIsIkRyYWdHZXN0dXJlIiwiZHJhZ0NvbnRyb2xzIiwiYXN5bmNIYW5kbGVyIiwiUGFuR2VzdHVyZSIsInBvaW50ZXJEb3duRXZlbnQiLCJvblBhblNlc3Npb25TdGFydCIsIm9uUGFuU3RhcnQiLCJvblBhbiIsIm9uUGFuRW5kIiwidXNlUHJlc2VuY2UiLCJ1c2VJZCIsImdsb2JhbFByb2plY3Rpb25TdGF0ZSIsInBpeGVsc1RvUGVyY2VudCIsInBpeGVscyIsImNvcnJlY3RCb3JkZXJSYWRpdXMiLCJjb3JyZWN0Qm94U2hhZG93IiwicHJvamVjdGlvbkRlbHRhIiwib3JpZ2luYWwiLCJzaGFkb3ciLCJ4U2NhbGUiLCJ5U2NhbGUiLCJhdmVyYWdlU2NhbGUiLCJNZWFzdXJlTGF5b3V0V2l0aENvbnRleHQiLCJSZWFjdF9fZGVmYXVsdCIsImxheW91dEdyb3VwIiwic3dpdGNoTGF5b3V0R3JvdXAiLCJkZWZhdWx0U2NhbGVDb3JyZWN0b3JzIiwibGF5b3V0RGVwZW5kZW5jeSIsInN0YWNrIiwicHJvbW90ZUNvbnRleHQiLCJzYWZlVG9SZW1vdmUiLCJib3JkZXJzIiwibnVtQm9yZGVycyIsImFzTnVtYmVyIiwiaXNQeCIsIm1peFZhbHVlcyIsImZvbGxvdyIsImxlYWQiLCJzaG91bGRDcm9zc2ZhZGVPcGFjaXR5IiwiaXNPbmx5TWVtYmVyIiwiZWFzZUNyb3NzZmFkZUluIiwiZWFzZUNyb3NzZmFkZU91dCIsImJvcmRlckxhYmVsIiwiZm9sbG93UmFkaXVzIiwiZ2V0UmFkaXVzIiwibGVhZFJhZGl1cyIsInJhZGl1c05hbWUiLCJjb21wcmVzcyIsImNvcHlBeGlzSW50byIsIm9yaWdpbkF4aXMiLCJjb3B5Qm94SW50byIsIm9yaWdpbkJveCIsInJlbW92ZVBvaW50RGVsdGEiLCJyZW1vdmVBeGlzRGVsdGEiLCJzb3VyY2VBeGlzIiwicmVtb3ZlQXhpc1RyYW5zZm9ybXMiLCJyZW1vdmVCb3hUcmFuc2Zvcm1zIiwic291cmNlQm94IiwiaXNBeGlzRGVsdGFaZXJvIiwiaXNEZWx0YVplcm8iLCJib3hFcXVhbHMiLCJib3hFcXVhbHNSb3VuZGVkIiwiYXNwZWN0UmF0aW8iLCJOb2RlU3RhY2siLCJwcmV2TGVhZCIsImluZGV4T2ZOb2RlIiwibWVtYmVyIiwicHJlc2VydmVGb2xsb3dPcGFjaXR5IiwiY3Jvc3NmYWRlIiwicmVzdW1pbmdGcm9tIiwiYnVpbGRQcm9qZWN0aW9uVHJhbnNmb3JtIiwibGF0ZXN0VHJhbnNmb3JtIiwieFRyYW5zbGF0ZSIsInlUcmFuc2xhdGUiLCJyb3RhdGUiLCJyb3RhdGVYIiwicm90YXRlWSIsImVsZW1lbnRTY2FsZVgiLCJlbGVtZW50U2NhbGVZIiwiY29tcGFyZUJ5RGVwdGgiLCJGbGF0VHJlZSIsInRpbWVvdXQiLCJzdGFydCIsImNoZWNrRWxhcHNlZCIsInJlY29yZCIsImRhdGEiLCJpc1NWR0VsZW1lbnQiLCJhbmltYXRlU2luZ2xlVmFsdWUiLCJtb3Rpb25WYWx1ZSQxIiwidHJhbnNmb3JtQXhlcyIsImhpZGRlblZpc2liaWxpdHkiLCJhbmltYXRpb25UYXJnZXQiLCJwcm9qZWN0aW9uRnJhbWVEYXRhIiwiY3JlYXRlUHJvamVjdGlvbk5vZGUiLCJhdHRhY2hSZXNpemVMaXN0ZW5lciIsImRlZmF1bHRQYXJlbnQiLCJtZWFzdXJlU2Nyb2xsIiwiY2hlY2tJc1Njcm9sbFJvb3QiLCJyZXNldFRyYW5zZm9ybSIsInByb3BhZ2F0ZURpcnR5Tm9kZXMiLCJyZXNvbHZlVGFyZ2V0RGVsdGEiLCJjYWxjUHJvamVjdGlvbiIsImNsZWFuRGlydHlOb2RlcyIsImFyZ3MiLCJzdWJzY3JpcHRpb25NYW5hZ2VyIiwiaXNMYXlvdXREaXJ0eSIsImNhbmNlbERlbGF5IiwicmVzaXplVW5ibG9ja1VwZGF0ZSIsImZpbmlzaEFuaW1hdGlvbiIsImhhc1JlbGF0aXZlVGFyZ2V0Q2hhbmdlZCIsIm5ld0xheW91dCIsImxheW91dFRyYW5zaXRpb24iLCJkZWZhdWx0TGF5b3V0VHJhbnNpdGlvbiIsIm9uTGF5b3V0QW5pbWF0aW9uU3RhcnQiLCJvbkxheW91dEFuaW1hdGlvbkNvbXBsZXRlIiwidGFyZ2V0Q2hhbmdlZCIsImhhc09ubHlSZWxhdGl2ZVRhcmdldENoYW5nZWQiLCJhbmltYXRpb25PcHRpb25zIiwicmVzZXRSb3RhdGlvbiIsInNob3VsZE5vdGlmeUxpc3RlbmVycyIsImNsZWFyTWVhc3VyZW1lbnRzIiwiY2xlYXJJc0xheW91dERpcnR5IiwicmVzZXRUcmFuc2Zvcm1TdHlsZSIsInVwZGF0ZUxheW91dCIsIm5vdGlmeUxheW91dFVwZGF0ZSIsImNsZWFyU25hcHNob3QiLCJyZW1vdmVMZWFkU25hcHNob3RzIiwicHJldkxheW91dCIsInBoYXNlIiwibmVlZHNNZWFzdXJlbWVudCIsImlzUmVzZXRSZXF1ZXN0ZWQiLCJoYXNQcm9qZWN0aW9uIiwidHJhbnNmb3JtVGVtcGxhdGVWYWx1ZSIsInRyYW5zZm9ybVRlbXBsYXRlSGFzQ2hhbmdlZCIsInJlbW92ZVRyYW5zZm9ybSIsInBhZ2VCb3giLCJyb3VuZEJveCIsImJveFdpdGhvdXRTY3JvbGwiLCJyb290U2Nyb2xsIiwidHJhbnNmb3JtT25seSIsIndpdGhUcmFuc2Zvcm1zIiwiYm94V2l0aG91dFRyYW5zZm9ybSIsIm5vZGVCb3giLCJmb3JjZVJlY2FsY3VsYXRpb24iLCJpc1NoYXJlZCIsInJlbGF0aXZlUGFyZW50IiwicHJldlRyZWVTY2FsZVgiLCJwcmV2VHJlZVNjYWxlWSIsInByZXZQcm9qZWN0aW9uVHJhbnNmb3JtIiwibm90aWZ5QWxsIiwic25hcHNob3QiLCJzbmFwc2hvdExhdGVzdFZhbHVlcyIsIm1peGVkVmFsdWVzIiwidGFyZ2V0RGVsdGEiLCJyZWxhdGl2ZUxheW91dCIsInNuYXBzaG90U291cmNlIiwibGF5b3V0U291cmNlIiwiaXNTaGFyZWRMYXlvdXRBbmltYXRpb24iLCJoYXNPcGFjaXR5Q3Jvc3NmYWRlIiwicHJldlJlbGF0aXZlVGFyZ2V0IiwibWl4QXhpc0RlbHRhIiwibWl4Qm94IiwidGFyZ2V0V2l0aFRyYW5zZm9ybXMiLCJzaG91bGRBbmltYXRlUG9zaXRpb25Pbmx5IiwieExlbmd0aCIsInlMZW5ndGgiLCJuZWVkc1Jlc2V0IiwiaGFzUm90YXRlIiwicmVzZXRWYWx1ZXMiLCJzdHlsZXMiLCJlbXB0eVN0eWxlcyIsInZhbHVlc1RvUmVuZGVyIiwiY29ycmVjdCIsImFwcGx5VG8iLCJjb3JyZWN0ZWQiLCJudW0iLCJtZWFzdXJlZExheW91dCIsImFuaW1hdGlvblR5cGUiLCJheGlzU25hcHNob3QiLCJsYXlvdXREZWx0YSIsInZpc3VhbERlbHRhIiwicGFyZW50U25hcHNob3QiLCJwYXJlbnRMYXlvdXQiLCJyZWxhdGl2ZVNuYXBzaG90IiwibWl4QXhpcyIsInVzZXJBZ2VudENvbnRhaW5zIiwic3RyaW5nIiwicm91bmRQb2ludCIsInJvdW5kQXhpcyIsIkRvY3VtZW50UHJvamVjdGlvbk5vZGUiLCJub3RpZnkiLCJIVE1MUHJvamVjdGlvbk5vZGUiLCJkb2N1bWVudE5vZGUiLCJzcGxpdENTU1ZhcmlhYmxlUmVnZXgiLCJwYXJzZUNTU1ZhcmlhYmxlIiwibWF0Y2giLCJmYWxsYmFjayIsImdldFZhcmlhYmxlVmFsdWUiLCJkZXB0aCIsInRyaW1tZWQiLCJyZXNvbHZlQ1NTVmFyaWFibGVzIiwicG9zaXRpb25hbEtleXMiLCJpc1Bvc2l0aW9uYWxLZXkiLCJoYXNQb3NpdGlvbmFsS2V5IiwiaXNOdW1PclB4VHlwZSIsImdldFBvc0Zyb21NYXRyaXgiLCJtYXRyaXgiLCJwb3MiLCJnZXRUcmFuc2xhdGVGcm9tTWF0cml4IiwicG9zMiIsInBvczMiLCJfYmJveCIsIm1hdHJpeDNkIiwidHJhbnNmb3JtS2V5cyIsIm5vblRyYW5zbGF0aW9uYWxUcmFuc2Zvcm1LZXlzIiwicmVtb3ZlTm9uVHJhbnNsYXRpb25hbFRyYW5zZm9ybSIsInJlbW92ZWRUcmFuc2Zvcm1zIiwicG9zaXRpb25hbFZhbHVlcyIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJjb252ZXJ0Q2hhbmdlZFZhbHVlVHlwZXMiLCJjaGFuZ2VkS2V5cyIsIm9yaWdpbkJib3giLCJlbGVtZW50Q29tcHV0ZWRTdHlsZSIsImRpc3BsYXkiLCJ0YXJnZXRCYm94IiwiY2hlY2tBbmRDb252ZXJ0Q2hhbmdlZFZhbHVlVHlwZXMiLCJ0YXJnZXRQb3NpdGlvbmFsS2V5cyIsInJlbW92ZWRUcmFuc2Zvcm1WYWx1ZXMiLCJoYXNBdHRlbXB0ZWRUb1JlbW92ZVRyYW5zZm9ybVZhbHVlcyIsImNoYW5nZWRWYWx1ZVR5cGVLZXlzIiwiZnJvbVR5cGUiLCJ0b1R5cGUiLCJudW1LZXlmcmFtZXMiLCJmcm9tSW5kZXgiLCJzY3JvbGxZIiwiY29udmVydGVkVGFyZ2V0IiwidW5pdENvbnZlcnNpb24iLCJwYXJzZURvbVZhcmlhbnQiLCJwcmVmZXJzUmVkdWNlZE1vdGlvbiIsImhhc1JlZHVjZWRNb3Rpb25MaXN0ZW5lciIsImluaXRQcmVmZXJzUmVkdWNlZE1vdGlvbiIsIm1vdGlvbk1lZGlhUXVlcnkiLCJzZXRSZWR1Y2VkTW90aW9uUHJlZmVyZW5jZXMiLCJ1cGRhdGVNb3Rpb25WYWx1ZXNGcm9tUHJvcHMiLCJuZXh0VmFsdWUiLCJwcmV2VmFsdWUiLCJleGlzdGluZ1ZhbHVlIiwibGF0ZXN0VmFsdWUiLCJ2aXN1YWxFbGVtZW50U3RvcmUiLCJmZWF0dXJlTmFtZXMiLCJudW1GZWF0dXJlcyIsInByb3BFdmVudEhhbmRsZXJzIiwibnVtVmFyaWFudFByb3BzIiwiVmlzdWFsRWxlbWVudCIsImluaXRpYWxNb3Rpb25WYWx1ZXMiLCJfcHJvcHMiLCJfcHJldlByb3BzIiwicmVtb3ZlIiwidmFsdWVJc1RyYW5zZm9ybSIsInJlbW92ZU9uQ2hhbmdlIiwicmVtb3ZlT25SZW5kZXJSZXF1ZXN0Iiwib3RoZXIiLCJyZW5kZXJlZFByb3BzIiwiUHJvamVjdGlvbk5vZGVDb25zdHJ1Y3RvciIsImlzRW5hYmxlZCIsIkZlYXR1cmVDb25zdHJ1Y3RvciIsIlByb2plY3Rpb25Ob2RlIiwiTWVhc3VyZUxheW91dENvbXBvbmVudCIsImxheW91dFNjcm9sbCIsImxheW91dFJvb3QiLCJmZWF0dXJlIiwiY2FuTXV0YXRlIiwibGlzdGVuZXIiLCJzdGFydEF0UGFyZW50IiwiY2xvc2VzdFZhcmlhbnROb2RlIiwidmFsdWVGcm9tSW5pdGlhbCIsIkRPTVZpc3VhbEVsZW1lbnQiLCJ0cmFuc2Zvcm1WYWx1ZXMiLCJpc01vdW50ZWQiLCJnZXRDb21wdXRlZFN0eWxlIiwiSFRNTFZpc3VhbEVsZW1lbnQiLCJkZWZhdWx0VHlwZSIsImNvbXB1dGVkU3R5bGUiLCJTVkdWaXN1YWxFbGVtZW50IiwiY3JlYXRlRG9tVmlzdWFsRWxlbWVudCIsIm1vdGlvbiIsInVzZUlzTW91bnRlZCIsInVzZUZvcmNlVXBkYXRlIiwiZm9yY2VkUmVuZGVyQ291bnQiLCJzZXRGb3JjZWRSZW5kZXJDb3VudCIsInVzZVN0YXRlIiwiZm9yY2VSZW5kZXIiLCJQb3BDaGlsZE1lYXN1cmUiLCJSZWFjdC5Db21wb25lbnQiLCJQb3BDaGlsZCIsIndpZHRoIiwiaGVpZ2h0IiwiUmVhY3QuY2xvbmVFbGVtZW50IiwiUHJlc2VuY2VDaGlsZCIsInByZXNlbmNlQWZmZWN0c0xheW91dCIsIm1vZGUiLCJwcmVzZW5jZUNoaWxkcmVuIiwibmV3Q2hpbGRyZW5NYXAiLCJjaGlsZElkIiwiaXNDb21wbGV0ZSIsIl8iLCJSZWFjdC51c2VFZmZlY3QiLCJ1c2VVbm1vdW50RWZmZWN0IiwiZ2V0Q2hpbGRLZXkiLCJ1cGRhdGVDaGlsZExvb2t1cCIsImFsbENoaWxkcmVuIiwib25seUVsZW1lbnRzIiwiZmlsdGVyZWQiLCJDaGlsZHJlbiIsImlzVmFsaWRFbGVtZW50IiwiQW5pbWF0ZVByZXNlbmNlIiwiZXhpdEJlZm9yZUVudGVyIiwiZmlsdGVyZWRDaGlsZHJlbiIsImNoaWxkcmVuVG9SZW5kZXIiLCJleGl0aW5nQ2hpbGRyZW4iLCJwcmVzZW50Q2hpbGRyZW4iLCJSZWFjdC5GcmFnbWVudCIsInByZXNlbnRLZXlzIiwidGFyZ2V0S2V5cyIsIm51bVByZXNlbnQiLCJjb21wb25lbnQiLCJpbnNlcnRpb25JbmRleCIsImV4aXRpbmdDb21wb25lbnQiLCJvbkV4aXQiLCJsZWZ0T3ZlcktleXMiLCJjaGlsZEtleSIsImxlZnRPdmVyS2V5IiwicHJlc2VudENoaWxkIiwicHJlc2VudENoaWxkS2V5IiwiY2xvbmVFbGVtZW50IiwidXNlTW90aW9uVmFsdWUiLCJzZXRMYXRlc3QiLCJpc0N1c3RvbVZhbHVlVHlwZSIsInVzZUltbWVkaWF0ZSIsImFyZ09mZnNldCIsImlucHV0VmFsdWUiLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJ1c2VDb21iaW5lTW90aW9uVmFsdWVzIiwiY29tYmluZVZhbHVlcyIsInVwZGF0ZVZhbHVlIiwic2NoZWR1bGVVcGRhdGUiLCJzdWJzY3JpcHRpb25zIiwidXNlQ29tcHV0ZWQiLCJjb21wdXRlIiwidXNlVHJhbnNmb3JtIiwiaW5wdXRSYW5nZU9yVHJhbnNmb3JtZXIiLCJ0cmFuc2Zvcm1lciIsInVzZUxpc3RUcmFuc2Zvcm0iLCJ1c2VTcHJpbmciLCJhY3RpdmVTcHJpbmdBbmltYXRpb24iLCJzdG9wQW5pbWF0aW9uIiwic2V0IiwidXNlTW90aW9uVmFsdWVFdmVudCIsInVzZVZlbG9jaXR5IiwibmV3VmVsb2NpdHkiLCJyZXNvbHZlRWxlbWVudHMiLCJlbGVtZW50cyIsInNjb3BlIiwic2VsZWN0b3JDYWNoZSIsInJlc2l6ZUhhbmRsZXJzIiwib2JzZXJ2ZXIiLCJnZXRFbGVtZW50U2l6ZSIsImJvcmRlckJveFNpemUiLCJpbmxpbmVTaXplIiwiYmxvY2tTaXplIiwibm90aWZ5VGFyZ2V0IiwiY29udGVudFJlY3QiLCJjcmVhdGVSZXNpemVPYnNlcnZlciIsInJlc2l6ZUVsZW1lbnQiLCJlbGVtZW50SGFuZGxlcnMiLCJ3aW5kb3dDYWxsYmFja3MiLCJ3aW5kb3dSZXNpemVIYW5kbGVyIiwiY3JlYXRlV2luZG93UmVzaXplSGFuZGxlciIsInJlc2l6ZVdpbmRvdyIsInJlc2l6ZSIsImNyZWF0ZUF4aXNJbmZvIiwiY3JlYXRlU2Nyb2xsSW5mbyIsInVwZGF0ZUF4aXNJbmZvIiwiYXhpc05hbWUiLCJwb3NpdGlvbiIsInByZXZUaW1lIiwidXBkYXRlU2Nyb2xsSW5mbyIsImNhbGNJbnNldCIsImNvbnRhaW5lciIsImluc2V0Iiwic3ZnQm91bmRpbmdCb3giLCJwYXJlbnRCb3VuZGluZ0JveCIsInN2ZyIsIlNjcm9sbE9mZnNldCIsIm5hbWVkRWRnZXMiLCJyZXNvbHZlRWRnZSIsImVkZ2UiLCJyZXNvbHZlT2Zmc2V0IiwiY29udGFpbmVyTGVuZ3RoIiwidGFyZ2V0SW5zZXQiLCJvZmZzZXREZWZpbml0aW9uIiwidGFyZ2V0UG9pbnQiLCJjb250YWluZXJQb2ludCIsImdldFRhcmdldFNpemUiLCJyZXNvbHZlT2Zmc2V0cyIsImxlbmd0aExhYmVsIiwidGFyZ2V0U2l6ZSIsImNvbnRhaW5lclNpemUiLCJoYXNDaGFuZ2VkIiwibnVtT2Zmc2V0cyIsIm1lYXN1cmUiLCJjcmVhdGVPblNjcm9sbEhhbmRsZXIiLCJvblNjcm9sbCIsInNjcm9sbExpc3RlbmVycyIsInJlc2l6ZUxpc3RlbmVycyIsIm9uU2Nyb2xsSGFuZGxlcnMiLCJnZXRFdmVudFRhcmdldCIsInNjcm9sbEluZm8iLCJjb250YWluZXJIYW5kbGVycyIsImNvbnRhaW5lckhhbmRsZXIiLCJtZWFzdXJlQWxsIiwidXBkYXRlQWxsIiwiY3VycmVudEhhbmRsZXJzIiwic2Nyb2xsTGlzdGVuZXIiLCJyZWZXYXJuaW5nIiwiY3JlYXRlU2Nyb2xsTW90aW9uVmFsdWVzIiwidXNlU2Nyb2xsIiwibGF5b3V0RWZmZWN0IiwidXNlQW5pbWF0aW9uRnJhbWUiLCJpbml0aWFsVGltZXN0YW1wIiwicHJvdmlkZVRpbWVTaW5jZVN0YXJ0IiwidGhyZXNob2xkcyIsImluVmlldyIsImVsZW1lbnRPclNlbGVjdG9yIiwiYWN0aXZlSW50ZXJzZWN0aW9ucyIsIm9uSW50ZXJzZWN0aW9uQ2hhbmdlIiwibmV3T25FbmQiLCJ1c2VJblZpZXciLCJtYXJnaW4iLCJpc0luVmlldyIsInNldEluVmlldyIsIm9uRW50ZXIiXSwibWFwcGluZ3MiOiJnREFLQSxNQUFNQSxHQUFzQkMsRUFBQUEsY0FBYyxDQUN0QyxtQkFBcUJDLEdBQU1BLEVBQzNCLFNBQVUsR0FDVixjQUFlLE9BQ25CLENBQUMsRUNQS0MsR0FBZ0JGLEVBQWEsY0FBQyxFQUFFLEVDR2hDRyxHQUFrQkgsRUFBYSxj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LE9BQUFnaUMsRUFDQSxPQUFBdmhDLENBQ1osRUFDUSxPQUFPaWhDLEdBQU92MUMsRUFBSSxRQUFTZzJDLEVBQVN4dkMsQ0FBTyxDQUM5QyxFQUFFLENBQUNxTixFQUFNN1QsRUFBSzYxQyxFQUFRdGhDLENBQUksQ0FBQyxFQUNyQnVoQyxDQUNYIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODQsODUsODYsODcsODgsODksOTAsOTEsOTIsOTMsOTQsOTUsOTYsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiwxMjMsMTI0LDEyNSwxMjYsMTI3LDEyOCwxMjksMTMwLDEzMSwxMzIsMTMzLDEzNCwxMzUsMTM2LDEzNywxMzgsMTM5LDE0MCwxNDEsMTQyLDE0MywxNDQsMTQ1LDE0NiwxNDcsMTQ4LDE0OSwxNTAsMTUxLDE1MiwxNTMsMTU0LDE1NSwxNTYsMTU3LDE1OCwxNTksMTYwLDE2MSwxNjIsMTYzLDE2NCwxNjUsMTY2LDE2NywxNjgsMTY5LDE3MCwxNzEsMTcyLDE3MywxNzQsMTc1LDE3NiwxNzcsMTc4LDE3OSwxODAsMTgxLDE4MiwxODMsMTg0LDE4NSwxODYsMTg3LDE4OCwxODksMTkwLDE5MSwxOTIsMTkzLDE5NCwxOTUsMTk2LDE5NywxOTgsMTk5LDIwMCwyMDEsMjAyLDIwMywyMDQsMjA1LDIwNiwyMDcsMjA4LDIwOSwyMTAsMjExLDIxMiwyMTMsMjE0LDIxNSwyMTYsMjE3LDIxOCwyMTksMjIwLDIyMSwyMjIsMjIzLDIyNCwyMjUsMjI2LDIyNywyMjgsMjI5LDIzMCwyMzEsMjMyLDIzM119
